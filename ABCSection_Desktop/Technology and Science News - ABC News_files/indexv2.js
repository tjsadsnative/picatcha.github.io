/*! redesign-static 2015-07-07 */
function setMarkup(url,markup){url=url.toLowerCase();var mo=urlMarkupFragments[url];return null==mo&&(mo=new Markup,urlMarkupFragments[url]=mo),mo.setMarkup(markup),notifyListeners(url,mo),removeScriptTag(url),mo}function notifyListeners(url,markup){var listeners=urlMarkupListeners[url];if(null!=listeners)for(;listeners.length>0;)listeners.shift()(markup)}function removeScriptTag(url){var script=scriptElements[url];null!=script&&(script.parentNode.removeChild(script),scriptElements[url]=null)}function getMarkup(url,maxage,callback){var callbackURL=makeCallbackURL(url).toLowerCase();if(null!=callback){var listeners=urlMarkupListeners[callbackURL];null==listeners&&(listeners=new Array,urlMarkupListeners[callbackURL]=listeners),listeners.push(callback)}var mo=urlMarkupFragments[callbackURL];if(null!=mo&&mo.isLoaded()&&maxage>=0&&mo.getAge()>maxage&&(mo=null),null==mo){mo=new Markup,urlMarkupFragments[callbackURL]=mo;var head=document.getElementsByTagName("head")[0];null==head&&(head=document.getElementsByTagName("body")[0]);var script=document.createElement("script");script.setAttribute("type","text/javascript"),script.src=makeScriptSrc(url),head.appendChild(script),scriptElements[callbackURL]=script}else mo.isLoaded()&&notifyListeners(callbackURL,mo)}function makeCallbackURL(url){var rx=new RegExp("^http(?:s)?://.*?include=(.+)"),m=rx.exec(url);return null!=m?decodeURIComponent(m[1]):url}function makeScriptSrc(url){if(url.match(/^http(s)?:\/\//))return url;var b=urlLoaderBase+encodeURIComponent(url);return url.match(/^\/meta\//)&&(b="/meta"+b),b}function Markup(){this.markup=null,this.contentElement=null,this.loaded=null,this.scripts=new Array}function ScriptHolder(){this.type=null,this.src=null,this.text=null,this.el=null}function findPane(obj){for(var par=obj;null!=par;){var id=par.id;if(null!=id){var pane=getPane(id);if(null!=pane)return pane}par=par.parentNode}}function getPane(id){return allPanesOnPage[id]}function getContainedPanes(obj){var list=new Array(0);return getContainedPanesRecursive(obj,list),list}function getContainedPanesRecursive(obj,arr){if(null!=obj.firstChild)for(var len=obj.childNodes.length,i=0;len>i;i++){var node=obj.childNodes[i];1==node.nodeType&&(node.id&&allPanesOnPage[node.id]&&arr.push(allPanesOnPage[node.id]),getContainedPanes(node,arr))}}function Pane(id){this.id=id,this.host=document.getElementById(id),allPanesOnPage[id]=this,this.markup,this.maxage=6e5,this.currentURL=null,this.autoReload=!1,this.timer=null,this.transition=null,this.shell=document.createElement("div"),this.shell.style.position="absolute",this.shell.style.overflow="hidden",this.host.appendChild(this.shell),this.viewport=document.createElement("div"),this.viewport.style.position="absolute",this.viewport.style.overflow="hidden",this.shell.appendChild(this.viewport),this.staging=document.createElement("div"),this.staging.style.position="absolute",this.staging.style.visibility="hidden",this.shell.appendChild(this.staging),this.content=null,this.contentHeight=0,this.contentWidth=0,this.oldContent=null,this.minScroll=10,this.scrollbarWidth=17,this.scrollbarBorderWidth=0,this.scrollFirstInterval=300,this.scrollInterval=20,this.scrollFactorX=1,this.scrollFactorY=1,this.engaged=!1,this.disengageTimer=null,this.scrollTimer=null,this.currentAnimation=null,this.ismouseover=!1,this.statechanges=new Array,this.mouseovers=new Array,this.mouseouts=new Array,this.mousedowns=new Array,this.mousewheels=new Array,this.engages=new Array,this.disengages=new Array,this.onloads=new Array,this.onloader=makePaneOnloader(this),this.shell.onmouseover=makePaneMouseOver(this),this.shell.onmouseout=makePaneMouseOut(this,this.host),this.shell.onmousedown=makePaneMouseDown(this),this.shell.onmousewheel=makeScrollWheel(this),this.shell.addEventListener&&this.shell.addEventListener("DOMMouseScroll",this.shell.onmousewheel,!1)}function makePaneResize(pane){var pane=pane;return function(){try{pane.resize()}catch(e){alert(e.message)}}}function makeScrollWheel(pane){var pane=pane;return function(e){if(!e)var e=event;for(var returnval=!0,len=pane.mousewheels.length,i=0;len>i;i++)pane.mousewheels[i](e)||(returnval=!1);return returnval||stopEvent(e),returnval}}function makePaneMouseDown(pane){var pane=pane;return function(e){if(!e)var e=event;for(var returnval=!0,len=pane.mousedowns.length,i=0;len>i;i++)pane.mousedowns[i](e)||(returnval=!1);return returnval||stopEvent(e),returnval}}function makePaneMouseOver(pane){var pane=pane;return function(e){if(!e)var e=event;var returnval=!0;if(!pane.ismouseover){pane.ismouseover=!0;for(var len=pane.mouseovers.length,i=0;len>i;i++)pane.mouseovers[i](e)||(returnval=!1)}return returnval||stopEvent(e),returnval}}function makePaneMouseOut(pane,ancestor){var pane=pane;return function(e){if(!e)var e=event;var returnval=!0;if(pane.ismouseover){var landing=e.relatedTarget||e.toElement;if(null==landing||!descendsFrom(landing,ancestor)){pane.ismouseover=!1;for(var len=pane.mouseouts.length,i=0;len>i;i++)pane.mouseouts[i](e)||(returnval=!1)}}return returnval||stopEvent(e),returnval}}function makePaneOnloader(pane){var pane=pane;return function(){pane.doOnload()}}function makePaneCallback(pane,callback,transition){var pane=pane,callback=callback,transition=transition;return function(markup){var docallback="function"==typeof callback;if(!transition&&pane.transition&&(transition=pane.transition),isEmpty(transition)||transition.reset(),null==pane.markup||markup.markup!=pane.markup.markup?(transition&&docallback&&(transition.addCallback(callback),docallback=!1),pane.setMarkup(markup,transition)):(pane.processStateChange("displaying"),pane.processStateChange("done")),docallback&&callback(),pane.autoReload){var waitTime=pane.maxage-markup.getAge();pane.timer=window.setTimeout(makePaneReload(pane),waitTime)}pane=null,callback=null,transition=null}}function makePaneReload(pane){var pane=pane;return function(){pane.reload()}}function makeYScrollSequenceInit(pane,seq,elementProducer){var scrollpane=pane,seq=seq,elementProducer=elementProducer;return function(){var el=elementProducer();if(el&&scrollpane.content){var offset=calcPosition(el,"Top",scrollpane.content),min=-scrollpane.content.offsetTop,max=min+scrollpane.viewportHeight;if(offset+el.offsetHeight>max&&(offset+=el.offsetHeight),offset>=min&&max>=offset)return void(seq.handler=null);seq.start=scrollpane.content.offsetTop,seq.end=-offset>seq.start?-offset:-offset+scrollpane.viewportHeight;var pane=scrollpane,direction=seq.end-seq.start;seq.handler=function(val){var amount=Math.round((pane.content.offsetTop-val)/pane.scrollFactorY);(0>amount&&direction>0||amount>0&&0>direction)&&pane.scrolly(amount)}}else seq.handler=null}}function makeXScrollSequenceInit(pane,seq,elementProducer){var scrollpane=pane,seq=seq,elementProducer=elementProducer;return function(){var el=elementProducer();if(el&&scrollpane.content){var offset=calcPosition(el,"Left",scrollpane.content),min=-scrollpane.content.offsetLeft,max=min+scrollpane.viewportWidth;if(offset+el.offsetWidth>max&&(offset+=el.offsetWidth),offset>=min&&max>=offset)return void(seq.handler=null);seq.start=scrollpane.content.offsetLeft,seq.end=-offset>seq.start?-offset:-offset+scrollpane.viewportWidth;var pane=scrollpane,direction=seq.end-seq.start;seq.handler=function(val){var amount=Math.round((pane.content.offsetLeft-val)/pane.scrollFactorX);(0>amount&&direction>0||amount>0&&0>direction)&&pane.scrollx(amount)}}else seq.handler=null}}function makeScrollStopper(pane){var pane=pane;return function(){window.clearTimeout(pane.scrollTimer),document.onmouseup=null}}function makeLeftScroll(pane,time){return this.pane=pane,this.time=time,function(){pane.scrollLeft();var func=makeLeftScroll(pane,pane.scrollInterval);pane.scrollTimer=window.setTimeout(func,time)}}function makeRightScroll(pane,time){return this.pane=pane,this.time=time,function(){pane.scrollRight();var func=makeRightScroll(pane,pane.scrollInterval);pane.scrollTimer=window.setTimeout(func,time)}}function makeUpScroll(pane,time){return this.pane=pane,this.time=time,function(){pane.scrollUp();var func=makeUpScroll(pane,pane.scrollInterval);pane.scrollTimer=window.setTimeout(func,time)}}function makeDownScroll(pane,time){return this.pane=pane,this.time=time,function(){pane.scrollDown();var func=makeDownScroll(pane,pane.scrollInterval);pane.scrollTimer=window.setTimeout(func,time)}}function makeScrollPagerY(scrollpane){var scrollpane=scrollpane;return function(e){if(!e)var e=window.event;absTop(e)<calcPosition(scrollpane.yscroller,"Top")?scrollpane.pageUp():absTop(e)>calcPosition(scrollpane.yscroller,"Top")+scrollpane.yscroller.offsetHeight&&scrollpane.pageDown()}}function makeScrollPagerX(scrollpane){var scrollpane=scrollpane;return function(e){if(!e)var e=window.event;absLeft(e)<calcPosition(scrollpane.xscroller,"Left")?scrollpane.pageLeft():absLeft(e)>calcPosition(scrollpane.xscroller,"Left")+scrollpane.xscroller.offsetWidth&&scrollpane.pageRight()}}function makeScrollOnMouseWheel(scrollpane){var scrollpane=scrollpane;return function(e){var wheelDelta;e.wheelDelta&&(wheelDelta=e.wheelDelta/120*(window.opera?1:-1)),e.detail&&(wheelDelta=e.detail),wheelDelta=0>wheelDelta?-2:2;var rval=scrollpane.scrolly(wheelDelta*scrollpane.minScroll/scrollpane.scrollFactorY);return rval||stopEvent(e),rval}}function makeScrollOnMouseDownX(scrollpane){var scrollpane=scrollpane;return function(e){document.body.ondrag=function(){return!1},document.body.onselectstart=function(){return!1};scrollpane.xscroller.offsetLeft;document.onmouseup=makeScrollOnMouseUp(scrollpane);var startx=absLeft(e),minx=1/scrollpane.minScroll;return document.onmousemove=function(e){if(null==xScrollMouseDownTimer){var nx=absLeft(e),delta=nx-startx;Math.abs(delta)>=minx&&(xScrollMouseDownTimer=window.setTimeout(clearx,8),scrollpane.scrollx(delta),startx=nx)}stopEvent(e)},!1}}function makeScrollOnMouseDownY(scrollpane){var scrollpane=scrollpane;return function(e){document.body.ondrag=function(){return!1},document.body.onselectstart=function(){return!1};scrollpane.yscroller.offsetTop;document.onmouseup=makeScrollOnMouseUp(scrollpane);var starty=absTop(e),cleary=function(){yScrollMouseDownTimer=null},miny=1/scrollpane.minScroll;return document.onmousemove=function(e){if(null==yScrollMouseDownTimer){var ny=absTop(e),delta=ny-starty;Math.abs(delta)>=miny&&(yScrollMouseDownTimer=window.setTimeout(cleary,8),scrollpane.scrolly(delta),starty=ny)}stopEvent(e)},!1}}function makeScrollOnMouseUp(scrollpane){return function(e){absTop(e);document.onmousemove=null,document.body.ondrag=null,document.body.onselectstart=null,stopEvent(e)}}function pausePL(){for(id in allPlaylistsOnPage)allPlaylistsOnPage[id].pause()}function resumePL(){for(id in allPlaylistsOnPage)allPlaylistsOnPage[id].resume()}function PlaylistItem(id){this.id=id,this.ondeck,this.activate,this.deactivate}function Playlist(id,lifecycle){this.id=id;var old=allPlaylistsOnPage[this.id];this.paused=!1,isEmpty(old)||(old.paused&&(this.paused=!0),old.destroy()),allPlaylistsOnPage[this.id]=this,this.playing=!1,this.preload=!1,this.interval=1e3,this.timer=null,this.items=new Array,this.currentItem=null,this.pointer=0,this.inits=new Array,this.inited=!1,this.destroys=new Array,this.destroyed=!1}function UrlPlaylistManager(playlist){if(this.activeClass,this.inactiveClass,this.pane,this.playlist=playlist,this.transition=null,this.lookupProducer=function(){return null},this.currentElement=null,!isEmpty(this.playlist)){var manager=this;this.playlist.addDestroy(function(){isEmpty(manager.inactiveClass)||null==manager.currentElement||(manager.currentElement.className=manager.inactiveClass),manager.currentElement=null,manager=null})}}function UrlPMItem(id,url,manager){this.id=id,this.url=url,this.manager=manager,this.element=null}function shareNewsObj(){this.toolbox=function(config){$("#"+this.options.renderDiv+" > div > div > div > a").each(function(index){$(this).hasClass("abcnews_print")?(printLabel=$(this).hasClass("label-false")?"":" Print",$(this).html('<span class="at300bs"></span>'+printLabel),$(this).click(function(){return window.open(config.print,"_blank"),!1})):$(this).hasClass("abcnews_single_page")?(singleLabel="undefined"!=typeof config.singleLabel?config.singleLabel:"Single Page",$(this).html('<span class="at300bs"></span> '+singleLabel),$(this).click(function(){window.location.href=config.single})):$(this).hasClass("abcnews_comments")?config.numOfComments.indexOf("disqus")>0?$(this).html('<span class="at300bs"></span>'+config.numOfComments):(commentsLabel="undefined"!=typeof config.commentsLabel?config.commentsLabel:"Comment",$(this).html(config.numOfComments>=3?'<span class="at300bs"></span>'+config.numOfComments+" "+$(this).html():'<span class="at300bs"></span> '+commentsLabel),$(this).click(function(){window.location.href=config.comments})):$(this).hasClass("abcnews_comments_icon")&&($(this).html('<span class="at300bs"></span>'),$(this).parent().click(function(){scrollToDiv("disqus")}))}),$("#"+this.options.renderDiv+" > div > div > div > div").each(function(index){$(this).hasClass("abcnews_font_sizes")&&(increaseText="undefined"!=typeof config.fontIncSymbol?config.fontIncSymbol:"+",decreaseText="undefined"!=typeof config.fontDecSymbol?config.fontDecSymbol:"-",showFontLabelFirst=!0,$(this).html("undefined"!=typeof config.fontLabelFirst?'<span class="at300bs"></span><div class="btn"><a href="javascript:void(0);" id="decrease" onclick="shareUtil.changeFontSize(\'decrease\',\''+config.fontDiv+'\');return false;" title="decrease">'+decreaseText+'</a> <span class="divide">/</span> <a href="javascript:void(0);" id="increase" onclick="shareUtil.changeFontSize(\'increase\',\''+config.fontDiv+'\');return false;" title="increase">'+increaseText+'</a></div><div class="label">Text Size</div>':'<span class="at300bs"></span> <div class="label">Text Size</div> <div class="btn"><a href="javascript:void(0);" id="decrease" onclick="shareUtil.changeFontSize(\'decrease\',\''+config.fontDiv+'\');return false;" title="decrease">'+decreaseText+'</a> <span class="divide">/</span> <a href="javascript:void(0);" id="increase" onclick="shareUtil.changeFontSize(\'increase\',\''+config.fontDiv+'\');return false;" title="increase">'+increaseText+"</a></div>"))})},this.render=function(){var overrideURL,config=this.options,options=(document.getElementById(config.renderDiv),config.share),group="",button="",lastGroup="",title="",button="",lastItem="",fblike="",label="",removeHref=!1,setURL="",tooltip="",plusOneOpts="",tweetOpts="",twitterOpts="",linkedInOpts="",fbLayoutOpts="",isPreview=("preview.abcnews.go.com"==document.domain,!0);for(s=0;s<options.length;s++){for(lastGroup=s==options.length-1?" share-group-last":"",title=""!=options[s].title?'<span class="share-title">'+options[s].title+"</span>":"",button="",m=0;m<options[s].items.length;m++)lastItem=m==options[s].items.length-1?" share-btn-last":"","addthis_button_facebook_like"==options[s].items[m].code?(fblike="undefined"!=typeof config.fbOpts&&""!=config.fbOpts?"":' fb:like:action="recommend" fb:like:width="125"',fbLayoutOpts="undefined"!=typeof config.fbConfig&&""!=config.fbConfig?config.fbConfig:""):(fblike="",fbLayoutOpts=""),removeHref="abcnews_font_sizes"==options[s].items[m].code?!0:!1,tooltip=options[s].items[m].name,label=options[s].items[m].label?options[s].items[m].name:"",button+='<div class="share-btn share-btn-'+m+" "+lastItem+'">',plusOneOpts="addthis_button_google_plusone"==options[s].items[m].code&&"undefined"!=typeof config.plusOneConfig&&""!=config.plusOneConfig?config.plusOneConfig:"",tweetOpts="addthis_button_tweet"==options[s].items[m].code?"undefined"!=typeof config.tweetOpts&&""!=config.tweetOpts?config.tweetOpts+' tw:related="abc"':' tw:related="abc"':"",linkedInOpts="addthis_button_linkedin_counter"==options[s].items[m].code&&"undefined"!=typeof config.linkedInOpts&&""!=config.linkedInOpts?config.linkedInOpts:"",overrideURL=options[s].items[m].url,setURL="undefined"!=typeof overrideURL&&""!=overrideURL?'addthis:url="'+overrideURL+'"':"",button+=removeHref?'<div class="'+options[s].items[m].code+" label-"+options[s].items[m].label+'"'+fblike+">"+label+"</div>":'<a class="'+options[s].items[m].code+" label-"+options[s].items[m].label+'"'+fblike+" "+setURL+' title="'+tooltip+'"'+plusOneOpts+fbLayoutOpts+tweetOpts+twitterOpts+linkedInOpts+">"+label+"</a>",button+="</div>","addthis_button_facebook_like"==options[s].items[m].code&&isPreview&&(button="");group+='<div class="share-group share-group-'+s+lastGroup+'">'+title+button+'<div class="clearboth"><!-- empty //--></div></div>'}document.write('<div class="share-container">'+group+'<div class="clearboth"><!-- empty //--></div></div>'),addthis.toolbox("#"+this.target),this.toolbox(config),void 0!=config.fontDiv&&(shareUtil.current=readCookie("fontSize"),shareUtil.current?shareUtil.setFontSize(shareUtil.current,config.fontDiv):shareUtil.current="storyTextMd")}}function shareIt(){var sTop=window.screen.height/2-218,sLeft=window.screen.width/2-313,shareThisURL=window.location.href.replace(/localhost:8080|preview.abcnews.go.com|qa.n7.abcnews.go.com/,"abcnews.go.com");shareThisURL=shareThisURL.indexOf("?")>-1?shareThisURL+"&cid=fb_share":shareThisURL+"?cid=fb_share";var title=escape(document.title),shareUrl="http://www.facebook.com/sharer.php?u="+shareThisURL+"&t="+title;window.open(shareUrl,"sharer","toolbar=0,status=0,width=626,height=256,top="+sTop+",left="+sLeft)}function getShareCount(){var sharedURL=window.location.href.replace(location.hash,"");sharedURL=sharedURL.replace(/localhost:8080|preview.abcnews.go.com|qa.n7.abcnews.go.com/,"abcnews.go.com"),FB.api("/fql","GET",{q:'select share_count from link_stat where url="'+sharedURL+'"'},function(response){response&&response.data&&$(".sharebtn-fbshare .bubbleCount .num").html(response.data[0].share_count),$(".sharebtn-fbshare .bubbleWrapper").show()})}function renderShareCount(selector){var cSelector="undefined"!=selector?selector:".sharebtn-fbshare .shareCount",sharedURL=(window.screen.height/2-218,window.screen.width/2-313,window.location.href.replace(location.hash,""));sharedURL=sharedURL.replace(/localhost:8080|preview.abcnews.go.com|qa.n7.abcnews.go.com/,"abcnews.go.com"),FB.api("/fql","GET",{q:'select share_count from link_stat where url="'+sharedURL+'"'},function(response){response&&response.data&&$(cSelector).html(response.data[0].share_count),$(cSelector).show()})}function scrollToDiv(id){$("html,body").animate({scrollTop:$("#"+id).offset().top},"slow")}function renderFacebookShare(layout){layout?"vertical"==layout&&document.write('<a class="shareBtn" name="lpos=widget[sharetools]&lid=[fb_share]" target="_new" onclick="shareIt();return false;" href="javascript:void(0);">                <div class="shareCount"><div class="num">0</div></div>                <div class="fb_icon">Share</div>           </a>'):document.write('<a class="shareBtn" name="lpos=widget[sharetools]&lid=[fb_share]" target="_new" onclick="shareIt();return false;" href="javascript:void(0);">            <div class="fb_icon">Share</div>            <div class="shareCountWrapper">                <div class="arrow arrowBorder"></div>                <div class="arrow arrowFill"></div>                <div class="shareCount"><div class="num">0</div></div>            </div>        </a>')}function bindSponsorShare(){$("#sponsoredmodule .shareflyout .trigger").click(function(e){e.preventDefault(),$(this).hide(),$(".ffl_wrapper #sponsoredmodule #sponsor-115x30").css("margin-right","50px"),$(this).next(".shareflyout-buttons").fadeIn()}),$("#sponsoredmodule .shareflyout-buttons a.twitter").click(function(e){e.preventDefault();var loc=encodeURIComponent($(this).attr("href")),title=escape($(this).attr("title"));window.open("http://twitter.com/share?text="+title+"&url="+loc+"&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")}),$("#sponsoredmodule .shareflyout-buttons a.facebook").click(function(e){e.preventDefault();var sTop=window.screen.height/2-218,sLeft=window.screen.width/2-313,loc=$(this).attr("href"),title=escape($(this).attr("title")),shareUrl="http://www.facebook.com/sharer.php?u="+loc+"&t="+title;window.open(shareUrl,"sharer","toolbar=0,status=0,width=626,height=256,top="+sTop+",left="+sLeft)})}if("undefined"==typeof allPanesOnPage){var allPanesOnPage=new Object,urlLoaderBase="/javascript/loadmarkup?include=",urlMarkupFragments=new Object,urlMarkupListeners=new Object,scriptElements=new Object;addOnunload(function(){var url,markup,pane,id;for(url in urlMarkupFragments)markup=urlMarkupFragments[url],markup.destroy(),urlMarkupFragments[url]=null;for(id in allPanesOnPage)pane=allPanesOnPage[id],pane.destroy(),allPanesOnPage[id]=null}),Markup.prototype.getContentElement=function(){return null==this.contentElement&&this.parse(),this.contentElement},Markup.prototype.getAge=function(){return(new Date).getTime()-this.loaded.getTime()},Markup.prototype.parse=function(){if(null==this.contentElement){var el=document.createElement("div");el.innerHTML=this.markup,this.contentElement=el}},Markup.prototype.isLoaded=function(){return null!=this.markup},Markup.prototype.setMarkup=function(markup){this.destroy(),this.markup=this.extractJS(markup),this.loaded=new Date},Markup.prototype.destroy=function(){null!=this.contentElement&&(removeEventHandlers(this.contentElement,!0),this.contentElement=null);for(var i=0;i<this.scripts.length;i++)this.scripts[i].destroyScript();this.scripts=new Array,this.markup=null,this.loaded=null},Markup.prototype.extractJS=function(markup){for(var scriptMatcher=/<script [^>]*?(?:(type|src)\s*=\s*(["'])(.*?)\2)\s*(?:(type|src)\s*=\s*(["'])(.*?)\5)?[^>]*?>([\s\S]*?)<\/script>/im;null!=(match=scriptMatcher.exec(markup));){var sh=new ScriptHolder;match[1]&&(sh[match[1]]=match[3]),match[4]&&(sh[match[4]]=match[6]),match[7]&&(sh.text=match[7].replace(/\s*[\n]\s*/g,"\n"),sh.text=sh.text.replace(/[ \t]+/g," ")),this.scripts.push(sh),markup=markup.replace(match[0],"\n")}return markup},ScriptHolder.prototype.deployScript=function(){if(null==this.el){if(this.el=document.createElement("script"),this.el.type="text/javascript",null==this.src){if(null!=this.text)try{this.el.appendChild(document.createTextNode(this.text))}catch(e){this.el.text=this.text}}else this.el.src=this.src;getHeadElement().appendChild(this.el)}},ScriptHolder.prototype.destroyScript=function(){null!=this.el&&(getHeadElement().removeChild(this.el),this.el=null)},Pane.prototype.scrape=function(url){if(null==urlMarkupFragments[url.toLowerCase()]){for(var fragment=document.createElement("div"),removeList=new Array,i=0;i<this.host.childNodes.length;i++){var node=this.host.childNodes[i];node!=this.shell&&(removeList.push(node),fragment.appendChild(node.cloneNode(!0)))}var fhtml=fragment.innerHTML;if(fhtml.replace(/^\s*/,"").replace(/\s*$/,"").length>0){for(setMarkup(url,fhtml);null!=(d=removeList.pop());)this.host.removeChild(d);this.loadURL(url);var d}}},Pane.prototype.destroy=function(){this.shell.onmouseover=null,this.shell.onmousoeut=null,this.shell.onmousedown=null,this.shell.addEventListener&&this.shell.removeEventListener("DOMMouseScroll",this.shell.onmousewheel,!1),this.shell.onmousewheel=null,this.shell=null,this.content=null,this.oldContent=null,this.staging=null,this.viewport=null,this.host=null,null!=this.yscrollbar&&(this.ytrough.onmousedown=null,this.upscroller.onmousedown=null,this.downscroller.onmousedown=null,this.yscrollbar=null,this.yscroller=null,this.yscrollertop=null,this.yscrollerbottom=null,this.ytrough=null,this.upscroller=null,this.downscroller=null),null!=this.xscrollbar&&(this.xtrough.onmousedown=null,this.leftscroller.onmousedown=null,this.rightscroller.onmousedown=null,this.xscrollbar=null,this.xscroller=null,this.xscrollerleft=null,this.xscrollerright=null,this.xtrough=null,this.leftscroller=null,this.rightscroller=null)},Pane.prototype.engage=function(){if(!this.engaged){this.engaged=!0;for(var len=this.engages.length,i=0;len>i;i++)this.engages[i]();for(id in allPanesOnPage)id!=this.id&&allPanesOnPage[id].disengage()}},Pane.prototype.disengage=function(){if(this.engaged){this.engaged=!1;for(var len=this.disengages.length,i=0;len>i;i++)this.disengages[i]()}},Pane.prototype.resize=function(){this.getHostDimensions(),this.refreshScrollbars(),this.display()},Pane.prototype.getHostDimensions=function(){if(this.width=this.host.clientWidth,0==this.width&&this.host.currentStyle&&null!=this.host.currentStyle.width){var w=parseInt(this.host.currentStyle.width);isNaN(w)||(this.width=w)}if(this.height=this.host.clientHeight,0==this.height&&this.host.currentStyle&&null!=this.host.currentStyle.height){var h=parseInt(this.host.currentStyle.height);isNaN(h)||(this.height=h)}this.shell.style.width=this.width+"px",this.shell.style.height=this.height+"px",this.viewport.style.width=this.width+"px",this.viewport.style.height=this.height+"px",this.viewportWidth=this.width,this.viewportHeight=this.height},Pane.prototype.refreshScrollbars=function(){null!=this.yscrollbar&&(this.yscrollbar.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.yscrollbar.style.left=this.width-this.scrollbarWidth+"px"),null!=this.xscrollbar&&(this.xscrollbar.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.xscrollbar.style.top=this.height-this.scrollbarWidth+"px")},Pane.prototype.setViewportWidth=function(width){this.viewportWidth=width,this.viewport.style.width=width+"px"},Pane.prototype.setViewportHeight=function(height){this.viewportHeight=height,this.viewport.style.height=height+"px"},Pane.prototype.stageContent=function(){for(this.width||this.getHostDimensions(),null!=this.content&&(this.oldContent=this.content),this.content=this.markup.getContentElement(),this.content.style.position="absolute",this.content.style.top="0px",this.content.style.left="0px",this.content.style.overflow="visible",this.content.style.width="",this.content.style.height="";null!=this.staging.firstChild;)this.staging.removeChild(this.staging.firstChild);null!=this.xscrollbar&&null==this.yscrollbar?this.staging.style.height=this.viewportHeight+"px":this.staging.style.width=this.viewportWidth+"px",this.staging.appendChild(this.content),this.contentWidth=this.content.clientWidth,this.contentHeight=this.content.clientHeight,this.content.style.width=this.contentWidth+"px",this.content.style.height=this.contentHeight+"px",this.staging.removeChild(this.content),this.scrollFactorY=this.contentHeight/this.viewportHeight,this.scrollFactorX=this.contentWidth/this.viewportWidth},Pane.prototype.redrawScrollbars=function(){if(null!=this.yscroller)var yh=this.yscroller.style.top;this.content.style.width="",this.content.style.height="",this.contentWidth=this.content.clientWidth,this.contentHeight=this.content.clientHeight,this.content.style.width=this.contentWidth+"px",this.content.style.height=this.contentHeight+"px",this.scrollFactorY=this.contentHeight/this.viewportHeight,this.scrollFactorX=this.contentWidth/this.viewportWidth,this.renderScrollbars(),null!=this.yscroller&&(this.yscroller.style.top=yh)},Pane.prototype.addEngage=function(handler){this.engages.push(handler)},Pane.prototype.removeEngage=function(handler){this.engages.remove(handler)},Pane.prototype.addDisengage=function(handler){this.disengages.push(handler)},Pane.prototype.removeDisengage=function(handler){this.disengages.remove(handler)},Pane.prototype.addOnload=function(handler){this.onloads.push(handler)},Pane.prototype.removeOnload=function(handler){this.onloads.remove(handler)},Pane.prototype.addMouseOver=function(handler){this.mouseovers.push(handler)},Pane.prototype.addMouseOut=function(handler){this.mouseouts.push(handler)},Pane.prototype.addMouseDown=function(handler){this.mousedowns.push(handler)},Pane.prototype.addStateChange=function(handler){this.statechanges.push(handler)},Pane.prototype.removeStateChange=function(handler){this.statechanges.remove(handler)},Pane.prototype.removeMouseDown=function(handler){this.mousedowns.remove(handler)},Pane.prototype.removeMouseOver=function(handler){this.mouseovers.remove(handler)},Pane.prototype.removeMouseOut=function(handler){this.mouseouts.remove(handler)},Pane.prototype.addMouseWheel=function(handler){this.mousewheels.push(handler)},Pane.prototype.removeMouseWheel=function(handler){this.mousewheels.remove(handler)},Pane.prototype.reload=function(){null!=this.currentURL&&this.loadURL(this.currentURL)},Pane.prototype.setTransition=function(trans){this.transition=trans},Pane.prototype.loadURL=function(url,callback,transition){null!=this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.currentURL=url,this.processStateChange("loading"),getMarkup(url,this.maxage,makePaneCallback(this,callback,transition))},Pane.prototype.setAutoReload=function(bool){this.autoReload=bool},Pane.prototype.setMarkup=function(markup,transition){this.cancelAnimation(),null!=this.markup&&this.unloadScripts(),this.markup=markup,this.display(transition)},Pane.prototype.display=function(transition){this.markup&&(this.processStateChange("displaying"),this.stageContent(),this.renderScrollbars(),!transition&&this.transition&&(transition=this.transition),transition?(transition.addCallback(this.onloader),this.animate(transition)):this.doOnload())},Pane.prototype.doOnload=function(){var node,i,cn=this.viewport.childNodes,cnl=cn.length;for(i=cnl-1;i>=0;i--)node=cn[i],node!=this.content&&this.viewport.removeChild(node);this.content.parentNode!=this.viewport&&this.viewport.appendChild(this.content),this.loadScripts();var len=this.onloads.length;for(i=0;len>i;i++)this.onloads[i]();this.processStateChange("done")},Pane.prototype.cancelAnimation=function(){null!=this.currentAnimation&&this.currentAnimation.running&&(masterAnimationController?masterAnimationController.cancel(this.currentAnimation):this.currentAnimation.cancel(!0))},Pane.prototype.animate=function(animation){this.currentAnimation=animation,this.currentAnimation.reset(),masterAnimationController?masterAnimationController.animate(this.currentAnimation):this.currentAnimation.run()},Pane.prototype.processStateChange=function(state){for(var len=this.statechanges.length,i=0;len>i;i++)this.statechanges[i](state)},Pane.prototype.loadScripts=function(){for(var len=this.markup.scripts.length,i=0;len>i;i++)this.markup.scripts[i].deployScript()},Pane.prototype.unloadScripts=function(){for(var len=this.markup.scripts.length,i=0;len>i;i++)this.markup.scripts[i].destroyScript()},Pane.prototype.setMaxAge=function(millis){this.maxage=millis},Pane.prototype.makeCrossFadeSequence=function(){var seq=new Sequence,pane=this;return seq.handler=function(val){setOpacity(pane.content,val)},seq.init=function(){pane.content&&pane.content.parentNode!=pane.viewport&&(setOpacity(pane.content,seq.start),pane.viewport.appendChild(pane.content),pane.content.style.zIndex=3),isEmpty(pane.oldContent)||(pane.oldContent.style.zIndex=2)},seq.callback=function(){pane.content!=pane.oldContent&&pane.oldContent&&pane.oldContent.parentNode==pane.viewport&&(setOpacity(pane.oldContent,1-seq.end),pane.oldContent.style.zIndex="",pane.viewport.removeChild(pane.oldContent)),isEmpty(pane.content)||(pane.content.style.zIndex="")},seq},Pane.prototype.makeYScrollSequence=function(elementProducer){var seq=new Sequence;return seq.init=makeYScrollSequenceInit(this,seq,elementProducer),seq},Pane.prototype.makeXScrollSequence=function(elementProducer){var seq=new Sequence;return seq.init=makeXScrollSequenceInit(this,seq,elementProducer),seq},Pane.prototype.renderScrollbars=function(){var x=!1,y=!1,xw=this.width-2*this.scrollbarBorderWidth,yh=this.height-2*this.scrollbarBorderWidth,ovw=this.viewportWidth,ovh=this.viewportHeight;if(this.contentHeight>this.height&&this.yscrollbar?(y=!0,this.setViewportWidth(this.width-this.scrollbarWidth)):this.setViewportWidth(this.width),ovw!=this.viewportWidth&&this.stageContent(),this.contentWidth>this.width&&this.xscrollbar?(x=!0,this.setViewportHeight(this.height-this.scrollbarWidth)):this.setViewportHeight(this.height),
ovh!=this.viewportHeight&&this.stageContent(),y&&x&&(xw-=this.scrollbarWidth,yh-=this.scrollbarWidth),y){this.yscrollbar.style.height=yh+"px";var ytroughheight=yh-2*(this.scrollbarWidth-2*this.scrollbarBorderWidth);this.ytrough.style.height=ytroughheight+"px",this.ytrough.style.top=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px";var nyh=ytroughheight*(yh/this.contentHeight);this.yscroller.style.height=nyh+"px",this.yscroller.style.top="0px",this.downscroller.style.top=yh-this.scrollbarWidth+2*this.scrollbarBorderWidth+"px",this.yscrollbar.style.display="block",this.yscrollerbottom.style.top=nyh-this.yscrollerbottom.offsetHeight+"px"}else this.yscrollbar&&(this.yscrollbar.style.display="none");if(x){this.xscrollbar.style.width=xw+"px";var xtroughwidth=xw-2*(this.scrollbarWidth-2*this.scrollbarBorderWidth);this.xtrough.style.width=xtroughwidth+"px",this.xtrough.style.left=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.xscroller.style.width=xtroughwidth*(xw/this.contentWidth)+"px",this.xscroller.style.left="0px",this.rightscroller.style.left=xw-this.scrollbarWidth+2*this.scrollbarBorderWidth+"px",this.xscrollbar.style.display="block"}else this.xscrollbar&&(this.xscrollbar.style.display="none")},Pane.prototype.addXScrollbar=function(){this.getHostDimensions(),this.xscrollbar=document.createElement("div"),this.xscrollbar.className="xScrollbar",this.xscrollbar.style.position="absolute",this.xscrollbar.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.xscrollbar.style.margin="0px",this.xscrollbar.style.padding="0px",this.xscrollbar.style.display="none",this.xscroller=document.createElement("div"),this.xscroller.className="xScroller",this.xscroller.style.position="relative",this.xscroller.style.fontSize="1px",this.xscroller.style.height="17px",this.xscroller.onmousedown=makeScrollOnMouseDownX(this),this.xscrollerleft=document.createElement("div"),this.xscrollerleft.className="xScrollerCapLeft",this.xscrollerleft.style.cssFloat="left",this.xscrollerleft.style.styleFloat="left",this.xscrollerleft.style.top="0px",this.xscrollerleft.style.fontSize="1px",this.xscroller.appendChild(this.xscrollerleft),this.xscrollerright=document.createElement("div"),this.xscrollerright.className="xScrollerCapRight",this.xscrollerright.style.cssFloat="right",this.xscrollerright.style.styleFloat="right",this.xscrollerright.style.fontSize="1px",this.xscroller.appendChild(this.xscrollerright),this.xtrough=document.createElement("div"),this.xtrough.className="xTrough",this.xtrough.style.position="absolute",this.xtrough.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.xtrough.appendChild(this.xscroller),this.xtrough.onmousedown=makeScrollPagerX(this),this.xscrollbar.appendChild(this.xtrough);var pane=this,scrollstopper=makeScrollStopper(pane);this.leftscroller=document.createElement("div"),this.leftscroller.className="leftScroller",this.leftscroller.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.leftscroller.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.leftscroller.style.position="absolute",this.leftscroller.style.fontSize="1px",this.leftscroller.style.left="0px",this.leftscroller.onmousedown=function(){var func=makeLeftScroll(pane,pane.scrollFirstInterval);func(),document.onmouseup=scrollstopper},this.xscrollbar.appendChild(this.leftscroller),this.rightscroller=document.createElement("div"),this.rightscroller.className="rightScroller",this.rightscroller.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.rightscroller.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.rightscroller.style.position="absolute",this.rightscroller.style.fontSize="1px",this.rightscroller.onmousedown=function(){var func=makeRightScroll(pane,pane.scrollFirstInterval);func(),document.onmouseup=scrollstopper},this.xscrollbar.appendChild(this.rightscroller),this.shell.appendChild(this.xscrollbar),this.refreshScrollbars()},Pane.prototype.addYScrollbar=function(){this.getHostDimensions(),this.yscrollbar=document.createElement("div"),this.yscrollbar.className="yScrollbar",this.yscrollbar.style.position="absolute",this.yscrollbar.style.top="0px",this.yscrollbar.style.display="none",this.yscroller=document.createElement("div"),this.yscroller.className="yScroller",this.yscroller.style.position="absolute",this.yscroller.style.width="17px",this.yscroller.onmousedown=makeScrollOnMouseDownY(this),this.yscrollbar.appendChild(this.yscroller),this.yscrollertop=document.createElement("div"),this.yscrollertop.className="yScrollerCapTop",this.yscrollertop.style.position="absolute",this.yscrollertop.style.top="0px",this.yscrollertop.style.fontSize="1px",this.yscroller.appendChild(this.yscrollertop),this.yscrollerbottom=document.createElement("div"),this.yscrollerbottom.className="yScrollerCapBottom",this.yscrollerbottom.style.position="absolute",this.yscrollerbottom.style.fontSize="1px",this.yscroller.appendChild(this.yscrollerbottom),this.ytrough=document.createElement("div"),this.ytrough.className="yTrough",this.ytrough.style.position="absolute",this.ytrough.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.ytrough.appendChild(this.yscroller),this.ytrough.onmousedown=makeScrollPagerY(this),this.yscrollbar.appendChild(this.ytrough);var pane=this,scrollstopper=makeScrollStopper(pane);this.upscroller=document.createElement("div"),this.upscroller.className="upScroller",this.upscroller.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.upscroller.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.upscroller.style.position="absolute",this.upscroller.style.fontSize="1px",this.upscroller.style.top="0px",this.upscroller.onmousedown=function(){var func=makeUpScroll(pane,pane.scrollFirstInterval);func(),document.onmouseup=scrollstopper},this.yscrollbar.appendChild(this.upscroller),this.downscroller=document.createElement("div"),this.downscroller.className="downScroller",this.downscroller.style.height=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.downscroller.style.width=this.scrollbarWidth-2*this.scrollbarBorderWidth+"px",this.downscroller.style.position="absolute",this.downscroller.style.fontSize="1px",this.downscroller.onmousedown=function(){var func=makeDownScroll(pane,pane.scrollFirstInterval);func(),document.onmouseup=scrollstopper},this.yscrollbar.appendChild(this.downscroller),this.shell.appendChild(this.yscrollbar),this.addMouseWheel(makeScrollOnMouseWheel(this)),this.refreshScrollbars()},Pane.prototype.scrollUp=function(){this.scrolly(-Math.ceil(this.minScroll/this.scrollFactorY))},Pane.prototype.scrollDown=function(){this.scrolly(Math.ceil(this.minScroll/this.scrollFactorY))},Pane.prototype.scrollLeft=function(){this.scrollx(-Math.ceil(this.minScroll/this.scrollFactorX))},Pane.prototype.scrollRight=function(){this.scrollx(Math.ceil(this.minScroll/this.scrollFactorX))},Pane.prototype.scrolly=function(delta){if(this.yscrollbar&&"block"==this.yscrollbar.style.display){var originy=this.yscroller.offsetTop,top=originy+delta;0>top&&(top=0);var max=this.ytrough.clientHeight-this.yscroller.offsetHeight;return top>max&&(top=max),top!=originy?(this.yscroller.style.top=top+"px",this.content.style.top=-(this.contentHeight-this.viewportHeight)*(top/max)+"px",!1):!1}return!0},Pane.prototype.scrollx=function(delta){if(this.xscrollbar&&"block"==this.xscrollbar.style.display){var originx=this.xscroller.offsetLeft,left=originx+delta;0>left&&(left=0);var max=this.xtrough.clientWidth-this.xscroller.offsetWidth;return left>max&&(left=max),left!=originx?(this.xscroller.style.left=left+"px",this.content.style.left=-(this.contentWidth-this.viewportWidth)*(left/max)+"px",!1):!1}return!0},Pane.prototype.pageUp=function(){return this.scrolly(-(this.yscroller.offsetHeight-2*(this.minScroll/this.scrollFactorY)))},Pane.prototype.pageDown=function(){return this.scrolly(this.yscroller.offsetHeight-2*(this.minScroll/this.scrollFactorY))},Pane.prototype.pageLeft=function(){return this.scrollx(-(this.xscroller.offsetWidth-2*(this.minScroll/this.scrollFactorX)))},Pane.prototype.pageRight=function(){return this.scrollx(this.xscroller.offsetWidth-2*(this.minScroll/this.scrollFactorX))},xScrollMouseDownTimer=null;var clearx=function(){xScrollMouseDownTimer=null},yScrollMouseDownTimer=null}var allPlaylistsOnPage=new Object;if(Playlist.prototype.addInit=function(initFunc){this.inits.push(initFunc)},Playlist.prototype.addDestroy=function(destroyFunc){this.destroys.push(destroyFunc)},Playlist.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.pause();for(var len=this.destroys.length,i=0;len>i;i++)this.destroys[i]();for(var item,len=this.items.length,i=0;len>i;i++)item=this.items[i],"function"==typeof item.destroy&&(item.destroy(),this.items[i]=null)}},Playlist.prototype.next=function(){return null!=this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.autoForward(arguments),!1},Playlist.prototype.back=function(){return null!=this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.pointer<2?(this.pointer=this.items.length-(2-this.pointer),this.pointer<0&&(this.pointer=0)):this.pointer-=2,this.autoForward(arguments),!1},Playlist.prototype.gotoItem=function(id){for(var len=this.items.length,i=0;len>i;i++)if(this.items[i].id==id){if(null==this.currentItem||this.currentItem.id!=id){this.pointer=i,null!=this.timer&&(window.clearTimeout(this.timer),this.timer=null);for(var args=new Array,x=1;x<arguments.length;x++)args.push(arguments[x]);this.autoForward(args)}return!0}return!1},Playlist.prototype.prepare=function(id){for(var len=this.items.length,i=0;len>i;i++)if(this.items[i].id==id){(null==this.currentItem||this.currentItem.id!=id)&&this.items[i].ondeck&&this.items[i].ondeck();break}},Playlist.prototype.play=function(){this.playing||this.items.length>0&&(this.paused||(this.playing=!0),this.autoForward(arguments))},Playlist.prototype.resume=function(){if(!this.playing&&this.paused){this.playing=!0,this.paused=!1;var pl=this;this.timer=window.setTimeout(function(){pl.autoForward(),pl=null},this.interval)}},Playlist.prototype.pause=function(){this.playing&&(this.playing=!1,this.paused=!0,null!=this.timer&&(window.clearTimeout(this.timer),this.timer=null))},Playlist.prototype.setPreload=function(bool){this.preload=bool},Playlist.prototype.setInterval=function(millis){this.interval=millis},Playlist.prototype.autoForward=function(args){if(!this.inited){this.inited=!0;for(var len=this.inits.length,i=0;len>i;i++)this.inits[i]()}if(this.items.length>0){if(null!=this.currentItem&&this.currentItem.deactivate&&this.currentItem.deactivate(),this.currentItem=this.items[this.pointer],this.currentItem.activate(args),this.playing){var pl=this;this.timer=window.setTimeout(function(){pl.autoForward(),pl=null},this.interval)}else this.timer=null;if(this.pointer==this.items.length-1?this.pointer=0:this.pointer++,this.playing){var nextItem=this.items[this.pointer];nextItem.ondeck&&nextItem.ondeck()}}},Playlist.prototype.addItem=function(item){if(this.items[this.items.length]=item,this.preload&&item.ondeck){var ref=item;addOnload(function(){ref.ondeck(),ref=null})}},Playlist.prototype.addItems=function(array){if(this.items=this.items.concat(array),this.preload){var ar=array;addOnload(function(){for(var item,len=ar.length,i=0;len>i;i++)item=ar[i],item.ondeck&&item.ondeck();ar=null})}},UrlPlaylistManager.prototype.addItem=function(id,url){this.playlist.addItem(new UrlPMItem(id,url,this))},UrlPlaylistManager.prototype.addItems=function(array){for(var items=new Array(array.length/2),len=array.length,i=0;len>i;i+=2)items[i/2]=new UrlPMItem(array[i],array[i+1],this);this.playlist.addItems(items)},UrlPlaylistManager.prototype.updateCurrentItem=function(url){this.playlist.currentItem.url=url,this.playlist.currentItem.activate()},UrlPMItem.prototype.getElement=function(){return null==this.element&&(this.element=getElementById(this.manager.lookupProducer(),this.id)),this.element},UrlPMItem.prototype.activate=function(args){var el=this.getElement();isEmpty(el)||(el.className=this.manager.activeClass,this.manager.currentElement=el);var transition=!isEmpty(args)&&args.length>0?args[0]:this.manager.transition;isEmpty(this.manager.pane)||isEmpty(this.url)||this.manager.pane.loadURL(this.url,null,transition)},UrlPMItem.prototype.deactivate=function(){var el=this.getElement();el&&(el.className=this.manager.inactiveClass,this.manager.currentElement=null)},UrlPMItem.prototype.ondeck=function(){isEmpty(this.manager.pane)||isEmpty(this.url)||getMarkup(this.url,this.manager.pane.maxAge-this.manager.playlist.interval,function(markup){markup.parse()})},UrlPMItem.prototype.destroy=function(){this.element=null},"undefined"==typeof deconcept)var deconcept={};"undefined"==typeof deconcept.util&&(deconcept.util={}),"undefined"==typeof deconcept.SWFObjectUtil&&(deconcept.SWFObjectUtil={}),deconcept.SWFObject=function(swf,id,w,h,ver,c,quality,xiRedirectUrl,redirectUrl,detectKey){if(document.getElementById){this.DETECT_KEY=detectKey?detectKey:"detectflash",this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY),this.params={},this.variables={},this.attributes=[],swf&&this.setAttribute("swf",swf),id&&this.setAttribute("id",id),w&&this.setAttribute("width",w),h&&this.setAttribute("height",h),ver&&this.setAttribute("version",new deconcept.PlayerVersion(ver.toString().split("."))),this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(deconcept.unloadSet||(deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload),deconcept.unloadSet=!0)),c&&this.addParam("bgcolor",c);var q=quality?quality:"high";this.addParam("quality",q),this.setAttribute("useExpressInstall",!1),this.setAttribute("doExpressInstall",!1);var xir=xiRedirectUrl?xiRedirectUrl:window.location;this.setAttribute("xiRedirectUrl",xir),this.setAttribute("redirectUrl",""),redirectUrl&&this.setAttribute("redirectUrl",redirectUrl)}},deconcept.SWFObject.prototype={useExpressInstall:function(path){this.xiSWFPath=path?path:"expressinstall.swf",this.setAttribute("useExpressInstall",!0)},setAttribute:function(name,value){this.attributes[name]=value},getAttribute:function(name){return this.attributes[name]||""},addParam:function(name,value){this.params[name]=value},getParams:function(){return this.params},addVariable:function(name,value){this.variables[name]=value},getVariable:function(name){return this.variables[name]||""},getVariables:function(){return this.variables},getVariablePairs:function(){var key,variablePairs=[],variables=this.getVariables();for(key in variables)variablePairs[variablePairs.length]=key+"="+variables[key];return variablePairs},getSWFHTML:function(){var swfNode="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","PlugIn"),this.setAttribute("swf",this.xiSWFPath)),swfNode='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'"',swfNode+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var params=this.getParams();for(var key in params)swfNode+=[key]+'="'+params[key]+'" ';var pairs=this.getVariablePairs().join("&");pairs.length>0&&(swfNode+='flashvars="'+pairs+'"'),swfNode+="/>"}else{this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","ActiveX"),this.setAttribute("swf",this.xiSWFPath)),swfNode='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'">',swfNode+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var params=this.getParams();for(var key in params)swfNode+='<param name="'+key+'" value="'+params[key]+'" />';var pairs=this.getVariablePairs().join("&");pairs.length>0&&(swfNode+='<param name="flashvars" value="'+pairs+'" />'),swfNode+="</object>"}return swfNode},write:function(elementId){if(this.getAttribute("useExpressInstall")){var expressInstallReqVer=new deconcept.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(expressInstallReqVer)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var n="string"==typeof elementId?document.getElementById(elementId):elementId;return n.innerHTML=this.getSWFHTML(),!0}return""!=this.getAttribute("redirectUrl")&&document.location.replace(this.getAttribute("redirectUrl")),!1}},deconcept.SWFObjectUtil.getPlayerVersion=function(){var PlayerVersion=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var x=navigator.plugins["Shockwave Flash"];x&&x.description&&(PlayerVersion=new deconcept.PlayerVersion(x.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0)for(var axo=1,counter=3;axo;)try{counter++,axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+counter),PlayerVersion=new deconcept.PlayerVersion([counter,0,0])}catch(e){axo=null}else{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");PlayerVersion=new deconcept.PlayerVersion([6,0,21]),axo.AllowScriptAccess="always"}catch(e){if(6==PlayerVersion.major)return PlayerVersion}try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}null!=axo&&(PlayerVersion=new deconcept.PlayerVersion(axo.GetVariable("$version").split(" ")[1].split(",")))}return PlayerVersion},deconcept.PlayerVersion=function(arrVersion){this.major=null!=arrVersion[0]?parseInt(arrVersion[0]):0,this.minor=null!=arrVersion[1]?parseInt(arrVersion[1]):0,this.rev=null!=arrVersion[2]?parseInt(arrVersion[2]):0},deconcept.PlayerVersion.prototype.versionIsValid=function(fv){return this.major<fv.major?!1:this.major>fv.major?!0:this.minor<fv.minor?!1:this.minor>fv.minor?!0:this.rev<fv.rev?!1:!0},deconcept.util={getRequestParameter:function(param){var q=document.location.search||document.location.hash;if(null==param)return q;if(q)for(var pairs=q.substring(1).split("&"),i=0;i<pairs.length;i++)if(pairs[i].substring(0,pairs[i].indexOf("="))==param)return pairs[i].substring(pairs[i].indexOf("=")+1);return""}},deconcept.SWFObjectUtil.cleanupSWFs=function(){for(var objects=document.getElementsByTagName("OBJECT"),i=objects.length-1;i>=0;i--){objects[i].style.display="none";for(var x in objects[i])"function"==typeof objects[i][x]&&(objects[i][x]=function(){})}},!document.getElementById&&document.all&&(document.getElementById=function(id){return document.all[id]});var getQueryParamValue=deconcept.util.getRequestParameter,FlashObject=deconcept.SWFObject,SWFObject=deconcept.SWFObject,shareUtil=new Object;shareUtil.settings=["storyTextSm","storyTextMd","storyTextLg"],shareUtil.current="",shareUtil.setFontSize=function(size,div){$("#"+div).removeClass(),$("#"+div).addClass(size)},shareUtil.changeFontSize=function(action,div){var index=0;for(i=0;i<shareUtil.settings.length;i++)if(shareUtil.settings[i]==shareUtil.current){index=i;break}var flag=1;"decrease"==action&&(flag=-1),-1==index?size="storyTextMd":index+flag<shareUtil.settings.length&&index+flag>=0&&(size=shareUtil.settings[index+flag]),shareUtil.current!=size&&(shareUtil.current=size,createCookie("fontSize",size,4641),shareUtil.setFontSize(size,div),leftRailVideoOpen&&setTimeout(positionPlayer(leftRailContainerObj),500),"undefined"!=typeof listStoryFlag&&listStoryFlag&&(listContainerDiv=$("#listItems"),listItemDiv=$("#listItems > .listItem").eq(listStoryCurrTab),listDivOffSet=60,$.browser.msie&&parseInt($.browser.version,10)<8&&(listDivOffSet=80),"decrease"==action?(listContainerDiv.height(listContainerDiv.height()-listDivOffSet),listItemDiv.height(listItemDiv.height()-listDivOffSet)):"increase"==action&&(listContainerDiv.height(listContainerDiv.height()+listDivOffSet),listItemDiv.height(listItemDiv.height()+listDivOffSet))))},$(document).ready(function(){$(".shareflyout .trigger").click(function(e){e.preventDefault(),$(this).hide(),$(this).next(".shareflyout-buttons").fadeIn()}),$(".shareflyout-buttons a.twitter").click(function(e){e.preventDefault();var loc=$(this).attr("href"),delim=loc.indexOf("?")>-1?"&":"?";loc=loc+delim+"cid=twitter_share",loc=encodeURIComponent(loc);var title=escape($(this).attr("title"));window.open("http://twitter.com/share?text="+title+"&url="+loc+"&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")}),$(".shareflyout-buttons a.facebook").click(function(e){e.preventDefault();var sTop=window.screen.height/2-218,sLeft=window.screen.width/2-313,loc=$(this).attr("href"),delim=loc.indexOf("?")>-1?"&":"?";loc=loc+delim+"cid=fb_share";var title=escape($(this).attr("title")),shareUrl="http://www.facebook.com/sharer.php?u="+loc+"&t="+title;window.open(shareUrl,"sharer","toolbar=0,status=0,width=626,height=256,top="+sTop+",left="+sLeft)})}),("preview.abcnews.go.com"==document.domain||"newspreview.corp.dig.com"==document.domain)&&document.write("<style>.share_left .sharebtn-fbshare, .fblike, .fbshare{visibility:hidden;}</style>");