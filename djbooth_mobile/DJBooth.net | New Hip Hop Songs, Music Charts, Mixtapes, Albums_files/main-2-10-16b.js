function hide_tags_more_stuff(){jQuery(".tags-dd").hide(),jQuery(".tags-btn").removeClass("open"),jQuery(".more-dd").hide(),jQuery(".more-btn").removeClass("open")}function close_bottom_mobile_ad(){jQuery("div.ad-unit.ad-bottom").hide("slide")}function add_channel_filter(e){var t=add_search_channel_url_parameter(window.location.href,"channel",e);window.location.href=t}function add_search_channel_url_parameter(e,t,o){var r=e.split("&"),a=r[0],n=a,l=!1;return jQuery.each(r,function(e,t){"/"===t.substring(t.length-1)&&(r[e]=t.substring(0,t.length-1))}),jQuery.each(r,function(e,r){if(e>0){var a=r.split("=")[0],i=r.split("=")[1];i.replace("/",""),a===t?""!==o&&(n+="&"+t+"="+o,l=!0):n+="&"+a+"="+i}}),l===!1&&(n=r.join("&")+"&"+t+"="+o),n}function set_page_group(e,t){ga("set","contentGroup"+e,t)}function init_star_rating_form(){var e=!1;jQuery("div.star-rating-form div.star-img").on("mouseenter",function(){e||(jQuery("div.star-rating-form div.star-img.full").removeClass("full"),jQuery(this).prevAll().addClass("full"),jQuery(this).addClass("full"))}),jQuery("div.star-rating-form div.star-img").on("mouseout",function(){e||jQuery("div.star-rating-form div.star-img.full").removeClass("full")}),jQuery("div.star-rating-form div.star-img").on("click",function(){e=!0,jQuery("div.star-rating-form div.star-img.full").removeClass("full"),jQuery(this).prevAll().addClass("full"),jQuery(this).addClass("full"),jQuery('div.star-rating-form input[name="rating"]').val(jQuery(this).prevAll().length)}),jQuery("div.star-rating-form button.submit").on("click",function(e){e.preventDefault(),jQuery('div.star-rating-form input[name="rating"]').val()?jQuery.ajax({type:"POST",url:jQuery("div.star-rating-form form").attr("action"),data:jQuery("div.star-rating-form form").serialize(),success:function(e){"Your rating has been successfully submitted."===e?jQuery("div.star-rating-form").html("Your rating has been successfully submitted."):(console.log(e),alert("An error has occurred. Please refresh and try again."))},error:function(e){console.log("ERROR"),alert("An error has occurred. Please refresh and try again.")}}):alert("You have left your rating empty. Please select a rating and try again.")})}jQuery(document).ready(function(){jQuery("body").on("click","article.panel",function(e){"undefined"!=typeof e.srcElement&&"sm2-360btn sm2-360btn-default"!==e.srcElement.className&&""+e.srcElement.localName!="a"&&""+e.srcElement.localName!="i"&&jQuery(this).data("href")&&(e.preventDefault(),window.location.href=jQuery(this).data("href"))}),jQuery("body").on("click",".tags-btn",function(e){e.stopPropagation(),jQuery(this).hasClass("open")?hide_tags_more_stuff():(hide_tags_more_stuff(),jQuery(this).addClass("open"),jQuery(this).closest("article.panel-short").find(".tags-dd").show())}),jQuery("body").on("click",".more-btn",function(e){e.stopPropagation(),jQuery(this).hasClass("open")?hide_tags_more_stuff():(hide_tags_more_stuff(),jQuery(this).addClass("open"),jQuery(this).closest("article.panel-short").find(".more-dd").show())}),jQuery(document).click(hide_tags_more_stuff)});var gaq_timers=[],inf_scroll_offset,inf_scroll_data,win_scroll_top,win_scroll_bottom,doc_scroll_bottom,inf_scroll_bool;jQuery(document).ready(function(){function e(){jQuery("#youtube_player_show_hide").animate({top:"57px"},1e3),jQuery("#youtube_player").animate({top:"-165px"},1e3),jQuery("#youtube_player_show_hide").html("Show")}function t(){jQuery("#youtube_player_show_hide").animate({top:"232px"},1e3),jQuery("#youtube_player").animate({top:"36px"},1e3),jQuery("#youtube_player_show_hide").html("Hide")}function o(){var e=jQuery("#djbooth_player"),o=jQuery(".play-button a.playing");if(0!==o.length){var r="";switch(o.hasClass("audiomack")&&(r="audiomack"),o.hasClass("mp3")&&(r="mp3"),o.hasClass("soundcloud")&&(r="soundcloud"),o.hasClass("youtube")&&(r="youtube"),e.show("blind",function(){a(r)}),d++,r){case"youtube":var n=o.data("videoId");0===y||n!=y.o.id?(jQuery("#djbooth_player .play").hide(),jQuery(".play-button a.playing").hide(),jQuery("#youtube_player").html('<div id="'+n+'"></div>'),y=new YT.Player(n,{height:"200",width:"100%",videoId:n,playerVars:{wmode:"transparent"},events:{onReady:function(e){e.target.unMute(),e.target.setVolume(100)},onStateChange:function(e){0===e.data,1===e.data&&jQuery(".play-button a.playing").attr("href")==="http://www.youtube.com/embed/"+e.target.o.id&&i(),2===e.data&&jQuery(".play-button a.playing").attr("href")==="http://www.youtube.com/embed/"+e.target.o.id&&s()}}})):(y.playVideo(),i()),jQuery("#youtube_player").show(),jQuery("#youtube_player_show_hide").show(),t();break;case"soundcloud":case"mp3":c===!0?(jQuery("#youtube_player").hide(),jQuery("#youtube_player_show_hide").hide(),i(),f.src==o.attr("href")?f.play():(f.src=o.attr("href"),f.load(),f.play())):jQuery("#djbooth_player").html('Your browser does not support HTML5 Audio. Please <a href="http://chrome.google.com">update your browser</a>.');break;case"audiomack":c===!0?(jQuery("#youtube_player").hide(),jQuery("#youtube_player_show_hide").hide(),jQuery("#djbooth_player .progress_container").show(),jQuery("#djbooth_player .volume_box").show(),i(),f.src==o.attr("href")?f.play():(f.src="http://static.djbooth.net/styles/js/assets/point1sec.mp3",f.load(),f.play(),jQuery.ajax({url:"/audiomack-mp3.php",type:"POST",async:!1,data:{audiomack_url:o.attr("href")},success:function(e){o.attr("href",e),f.src=e,f.load(),f.play()},error:function(e){console.log("Error getting audiomack MP3: "+e)}}))):jQuery("#djbooth_player").html('Your browser does not support HTML5 Audio. Please <a href="http://chrome.google.com">update your browser</a>.')}}}function r(){var e=(jQuery("#djbooth_player"),jQuery(".play-button a.playing"));if(0!==e.length){if(e.hasClass("audiomack"))var t="audiomack";if(e.hasClass("mp3"))var t="mp3";if(e.hasClass("soundcloud"))var t="soundcloud";if(e.hasClass("youtube"))var t="youtube";switch(t){case"youtube":y.pauseVideo(),s();break;case"mp3":case"soundcloud":case"audiomack":c===!0?(f.pause(),s()):jQuery("#djbooth_player").html('Your browser does not support HTML5 Audio. Please <a href="http://chrome.google.com">update your browser</a>.');break;default:f.pause(),s()}}}function a(e){clearInterval(u),jQuery("#djbooth_player .scrolling_text div").stop(!0,!0),jQuery("#djbooth_player .scrolling_text div").css("margin-left","0"),jQuery("#djbooth_player .scrolling_text div").html(jQuery(".play-button a.playing").data("title")),"soundcloud"==e&&jQuery("#djbooth_player .scrolling_text div").append(" via Soundcloud"),"audiomack"==e&&jQuery("#djbooth_player .scrolling_text div").append(" via Audiomack");var t=jQuery("#djbooth_player .scrolling_text").width(),o=jQuery("#djbooth_player .scrolling_text div").width();o-t>0&&(n(o,t),u=setInterval(function(){n(o,t)},8e3))}function n(e,t){jQuery("#djbooth_player .scrolling_text div").delay(2e3).animate({"margin-left":"-"+(e-t)+"px"},4e3).delay(2e3).css("margin-left","0")}function l(){var e=void 0;try{e=new Audio}catch(t){return!1}return e.canPlayType("audio/mpeg;").replace(/no/,!1)?!0:!1}function i(){jQuery("#djbooth_player .pause").show(),jQuery("#djbooth_player .play").hide(),jQuery(".play-button a.playing").show(),jQuery(".play-button a.playing").removeClass("paused")}function s(){jQuery("#djbooth_player .play").show(),jQuery("#djbooth_player .pause").hide(),jQuery(".play-button a.playing").show(),jQuery(".play-button a.playing").addClass("paused")}inf_scroll_offset=10,inf_scroll_data=jQuery("#infinite-scroll-data").data(),inf_scroll_bool=void 0===inf_scroll_data||null===inf_scroll_data?!1:inf_scroll_data.scroll,win_scroll_top=Math.round(jQuery(window).scrollTop()),win_scroll_bottom=Math.round(jQuery(window).scrollTop()+jQuery(window).height()),doc_scroll_bottom=Math.round(jQuery(document).height()),jQuery(window).on("scroll",function(){if(inf_scroll_bool===!0&&inf_scroll_ended===!1&&(win_scroll_top=Math.round(jQuery(window).scrollTop()),win_scroll_bottom=Math.round(jQuery(window).scrollTop()+jQuery(window).height()),800>doc_scroll_bottom-win_scroll_bottom)){switch(inf_scroll_bool=!1,inf_scroll_data=jQuery("#infinite-scroll-data").data(),inf_scroll_data.pageName){case"author":jQuery.ajax({type:"GET",url:"/index/ajax/mobile-"+inf_scroll_data.pageName,data:{offset:inf_scroll_offset,author_id:inf_scroll_data.category},success:function(e){jQuery("#articles-container").append(e),inf_scroll_offset+=10,doc_scroll_bottom=Math.round(jQuery(document).height()),inf_scroll_bool=!0}});break;case"chart":jQuery.ajax({type:"GET",url:"/index/ajax/mobile-"+inf_scroll_data.pageName+"/"+inf_scroll_data.category,data:{offset:inf_scroll_offset},success:function(e){jQuery("#articles-container").append(e),inf_scroll_offset+=10,doc_scroll_bottom=Math.round(jQuery(document).height()),25>inf_scroll_offset&&(inf_scroll_bool=!0)}});break;case"chart-albums":jQuery.ajax({type:"GET",url:"/index/ajax/mobile-"+inf_scroll_data.pageName+"/"+inf_scroll_data.category,data:{offset:inf_scroll_offset},success:function(e){jQuery("#articles-container").append(e),inf_scroll_offset+=10,doc_scroll_bottom=Math.round(jQuery(document).height()),20>inf_scroll_offset&&(inf_scroll_bool=!0)}});break;case"chart-artists":jQuery.ajax({type:"GET",url:"/index/ajax/mobile-"+inf_scroll_data.pageName+"/"+inf_scroll_data.category,data:{offset:inf_scroll_offset},success:function(e){jQuery("#articles-container").append(e),inf_scroll_offset+=10,doc_scroll_bottom=Math.round(jQuery(document).height()),20>inf_scroll_offset&&(inf_scroll_bool=!0)}});break;case"index":case"tracks":case"albums":case"artist":case"features":case"best":case"playlists":case"mixtapes":case"downloads":case"djs":case"dj-reviews":default:jQuery.ajax({type:"GET",url:"/index/ajax/mobile-"+inf_scroll_data.pageName+"/"+inf_scroll_data.category,data:{offset:inf_scroll_offset},success:function(e){jQuery("#articles-container").append(e),inf_scroll_offset+=10,doc_scroll_bottom=Math.round(jQuery(document).height()),inf_scroll_bool=!0}})}ga("send","event",inf_scroll_data.pageName+" mobile page","Infinite Scroll",inf_scroll_data.category)}}),$("<div />",{html:"&shy;<style>.media-player.video a { background: url(http://static.djbooth.net/plugins/soundmanager/360-player/360-button-play.png) no-repeat 50% 50%; }</style>"}).appendTo("body");var u,c=l(),d=0,f=new Audio,y=0;f.addEventListener("canplay",function(){}),f.addEventListener("ended",function(){}),jQuery("#youtube_player_show_hide").bind("click",function(){var o=jQuery(this).html();"Hide"==o?e():t()}),jQuery("#djbooth_player .play").bind("click",function(e){e.preventDefault(),o()}),jQuery("#djbooth_player .pause").bind("click",function(e){e.preventDefault(),r()}),jQuery("body").on("click",".play-button a:not(.playing)",function(e){e.preventDefault();var t=jQuery(".play-button a.playing");t.length>0&&(r(),jQuery(".play-button a.playing").removeClass("playing"),jQuery(".play-button a.playing").removeClass("paused")),jQuery(this).addClass("playing"),o(),jQuery("#djbooth_player").show()}),jQuery("body").on("click",".play-button a.paused.playing",function(e){e.preventDefault(),o()}),jQuery("body").on("click",".play-button a.playing:not(.paused)",function(e){e.preventDefault(),r()}),$(document).on("click",".toggle",function(){$(".drop-down").slideToggle("fast")})}),!function(e){"use strict";function t(e,t){var r,a,l,i,u,d,f=0;return t=t||function(){},r=c.toElement(e,n({start:function(t,o,r,n){if(u)return!1;if("script"===t.toLowerCase())return s.log("WC element:",e,"start script. attrs:",o,this.id),l="",a=o||{},!1;if(f||/^(object|embed)$/i.test(t)){i=(f?i:"")+"<"+t;for(var c=0;c<o.length;c++)i+=" "+o[c].name+'="'+o[c].escaped+'"';return i+=">",r&&!f?n.stack.last().innerHTML+=i:r||f++,!1}return"noscript"===t.toLowerCase()?(u=!0,!1):void("iframe"===t.toLowerCase()&&(d=!0))},chars:function(t){return f?(i+=t,!1):u?!1:d?!1:a?(s.log("WC element:",e,"chars:",t,this.id),l+=t,!1):void 0},end:function(e,t){if(f)return i+="</"+e+">",--f||(t.stack.last().innerHTML+=i),!1;if(u)return u="noscript"!==e.toLowerCase(),!1;if(d)return d="iframe"!==e.toLowerCase(),!1;if(a){var n=a;return a=!1,o(l,n,t.stack.last(),r),!1}},comment:function(){return!1},done:t}))}function o(e,o,n,i){function u(){c(),i.handle("resume")}var c,d=t(n,u);s.log("WC captureScript attrs:",o,"body:",e,"in parent:",n),i.handle("pause"),setTimeout(function(){c=a(l(n),d),r(e,o,n,function(){d.close()})},25)}function r(e,o,r,a){for(var n,i,s=l(r),u=s.createElement("script"),c=0;c<o.length;c++){var d=o[c];n=d.name,i=d.value,t.fixUrls&&"src"===n&&(i=t.fixUrls(i)),u.setAttribute(n,i)}e&&(f?u.appendChild(s.createTextNode(e)):u.text=e),a&&u.src&&(u.onload=u.onreadystatechange=function(e,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u=void 0,t||a())}),r.appendChild(u),a&&!u.src&&a()}function a(e,t){var o={write:e.write,writeln:e.writeln};return e.write=function(e){t.handle("write",[e])},e.writeln=function(t){e.write(t+"\n")},function(){e.write=o.write,e.writeln=o.writeln}}function n(e){var t,o=[],r=y++;return{pause:function(){s.log("WC PAUSE",r),t=!0},resume:function(){for(s.log("WC RESUME",r,o.slice(0)),t=!1;!t&&o.length;){var e=o.shift();this.writer.handle(e[0],e[1])}},start:function(a,n,l,i){return s.log("WC start",t,"args",a,n,l,i,r),t?(o.push(["start",[a,n,l]]),!1):e.start(a,n,l,i)},chars:function(a,n){return s.log("WC chars",t,"args",a,n,r),t?(o.push(["chars",[a]]),!1):e.chars(a,n)},end:function(a,n){return s.log("WC end",t,"args",a,n,r),t?(o.push(["end",[a]]),!1):e.end(a,n)},comment:function(r,a){return t?(o.push(["comment",[r]]),!1):e.comment(r,a)},write:function(e){return s.log("WC queue.write",t,r),t?(o.push(["write",[e]]),!1):(this.writer.write(e),!1)},close:function(){return s.log("WC close",t,r),t?(o.push(["close",[]]),!1):e.done?e.done():void 0}}}function l(e){return e.ownerDocument||e.getOwnerDocument&&e.getOwnerDocument()}function i(){if(!d){var e=p.shift();if("undefined"==typeof e)return;if("function"==typeof e.el)return void e.el();d=!0,t(e.el,function(){d=!1,i()}).close(e.html)}}var s=window.console||{log:function(){}},u=s.log;s.log=function(){t.debug&&u.apply(this,arguments)};var c,d,f=function(){var e=document.createElement("script"),t="script"+(new Date).getTime(),o=document.documentElement;e.type="text/javascript";try{e.appendChild(document.createTextNode("window."+t+"=1;"))}catch(r){}return o.insertBefore(e,o.firstChild),window[t]?(delete window[t],!0):!1}(),y=0,p=[];t.write=function(e,t){p.push({el:e,html:t}),i()},e(["element.write"],function(e){return c=t.elementWrite=e,t.fixUrls=function(e){return e.replace(/&/g,"&")},t})}("function"==typeof define?define:function(e,t){"object"==typeof exports?module.exports=t(require(e[0])):window.writeCapture=t(window.elementWrite)});