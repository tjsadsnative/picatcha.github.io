/**
 * easyXDM
 * http://easyxdm.net/
 * Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

// Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.

// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell

// The above copyright notice and this permission notice shall be included in

/*!
* jQuery throttle / debounce - v1.1 - 3/7/2010
* http://benalman.com/projects/jquery-throttle-debounce-plugin/
*
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub - http://github.com/cowboy/jquery-throttle-debounce/
// Source - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified) - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
// executed later than they should. Reworked a fair amount of internal
// logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
// from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
// no_trailing throttle parameter and debounce functionality.
//
// Topic: Note for non-jQuery users
//
// jQuery isn't actually required for this plugin, because nothing internal
// uses any jQuery methods or properties. jQuery is just used as a namespace
// under which these methods can exist.
//
// Since jQuery isn't actually required for this plugin, if jQuery doesn't exist
// when this plugin is loaded, the method described below will be created in
// the `Cowboy` namespace. Usage will be exactly the same, but instead of
// $.method() or jQuery.method(), you'll need to use Cowboy.method().

define("managers/client-storage",["jquery","utils/cookie"],function(e,t){function i(e){var i=null;return n&&!r.forceCookies&&!e?i=localStorage.getItem(r.dataNamespace)||null:i=t.read(r.dataNamespace+(e?r.sessionSuffix:r.permanentSuffix))||null,JSON.parse(i)||{}}function s(e,i){var s=JSON.stringify(e);n&&!r.forceCookies&&!i?localStorage.setItem(r.dataNamespace,s):i?t.write(r.dataNamespace+r.sessionSuffix,s):t.write(r.dataNamespace+r.permanentSuffix,s,{expires:365})}var n=typeof Storage!="undefined",r={dataNamespace:"cnetSettings",forceCookies:!1,permanentSuffix:"Permanent",sessionSuffix:"Session"};return{init:function(t){e.extend(!0,r,t)},read:function(e,t){t=t||!1;var n=i(t);return n[e]||null},write:function(e,t,n){n=n||!1;var r=i(n);r[e]=t,s(r,n)},erase:function(e,t){t=t||!1;var n=i(t);delete n[e],s(n,t)}}}),define("managers/tealium",["jquery","version!fly/managers/debug","managers/page-vars","tealium"],function(e,t,n){var r=t.get("tealium");return{trackLead:function(e){this._trackClickViaUtag("om","trackLeadClick","trackLeadClick",e)},trackExternalLink:function(e){this._trackClickViaUtag("om","trackClick","trackExternalLink",e)},trackSocial:function(e){var t="";typeof n.tracking.data.collectionId=="object"?t=n.tracking.data.collectionId[0]:typeof n.tracking.data.collectionId=="string"?t=n.tracking.data.collectionId:t="";var r={wd:"socialbutton",wdloc:"sharebar",ssite:e&&e.socialService?e.socialService:"",_collectionPrimaryId:t,_dwLinkTag:e.sharebarSection};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",e,r)},trackComment:function(t,r,i){var s="";typeof n.tracking.data.collectionId=="object"?s=n.tracking.data.collectionId[0]:typeof n.tracking.data.collectionId=="string"?s=n.tracking.data.collectionId:s="";var o={link_text:t,_clickAction:i?i:t,_levtType:"ria",_levtEventType:"log",_riaMapp:"livefyre",_riaObjType:"url",levtType:"social",socialService:"cnet",sc:"es",wdloc:"livefyrecommentbox",_collectionPrimaryId:s,_dwLinkTag:r.sharebarSection};this._trackClickViaUtag("utag","link",t,r,e.extend({},this._getUdoStockData(),o))},trackSuggestedSearch:function(e){var t={};this._trackClickViaUtag("om","trackSuggestedSearchClick","trackSuggestedSearchClick",e,t)},trackPodcast:function(e){this._trackClickViaUtag("om","trackPodcast","trackPodcast",e)},trackForum:function(e,t){var n={};this._trackClickViaUtag("om","trackForum",e,t,n)},trackVideo:function(e,t,r){var i=e.charAt(0).toUpperCase()+e.slice(1),s=t===0?"Start":t===100?"Complete":t+"Percent",o=e==="pause"?"videoTime":"video"+i+s,u=n.tracking.data,a={_noLinkTrack:"LEVT",_videoAction:o,link_text:o,siteHier:u.siteHier,siteSection:u.siteSection,siteEdition:u.siteEdition,siteType:u.siteType,deviceType:u.deviceType,pageType:u.pageType,pageNum:u.pageNum!=null?u.pageNum:1,topicId:u.topicId,pageViewGuid:u.pageViewGuid,articleAuthorId:u.articleAuthorId,articleAuthorName:u.articleAuthorName,articleId:u.articleId,articleTitle:u.articleTitle,articleType:u.articleType,productId:u.productId,productName:u.productName};this._trackClickViaUtag("utag","link",o,r,a)},trackPageLoad:function(e){try{n.tracking.enabled===!0?(e=typeof e=="undefined"?{}:e,utag.view(e),r.log("Track view: ",e)):r.log("Event tracking aborted; tracking is not enabled!")}catch(t){r.log("Page load tracking failed:",t)}},trackCustomEvent:function(e,t,n){var r={link_text:e,_clickAction:n?n:e,_noLinkTrack:"LEVT"};this._trackClickViaUtag("utag","link",e,t,r)},_trackClickViaUtag:function(t,i,s,o,u){try{if(n.tracking.enabled===!0){u=typeof u!="object"?{}:u;var a={_test:n.tracking.data.testName?n.tracking.data.testName+"|"+n.tracking.data.testVersion+"|"+n.tracking.data.testGroup:""};o=typeof o!="object"?e.extend({},a,u):e.extend({},a,u,o),e.inArray(t,["om","omnitureMgr","utag"])>=0?(window[t][i](o),typeof window.s=="object"&&(window.s.events=""),r.log(s+" ping: ",o)):r.log("Invalid tracking object",t)}else r.log(s+" aborted; tracking is not enabled!")}catch(f){r.log(s+" failed:",f)}},init:function(t){n.tracking.enabled===!0?(n.tracking.data=t,utag_data=t,r.log("Load tracking data: ",t),e(window).on("unload",function(){try{var e=document.createElement("img");e.setAttribute("src","http://dw.cbsi.com/levt/ria/e.gif?event=log&mapp=exiteventtrack&riaevent=exit&v6="+window.location.href+"&v12="+(t.siteEdition||"")+"&v13="+(t.testName||"")+"|"+(t.testVersion||"")+"|"+(t.testGroup||"")+"&v16="+(t.pageViewGuid||"")+"&v17="+(t.topicId&&t.topicId.length>0?t.topicId[0]:"")+"&v18="+(t.articleId||"")+"&v19="+(t.pageType||"")+"&v20="+(t.articleType||"")+"&v21="+(t.siteType||"")+"|||"+(t.deviceType||"")+"&v23="+(t.dwAccount||"")+"&ts="+(new Date).getTime())}catch(n){}})):r.log("Initialization aborted; tracking is not enabled!")},setPageValue:function(e,t){this[e]=t,utag_data[e]=t,n.tracking.data[e]=t},setPageValues:function(t){e.extend(utag_data,t),e.extend(n.tracking.data,t)},getTrackingData:function(){return n.tracking.enabled===!0?n.tracking.data:{}},_getUdoStockData:function(){var e=n.tracking.data;return{siteEdition:e.siteEdition,pageViewGuid:e.pageViewGuid,pageType:e.pageType,siteHier:e.siteHier,siteType:e.siteType,deviceType:e.deviceType,articleId:e.articleId,articleTitle:e.articleTitle,articleType:e.articleType,articlePubDate:e.articlePubDate,articleAuthorId:e.articleAuthorId,articleAuthorName:e.articleAuthorName,topicId:e.topicId,topicName:e.topicName}}}}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var n=this.options,r=n.position==="fixed"?" "+n.classFixed:"",i={},s={};this._setup(),this.$modal=this.$element.addClass(n.classModal+r),this.$backdrop=e("<div>").addClass(n.classBackdrop+r),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),n.content&&this.setContent(n.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},i[t]="_handleClose",s[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,i),this._on(this.$modal,s)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){e.keyCode==27&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;if(this.isOpen)return;if(this._trigger("open",null,this.eventData)===!1)return;this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData)},close:function(){var e=this.options;if(!this.isOpen)return;if(this._trigger("close",null,this.eventData)===!1)return;this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData)},setContent:function(t){var n=this.options,r=this,i=e(t),s;i.hasClass(n.classModal)&&(i.removeClass(n.classModal),s=i.prop("attributes"),e.each(s,function(){this.name==="class"?r.$modal.addClass(this.value):r.$modal.attr(this.name,this.value)}),i=i.children()),this.$modal.empty().append(i),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:i}))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;n<20&&(n=20),e.position=="absolute"&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var n=e(this),r=n.data(),i=r.$modal;t.preventDefault(),i||(i=e(r.target||n.attr("href")),n.data("$modal",i)),i.length&&i.modal().modal("open")})}),define("components/global-modal",["jquery","version!fly/components/modal"],function(e){e.widget("cnet.globalModal",e.fly.modal,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}'},setContent:function(t){var n=this.options,r=this,i;typeof t=="string"?this.$modal.html(n.modalTemplate.replace("{{content}}",t)):(t.hasClass(n.classModal)&&(t.removeClass(n.classModal),i=t.prop("attributes"),e.each(i,function(){this.name==="class"?r.$modal.addClass(this.value):r.$modal.attr(this.name,this.value)}),t=n.modalTemplate.replace("{{content}}",t.html())),this.$modal.empty().append(t),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:t})))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;n<20&&(n=20),e.position=="absolute"&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal});var r=this.$window.width()/2,i=this.$window.scrollLeft();this.$element.css("left",r+i-this.$element.width()/2)}})}),define("translations/user-controller",["managers/edition"],function(e){var t={en:{loginText:"Log In / Join"},es:{loginText:"Iniciar sesión / Crear cuenta"}};return t[e.getLanguage()]}),window.Modernizr=function(e,t,n){function E(e){a.cssText=e}function S(e,t){return E(c.join(e+";")+(t||""))}function x(e,t){return typeof e===t}function T(e,t){return!!~(""+e).indexOf(t)}function N(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:x(s,"function")?s.bind(r||t):s}return!1}var r="2.6.2",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f,l={}.toString,c=" -webkit- -moz- -o- -ms- ".split(" "),h={},p={},d={},v=[],m=v.slice,g,y=function(e,n,r,i){var u,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:o+(r+1),c.appendChild(f);return u=["&#173;",'<style id="s',o,'">',e,"</style>"].join(""),c.id=o,(h?c:p).innerHTML+=u,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=s.style.overflow,s.style.overflow="hidden",s.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),s.style.overflow=l),!!a},b={}.hasOwnProperty,w;!x(b,"undefined")&&!x(b.call,"undefined")?w=function(e,t){return b.call(e,t)}:w=function(e,t){return t in e&&x(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=m.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(m.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(m.call(arguments)))};return i}),h.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:y(["@media (",c.join("touch-enabled),("),o,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n};for(var C in h)w(h,C)&&(g=C.toLowerCase(),i[g]=h[C](),v.push((i[g]?"":"no-")+g));return i.addTest=function(e,t){if(typeof e=="object")for(var r in e)w(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(s.className+=" "+(t?"":"no-")+e),i[e]=t}return i},E(""),u=f=null,i._version=r,i._prefixes=c,i.testStyles=y,i}(this,this.document),define("libs/modernizr.custom-2.6.2",[],function(){}),define("managers/device",["jquery","version!fly/managers/debug","version!libs/modernizr.custom"],function(e,t){t=t.init("device");var n={desktop:"desktop",mobile:"mobile"},r={type:"desktop"},i={init:function(t){r.type=t;var n=e("body");Modernizr.touch?n.addClass("touch-enabled"):n.addClass("touch-disabled")},getType:function(){return r.type},isDesktop:function(){return r.type===n.desktop},isMobile:function(){return r.type===n.mobile},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isKindle:function(){return navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)},isBlackBerry:function(){return navigator.userAgent.match(/BB10/i)&&navigator.userAgent.match(/Mobile/i)},isWinPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)},isIPad:function(){return navigator.userAgent.match(/iPad/i)},isDesktopUserAgent:function(){return!(this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad())},isMobileUserAgent:function(){return this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()},getClickType:function(){return Modernizr.touch?"tap":"click"},getImmediateClickType:function(){return Modernizr.touch?"touchstart":"click"}};return i}),define("utils/urs-helper",["jquery","version!fly/managers/debug","urs"],function(e,t){t=t.init("ursHelper");var n={16:257,103:259,225:265,242:266,256:268,295:298,363:361,364:362,368:365,369:366,370:367,372:371,403:401,404:402,9:269,36:270,74:278,305:304,27:280,374:373,376:375};return{getSocialAppId:function(e){return n[e]},getUrs:function(e,t){var n=URS.getInstance(e);return n||(n=URS.newInstance({appId:e,environment:URS.ursEnvironments.LIVE}),t&&t(n)),n}}}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,n,r){var i=this;return typeof t!="string"?"":(r=e.makeArray(r),t=t.replace(/\{([^}]+)\}/g,function(t){var s=r,o="";return t=t.replace(/\|[^\}|]+/g,function(e){return s.push(e.substr(1)),""}),o=n[t.replace(/[{}]+/g,"")]||"",e.each(s,function(e,t){o=i.modify(t,o)}),o}),t)},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(n,r){var i=this.options,s;if(n==="remove"){this.$element.empty();return}s=t.compile(i.template,e.extend({state:n,baseClass:i.classes.base,stateClass:i.classes[n],text:i.text[n]},r)),this.$element.html(s)},add:function(){var t=this.options;if(this._trigger("add")===!1)return;this.update("loading"),typeof t.timeout=="number"&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added")},remove:function(){if(this._trigger("remove")===!1)return;this.update("remove"),this._trigger("removed")},update:function(e,t){var n=this.options,r={state:e};if(this._trigger("update",null,r)===!1)return;this._state=e;if(n.disabled)return;clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,r)},isLoading:function(){return this._state==="loading"?!0:!1},getState:function(){return this._state},_setOption:function(e,t){var n=this.options;e==="data"?this.$element.data("data",t):e==="disabled"&&(t===!0?this.$element.empty():this._setContent(n.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("fly/components/modal-iframe-1.0",["jquery","version!fly/utils/object-helper","version!fly/utils/url-helper","version!fly/components/modal","version!fly/components/loading"],function(e,t,n){var r=e.support.touch?"vclick":"click";e.widget("fly.modalIframe",e.fly.modal,{options:{url:null,requestData:{},messages:{},loader:{disabled:!1}},messenger:null,_create:function(){this._super(),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.fly.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){if(this.isOpen)return;this.loader.add(),this.loadContent(),this._super()},_getUrl:function(){var t=this.options,n=t.url;return t.requestData&&(n=n+(n.indexOf("?")>0?"&":"?")+e.param(t.requestData)),n},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove()},closeModal:function(){n.close()},scroll:function(t){var r=n.$element.offset().top+t.offset;r-=n.$window.height()/6,e("html, body").animate({scrollTop:r},"fast")}})})}})}),define("translations/loading",["managers/edition"],function(e){var t={en:{loading:"Loading",end:"The End",error:"Error Encountered"},es:{loading:"Cargando",end:"Fin",error:"Error Encontrado"}};return t[e.getLanguage()]}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,n){t=t.init("loading"),e.widget("cnet.loading",e.fly.loading,{options:{classes:{base:"loader",idle:"",loading:"loadingCircle",end:"load-end",error:"load-error"},text:n},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("components/modal-iframe",["jquery","version!fly/managers/debug","version!fly/components/modal-iframe","components/loading"],function(e,t){t=t.init("modalIframe"),e.widget("fly.modalIframe",e.fly.modalIframe,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',loader:{classes:{loading:"loadingCircle"}}},$body:null,_create:function(){this._super(),this.$body=e(document.body),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){if(this.isOpen)return;this.loader.add(),this.loadContent(),this._super(),this.centerHorizontally()},loadContent:function(){var t=this.options,n=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){n._trigger("iframeReady"),n.loader.remove(),setTimeout(n.centerHorizontally.bind(n),250)},closeModal:function(){n.close()}})})},centerHorizontally:function(){this.$element.css("margin-left",-(this.$element.width()/2))},position:function(){var e=this.options,t=this.$window.height(),n=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;n<20&&(n=20),e.position=="absolute"&&(n+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:n}),this._trigger("positioned",null,{$modal:this.$modal})}})}),define("components/user-controller",["jquery","utils/cookie","version!fly/managers/debug","translations/user-controller","managers/device","managers/edition","managers/page-vars","version!fly/utils/string-helper","managers/tealium","utils/urs-helper","version!fly/components/base","components/modal-iframe","urs"],function(e,t,n,r,i,s,o,u,a,f){n=n.init("userController"),e.widget("cnet.userController",e.fly.base,{options:{urls:{login:"/user/login/",register:"/user/registration/",confirmRegistration:"/user/instructions-confirm-registration/",forgotPassword:"/user/forgotten-password/",passwordSent:"/user/password-sent/",createUsername:"/user/create-username/",sendConfirmation:"/user/send-confirmation/?registered=1",userData:"/user/get-data/",flag:"/user/flag/",socialAdditionalInformation:"/user/social-additional-information/"},suppressWhileLoggedIn:[],classLinked:"linked",classUnlinked:"unlinked",textLinked:"Linked to ",textUnlinked:"Unlinked to ",cookieUserRecognized:"urs_social_recognized"},events:{showModal:function(t){this.showModal(t.modal,e.extend(!0,t.params,{appId:this.currentAppId}))},submit:function(){this.modal.loader.add()},submitted:function(){this.modal.loader.remove()},logoutSuccess:function(){a.trackCustomEvent("trackLogout",{ursId:"",userState:"not authenticated",userType:"anon"},"logout")},loginSuccess:function(r){if(r.messages.success){var i=!this.suppressReload;a.trackCustomEvent("trackLogin",{ursId:r.user.registrationId,userState:"authenticated",userType:"registered"},"login"),t.write("previousLogin",r.user.registrationId,{expires:365}),n.log("making immediate post login call to urs for edition"),e.ajax({dataType:"json",url:this.options.urls.userData,async:!1,success:function(e){e.user.edition&&t.write("fly_preferred_edition",e.user.edition,{expires:365});if(e.user.downloadUseInstaller&&(e.user.downloadUseInstaller=="true"||e.user.downloadUseInstaller=="false")&&t.read("killDlm")===null){var n=e.user.downloadUseInstaller=="true"?"no":"yes";t.write("killDlm",n,{expires:7300})}}}),this.userData.userName=r.user.userName,typeof this.nextAction=="function"&&(i=this.nextAction(r),this.nextAction=null),this.modal.close(),i!==!1?window.location.reload():this._loadUserData(),this.$element.trigger("userhasloggedin")}},loginFailure:function(e){e.messages||(this.modal.close(),this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email}))},registerSuccess:function(e){e.messages.success&&(a.trackCustomEvent("trackRegistrationNew",{userRegFormType:"",userRegService:""},"newRegistration"),this.modal.close(),this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email,registered:1}))},registerFailure:function(e){},forgotPasswordSuccess:function(e){e.messages.success&&(this.modal.close(),this.showModal("passwordSent",{appId:this.currentAppId,email:e.email}),a.trackCustomEvent("trackForgotPassword",{},"forgotPassword"))},forgotPasswordFailure:function(e){},createUsernameSuccess:function(e){e.messages.success&&(typeof this.nextAction=="function"&&(this.nextAction(),this.nextAction=null),this.modal.close(),window.location.reload())},createUsernameFailure:function(e){},socialAuthComplete:function(e){this._handleAuthComplete(e.event,e.apiResponse)}},modal:null,isLoggedIn:!1,userData:null,nextAction:null,suppressReload:!1,currentAppId:s.getDefaultAppId(),_create:function(){var t=this;this._setup(),t.options=e.extend(!0,t.options,o.user),e(document).ready(function(){t._cacheBreakLogout(),t._cacheBreakLegacy()}),this._setupEvents(),this._loadUserData(),this._initSocialRecognition()},_setupEvents:function(){var t=this;e.each(this.events,function(e,n){t.events[e]=n.bind(t)}),this.setupButtonEvents(),e('[data-user-action="logout"]').attr("data-user-suppress-refresh")=="true"&&this.$document.on(i.getImmediateClickType(),'[data-user-action="logout"]',function(e){e.preventDefault(),t.ajaxLogOut()})},setupButtonEvents:function(t){var n=this;e("[data-user-show]",t).on(i.getImmediateClickType(),function(t){t.preventDefault();var r=e(this).data("userShow");n.suppressReload=r.suppressReload,r.params.appId&&(n.currentAppId=r.params.appId),o.device=="desktop"?n.showModal(r.action,r.params):n._redirect(r.action,r.params)}),this.$document.on(i.getImmediateClickType(),"[data-user-access]",function(t){t.preventDefault();var r=e(this).data("userAccess");n.hasAccess(r)}),window.URS&&e("[data-user-social]",t).on(i.getImmediateClickType(),function(t){t.preventDefault();var r=e(this).data("userSocial"),i=f.getUrs(f.getSocialAppId(r.params.appId),n._setupSocialEvents.bind(n));n.currentAppId=r.params.appId;if(r.action==="login")i.social.authenticate(r.socialSite);else if(r.action==="register"){var s=e("#user_tos");if(s.length===0||s.prop("checked"))i.social.authenticate(r.socialSite,!0);else{var o=s.closest("form").data("formValidate");o.testField(s)}}})},_setupSocialEvents:function(t){var n=this;t.common.addEventListener(URS.events.AUTH_COMPLETE,this._handleAuthComplete.bind(this)),t.common.addEventListener(URS.events.GET_LINKS_COMPLETE,function(r,s){var o=e.map(s.response.socialLinks,function(e,t){return e.socialSite});e.each(URS.social.sites,function(r,s){var u=e("[data-user-link="+s+"]");u.length>0&&(e.inArray(s,o)>=0?u.removeClass(n.options.classUnlinked).addClass(n.options.classLinked).text(n.options.textLinked+s):u.removeClass(n.options.classLinked).addClass(n.options.classUnlinked).text(n.options.textUnlinked+s),u.on(i.getImmediateClickType(),function(r){e(this).hasClass(n.options.classLinked)?t.social.unlink(s):t.social.link(s)}))})}),t.common.addEventListener(URS.events.LINK_COMPLETE,function(t,r){!r.hasErrors()&&r.response.linked&&e("[data-user-link="+r.response.socialSite+"]").removeClass(n.options.classUnlinked).addClass(n.options.classLinked).text(n.options.textLinked+r.response.socialSite)}),t.common.addEventListener(URS.events.UNLINK_COMPLETE,function(t,r){!r.hasErrors()&&r.response.accountUnlinked&&e("[data-user-link="+r.response.socialSite+"]").removeClass(n.options.classLinked).addClass(n.options.classUnlinked).text(n.options.textUnlinked+r.response.socialSite)})},_handleAuthComplete:function(n,r){var i=this,s=!0;if(r.response.status.errors&&r.response.status.errors.length>0){var u=e.map(r.response.status.errors,function(e,t){return e.applicationCode}),a=u.join(",");if(a.indexOf("invalid.noLink")>=0)this.showModal("register",{appId:this.currentAppId});else if(a.match(/required\.|\.required/)){var f=[];for(var l=0;l<u.length;l++)u[l].match(/required\.|\.required/)&&f.push(u[l].replace(/required\.|\.required/,"").toLowerCase());this.showModal("socialAdditionalInformation",{appId:this.currentAppId,socialSite:"facebook",fields:f.join(",")})}}else t.write(this.options.cookieUserRecognized,JSON.stringify({username:r.response.receipt.account.displayName,socialSite:r.response.socialSite}),{expires:365}),this.userData.userName=r.response.receipt.account.displayName,e.post("/user/social-login/",{email:r.response.receipt.account.emailAddress},function(t){if(t.status==="success"){i.modal!==null&&i.modal.close();if(o.device=="desktop")typeof i.nextAction=="function"&&(s=i.nextAction(r.response.receipt.account),i.nextAction=null),s!==!1&&window.location.reload();else{var n=e('input[name="redirectUrl"]');window.location.href=n.length>0&&n.val().length>0?n.val():"/"}}},"json")},_loadUserData:function(){var n=this;t.read("purs_1")?e.ajax({dataType:"json",url:this.options.urls.userData}).done(function(t){n.isLoggedIn=t.isLoggedIn,n.userData=e.extend(!0,t.user,{isLoggedIn:t.isLoggedIn}),n._updateDisplay();if(n.isLoggedIn){var r=f.getUrs(f.getSocialAppId(s.getDefaultAppId()),n._setupSocialEvents.bind(n));r.social.getLinks()}n.$element.trigger("userdataloaded",[n.userData])}):this.userData={status:"success",isLoggedIn:!1}},_redirect:function(t,n){var r=this.options.urls[t],i=r;n&&(i+=(r.indexOf("?")>0?"&":"?")+e.param(n)),window.location.href=i},_updateDisplay:function(){var t=this,n=e("body");this.isLoggedIn?(e("[data-user-var]").each(function(){var n=e(this),r=n.data("userVar"),i=n.data("userVarAttr"),s=t.userData[r];r==="userName"?(s||(s=t.userData.displayName),s.length>13&&(s=s.substr(0,13)+"...")):r==="profileLink"&&(i="href",s=n.attr("data-template").replace("__username__",t.userData.userName?t.userData.userName.replace(/ /g,"+").toLowerCase():t.userData.registrationId)),s&&(i?n.attr(i,s):r==="avatar"?(n.html('<img src="'+s+'" />'),n.addClass("profilePic")):n.text(s))}),n.addClass("is-logged-in").removeClass("not-logged-in")):n.removeClass("is-logged-in").addClass("not-logged-in")},_cacheBreakLogout:function(){var t=e('[data-user-action="logout"]'),n=(new Date).getTime();t.each(function(t,r){var i=e(r);i.attr("href",i.attr("href")+"?t="+n)})},_cacheBreakLegacy:function(){this.getUserData(function(t,n){if(n.isLoggedIn){var r=e('[data-user-action="legacy"]'),i=(new Date).getTime();r.each(function(t,n){var r=e(n);r.attr("href",r.attr("href")+"?t="+i)})}})},ajaxLogOut:function(){var t=this;e.ajax({url:e('[data-user-action="logout"]').attr("href"),success:function(n){t.isLoggedIn=!1,t.userData={status:"success",isLoggedIn:!1},t._updateDisplay(),e('[data-user-var="userName"]').text(r.loginText),e('[data-user-var="avatar"]').removeClass("profilePic"),e('[data-user-var="avatar"] img').remove(),t.$element.trigger("userhasloggedout")}})},_initSocialRecognition:function(){var n=this,r=JSON.parse(t.read(this.options.cookieUserRecognized)),s=e(".unrecognized"),o=e(".recognized");r?(s.hide(),o.show(),e("[data-user-template]",o).each(function(t,n){var i=e(n);i.data("userTemplate")==="name"&&i.text(r.username)}),e("[data-user-social]",o).each(function(t,n){var i=e(n),s=i.data("userSocial");i.data("userSocial",e.extend(!0,s,{socialSite:r.socialSite})),i.addClass(r.socialSite),e(".logo",i).text(r.socialSite)}),e("[data-user-action]",o).on(i.getImmediateClickType(),function(t){e(this).data("userAction")==="differentNetwork"&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),o.hide(),s.show())})):(s.show(),o.hide())},showModal:function(t,n){this.modal&&this.modal.isOpen&&this.modal.close(),this.modal=e.fly.modalIframe(e.extend(!0,{},this.options.modalIframe,{url:this.options.urls[t],requestData:e.extend(n||{},{ifmsgr:!0,path:window.location.href}),messages:this.events,classModal:"modal modal-authentication"})),this.modal.$element.addClass("modal-"+u.fromCamelCase(t)),this.isLoggedIn&&e.inArray(t,this.options.suppressWhileLoggedIn)>=0||this.modal.open()},hasAccess:function(t){var n=this;t=e.extend(!0,{requireUsername:!1,nextAction:e.noop,eCode:"",forceRegistration:!1},t),t.appId&&(this.currentAppId=t.appId),this.getUserData(function(e,r){(!r||!n.isLoggedIn)&&t.forceRegistration?o.device=="desktop"?(n.nextAction=t.nextAction,n.showModal("register",{appId:t.appId,eCode:t.eCode})):n._redirect("register",{appId:t.appId}):!r||!n.isLoggedIn?o.device=="desktop"?(n.nextAction=t.nextAction,n.showModal("login",{appId:t.appId})):n._redirect("login",{appId:t.appId}):t.requireUsername&&!r.userName?o.device=="desktop"?(n.nextAction=t.nextAction,n.showModal("createUsername",{appId:t.appId})):n._redirect("createUsername",{appId:t.appId}):t.nextAction(r)})},getUserData:function(e){this.userData?e(null,this.userData):this.$element.on("userdataloaded",e)}})}),define("translations/user-form",["managers/edition"],function(e){var t={en:{globalError:"We are having technical difficulties. Please try again."},es:{globalError:"Estamos experimentando fallas técnicas. Por favor intenta de nuevo."}};return t[e.getLanguage()]}),function(e,t,n,r,i,s){function w(e,t){var n=typeof e[t];return n=="function"||n=="object"&&!!e[t]||n=="unknown"}function E(e,t){return typeof e[t]=="object"&&!!e[t]}function S(e){return Object.prototype.toString.call(e)==="[object Array]"}function x(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!q(navigator.plugins)&&typeof navigator.plugins[e]=="object"){var n=navigator.plugins[e].description;n&&!q(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(y=n.match(/\d+/g))}if(!y){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),y=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(i){}}if(!y)return!1;var s=parseInt(y[0],10),o=parseInt(y[1],10);return b=s>9&&o>0,!0}function A(){if(C)return;C=!0;for(var e=0;e<k.length;e++)k[e]();k.length=0}function M(e,t){if(C){e.call(t);return}k.push(function(){e.call(t)})}function _(){var e=parent;if(h!=="")for(var t=0,n=h.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function D(t){return e.easyXDM=d,h=t,h&&(v="easyXDM_"+h.replace(".","_")+"_"),p}function P(e){return e.match(f)[3]}function H(e){return e.match(f)[4]||""}function B(e){var t=e.toLowerCase().match(f),n=t[2],r=t[3],i=t[4]||"";if(n=="http:"&&i==":80"||n=="https:"&&i==":443")i="";return n+"//"+r+i}function j(e){e=e.replace(c,"$1/");if(!e.match(/^(http||https):\/\//)){var t=e.substring(0,1)==="/"?"":n.pathname;t.substring(t.length-1)!=="/"&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}while(l.test(e))e=e.replace(l,"");return e}function F(e,t){var n="",r=e.indexOf("#");r!==-1&&(n=e.substring(r),e=e.substring(0,r));var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o+"="+s(t[o]));return e+(g?"#":e.indexOf("?")==-1?"?":"&")+i.join("&")+n}function q(e){return typeof e=="undefined"}function U(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],typeof r=="object"?U(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function z(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=v+"TEST"+u,m=n!==e.elements[n.name],t.body.removeChild(e)}function W(e){q(m)&&z();var n;m?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,typeof e.container=="string"&&(e.container=t.getElementById(e.container)),e.container||(U(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;e.props.src="javascript:false",U(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&T(n,"load",e.onLoad);if(e.usePost){var i=e.container.appendChild(t.createElement("form")),s;i.target=n.name,i.action=r,i.method="POST";if(typeof e.usePost=="object")for(var o in e.usePost)e.usePost.hasOwnProperty(o)&&(m?s=t.createElement('<input name="'+o+'"/>'):(s=t.createElement("INPUT"),s.name=o),s.value=e.usePost[o],i.appendChild(s));i.submit(),i.parentNode.removeChild(i)}else n.src=r;return e.props.src=r,n}function X(e,t){typeof e=="string"&&(e=[e]);var n,r=e.length;while(r--){n=e[r],n=new RegExp(n.substr(0,1)=="^"?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(n.test(t))return!0}return!1}function V(r){var i=r.protocol,s;r.isHost=r.isHost||q(I.xdm_p),g=r.hash||!1,r.props||(r.props={});if(!r.isHost){r.channel=I.xdm_c.replace(/["'<>\\]/g,""),r.secret=I.xdm_s,r.remote=I.xdm_e.replace(/["'<>\\]/g,""),i=I.xdm_p;if(r.acl&&!X(r.acl,r.remote))throw new Error("Access denied for "+r.remote)}else r.remote=j(r.remote),r.channel=r.channel||"default"+u++,r.secret=Math.random().toString(16).substring(2),q(i)&&(B(n.href)==B(r.remote)?i="4":w(e,"postMessage")||w(t,"postMessage")?i="1":r.swf&&w(e,"ActiveXObject")&&x()?i="6":navigator.product==="Gecko"&&"frameElement"in e&&navigator.userAgent.indexOf("WebKit")==-1?i="5":r.remoteHelper?i="2":i="0");r.protocol=i;switch(i){case"0":U(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0);if(r.isHost){if(!r.local){var o=n.protocol+"//"+n.host,a=t.body.getElementsByTagName("img"),f,l=a.length;while(l--){f=a[l];if(f.src.substring(0,o.length)===o){r.local=f.src;break}}r.local||(r.local=e)}var c={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,c.xdm_e=r.local,c.xdm_pa=1):c.xdm_e=j(r.local),r.container&&(r.useResize=!1,c.xdm_po=1),r.remote=F(r.remote,c)}else U(r,{channel:I.xdm_c,remote:I.xdm_e,useParent:!q(I.xdm_pa),usePolling:!q(I.xdm_po),useResize:r.useParent?!1:r.useResize});s=[new p.stack.HashTransport(r),new p.stack.ReliableBehavior({}),new p.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new p.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":s=[new p.stack.PostMessageTransport(r)];break;case"2":r.isHost&&(r.remoteHelper=j(r.remoteHelper)),s=[new p.stack.NameTransport(r),new p.stack.QueueBehavior,new p.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":s=[new p.stack.NixTransport(r)];break;case"4":s=[new p.stack.SameOriginTransport(r)];break;case"5":s=[new p.stack.FrameElementTransport(r)];break;case"6":y||x(),s=[new p.stack.FlashTransport(r)]}return s.push(new p.stack.QueueBehavior({lazy:r.lazy,remove:!0})),s}function $(e){var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var r=0,i=e.length;r<i;r++)t=e[r],U(t,n,!0),r!==0&&(t.down=e[r-1]),r!==i-1&&(t.up=e[r+1]);return t}function J(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var o=this,u=Math.floor(Math.random()*1e4),a=Function.prototype,f=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,l=/[\-\w]+\/\.\.\//,c=/([^:])\/\//g,h="",p={},d=e.easyXDM,v="easyXDM_",m,g=!1,y,b,T,N;if(w(e,"addEventListener"))T=function(e,t,n){e.addEventListener(t,n,!1)},N=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!w(e,"attachEvent"))throw new Error("Browser not supported");T=function(e,t,n){e.attachEvent("on"+t,n)},N=function(e,t,n){e.detachEvent("on"+t,n)}}var C=!1,k=[],L;"readyState"in t?(L=t.readyState,C=L=="complete"||~navigator.userAgent.indexOf("AppleWebKit/")&&(L=="loaded"||L=="interactive")):C=!!t.body;if(!C){if(w(e,"addEventListener"))T(t,"DOMContentLoaded",A);else{T(t,"readystatechange",function(){t.readyState=="complete"&&A()});if(t.documentElement.doScroll&&e===top){var O=function(){if(C)return;try{t.documentElement.doScroll("left")}catch(e){r(O,1);return}A()};O()}}T(e,"load",A)}var I=function(e){e=e.substring(1).split("&");var t={},n,r=e.length;while(r--)n=e[r].split("="),t[n[0]]=i(n[1]);return t}(/xdm_e=/.test(n.search)?n.search:n.hash),R=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return typeof JSON!="undefined"&&typeof JSON.stringify=="function"&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),typeof String.prototype.evalJSON=="function"&&(t=n.evalJSON(),t.a&&t.a.length===3&&t.a[2]===3&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(R=function(){return e},e):null)};U(p,{version:"2.4.19.3",query:I,stack:{},apply:U,getJSONObject:R,whenReady:M,noConflict:D}),p.DomHelper={on:T,un:N,requiresJSON:function(n){E(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"><'+"/script>")}},function(){var e={};p.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(!e.hasOwnProperty(t))return;var r=e[t];return n&&delete e[t],r}}}(),p.Socket=function(e){var t=$(V(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=B(e.remote);this.origin=B(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},p.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];typeof r=="function"&&(t.local[n]={method:r})}var i=$(V(e).concat([new p.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=B(e.remote),this.destroy=function(){i.destroy()},i.init()},p.stack.SameOriginTransport=function(e){var t,i,s,o;return t={outgoing:function(e,t,n){s(e),n&&n()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){o=B(e.remote),e.isHost?(U(e.props,{src:F(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:v+e.channel+"_provider"}),i=W(e),p.Fn.set(e.channel,function(e){return s=e,r(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,o)}})):(s=_().Fn.get(e.channel,!1)(function(e){t.up.incoming(e,o)}),r(function(){t.up.callback(!0)},0))},init:function(){M(t.onDOMReady,t)}}},p.stack.FlashTransport=function(e){function d(e,t){r(function(){i.up.incoming(e,f)},0)}function m(n){var r=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(Math.random()*1e4);p.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){p.stack.FlashTransport[n].swf=l=c.firstChild;var e=p.stack.FlashTransport[n].queue;for(var t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?c=typeof e.swfContainer=="string"?t.getElementById(e.swfContainer):e.swfContainer:(c=t.createElement("div"),U(c.style,b&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(c));var u="callback=flash_loaded"+s(n.replace(/[\-.]/g,"_"))+"&proto="+o.location.protocol+"&domain="+s(P(o.location.href))+"&port="+s(H(o.location.href))+"&ns="+s(h);c.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+r+"'>"+"<param name='allowScriptAccess' value='always'></param>"+"<param name='wmode' value='transparent'>"+"<param name='movie' value='"+r+"'></param>"+"<param name='flashvars' value='"+u+"'></param>"+"<embed type='application/x-shockwave-flash' FlashVars='"+u+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed>"+"</object>"}var i,u,a,f,l,c;return i={outgoing:function(t,n,r){l.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){try{l.destroyChannel(e.channel)}catch(t){}l=null,u&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){f=e.remote,p.Fn.set("flash_"+e.channel+"_init",function(){r(function(){i.up.callback(!0)})}),p.Fn.set("flash_"+e.channel+"_onMessage",d),e.swf=j(e.swf);var t=P(e.swf),s=function(){p.stack.FlashTransport[t].init=!0,l=p.stack.FlashTransport[t].swf,l.createChannel(e.channel,e.secret,B(e.remote),e.isHost),e.isHost&&(b&&e.swfNoThrottle&&U(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),U(e.props,{src:F(e.remote,{xdm_e:B(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:v+e.channel+"_provider"}),u=W(e))};p.stack.FlashTransport[t]&&p.stack.FlashTransport[t].init?s():p.stack.FlashTransport[t]?p.stack.FlashTransport[t].queue.push(s):(p.stack.FlashTransport[t]={queue:[s]},m(t))},init:function(){M(i.onDOMReady,i)}}},p.stack.PostMessageTransport=function(t){function a(e){if(e.origin)return B(e.origin);if(e.uri)return B(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function f(e){var n=a(e);n==u&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&i.up.incoming(e.data.substring(t.channel.length+1),n)}var i,s,o,u;return i={outgoing:function(e,n,r){o.postMessage(t.channel+" "+e,n||u),r&&r()},destroy:function(){N(e,"message",f),s&&(o=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){u=B(t.remote);if(t.isHost){var a=function(n){n.data==t.channel+"-ready"&&(o="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,N(e,"message",a),T(e,"message",f),r(function(){i.up.callback(!0)},0))};T(e,"message",a),U(t.props,{src:F(t.remote,{xdm_e:B(n.href),xdm_c:t.channel,xdm_p:1}),name:v+t.channel+"_provider"}),s=W(t)}else T(e,"message",f),o="postMessage"in e.parent?e.parent:e.parent.document,o.postMessage(t.channel+"-ready",u),r(function(){i.up.callback(!0)},0)},init:function(){M(i.onDOMReady,i)}}},p.stack.FrameElementTransport=function(i){var s,o,u,a;return s={outgoing:function(e,t,n){u.call(this,e),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){a=B(i.remote),i.isHost?(U(i.props,{src:F(i.remote,{xdm_e:B(n.href),xdm_c:i.channel,xdm_p:5}),name:v+i.channel+"_provider"}),o=W(i),o.fn=function(e){return delete o.fn,u=e,r(function(){s.up.callback(!0)},0),function(e){s.up.incoming(e,a)}}):(t.referrer&&B(t.referrer)!=I.xdm_e&&(e.top.location=I.xdm_e),u=e.frameElement.fn(function(e){s.up.incoming(e,a)}),s.up.callback(!0))},init:function(){M(s.onDOMReady,s)}}},p.stack.NameTransport=function(e){function l(t){var r=e.remoteHelper+(n?"#_3":"#_2")+e.channel;i.contentWindow.sendMessage(t,r)}function c(){n?(++o===2||!n)&&t.up.callback(!0):(l("ready"),t.up.callback(!0))}function h(e){t.up.incoming(e,a)}function d(){u&&r(function(){u(!0)},0)}var t,n,i,s,o,u,a,f;return t={outgoing:function(e,t,n){u=n,l(e)},destroy:function(){i.parentNode.removeChild(i),i=null,n&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){n=e.isHost,o=0,a=B(e.remote),e.local=j(e.local),n?(p.Fn.set(e.channel,function(t){n&&t==="ready"&&(p.Fn.set(e.channel,h),c())}),f=F(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),U(e.props,{src:f+"#"+e.channel,name:v+e.channel+"_provider"}),s=W(e)):(e.remoteHelper=e.remote,p.Fn.set(e.channel,h));var t=function(){var n=i||this;N(n,"load",t),p.Fn.set(e.channel+"_load",d),function s(){typeof n.contentWindow.sendMessage=="function"?c():r(s,50)}()};i=W({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){M(t.onDOMReady,t)}}},p.stack.HashTransport=function(t){function d(e){if(!c)return;var n=t.remote+"#"+f++ +"_"+e;(s||!h?c.contentWindow:c).location=n}function m(e){a=e,n.up.incoming(a.substring(a.indexOf("_")+1),p)}function g(){if(!l)return;var e=l.location.href,t="",n=e.indexOf("#");n!=-1&&(t=e.substring(n)),t&&t!=a&&m(t)}function y(){o=setInterval(g,u)}var n,i=this,s,o,u,a,f,l,c,h,p;return n={outgoing:function(e,t){d(e)},destroy:function(){e.clearInterval(o),(s||!h)&&c.parentNode.removeChild(c),c=null},onDOMReady:function(){s=t.isHost,u=t.interval,a="#"+t.channel,f=0,h=t.useParent,p=B(t.remote);if(s){U(t.props,{src:t.remote,name:v+t.channel+"_provider"});if(h)t.onLoad=function(){l=e,y(),n.up.callback(!0)};else{var i=0,o=t.delay/50;(function d(){if(++i>o)throw new Error("Unable to reference listenerwindow");try{l=c.contentWindow.frames[v+t.channel+"_consumer"]}catch(e){}l?(y(),n.up.callback(!0)):r(d,50)})()}c=W(t)}else l=e,y(),h?(c=parent,n.up.callback(!0)):(U(t,{props:{src:t.remote+"#"+t.channel+new Date,name:v+t.channel+"_consumer"},onLoad:function(){n.up.callback(!0)}}),c=W(t))},init:function(){M(n.onDOMReady,n)}}},p.stack.ReliableBehavior=function(e){var t,n,r=0,i=0,s="";return t={incoming:function(e,o){var u=e.indexOf("_"),a=e.substring(0,u).split(",");e=e.substring(u+1),a[0]==r&&(s="",n&&n(!0)),e.length>0&&(t.down.outgoing(a[1]+","+r+"_"+s,o),i!=a[1]&&(i=a[1],t.up.incoming(e,o)))},outgoing:function(e,o,u){s=e,n=u,t.down.outgoing(i+","+ ++r+"_"+e,o)}}},p.stack.QueueBehavior=function(e){function h(){if(e.remove&&n.length===0){J(t);return}if(o||n.length===0||a)return;o=!0;var i=n.shift();t.down.outgoing(i.data,i.origin,function(e){o=!1,i.callback&&r(function(){i.callback(e)},0),h()})}var t,n=[],o=!0,u="",a,f=0,l=!1,c=!1;return t={init:function(){q(e)&&(e={}),e.maxLength&&(f=e.maxLength,c=!0),e.lazy?l=!0:t.down.init()},callback:function(e){o=!1;var n=t.up;h(),n.callback(e)},incoming:function(n,r){if(c){var s=n.indexOf("_"),o=parseInt(n.substring(0,s),10);u+=n.substring(s+1),o===0&&(e.encode&&(u=i(u)),t.up.incoming(u,r),u="")}else t.up.incoming(n,r)},outgoing:function(r,i,o){e.encode&&(r=s(r));var u=[],a;if(c){while(r.length!==0)a=r.substring(0,f),r=r.substring(a.length),u.push(a);while(a=u.shift())n.push({data:u.length+"_"+a,origin:i,callback:u.length===0?o:null})}else n.push({data:r,origin:i,callback:o});l?t.down.init():h()},destroy:function(){a=!0,t.down.destroy()}}},p.stack.VerifyBehavior=function(e){function s(){n=Math.random().toString(16).substring(2),t.down.outgoing(n)}var t,n,r,i=!1;return t={incoming:function(i,o){var u=i.indexOf("_");u===-1?i===n?t.up.callback(!0):r||(r=i,e.initiate||s(),t.down.outgoing(i)):i.substring(0,u)===r&&t.up.incoming(i.substring(u+1),o)},outgoing:function(e,r,i){t.down.outgoing(n+"_"+e,r,i)},callback:function(t){e.initiate&&s()}}},p.stack.RpcBehavior=function(e,t){function o(e){e.jsonrpc="2.0",n.down.outgoing(r.stringify(e))}function u(e,t){var n=Array.prototype.slice;return function(){var r=arguments.length,u,a={method:t};r>0&&typeof arguments[r-1]=="function"?(r>1&&typeof arguments[r-2]=="function"?(u={success:arguments[r-2],error:arguments[r-1]},a.params=n.call(arguments,0,r-2)):(u={success:arguments[r-1]},a.params=n.call(arguments,0,r-1)),s[""+ ++i]=u,a.id=i):a.params=n.call(arguments,0),e.namedParams&&a.params.length===1&&(a.params=a.params[0]),o(a)}}function f(e,t,n,r){if(!n){t&&o({id:t,error:{code:-32601,message:"Procedure not found."}});return}var i,s;t?(i=function(e){i=a,o({id:t,result:e})},s=function(e,n){s=a;var r={id:t,error:{code:-32099,message:e}};n&&(r.error.data=n),o(r)}):i=s=a,S(r)||(r=[r]);try{var u=n.method.apply(n.scope,r.concat([i,s]));q(u)||i(u)}catch(f){s(f.message)}}var n,r=t.serializer||R(),i=0,s={};return n={incoming:function(e,n){var i=r.parse(e);if(i.method)t.handle?t.handle(i,o):f(i.method,i.id,t.local[i.method],i.params);else{var u=s[i.id];i.error?u.error&&u.error(i.error):u.success&&u.success(i.result),delete s[i.id]}},init:function(){if(t.remote)for(var r in t.remote)t.remote.hasOwnProperty(r)&&(e[r]=u(t.remote[r],r));n.down.init()},destroy:function(){for(var r in t.remote)t.remote.hasOwnProperty(r)&&e.hasOwnProperty(r)&&delete e[r];n.down.destroy()}}},o.easyXDM=p}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),define("fly/libs/easy-xdm-2.4.19.3",[],function(){}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,n,r,i){function u(){function f(){o=+(new Date),r.apply(e,a)}function l(){s=undefined}var e=this,u=+(new Date)-o,a=arguments;i&&!s&&f(),s&&clearTimeout(s),i===undefined&&u>t?f():n!==!0&&(s=setTimeout(i?l:f,i===undefined?t-u:t))}var s,o=0;return typeof n!="boolean"&&(i=r,r=n,n=undefined),e.guid&&(u.guid=r.guid=r.guid||e.guid++),u},e.debounce=function(e,n,r){return r===undefined?t(e,n,!1):t(e,r,n!==!1)}}),define("fly/components/iframe-messenger-1.0",["jquery","version!fly/utils/url-helper","version!fly/managers/debug","version!fly/components/base","version!fly/libs/easy-xdm","version!fly/libs/jquery.throttle-debounce"],function(e,t,n){window.fly=window.fly||{},window.fly.easyXDM=easyXDM.noConflict("fly");var r=n.get("iframeMessenger");e.widget("fly.iframeMessenger",e.fly.base,{options:{remoteUrl:null,resizeOnReady:!0,receivableMessages:{}},isProvider:null,_create:function(){var n=this,r=this.options;this._setup(),this.isProvider=t.getParam("xdm_e")?!0:!1,r.remoteUrl?this.socket=new window.fly.easyXDM.Socket({remote:r.remoteUrl,container:this.$element[0],onMessage:e.proxy(this._onMessage,this)}):this.isProvider&&(this.socket=new window.fly.easyXDM.Socket({isHost:!1,onReady:e.proxy(this._onReady,this),onMessage:e.proxy(this._onMessage,this)}),this.$document.on("displayChange",function(){n.postMessage("resize")}))},_initWindowResize:function(){var t=this,n=e(window);this.width=n.width(),n.resize(e.throttle(150,function(){var n=e(window).width();t.width!==n&&(t.postMessage("resize"),t.width=n)}))},_onReady:function(){this.postMessage("ready",null,!0),this._initWindowResize()},_onMessage:function(e,t){var n=this.options,i;e=JSON.parse(e)||{},!this.isProvider&&e.size&&e.size.height&&(i=this.$element.find("iframe"),e.name==="ready"?(i.animate({height:e.size.height},"fast"),this.$element.height(e.size.height)):(this.$element.height(e.size.height),i.height(e.size.height))),r.log("messageRecieved: ",e,"handler: ",n.receivableMessages[e.name]),n.receivableMessages[e.name]&&n.receivableMessages[e.name](e.data,t)},postMessage:function(t,n,i){i=i||!1;var s=this,o=(i||t==="resize")&&this.isProvider?!0:!1,u={name:t,data:n},a;s.socket&&(o&&e.extend(!0,u,{size:{height:e(document.body).height()}}),a=JSON.stringify(u),r.log("postMessage: ",a),s.socket.postMessage(a))}})}),define("translations/form-validate",["managers/edition"],function(e){var t={en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"Este email esta en uso.  Elige otro.",availableUsername:"This user name is already in use. Please choose another.",minlength:"This field must be at least {minlength} characters",maxlength:"This field must be no more than {maxlength} characters",email:"E-mail format invalid.",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be at least 3 and no more than 25 characters.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"},es:{required:{field:"Campo requerido",radio:"One of these fields is required"},availableEmail:"This e-mail address is already in use. Please choose another.",availableUsername:"Este nombre de usuario ya esta en uso.",minlength:"Este campo debe tener al menos {minlength} caracteres",maxlength:"This field must be no more than {maxlength} characters",email:"Por favor escribe un email válido.  Ejemplo:  johndoe@mail.com",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Por favor, usa solamente caracteres alfanuméricos, guiones bajos "_", y guiones "-"',usernameCharacterLength:"Tu nombre de usuario debe tener un mínimo de 3 caracteres y un máximo de 25.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"}};return t[e.getLanguage()]}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,n,r){var i=e.support.touch?"vclick":"click",s=r.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){var t,n;return e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),t.is(":checked")):(n=e.is(":checkbox")?e.is(":checked"):e.val(),n?!0:!1)}},mailcheck:{type:"warning",message:null,test:function(e,t){var n=this,r=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(s,o){n.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+o.domain+"</a>?",r.on(i+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(o.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){r.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var n=e('input[name="'+t.data("validate-equal-to")+'"]');return n.length&&t.val()===n.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t,n={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(n["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",n["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",n["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,n))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0;if(this.isFormValid)return;e.preventDefault(),e.stopImmediatePropagation(),this.validate()},_handleFocusOut:function(t){var n=e(t.target);n.attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var n=e(t.target);this.isFormValid=!1;if(this.wasSubmitted||n.data("_enabled"))n.data("_passed",!1),this.testField(n)},getRule:function(e){return typeof this.rules[e]!="undefined"?this.rules[e]:!1},getRulesToValidate:function(t){var n=this,r=t.data("validate")||[],i=e.isArray(r)?r:r.split(" ");return e.each(this.options.attributes,function(e,n){t.attr(n)&&i.unshift(n)}),e.grep(i,function(e,t){return n.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){this.getRule(e)!==!1&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var n=this,r=[],i,o=t.data()||{},u=o.error||{},a=e.Deferred();return o._passed?(a.resolve(),a.promise()):(this.setFieldDelegate(t),o.remoteRequest&&o.remoteRequest.abort(),i=this.getRulesToValidate(t),s.log("test field: ",t," w/ rules:",i),e.each(i,function(i,o){var a=n.getRule(o),f=!0,l=a.remote?!0:!1,c=null,h;l&&(c=a.remoteUrl||t.data("remoteUrl"),n.removeError(t)),h=function(){var r=e.Deferred(),i=null;return l?i=n.requestRemote(c,t,o,r):i=a.test(t,r),i===!1?(f=!1,r.reject(o)):i===!0&&r.resolve(o),r.promise()},h=h(),r.push(h),e.when(h).fail(function(){s.log("rule failed: ",o,t)}).then(function(){u.name===o&&n.removeError(t),s.log("rule passed: ",o,t)});if(!f)return!1}),e.when.apply(null,r).fail(function(e){var r=n.getRule(e),i=r.type?r.type:"error",o=t.data(),u=o.error||{};o.remoteTimeout&&clearTimeout(o.remoteTimeout),o.remoteRequest&&o.remoteRequest.abort(),u.message!=n.getMessage(e,t)&&(n.removeError(t),n.addInlineError(t,e)),i!=="error"?(a.resolve(),s.log("field passed: ",t," type: ",i)):(a.reject(),s.log("field failed: ",t))}).then(function(){t.data("_passed",!0),n.removeError(t),a.resolve(),s.log("field passed: ",t)}),a.promise())},requestRemote:function(t,n,r,i){var s={},o=null,u=null,a=n.data()||{};a.remoteTimeout&&(clearTimeout(a.remoteTimeout),a.remoteQueue.resolve(r)),s[n.attr("name")]=n.val(),u=setTimeout(function(){o=e.ajax({type:"POST",dataType:"json",url:t,data:s,timeout:5e3,success:function(t){switch(t){case!0:i.resolve(r);break;case!1:i.reject(r);break;default:e.isPlainObject(t)&&t.status?t.status==="success"?i.resolve(r):i.reject(r):i.resolve(r)}},complete:function(){n.data("remoteRequest",null)},error:function(e,t){i.resolve(r),n.data("_passed",!1)}}),n.data({remoteRequest:o,remoteQueue:null,remoteTimeout:null})},300),n.data({remoteQueue:i,remoteTimeout:u})},validate:function(){var t=this.options,n=this,r=[];if(this.isWorking)return;if(this._trigger("validate")===!1)return;this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);r.push(n.testField(t))}),e.when.apply(null,r).fail(function(){s.log("validate failed"),n._trigger("failure",null,{$form:n.$form}),t.scrollToErrors&&n.scrollToErrors()}).then(function(){s.log("validate success"),n.isFormValid=!0,n._trigger("success",null,{$form:n.$form}),n.isFormValid=!1}).always(function(){n._trigger("validated"),n.isWorking=!1})},scrollToErrors:function(){var t=this.options,n=this.$form.find("[data-validate-error]").first(),r=n.closest(t.fieldSelector),i=(r.length?r:n).offset().top;if(this._trigger("scroll",null,{offset:i})===!1)return;i-=this.$window.height()/6,e("html, body").animate({scrollTop:i},"fast")},removeError:function(t){t=t.data("_field_delegate")||t;var n=this,r=this.options,i=t.data("error");if(!i)return;r.animation==="slide"?i.$error.slideUp("fast",function(){e(this).remove(),n._completeRemoveError(i,t)}):(t.remove(),this._completeRemoveError(i,t)),t.removeClass(i.fieldClass).removeData("error")},getMessage:function(t,n){var r=this.getRule(t),i=n.data("validate-message-"+t)||n.data("validate-message-"+t.toLowerCase());return!i&&i!==!1&&(i=e.isFunction(r.message)?r.message(n):r.message),i},addInlineError:function(t,r){t=t.data("_field_delegate")||t;var i=this,s=this.options,o=t.data("error")||{},u,a,f,l,c={name:r,position:"inline"};if(o.type==="error")return;f=this.getMessage(r,t),u=this.getRule(r),a=u.type||"error",l=n.compile(s.inlineErrorTemplate,{type:a,id:t.attr("id"),message:f}),e.extend(c,{type:a,message:f,$error:e(l).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:a})}),t.addClass(c.fieldClass).data("error",c),f!==!1&&(s.animation==="slide"?(c.$error=e("<div />").wrapInner(c.$error),c.$error.hide(),s.placeError.call(this,c.$error,t),c.$error.slideDown("fast",function(){i._completeAddError(c,t)})):(s.placeError.call(this,c.$error,t),this._completeAddError(c,t)))},addGlobalError:function(t,r){r=r||"error";var i=this,s=this.options,o,u={position:"global",type:r,message:t};o=n.compile(s.globalErrorTemplate,{type:r,message:t}),e.extend(u,{$error:e(o).attr("data-validate-error",!0)}),s.animation==="slide"?(u.$error=e("<div />").wrapInner(u.$error),u.$error.hide().prependTo(this.$form).slideDown("fast",function(){i._completeAddError(u)})):(this.$form.prepend(u.$error),this._completeAddError(u)),this.globalErrors.push(u)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,n){n.$error.remove(),t._completeRemoveError(n)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var n=e(this),r=n.data();r.error&&t.removeError(n),r.remoteRequest&&r.remoteRequest.abort()})},_completeAddError:function(t,n){this._trigger("errorAdded",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,n){this._trigger("errorRemoved",null,e.extend(t,{$field:n})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/components/form-validate"],function(e,t,n,r){t=t.init("formValidate"),e.widget("cnet.formValidate",e.fly.formValidate,{rules:{required:{message:function(e){return e.is(":radio")?n.required.radio:n.required.field}},mailcheck:{message:null},availableEmail:{message:n.availableEmail},availableUsername:{message:n.availableUsername},minlength:{message:function(e){return r.compile(n.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return r.compile(n.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:n.email},noUrl:{message:n.noUrl},noSpecialCharacters:{message:n.noSpecialCharacters},equalTo:{message:n.equalTo},usernameSpecialCharacters:{message:n.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:n.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&t<=25}},atLeastOneAlphanumeric:{message:n.atLeastOneAlphanumeric,test:function(e){return/.*[a-z0-9]+.*/i.test(e.val())}}},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var i=this,s=this.options,o=t.data("error")||{},u,a,f,l,c={name:n,position:"inline"};if(o.type==="error")return;f=this.getMessage(n,t),u=this.getRule(n),a=u.type||"error",l=r.compile(s.inlineErrorTemplate,{type:a,id:t.attr("id"),message:f}),e.extend(c,{type:a,message:f,$error:e(l).attr("data-validate-error",!0),fieldClass:r.compile(this.options.classFieldStatus,{type:a})}),t.addClass(c.fieldClass).data("error",c),f!==!1&&(s.animation==="slide"?(c.$error=e("<div />").wrapInner(c.$error),s.placeError.call(this,c.$error,t)):(s.placeError.call(this,c.$error,t),this._completeAddError(c,t)))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this,n=this.options,r=e.data("error");if(!r)return;n.animation==="slide"?r.$error.remove():(e.remove(),this._completeRemoveError(r,e)),e.removeClass(r.fieldClass).removeData("error")}})}),define("components/user-form",["jquery","utils/cookie","version!fly/managers/debug","translations/user-form","utils/urs-helper","version!fly/components/base","version!fly/components/iframe-messenger","components/form-validate","urs"],function(e,t,n,r,i){n=n.init("userForm"),e.widget("cnet.userForm",e.fly.base,{options:{cookieUserRecognized:"urs_social_recognized"},messenger:e.fly.iframeMessenger(),_create:function(){var t=this;this._setup(),this._initSocialRecognition(),e(document).ready(function(){t._setupEvents(),t._initForm()})},_setupEvents:function(){var t=this;e("[data-user-show]").on("click",function(n){n.preventDefault();var r=e(this).data("userShow");t.messenger.postMessage("showModal",{modal:r.action,params:r.params})}),e("[data-user-social]").on("click",function(n){n.preventDefault();var r=e(this).data("userSocial"),s=i.getUrs(i.getSocialAppId(r.params.appId),t._setupSocialEvents.bind(t));if(r.action==="login")s.social.authenticate(r.socialSite);else if(r.action==="register"){var o=e("#user_tos");if(o.length===0||o.prop("checked"))s.social.authenticate(r.socialSite,!0);else{var u=e("form").data("formValidate");u.testField(o)}}})},_setupSocialEvents:function(e){var t=this;e.common.addEventListener(URS.events.AUTH_COMPLETE,function(e,n){delete e.target,t.messenger.postMessage("socialAuthComplete",{event:e,apiResponse:n})})},_initForm:function(){var t=this,n=e("form").first(),s=n.data("user-submit");n.formValidate({validateOnChange:!1,success:function(o){o.preventDefault();var u=n.data("formValidate"),a=n.serializeArray();t.messenger.postMessage("submit",{action:s});if(n.attr("id")==="social-additional-information"){var f=null,l=null,c={};for(var h=0;h<a.length;h++)a[h].name==="appId"?f=a[h].value:a[h].name!=="redirectUrl"&&(a[h].name==="socialSite"?l=a[h].value:c[a[h].name]=a[h].value);if(f&&l){var p=i.getUrs(i.getSocialAppId(f),t._setupSocialEvents.bind(t));p.social.authenticate(l,!0,c)}}else a.push({name:"viewType",value:"json"}),e.ajax({url:n.attr("action"),data:e.param(a),type:"POST"}).done(function(n){n=n||{},n.status==="success"?t.messenger.postMessage(s+"Success",n):n.status==="failure"&&(n.messages&&n.messages.error&&e.each(n.messages.error.reverse(),function(e,t){u.addGlobalError(t,"error")}),t.messenger.postMessage(s+"Failure",n))}).fail(function(e,n){u.addGlobalError(r.globalError,"error"),t.messenger.postMessage(s+"LoadFailure",e)}).always(function(){t.messenger.postMessage("submitted",{action:s}),t.messenger.postMessage(s+"Submitted")})},failure:function(e){t.messenger.postMessage("validation_failed",{},!0)}})},_initSocialRecognition:function(){var n=this,r=JSON.parse(t.read(this.options.cookieUserRecognized)),i=e(".unrecognized"),s=e(".recognized");r?(i.hide(),s.show(),e("[data-user-template]",s).each(function(t,n){var i=e(n);i.data("userTemplate")==="name"&&i.text(r.username)}),e("[data-user-social]",s).each(function(t,n){var i=e(n),s=i.data("userSocial");i.data("userSocial",e.extend(!0,s,{socialSite:r.socialSite})),i.addClass(r.socialSite),e(".logo",i).text(r.socialSite)}),e("[data-user-action]",s).on("click",function(t){e(this).data("userAction")==="differentNetwork"&&(e.removeCookie(n.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),s.hide(),i.show())})):(i.show(),s.hide())}})}),define("managers/user",["jquery","version!fly/utils/url-helper","components/user-controller","components/user-form"],function(e,t){var n=null;return t.getParam("xdm_e")?n=e.cnet.userForm():n=e.cnet.userController(),n}),define("translations/modal-email",["managers/edition"],function(e){var t={en:{confirmation:"Your e-mail was sent successfully!",incorrectCaptcha:"The response you entered was incorrect.  Please try again."},es:{confirmation:"Tu email fue enviado exitosamente!",incorrectCaptcha:"La Captcha no es correcta. Por favor, inténtalo otra vez."}};return t[e.getLanguage()]}),define("components/modal-email",["jquery","version!fly/managers/debug","version!fly/managers/components","managers/edition","managers/user","translations/modal-email","components/global-modal","components/loading","version!fly/components/form-validate"],function(e,t,n,r,i,s){t=t.init("modalEmail");var o=e.support.touch?"vclick":"click";e.widget("cnet.modalEmail",e.cnet.globalModal,{options:{emailType:"friend",pageTitle:function(){return document.title},pageUrl:function(){return window.location.href},recipientId:null,recipientName:"",messageThankYou:s.confirmation},emailTypes:{friend:{url:{us:"/email/friend/",uk:"/uk/email/friend/",au:"/au/email/friend/",es:"/es/email/friend/"},requireUsername:!1},member:{url:{us:"/email/member/",uk:"/uk/email/member/",au:"/au/email/member/",es:"/es/email/member/"},requireUsername:!0},editor:{url:{us:"/email/editor/",uk:"/uk/email/editor/",au:"/au/email/editor/",es:"/es/email/editor/"},requireUsername:!1},flag:{url:{us:"/email/flag/",uk:"/uk/email/flag/",au:"/au/email/flag/",es:"/es/email/flag/"},requireUsername:!0},video:{url:{us:"/email/video-feedback/",uk:"/uk/email/video-feedback/",au:"/au/email/video-feedback/",es:"/es/email/video-feedback/"},requireUsername:!1}},errorMessages:{"cnet.notsent":"There was an error attempting to send your e-mail.  Please try again.","cnet.nousername":"You must have a valid username to send an e-mail.","cnet.notloggedin":"You must be logged in to send an e-mail.","cnet_recaptcha.incorrect-captcha-sol":s.incorrectCaptcha,"cnet_recaptcha.missing-input-response":s.incorrectCaptcha},_create:function(){this._super(),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(),this.loader.$element.addClass("modal-content")},open:function(){var e=this,t=this.emailTypes[this.options.emailType];this.isOpen||(t.requireUsername?(i._loadUserData(),i.isLoggedIn?(i.hasAccess({requireUsername:!0,nextAction:function(n){e._openEmailType(t)}}),e._super()):i.showModal("login",{appId:this.options.appId})):(this._openEmailType(t),e._super()))},_openEmailType:function(t){var i=this;this.setContent(""),this.loader.$element.appendTo(this.$element),this.loader.add(),e.ajax({url:t.url[r.getEdition()],data:this.options.recipientId?{regId:this.options.recipientId}:null,dataType:"text"}).done(function(t){i.loader.remove(),i.setContent(t),i.position(),i._setupEvents(),e("[data-email-var]",i.$element).each(function(t,n){var r=e(n),s=r.data("emailVar");s==="pageTitle"?r.text(i.options.pageTitle):s==="recipientName"&&r.text(i.options.recipientName)}),e('input[name="emailFriend[pageTitle]"]',i.$element).val(i.options.pageTitle);var r=typeof i.options.pageUrl=="string"?i.options.pageUrl:i.options.pageUrl();e('input[name="emailFriend[pageUrl]"]',i.$element).val(r.replace(/^http:\/\//i,""));if(i.options.emailType==="video"){var s=e('[data-component="cnetVideo"]'),o=s.length>0?s.cnetVideo("getVideoInfo"):'{debug: "Not available"}';e('input[name="videoFeedback[debugInfo]"]',i.$element).val(e.param(JSON.parse(o))),e('input[name="videoFeedback[pageTitle]"]',i.$element).val(i.options.pageTitle),e('input[name="videoFeedback[pageUrl]"]',i.$element).val(i.options.pageUrl)}n.process(i.$element)}).always(function(){i.loader.remove()})},_setupEvents:function(){var t=this,n=e("form",this.$element),r=e('[data-component="recaptcha"], .g-recaptcha',t.$element),i=e('[data-email-var="error"]',n);n.formValidate({success:function(s){s.preventDefault(),e.ajax({url:n.attr("action"),data:n.serialize()}).done(function(e){e.status==="success"?(n.html(t.options.messageThankYou),t.position()):(e.errors?i.text(e.errors[0]):i.text(t.errorMessages[e.message]),r.recaptcha("reload"))})}})}}),e(document).on(o+".modalEmail-api.data-api",'[data-open="modalEmail"]',function(t){var n=e(this),r=n.data(),i=r.$modal,s;t.preventDefault(),i?i.open():(s=n.data("modalEmailOptions")||n.dataPrefix("modalEmail"),n.data("$modal",e.cnet.modalEmail(e.extend(s,{openOnInit:!0,destroy:function(){n.data("$modal",null)}}))))})}),define("components/header-menu",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/components/base"],function(e,t,n){t=t.init("headerMenu");var r=typeof Storage!="undefined",i=null,s={};e.widget("cnet.headerMenu",e.fly.base,{options:{},_create:function(){this._super();var t=this;t._showMenu(t.$element.attr("data-ajax")+"-default"),t.$element.find("[data-ajax]").mouseenter(function(){t._showMenu(e(this).attr("data-ajax"))}),t.$element.mouseleave(function(){t._showMenu(t.$element.attr("data-ajax")+"-default")})},_showMenu:function(o){i=o,this.$element.find(".active").removeClass("active");var u=this.$element.find("[data-menu="+i+"]"),a=this.$element.parents("[data-endpoint]").attr("data-endpoint");u.length===0?r&&sessionStorage.getItem(i)?(t.log("Loading "+i+" from session storage"),this.$element.append(sessionStorage.getItem(i)),n.process(this.$element.find("[data-menu="+i+"]"))):s[i]||(s[i]=!0,e.ajax({url:a+"?endpoint=%2Fapi%2Fcomponent%2Fcomponent%2Fheader-"+i+"&view=header_listing&familyName=listing&typeName=listing",dataType:"json",context:{menuWidget:this,menuAttr:i}}).done(this._onSuccess).fail(this._onError)):(t.log("Loading "+i+" from dom"),u.addClass("active"))},_onSuccess:function(s){t.log("Loading "+this.menuAttr+" from api");var o=e(e.parseHTML(e.trim(s.component.html))).attr("data-menu",this.menuAttr);this.menuWidget.$element.find(".active").removeClass("active"),this.menuWidget.$element.append(o),n.process(this.menuWidget.$element.find("[data-menu="+i+"]")),r&&sessionStorage.setItem(this.menuAttr,o.get(0).outerHTML)},_onError:function(){s[this.menuAttr]=!1}})}),define("components/mobile-footer-link",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","version!fly/components/base"],function(e,t,n,r){t=t.init("mobileFooterLink"),e.widget("cnet.mobileFooterLink",e.fly.base,{options:{},_create:function(){this._setup();var e=this;n.read("mobileRedirect")&&(e.$element.append('<li><a class="view">Switch to mobile</a></li>'),this._setEvent())},_setEvent:function(){this.$element.find("a.view").on("click",function(){r.write("fly_device","mobile"),n.erase("mobileRedirect"),window.location.reload(!0)})}})}),define("components/auto-suggest",["jquery","version!fly/managers/debug","managers/tealium","version!fly/components/base"],function(e,t,n){t=t.init("autoSuggest"),e.widget("cnet.autoSuggest",e.fly.base,{options:{url:"/autosuggest/xhr/",menuSelector:".menuWrapper",menuShowClass:"active",resultSelector:"li:not(.hed)"},suggestXhr:null,$searchBox:null,_create:function(){var e=this;e._setup(),e.$searchBox=e.$element.find("input"),e.$searchBox.keyup(function(){e._doAutoSuggest()}.bind(e))},_doAutoSuggest:function(){var n=this,r=n.options;n.suggestXhr&&n.suggestXhr.readyState!=4&&n.suggestXhr.readyState!=0&&n.suggestXhr.abort();if(n.$searchBox.val()!=""){var i=r.url+"?query="+n.$searchBox.val();t.log("AutoSuggestXHR: ",i),n.suggestXhr=e.ajax({url:i,dataType:"json",context:document.body}).done(function(t){n.$element.addClass(r.menuShowClass);var i=e(e.parseHTML(e.trim(t.html)));e(r.resultSelector,i).length>0?(e(r.menuSelector,n.$element).length==0?i.insertAfter(n.$searchBox):e(r.menuSelector,n.$element).replaceWith(i),n.$element.find(r.resultSelector).mousedown(function(e){n._submitAutoSuggest(e)}.bind(n)),n.$searchBox.focusout(function(){n._hideAutoSuggest()}.bind(n))):n._hideAutoSuggest()}).fail(function(){n._hideAutoSuggest()})}else n._hideAutoSuggest()},_hideAutoSuggest:function(){var e=this,t=e.options;e.$element.removeClass(t.menuShowClass)},_submitAutoSuggest:function(t){var r=e(t.target),i=r.text();n.trackSuggestedSearch({searchTerm:i,dwLinkTag:"search|suggestedSearch|"+r.prevAll().length}),this.$searchBox.val(i),this.$element.submit()}})}),define("managers/components.desktop",["jquery","version!fly/managers/components","version!fly/managers/debug","managers/tealium","managers/page-vars","components/global-modal","components/modal-email","components/modal-iframe","components/header-menu","components/mobile-footer-link","components/auto-suggest"],function(e,t,n,r,i){return n=n.init("componentManager"),t.register({globalModal:{},modalEmail:{},modalIframe:{},headerMenu:{},mobileFooterLink:{},autoSuggest:{},accordion:{require:"version!fly/components/accordion"},addthisevent:{require:"components/add-this-event"},alert:{require:"version!fly/components/alert"},audioPlayer:{require:"components/audio-player"},autoplayControls:{require:"components/autoplay-controls"},bestFitVideoPromo:{require:"components/best-fit-video-promo"},breakingNews:{require:"components/breaking-news"},carousel:{require:"version!fly/components/carousel",options:{slidechanged:function(t){e(window).trigger("scroll")}}},carouselFull:{require:"components/carousel-full"},cesCategoryListing:{require:"components/ces-category-listing"},cnet100:{require:"components/cnet100"},cnetVideo:{require:"components/cnet-video"},cnetVideoUvp:{require:"components/cnet-video-uvp"},connectComponent:{require:"components/connect-es-component"},contactUs:{require:"components/contact-us"},couponsDesktop:{require:"components/coupons-page.desktop"},dropdown:{require:"version!fly/components/dropdown"},dfllActivator:{require:"components/dfll-activator.desktop"},dfllUpdater:{require:"components/dfll-updater.desktop"},editionToggler:{require:"components/edition-toggler"},editorsChoiceToggle:{require:"components/editors-choice-toggle"},ellipsis:{require:"components/ellipsis"},HGGFD:{require:"components/hgg-door"},inlineProductCarousel:{require:"components/inline-product-carousel"},topStories:{require:"components/top-stories"},errorModal:{require:"components/error-modal"},expiredDealModal:{require:"components/expired-deal-modal.desktop"},externalLink:{require:"components/external-link"},fixate:{require:"components/fixate"},formAjax:{require:"components/form-ajax"},formTrim:{require:"components/form-trim"},formValidate:{require:"components/form-validate"},forumsBestAnswer:{require:"components/forums-best-answer"},forumsMarkAsRead:{require:"components/forums-mark-as-read"},forumsRealtime:{require:"components/forums-realtime"},forumsPostToggle:{require:"components/forums-post-toggle"},forumsPostPreview:{require:"components/forums-post-preview"},forumsPostFlag:{require:"components/forums-post-flag"},forumsPermalink:{require:"components/forums-permalink"},forumsLoadForm:{require:"components/forums-load-form"},forumsSearchUpdater:{require:"components/forums-search-updater"},forumsTools:{require:"components/forums-tools"},forumsTrack:{require:"components/forums-track"},forumsVote:{require:"components/forums-vote"},googleCsa:{require:"components/google-csa"},iframeHoverFix:{require:"components/iframe-hover-fix"},imageGallery:{require:"components/image-gallery"},imageGalleryModal:{require:"components/image-gallery-modal"},interactiveVideoPlayer:{require:"components/interactive-video-player"},interactiveVideoPollTimer:{require:"components/interactive-video-poll-timer"},joinCnet:{require:"components/join-cnet"},lazyloadImages:{require:"components/lazyload-images"},leadsTracker:{require:"components/leads-tracker"},livefyreCommentcount:{require:"version!fly/components/livefyre-commentcount"},livefyreConversation:{require:"components/livefyre-conversation"},livefyreConversationAsync:{require:"components/livefyre-conversation-async"},livefyreReviews:{require:"components/livefyre-reviews"},loadMore:{require:"components/load-more",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,r.trackCustomEvent("loadMore",e)}}},loadMoreMasonry:{require:"components/load-more-masonry-river",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,r.trackCustomEvent("loadMore",e)}}},loadNewest:{require:"components/load-newest",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="refresh-river",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,r.trackCustomEvent("loadMore",e)}}},magnet:{require:"components/magnet"},modal:{require:"version!fly/components/modal"},modalEnlargeImage:{require:"components/modal-enlarge-image"},mostPopularDeal:{require:"components/most-popular-deal.desktop"},mostPopularDealListing:{require:"components/most-popular-deal-listing.desktop",options:{contentSet:function(e){t.process(e.$content)}}},moveIncrementalHTML:{require:"components/move-incremental-html"},newsletterSubscription:{require:"components/newsletter-subscription"},newsCarousel:{require:"components/news-carousel"},nrelate:{require:"components/nrelate"},poll:{require:"components/poll"},preLoadImageVideo:{require:"components/pre-load-image-video"},productMediaCarousel:{require:"components/product-media-carousel"},productSeriesModal:{require:"components/product-series",options:{contentSet:function(e){t.process(e.$content)}}},productSpecs:{require:"components/product-specs"},productReviewVideo:{require:"components/product-review-video"},profileReauth:{require:"components/profile-reauth"},scrollTracking:{require:"components/scroll-tracking"},profileSubscriptions:{require:"components/profile-subscriptions",options:{contentSet:function(e){t.process(e.$content)}}},profileModal:{require:"components/profile-modal",options:{contentSet:function(e){t.process(e.$content)}}},profileUpdate:{require:"components/profile-update",options:{contentSet:function(e){t.process(e.$content)}}},profileUgc:{require:"components/profile-ugc",options:{contentSet:function(e){t.process(e.$content)}}},profileDiscussions:{require:"components/profile-discussions"},radio:{require:"components/radio"},recaptcha:{require:"components/recaptcha"},scrollbarArea:{require:"components/scrollbar-area"},searchBar:{require:"components/search-bar"},searchPagination:{require:"components/search-paginator",options:{contentSet:function(e){t.process(e.$content)}}},searchSort:{require:"components/search-sort"},sharebar:{require:"components/sharebar"},shortcodeGallery:{require:"components/shortcode-gallery"},shortcodeGalleryController:{require:"components/shortcode-gallery-controller"},showcaseHeroTabs:{require:"components/showcase-hero-tabs"},showcaseRailBody:{require:"components/showcase-rail-body"},showcaseVideos:{require:"components/showcase-videos"},sideNav:{require:"components/side-nav"},slider:{require:"components/slider"},socialBar:{require:"components/social-bar"},socialButton:{require:"version!fly/components/social-button"},socialCounts:{require:"components/social-counts"},socialCountsNoLinks:{require:"components/social-counts-no-links"},socialLinks:{require:"components/social-links"},socialMenu:{require:"components/social-menu"},stickyElement:{require:"components/sticky-element"},stickyLeader:{require:"components/sticky-leader"},subratingModalToggle:{require:"components/subrating-modal-toggle"},tableSorter:{require:"components/table-sorter"},tabs:{require:"version!fly/components/tabs"},tabsAsync:{require:"components/tabs-async",options:{contentSet:function(e){t.process(e.$content)}}},tabsRefresh:{require:"components/tabs-refresh"},tagLetterSorter:{require:"components/tag-letter-sorter"},textCounter:{require:"components/text-counter"},toc:{require:"components/toc"},tocNav:{require:"components/toc-nav"},toggle:{require:"components/toggle"},tooltip:{require:"components/tooltip"},touchMenuHover:{require:"components/touch-menu-hover"},trackDownload:{require:"components/track-download"},tvFeature:{require:"components/tv-feature"},uvpAdControls:{require:"components/uvp-ad-controls"},uvpControls:{require:"components/uvp-controls"},videoAbout:{require:"components/video-about"},videoModal:{require:"components/video-modal"},videoOnPage:{require:"components/video-on-page"},videoScroller:{require:"components/video-scroller"},videoShares:{require:"components/video-shares"},videoTranscript:{require:"components/video-transcript"},videoListing:{require:"components/video-listing"},videoPlaylistConnector:{require:"components/video-playlist-connector"},videoPlaylistConnectorUvp:{require:"components/video-playlist-connector-uvp"},videoShowGallery:{require:"components/video-show-gallery"},yahooBeacon:{require:"components/yahoo-beacon"},zipCode:{require:"components/zip-code"},yahooAdSearch:{require:"components/yahoo-ad-search"},yahooMultiAd:{require:"components/yahoo-multi-ad"},profileNewsletterSubscription:{require:"components/profile-newsletter-subscription"},bandwidthMeterBar:{require:"components/bandwidth-meter-bar"}}),t}),define("managers/edition-notifications",["jquery","version!fly/managers/debug","managers/device","components/global-modal"],function(e,t,n,r){t=t.init("editionNotifications");var i={init:function(){if(n.isDesktop()){var t=e("body").data("edition-redirect-alert");t&&t.length>0&&e.cnet.globalModal({content:t,openOnInit:!0})}}};return i}),define("managers/third-party/google-analytics",["jquery","version!fly/managers/debug"],function(e,t){t=t.init("googleAnalytics");var n={init:function(){(function(e,t,n,r,i,s,o){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,s=t.createElement(n),o=t.getElementsByTagName(n)[0],s.async=1,s.src=r,o.parentNode.insertBefore(s,o)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-44159791-1","cnet.com"),ga("send","pageview")}};return n}),define("managers/promotionals.desktop",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","managers/edition","managers/page-vars","managers/user","version!libs/modernizr.custom"],function(e,t,n,r,i,s,o){t=t.init("promotionals");var u=null,a={cookiesNotification:{limit:3,isActive:function(){return i.isUnitedKingdom()&&!n.read("suppressCookiesNotification",!0)&&u.cookiesNotification<a.cookiesNotification.limit},init:function(){require(["components/cookies-notification.desktop"],function(){e.cnet.cookiesNotification(),u.cookiesNotification++,n.write("promotionalSettings",u),n.write("suppressCookiesNotification",!0,!0)})}},espanolPromo:{limit:2,isActive:function(){var e=(window.navigator.userLanguage||window.navigator.language).indexOf("es")>=0;return e||(e=r.read("fly_default_edition")==="es"),!i.isEspanol()&&e&&!n.read("suppressEspanolPromo",!0)&&u.espanolPromo<a.espanolPromo.limit},init:function(){require(["components/espanol-promo.desktop"],function(){e.cnet.espanolPromo(),u.espanolPromo++,n.write("promotionalSettings",u),n.write("suppressEspanolPromo",!0,!0)})}},socialBar:{limit:3,isActive:function(){return u.socialBar<a.socialBar.limit&&!Modernizr.touch},init:function(){require(["components/social-bar.desktop"],function(){e.cnet.socialBar(),u.socialBar++,n.write("promotionalSettings",u)})}},flyoutPromo:{limit:3,isActive:function(){var e=s.tracking.data.pageType,t=s.tracking.data.articleType,n=!0,i=u.flyoutPromo<a.flyoutPromo.limit,o=!r.read("previousLogin");return n&&i&&o},init:function(){var t=this;o.getUserData(function(t,r){r.isLoggedIn||require(["components/flyout-promo.desktop"],function(){e.cnet.flyoutPromo(s.promotionals.flyoutPromo),u.flyoutPromo++,n.write("promotionalSettings",u)})})}}},f={init:function(){var t=function(){e.cnet.breakingNewsActive===!1&&(a.cookiesNotification.isActive()?a.cookiesNotification.init():a.espanolPromo.isActive()&&a.espanolPromo.init())};u=n.read("promotionalSettings")||{};for(var r in a)a.hasOwnProperty(r)&&(u[r]=u[r]||0);a.flyoutPromo.isActive()?a.flyoutPromo.init():a.socialBar.isActive()&&a.socialBar.init(),typeof e.cnet.breakingNewsActive=="undefined"?e(window).on("breakingNewsComplete",function(){t()}):t()},suppress:function(e){u[e]=a[e].limit,n.write("promotionalSettings",u)}};return f}),define("managers/third-party/social",["version!fly/managers/debug"],function(e){function n(e){typeof t[e]=="string"&&require([t[e]],function(n){t[e]=n,n.init()})}e=e.init("social");var t={linkedIn:"managers/third-party/linked-in",pinterest:"managers/third-party/pinterest",twitter:"managers/third-party/twitter"};return{init:function(){$('[data-social="linkedIn"]').length>0&&n("linkedIn"),$('[data-social="pinterest"]').length>0&&n("pinterest"),$('[data-social="twitter"]').length>0&&n("twitter")},parse:function(e){e=e||null,$('[data-social="linkedIn"]',e).length>0&&(typeof t.linkedIn=="string"?n("linkedIn"):t.linkedIn.parse(e)),$('[data-social="pinterest"]',e).length>0&&typeof t.pinterest=="string"&&n("pinterest"),$('[data-social="twitter"]',e).length>0&&(typeof t.twitter=="string"?n("twitter"):t.twitter.parse())}}}),define("main.desktop",["jquery","managers/client-storage","managers/components.desktop","managers/device","managers/edition-notifications","managers/third-party/google-analytics","managers/page-vars","managers/promotionals.desktop","managers/third-party/social","managers/tealium","version!fly/utils/data-prefix","utils/function-natives","version!libs/modernizr.custom","managers/user"],function(e,t,n,r,i,s,o,u,a,f){e(document).ready(function(){f.init(o.tracking.data),r.init(o.device),t.init(),n.process(e("body")),u.init(),i.init(),a.init(),s.init()})}),define("components/edition-toggler",["jquery","version!fly/managers/debug","managers/user","utils/cookie","version!fly/components/base"],function(e,t,n,r){t=t.init("editionToggler"),e.widget("cnet.editionToggler",e.fly.base,{options:{preferredEditionCookie:"fly_preferred_edition"},_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var i=this;e("[data-edition]",this.$element).on("click",function(s){s.preventDefault();var o=e(this),u=o.attr("href"),a=o.data("edition");t.log("setting preferred edition cookie from menu value: "+a),r.write(i.options.preferredEditionCookie,a,{expires:365}),u?n.getUserData(function(n,r){r.isLoggedIn?(t.log("setting urs preferred edition from menu value: "+a),e.ajax({url:"/edition/update/",data:{preferredEdition:a}}).done(function(e){u?window.location.href=u:t.log("failed to set window.location.href to:"+u)}).fail(function(e){t.log("failed to set urs edition value: "+a)})):window.location.href=u}):t.log("failed to set window.location.href to:"+u)})}})}),define("fly/components/fixate-1.0",["jquery","version!fly/components/base"],function(e){e.widget("fly.fixate",e.fly.base,{options:{classFixed:"fixed",classUnfixed:"unfixed",primaryEdge:"top",offset:{top:20,bottom:20},stickToLeft:!1,stickToRight:!1,guideTop:null,guideBottom:null,guideLeft:null,guideRight:null},hasEvents:!1,isFixed:!1,boundary:{top:-1,bottom:-1,left:-1,right:-1},$element:null,$window:e(window),$document:e(document),_create:function(){this._super("_create"),this._setBoundaries(),this._addEvents(),this.checkPosition()},_addEvents:function(){var t=this.options;if(this.hasEvents||this.disabled)return;this.hasEvents=!0,this.$window.on("scroll.fixate",e.proxy(this.checkPosition,this)),this.$window.on("resize.fixate",e.proxy(this.checkPosition,this))},_removeEvents:function(){this.hasEvents=!1},_setBoundaries:function(){var t=this.options,n=null,r=null,i=null,s=null,o=null;this.boundary={top:-1,bottom:-1,left:-1,right:-1},t.guideTop&&(r=e(t.guideTop),n=r.offset(),this.boundary.top=n.top+r.outerHeight()),t.guideBottom&&(i=e(t.guideBottom),n=i.offset(),this.boundary.bottom=n.top);if(t.guideLeft){s=e(t.guideLeft),n=s.offset();if(t.stickToLeft){if(this.boundary.top<0||n.top>this.boundary.top)this.boundary.top=n.top;if(this.boundary.bottom<0||n.top+s.outerHeight()<this.boundary.bottom)this.boundary.bottom=n.top+s.outerHeight()}}if(t.guideRight){o=e(t.guideRight),n=o.offset();if(t.stickToRight){if(this.boundary.top<0||n.top>this.boundary.top)this.boundary.top=n.top;if(this.boundary.bottom<0||n.top+o.outerHeight()<this.boundary.bottom)this.boundary.bottom=n.top+o.outerHeight()}}},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed),e.primaryEdge==="top"?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally()},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),e==="top"?this.$element.css("top",this.boundary.top+t.offset.top-this.$window.scrollTop()):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-this.$window.scrollTop()),this._placeHorizontally()},_placeHorizontally:function(){var t=this.options,n=this.$window.scrollLeft(),r=null,i=null;t.guideLeft?(r=e(t.guideLeft),this.$element.css("left",r.offset().left+r.outerWidth()-n)):t.guideRight&&(i=e(t.guideRight),this.$element.css("left",i.offset().left-this.$element.width()-n))},checkPosition:function(){var e=this.options,t=this.$window.scrollTop(),n=t+this.$window.height(),r=this.$element.height();this._setBoundaries(),e.primaryEdge==="top"?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+r+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():n>this.boundary.bottom?this._unfix("bottom"):n-e.offset.bottom-r-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()},destroy:function(){this._removeEvents(),this._super("destroy")}})}),define("components/fixate",["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("fly.fixate",e.fly.fixate,{options:{classFixedParent:"fixed-parent",guideContainer:null,guideTopPlus:null,classTop:"top",classBottom:"bottom",offset:{topPlus:0}},_setBoundaries:function(){this._super();var t=this.options,n=null;if(this.options.guideContainer){this.options.guideContainer=e(this.options.guideContainer),n=this.options.guideContainer.offset();if(this.boundary.top<0||n.top>this.boundary.top)this.boundary.top=n.top;if(this.boundary.bottom<0||n.top+this.options.guideContainer.outerHeight()<this.boundary.bottom)this.boundary.bottom=n.top+this.options.guideContainer.outerHeight()}t.guideTopPlus&&(t.guideTopPlus=e(t.guideTopPlus),n=t.guideTopPlus.offset(),this.boundary.top=n.top+t.guideTopPlus.outerHeight()-t.offset.topPlus)},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed).removeClass(e.classBottom).removeClass(e.classTop),e.primaryEdge==="top"?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally(),this.$element.parent().addClass(this.options.classFixedParent)},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),e==="top"?(this.$element.css("top",this.boundary.top-this.$window.scrollTop()),this.$element.addClass(t.classTop).removeClass(t.classBottom)):(this.$element.css("top",this.boundary.bottom-this.$element.height()-this.$window.scrollTop()),this.$element.addClass(t.classBottom).removeClass(t.classTop)),this._placeHorizontally(),this.$element.parent().removeClass(this.options.classFixedParent)}})}),define("components/iframe-hover-fix",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("iframeHoverFix"),e.widget("cnet.iframeHoverFix",e.fly.base,{options:{},_create:function(){var t=this;this._setup(),e.browser.msie&&(this.$element.live("mouseenter",function(){t.$element.addClass("hover")}),this.$element.find("iframe").live("hover",function(){t.$element.addClass("hover")}),this.$element.live("mouseleave",function(){t.$element.removeClass("hover")}))}})}),define("components/leads-tracker",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,n,r){t=t.init("leadsTracker"),e.widget("cnet.leadsTracker",e.fly.base,{options:{},viewguid:null,_create:function(){this._setup(),this.viewguid=r.guid,this.viewguid&&this.$element.attr("href",this.$element.attr("href")+"&viewguid="+this.viewguid),this._setupEvents()},_setupEvents:function(){this.$element.on("click",function(r){try{var i=this.href.split("?")[1].split("&"),s={};e.each(i,function(e,t){var n=t.split("=");s[n[0]]=n[1]});var o="",u=e(r.target).closest("[section],[id]");for(var a=0;a<3;a++)u.attr("section")?o=u.attr("section")+"|"+o:u.attr("id")&&(o=u.attr("id")+"|"+o),u=u.parent().closest("[section],[id]");o=o.slice(0,o.length-1),window.dwTag=o,s._dwLinkTag=o,n.trackLead(s),delete window.dwTag}catch(f){t.log("Unable to parse tracking url",f)}})}})}),define("translations/social-links",["managers/edition"],function(e){var t={en:{cnet:"CNET"},es:{cnet:"CNET_Es"},au:{cnet:"CNET_Au"},uk:{cnet:"CNET_Uk"}};return t[e.getLanguage()]}),define("fly/components/social-links-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/components/base"],function(e,t,n){var r=e.support.touch?"vclick":"click",i=t.init("socialLinks");e.widget("fly.socialLinks",e.fly.base,{options:{title:"",url:"",description:"",shortUrl:"",via:"",data:{},popupWidth:620,popupHeight:440,location:null},isLoading:!1,popupId:"popup",linkId:"link",links:{facebook:"http://www.facebook.com/sharer.php?u={url}&t={title}",reddit:"http://reddit.com/submit?url={url}&title={title}",digg:"http://digg.com/submit?url={url}&title={title}",stumbleupon:"http://www.stumbleupon.com/submit?url={url}",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+=e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}",t+=e.via?"&via={via}":"",t},delicious:"http://del.icio.us/post?url={url}&title={title}",googleplus:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={media}&description={description}",tumblr:"http://www.tumblr.com/share/link?url={url}&description={description}",whatsapp:function(e){var t={ios:{match:/(ipad|iphone|ipod)/,store:"https://itunes.apple.com/app/whatsapp-messenger/id310633997",url:"whatsapp://send?text={title}%20{url}"},androidChrome:{match:"androidChrome",store:"market://details?id=com.whatsapp",url:"intent://send?text={title}%20{url}#Intent;package=com.whatsapp;scheme=whatsapp;end;"},android:{match:"android",store:"market://details?id=com.whatsapp",url:"whatsapp://send?text={title}%20{url}"}},r=window.navigator.userAgent.toLowerCase();for(var i in t){i=t[i];if(r.match(i.match))return i.url=n.compile(i.url,e,["urlencode"]),document.location=i.url,setTimeout(function(){window.open(i.store,"_blank")},300),!1}},print:function(){return window.print(),!1},email:"mailto:?subject={title}&body={url}%0D%0D{description}"},_create:function(){var e=this.options,t={};this._setup(),t[r+" [data-"+this.popupId+"]"]="_handlePopup",t[r+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,t)},_handlePopup:function(t){var n=e(t.currentTarget),r=n.data(this.popupId);t.preventDefault(),this.$el=n,this._setupClickEvent(t,{el:n,name:r}),this.popup(t,r)},_handleLink:function(t){var n=e(t.currentTarget),r=n.data(this.linkId);t.preventDefault(),this.$el=n,this._setupClickEvent(t,{el:n,name:r}),this.link(t,r)},_getLink:function(t){var r=this.links[t.toLowerCase()],i=this._getLinkData();return e.isFunction(r)&&(r=r(i)),r=n.compile(r,i,["urlencode"]),r},setLink:function(e,t){this.links[e]=t},_getLinkData:function(){var t=this.options;return e.extend({title:t.title,description:t.description,url:t.url,shortUrl:t.shortUrl,via:t.via},t.data)},popup:function(e,t){var n=this._getLink(t),r=this._getPopUpCoords(),i=this.$el;n&&(window.open(n,"button_share","width="+r.width+", height="+r.height+", "+"left="+r.left+", top="+r.top+", "+"personalbar=0, toolbar=0, scrollbars=1, resizable=1"),this._setupLoadEvent(e,{el:i,name:t,type:this.popupId}))},link:function(e,t){var n=this._getLink(t),r=this.$el;n&&(this._setupLoadEvent(e,{el:r,name:t,type:this.linkId}),window.location=n)},_getPopUpCoords:function(e,t){var n=this.options,r=e||n.popupWidth,i=t||n.popupHeight,s=screen.width,o=screen.height;return{left:Math.round(s/2-r/2),top:o>i?Math.round(o/2-i/2):0,width:s>r?r:s,height:o>i?i:o}},_setupClickEvent:function(t,n){t=t||null;var r=this.options.location;r&&e.extend(n,{location:r}),i.log("clicked"),this._trigger("clicked",null,n)},_setupLoadEvent:function(t,n){t=t||null;var r=this.options.location;r&&e.extend(n,{location:r}),this._trigger("loaded",t,n)}})}),define("components/social-links",["jquery","version!fly/managers/debug","translations/social-links","managers/tealium","managers/edition","version!fly/components/social-links","components/modal-email"],function(e,t,n,r,i){t=t.init("socialLinks");var s=e.support.touch?"vclick":"click";e.widget("cnet.socialLinks",e.fly.socialLinks,{options:{data:{media:e('meta[property="og:image"]').first().attr("content")}},$emailModal:null,links:{link:function(e){window.location.href=e.url},email:function(t){this.$emailModal&&this.$emailModal.remove(),this.$emailModal=e.cnet.modalEmail({openOnInit:!0,pageTitle:t.title,pageUrl:t.url}).$element},twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+(e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}")+"&via="+n.cnet}},_create:function(){var t=this,n={};this._setup(),this._setupTracking(),e.each(this.links,function(e,n){typeof n=="function"&&(t.links[e]=n.bind(t))}),n[s+" [data-"+this.popupId+"]"]="_handlePopup",n[s+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,n)},_getLink:function(t){var n=this;return this.options.data.shortUrl||e.ajax({url:(i.isEspanol()?"/es":"")+"/ShareBarUrlShortener/",data:{longUrl:this.options.url},async:!1,success:function(e){n.options.data.shortUrl=e.data.url}}),this._super(t)},_setupTracking:function(){e("[data-popup]",this.$element).on("click",function(t){var n=e(this).data("popup"),i={facebook:2,twitter:8,googlePlus:13};r.trackSocial({socialService:n,event:"share",levtEventType:"share",eventt:"socialsite",socialId:i[n],wd:"sharelink"})})}})}),define("components/touch-menu-hover",["jquery","version!fly/managers/debug","managers/device","managers/page-vars","version!fly/components/base"],function(e,t,n,r){t=t.init("touchMenuHover"),e.widget("cnet.touchMenuHover",e.fly.base,{options:{hoverClass:"hover",moreButton:"moreButton"},_create:function(){this._setup();if(r.tracking.data.deviceType!="mobile"){var t=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;t&&e(".social-login").css("display","none")}Modernizr.touch&&this._setupEvents()},_setupEvents:function(){var r=this,i=r.$element,s=e('[data-trigger="menu"]',i);s.length===0&&(s=i),s.on(n.getImmediateClickType(),function(s){e(":cnet-touchMenuHover").not(i).removeClass(r.options.hoverClass),i.hasClass(r.options.hoverClass)?i.hasClass(r.options.moreButton)?(t.log("Link click on active more share menu : leaving hover class"),e(document).on(n.getImmediateClickType(),null,{self:r},r._handleClickOutsideMenu)):(i.removeClass(r.options.hoverClass),t.log("Link click on active : removing hover class"),e(document).off(n.getImmediateClickType(),null,r._handleClickOutsideMenu)):(s.preventDefault(),i.addClass(r.options.hoverClass),t.log("Link click on non-active : preventing link and adding hover class"),e(document).on(n.getImmediateClickType(),null,{self:r},r._handleClickOutsideMenu))})},_handleClickOutsideMenu:function(r){var i=r.data.self,s=e(r.target).parents(":cnet-touchMenuHover");s.length===0&&(t.log("Body click : removing hover class"),i.$element.removeClass(i.options.hoverClass),e(document).off(n.getImmediateClickType(),null,i._handleClickOutsideMenu))}})}),define("fly/components/carousel-1.0",["jquery","version!fly/utils/string-helper","version!fly/components/base"],function(e,t){var n=e.support.touch?"vclick":"click";e.widget("fly.carousel",e.fly.base,{options:{currentSlide:0,numOfVisibleSlides:1,incrementAmount:1,slideHeight:null,hidePreviousOnFirstSlide:!1,updatePagination:!1,pageUrlAttribute:"page-location",autoplayDelay:6e3,autoplayPauseOnHover:!0,autoplayPauseOnBlur:!0,classSelected:"selected",classActive:"active",classFocus:"focused",transitionType:"fade",transitionDuration:400,transitionEasing:"linear"},transitionTypes:{fade:{init:function(){var e=this.options;this.vertical=!1,this.items.slides.$elements.not("."+e.classSelected).hide()},showSlide:function(t){var n=this.options;e(this.items.slides.$elements[n.currentSlide]).fadeOut(n.transitionDuration,n.transitionEasing),e(this.items.slides.$elements[t]).fadeIn(n.transitionDuration,n.transitionEasing)}},slideHorizontal:{init:function(){var e=this.options;this.items.canvas.$element.css("left",-this.slideWidth*e.currentSlide)},showSlide:function(e){var t=this.options;this.items.canvas.$element.animate({left:-this.slideWidth*e},t.transitionDuration,t.transitionEasing)}},slideHorizontalInfinite:{init:function(){var e=this.options;this.infinite=!0,this.items.canvas.$element.css("left","0")},showSlide:function(t){var n=this.options;if(t>0)this.items.canvas.$element.animate({left:-this.slideWidth*t},n.transitionDuration,n.transitionEasing,function(){for(var n=0;n<t;n++)this.items.canvas.$element.append(this.items.slides.$elements[n]);this.items.canvas.$element.css("left","0"),this.items.slides.$elements=e(this.items.slides.selector,this.$element)}.bind(this));else if(t<0){for(var r=this.items.slides.$elements.length-1;r>=this.items.slides.$elements.length+t;r--)this.items.canvas.$element.prepend(this.items.slides.$elements[r]);this.items.canvas.$element.css("left",this.slideWidth*t+"px"),this.items.slides.$elements=e(this.items.slides.selector,this.$element),this.items.canvas.$element.animate({left:"0"},n.transitionDuration,n.transitionEasing)}}},slideVertical:{init:function(){var e=this.options;this.vertical=!0,this.items.canvas.$element.css("top",-e.slideHeight*e.currentSlide)},showSlide:function(e){var t=this.options;this.items.canvas.$element.animate({top:-t.slideHeight*e},t.transitionDuration,t.transitionEasing)}},slideVerticalInfinite:{init:function(){var e=this.options;this.infinite=!0,this.vertical=!0,this.items.canvas.$element.css("top",-e.slideHeight*e.currentSlide)},showSlide:function(t){var n=this.options;if(t>0)this.items.canvas.$element.animate({top:-n.slideHeight*t},n.transitionDuration,n.transitionEasing,function(){for(var n=0;n<t;n++)this.items.canvas.$element.append(this.items.slides.$elements[n]);this.items.canvas.$element.css("top","0"),this.items.slides.$elements=e(this.items.slides.selector,this.$element)}.bind(this));else if(t<0){for(var r=this.items.slides.$elements.length-1;r>=this.items.slides.$elements.length+t;r--)this.items.canvas.$element.prepend(this.items.slides.$elements[r]);this.items.canvas.$element.css("top",n.slideHeight*t+"px"),this.items.slides.$elements=e(this.items.slides.selector,this.$element),this.items.canvas.$element.animate({top:"0"},n.transitionDuration,n.transitionEasing)}}}},_create:function(n){var r=this.options;this._setup(),this.items={viewport:{selector:'[data-item="viewport"]'},canvas:{selector:'[data-item="canvas"]'},slides:{selector:'[data-item="slide"]'},next:{selector:'[data-to="next"]'},prev:{selector:'[data-to="prev"]'},jumps:{selector:'[data-to]:not([data-to="next"], [data-to="prev"])'}},e.each(this.items,function(t,n){this.items[t].$elements=e(n.selector,this.$element),this.items[t].$element=this.items[t].$elements.length>0?e(this.items[t].$elements[0]):null}.bind(this)),this.items.container={$element:this.items.viewport.$element.parent()},this.infinite||(e(this.items.slides.$elements[r.currentSlide]).addClass(r.classSelected),this.items.jumps.$elements.length>0&&e('[data-to="'+r.currentSlide+'"]',this.items.jumps.$elements).addClass(r.classSelected)),this.$element.addClass(t.fromCamelCase(r.transitionType)),this.transitionTypes[r.transitionType].init.bind(this)(),this._setupEvents(),this.vertical||(this.items.viewport.$element.height(r.slideHeight),this.items.canvas.$element.height(r.slideHeight),this.items.slides.$elements.height(r.slideHeight),this.setWidths()),this.$element.addClass(r.classActive),e(this.items.slides.$elements[r.currentSlide]).addClass(r.classSelected),this.items.jumps.$elements.length>0&&e(this.items.jumps.$elements[r.currentSlide]).addClass(r.classSelected),r.hidePreviousOnFirstSlide&&r.currentSlide>0&&this.checkPreviousButton(r.currentSlide),r.autoplayDelay>0&&this.autoplay()},_setupEvents:function(){var t=this,r=t.options,i={};i[n+" "+this.items.next.selector]="next",i[n+" "+this.items.prev.selector]="previous",this.infinite||(i[n+" "+this.items.jumps.selector]=function(n){t.goto(parseInt(e(n.target).data("to"),10))}),this.items.slides.$elements.on("hover",function(n){t.items.slides.$elements.removeClass(r.classFocus),e(this).addClass(r.classFocus)}),this.vertical||this._on(this.$window,{resize:function(e){t.setWidths()}}),r.autoplayDelay>0&&(r.autoplayPauseOnHover&&e.extend(i,{mouseenter:function(e){t.interval&&t.pause()},mouseleave:function(e){t.interval||t.autoplay()}}),r.autoplayPauseOnBlur&&this._on(this.$window,{blur:function(e){t.interval&&t.pause()},focus:function(e){t.interval||t.autoplay()}})),this._on(this.$element,i)},_autoplayNextSlide:function(){var e=this.options;this.showSlide(this.infinite?e.incrementAmount:(e.currentSlide+e.incrementAmount)%this.items.slides.$elements.length)},_updatePushState:function(e){history.pushState&&history.pushState(null,null,e)},showSlide:function(t){var n=this.options;this.transitionTypes[n.transitionType].showSlide.bind(this)(t),this.infinite||(this.items.slides.$elements.removeClass(n.classSelected),this.items.jumps.$elements.removeClass(n.classSelected),e(this.items.slides.$elements[t]).addClass(n.classSelected),this.items.jumps.$elements.length>0&&e(this.items.jumps.$elements[t]).addClass(n.classSelected),n.currentSlide=t),n.updatePagination&&this._updatePushState(e(this.items.slides.$elements[t]).data(n.pageUrlAttribute)),this._trigger("slidechanged")},next:function(){var e=this.options;this.pause(!0),this.showSlide(this.infinite?e.incrementAmount:(e.currentSlide+e.incrementAmount)%this.items.slides.$elements.length),e.hidePreviousOnFirstSlide&&this.checkPreviousButton(e.currentSlide),this._trigger("next")},previous:function(){var e=this.options;this.pause(!0),this.showSlide(this.infinite?-e.incrementAmount:(e.currentSlide+this.items.slides.$elements.length-e.incrementAmount)%this.items.slides.$elements.length),e.hidePreviousOnFirstSlide&&this.checkPreviousButton(e.currentSlide),this._trigger("previous")},"goto":function(e){var t=this.options;this.pause(!0),this.showSlide(e),t.hidePreviousOnFirstSlide&&this.checkPreviousButton(e),this._trigger("goto")},autoplay:function(){var e=this.options;e.autoplayDelay>0&&(this.interval=setInterval(this._autoplayNextSlide.bind(this),e.autoplayDelay),this._trigger("play"))},pause:function(e){var t=this.options;clearInterval(this.interval),this.interval=null,this._trigger("pause"),e&&(t.autoplayDelay=0,this._trigger("stop"))},setWidths:function(){var e=this.options;this.slideWidth=this.items.container.$element.width()/this.options.numOfVisibleSlides,this.items.slides.$elements.width(this.slideWidth),this.items.canvas.$element.width(this.slideWidth*this.items.slides.$elements.length),this.items.canvas.$element.css("left",-this.slideWidth*e.currentSlide)},checkPreviousButton:function(t){t===0?e(this.items.prev.selector).css("visibility","hidden"):e(this.items.prev.selector).css("visibility","visible")}})}),define("fly/components/livefyre-commentcount-1.0",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){var n=t.get("livefyre");e.widget("fly.livefyreCommentcount",e.fly.base,{options:{format:"fullText"},formats:{fullText:function(e,t){e.html(t+" <span>Comment"+(t===1?"</span>":"s</span>"))},numberOnly:function(e,t){e.html(t)}},_create:function(){var t=this;this._setup(),require(["livefyre-commentcount"],function(){LF.CommentCount({replacer:e.proxy(t.replace,t)}),n.log("calling livefyre for comment counts")})},replace:function(t,r){var i=this.options,s=e(t),o=s.data("lf-format")||i.format;e.isFunction(this.formats[o])&&this.formats[o](s,r),n.log("set comment count: ",o,s)}})}),define("managers/third-party/social-flags",[],function(){return{enabled:{facebook:!0,google:!0,linkedIn:!0,pinterest:!0,twitter:!0}}}),define("managers/third-party/twitter",["jquery","version!fly/managers/debug","managers/third-party/social-flags","managers/tealium"],function(e,t,n,r){t=t.init("twitter");var i=!1,s={onInit:null};return{init:function(r){var o=this;n.enabled.twitter&&(e.extend(!0,s,r),i?s.onInit&&s.onInit():(window.twttr=e.extend(!0,{_e:[],ready:function(e){window.twttr._e.push(e)}},window.twttr),twttr.ready(function(){i=!0,o.setupEvents(),s.onInit&&s.onInit(),t.log("Initialized")}),require(["twitter"])))},parse:function(){i?twttr.widgets.load():t.log("Parse failed -- not initialized yet")},isInitialized:function(){return i},setupEvents:function(){var e=this;twttr.events.bind("follow",function(n){t.log("Followed");var r={};e.trackFollow(r)}),twttr.events.bind("tweet",function(n){t.log("Tweeted");var r={};e.trackTweet(r)})},trackFollow:function(t){r.trackSocial(e.extend({socialService:"twitter",event:"connect",levtEventType:"share",eventt:"followcnet",socialId:9},t))},trackTweet:function(t){r.trackSocial(e.extend({socialService:"twitter",event:"share",levtEventType:"share",eventt:"socialsite",socialId:8},t))}}}),define("pages/desktop/front_door",["main.desktop","components/edition-toggler","components/fixate","components/form-validate","components/global-modal","components/header-menu","components/iframe-hover-fix","components/leads-tracker","components/mobile-footer-link","components/modal-email","components/social-links","components/touch-menu-hover","version!fly/components/carousel","version!fly/components/livefyre-commentcount","managers/edition-notifications","managers/third-party/google-analytics","managers/third-party/social-flags","managers/third-party/social","managers/third-party/twitter","utils/function-natives"],function(){})