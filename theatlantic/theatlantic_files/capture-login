/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: v1.104.0_widgets_450
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: v1.104.0_widgets_450
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Zb,rb,Lb,Ec,kd,ve,we,Ja,Qd,xe,ye,ze,Ae,kb,lb;function $b(a){janrain.ready?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)}function ac(a){C().setUseLocalStorage(!1).setDomain("."+document.location.host).setName(a).setValue("").remove();C().setUseLocalStorage(!1).setName(a).setValue("").remove()}function ld(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.2.19/":"https://d3hmp0045zy3cs.cloudfront.net/2.2.19/";
if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}janrain.settings.capture&&janrain.settings.capture.quiltUrl&&(a=janrain.settings.capture.quiltUrl+"/2.2.19/");return a}function Aa(a){function b(Za){var L=a(Za);j&&0===Za%j&&o.error(n);L||(Za<h?c=setTimeout(function(){b(Za+1)},e):(o.warn("A poll operation failed."),K()))}var c,
e=100,h=1,j=0,n="",K=function(){},a="function"===typeof a?a:function(){return!0};return{start:function(){b(1);return this},stop:function(){clearTimeout(c);return this},setDelay:function(a){"number"===typeof a&&0<a&&(e=a);return this},setMaxAttempts:function(a){"number"===typeof a&&0<a&&(h=a);return this},setFailCallback:function(a){"function"===typeof a&&(K=a);return this},errorEvery:function(a,b){"number"===typeof a&&0<a&&"string"===typeof b&&(j=a,n=b);return this}}}function Fc(a,b,c){var e;if(document.getElementById(a))return!1;
if(g){e="";var h=document.createElement("div");h.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+b+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(h);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",b),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof c&&c();return e}function Ba(a){for(var b="",c=0;c<a;)b+=Ba.possible[Math.floor(Math.random()*
Ba.possible.length)],c++;return b}function Gc(){function a(a,b,c,e){b={action:a,key:b,messageId:c};"set"===a&&(b.value=e);return"janrainCapture:"+H.stringify(b)}function b(a,b){Aa(function(){return"undefined"!==typeof n[a]?("get"===n[a].action&&"function"===typeof b&&b(n[a].storedValue),!0):!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){o.warn("Poll that checks message queue for request failed. requestId: "+a)}).start()}function c(c,e){var j=Ba(40);window.setTimeout(function(){K.contentWindow.postMessage(a("get",
c,j),Za)});b(j,e)}function e(a,b){if(j)md?c(a,b):setTimeout(function(){e(a,b)},50);else return window.localStorage.getItem(a)}function h(a){if(0!==a.data.indexOf("janrainCapture:")||!A(L,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=H.parse(a.data.replace("janrainCapture:",""));n[a.messageId]=a}var j=!1,n={},K,Za,L=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(j){var h=Ba(40);window.setTimeout(function(){K.contentWindow.postMessage(a("set",
c,h,e),Za)});return b(h)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(j){var e=Ba(40);window.setTimeout(function(){K.contentWindow.postMessage(a("remove",c,e),Za)});return b(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(j=a)window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent?window.attachEvent("onmessage",h):document.attachEvent&&document.attachEvent("onmessage",h),K=document.getElementById("xDomainLocalStorageJanrain"),
Za=janrain.settings.storageServerDomain}}}function C(){function a(){if(h&&Hc){var a=new Gc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=n?"; domain="+n:"",b=new Date;b.setTime(b.getTime()+-864E6);document.cookie=e+"="+j+";expires="+b.toUTCString()+a+"; path="+K}}function b(b,c,j){var n,K,f,g,o,j="undefined"===typeof j?!0:j;if(h&&Hc)if(o=new Gc,janrain.settings.multiDomainLocalStorage)o.setMultiDomain(!0),o.getItem(b,function(n){n?
j?o.getItem(b+"_Expires",function(j){j?Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/1E3)?(e=b,a(),"function"===typeof c&&c(!1)):"function"===typeof c&&c(n):(new C).getCookie(b+"_session")?"function"===typeof c&&c(n):(e=b,a())}):"function"===typeof c&&c(n):"function"===typeof c&&c(!1)});else if(g=o.getItem(b),n=o.getItem(b+"_Expires"),g){if(!j||!(n&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(n)).getTime()/1E3))&&(n||(new C).getCookie(b+"_session")))return g;
e=b;a()}else return!1;else{n=document.cookie.split(";");K=n.length;for(var p=0;p<K;p++)if(f=n.pop(),g=f.split("="),f=g[0],g=g[1],f.trim()===b)return g;return!1}}var c,e,h=!1,j,n,K="/";return{create:function(){if(h&&Hc){var a=new Gc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,j);c?a.setItem(e+"_Expires",c):(new C).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+j+(c?"; expires="+c:"")+(n?"; domain="+n:"")+"; path="+K},remove:a,setExpirationDirectly:function(a){a&&
(c=a);return this},setExpiration:function(a){if(a){var b=new Date;b.setTime(b.getTime()+864E5*a);c=b.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(j=a);return this},setUseLocalStorage:function(a){h=a;return this},setPath:function(a){a&&(K=a);return this},setDomain:function(a){a&&(n=a);return this},getCookie:function(a,c,e){return b(a,c,e)}}}function bc(a,b){a=a||navigator.appName;b=b||ua;return"Microsoft Internet Explorer"===a&&
null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)?parseFloat(RegExp.$1):!1}function Ic(a){a=a||ua;return!/CriOS\//.test(a||ua)&&!/Chrome\//.test(a||ua)&&/Safari\//.test(a)}function Jc(a){a=a||ua;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function va(a,b,c,e,h,j){"number"===typeof c&&"number"===typeof e&&"number"===typeof h&&"number"===typeof j?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+h+"px "+j+"px"),"undefined"!==
typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+h+"px "+j+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+h+"px "+j+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=b+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=b+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=b+"px"));return a}function Bb(a,b){if("undefined"===typeof a||"undefined"===
typeof b)return!1;var c=a-b;0>c&&(c=0);c>a&&(c=a);return c}function Sd(a,b){"undefined"!==typeof a.style.filter&&(a.style.filter="alpha(opacity="+100*b+")");"undefined"!==typeof a.style.opacity&&(a.style.opacity=b);"undefined"!==typeof a.style.KhtmlOpacity&&(a.style.KhtmlOpacity=b);"undefined"!==typeof a.style.MozOpacity&&(a.style.MozOpacity=b)}function od(a,b){if(g&&(9>=g||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+rc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+
"')",!0;var c;if(c=Ic()){a:{if((c=ua)&&Ic(c))if((c=c.match(/ Version\/(\d)[\d\.]+ /))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||Oa.getMobileDevice()){var e=c="",h="",j=b.split(","),n={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};j[0]&&n[j[0]]&&(c=n[j[0]]);j[1]&&(e="from("+j[1]+")");j[j.length-1]&&(h="to("+j[j.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+h+")"}a.style.backgroundImage="-moz-linear-gradient("+
b+")";a.style.backgroundImage="-webkit-linear-gradient("+b+")";a.style.backgroundImage="-ms-linear-gradient("+b+")";a.style.backgroundImage="-o-linear-gradient("+b+")";a.style.backgroundImage="linear-gradient("+b+")"}function Mb(a,b,c,e){var h=Kc(c),j=Kc(c,e);if(c=Td(c))c.a=e,j="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<b){a.style.backgroundColor=h;a.style.padding=b+"px";if(0<g&&8>=g||g&&aa)return!1;a.style.backgroundColor=j;a.style.padding=b+"px"}else a.style.backgroundColor="",a.style.padding=
"0px"}function Td(a){var b={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;b.r=a[0];b.g=a[1];b.b=a[2];b.a=a[3]?a[3]:1;return b}function Kc(a,b){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),h=parseInt(a.substring(4,6),16);return isNaN(b)?"rgb("+c+","+
e+","+h+")":"rgba("+c+","+e+","+h+","+b+")"}function y(a,b,c){if(null==a)return!1;a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function Cb(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("on"+b)}function Db(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function cc(){var a,b;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,
b=window.innerHeight):(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);return{width:a,height:b}}function Eb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function Be(a,b){var c=document.getElementById(a);if(!c)return null;if("object"===typeof c.currentStyle)var e=c.currentStyle[b];else window.getComputedStyle&&(e=
document.defaultView.getComputedStyle(c,null).getPropertyValue(b));return e}function Ud(a){var b,c,e,h;if("string"!==typeof a)return!1;a=a.trim();if(0===a.length)return!1;b=document.createElement("a");-1===a.indexOf("//")?a="http://"+a:0===a.indexOf("//")&&(a="http:"+a);"#"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));b.href=a;if(2>b.protocol.length||""===b.host||0===b.hostname.length)return!1;h=""!==b.port&&"0"!==b.port&&"21"!==b.port&&"80"!==b.port&&"443"!==b.port;e="/"!==b.pathname.charAt(0);
c=-1<a.indexOf(b.hostname+(h?":"+b.port:"")+(e?"/":"")+b.pathname+b.search+b.hash);b=b.protocol+"//"+b.hostname+(h?":"+b.port:"")+(c?(e?"/":"")+b.pathname:"")+b.search+b.hash;c=encodeURI(a);return 0===b.indexOf(a)||0===b.indexOf(c)?b:!1}function Q(a,b,c,e,h){var j=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,n=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!t(e))return h||I.log(e+" is wrong type, must be array, using default value instead"),c;if(b&&t(b))for(var K=
0;K<e.length;K++)if(0>b.indexOf(e[K]))return h||I.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e=e.trim();if(0===e.length)return c;if(K=Ud(e))return K;h||I.log(e+" failed url validation, please double check the url.");return e}if("text"===a){if(b){if(0<=b.indexOf(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return j.test(e)?
e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(t(b)){if(1===b.length){if(e.length<=b[0])return e;h||I.log(e+" is too long, using default value instead");return c}if(2===b.length){if(e.length<=b[1]&&e.length>=b[0])return e;h||I.log(e+" is not within the valid range, using default value instead");return c}h||I.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!j.test(e))return h||I.log(e+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof e)return e;h||I.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return h||I.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||n.test(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&
"color"!=a)return h||I.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof b&&"string"===a){if(0<=b.indexOf(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof b&&"number"===a){2===b.length?(j=b[0],n=b[1]):(j=b.shift(),n=b.pop(),K=b);if(e<j)return h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+j+", using minimum value of "+
j+" instead"),j;if(e>n)return h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+n+", using maximum value of "+n+" instead"),n;if(K&&"number"===typeof K.indexOf(e)||e==j||e==n)return e;return K?(h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function Fb(a){for(var b=Fb.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[b.key[e]]=a[e]||"";c[b.q.name]=
{};c[b.key[12]].replace(b.q.parser,function(a,e,n){e&&(c[b.q.name][e]=n)});return c}function gb(a){return document.getElementById(M(a).getAttribute("id"))}function M(a){return a.target?a.target:a.srcElement}function pd(a,b){function c(a){p=!0;"undefined"!==typeof f&&clearTimeout(f);if("string"===typeof a)return"function"===typeof K&&K(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof K&&K(a):"function"===typeof h&&h(),!0}function e(){Aa(function(){return p}).setDelay(50).setMaxAttempts(j).setFailCallback(function(){o.warn("Polling for script loader failed. src: "+
a);c("Load Timeout Error")}).start()}var h=b,j=200,n=!1,K,f,L=document.createElement("script"),g=document.getElementsByTagName("script")[0],p=!1;L.src=a;L.setAttribute("type","text/javascript");L.onload=L.onerror=L.onreadystatechange=function(a){!p&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){n=!0;K=a;return this},setCallback:function(a){h=a;return this},setTimeoutLimit:function(a){j=a;return this},load:function(){g.parentNode.insertBefore(L,
g);n&&e()}}}function wa(a,b){pd(a,b).load()}function Ce(a,b){g&&9>g&&sc(a,b)}function sc(a,b,c){function e(c){cssNotFound=!1;"function"===typeof b&&b();var e=janrain.events.onCssLoad,c={source:a,noload:c,save:!0};e.fire(c);e.permaArgs||(e.permaArgs=[]);e.permaArgs.push(c)}function h(){Aa(function(){for(f=K.length;0<=--f;)if(K[f].href===n.href)return e(),!0;return!1}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){o.warn("Dynamic stylesheet poll check failed.");e(!0)}).start()}function j(){Aa(function(){e();
return!0}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){o.warn("Dynamic stylesheet poll check failed.")}).start()}if(A(qd,a))c&&"function"===typeof b&&b();else{qd.push(a);var n,K=document.styleSheets,f;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Gb);Lc?(n=document.createElement("style"),n.innerHTML='@import "'+a+'";'):(n=document.createElement("link"),n.rel="stylesheet",n.href=a,n.type="text/css");Mc||Lc?(Mc&&h(),Lc&&j()):(n.onload=function(){e()},n.onerror=
function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(n)}}function p(a){var b;b=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===b.indexOf(c)&&(b.push(c),a&&(a.className=b.join(" ")));return this},remove:function(c){-1!==b.indexOf(c)&&(b.splice([b.indexOf(c)],1),a&&(a.className=b.join(" ").trim()));return this},has:function(a){return-1!==b.indexOf(a)}}}function De(a,b){Da(a.style,b)}function Ea(a,b){a.appendChild(document.createTextNode(b))}function vb(a,b){a.innerHTML=
"";Ea(a,b)}function Vd(a){for(var b=a.lastChild;b;)a.removeChild(b),b=a.lastChild}function Wd(a){var b=typeof a;return("number"===b||"string"===b&&0<a.length)&&hb(a)?parseFloat(a):null}function Ra(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function t(a){return"[object Array]"===Object.prototype.toString.call(a)}function ib(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function A(a,b){return!t(a)?!1:-1<a.indexOf(b)}function ca(a,b){for(var c in a)pa(a,
c)&&b.call(a[c],c,a[c]);return a}function Ga(a,b){if("undefined"===typeof b||0===b.length||!ib(a)&&!t(a))return a;for(var c=b.split("."),e=a,h=0,j=c.length;h<j&&!(e=e[c[h]],void 0===e||null===e);++h);return e}function X(a,b,c){for(var e=0,h=a.length;e<h;e++)b.call(c,a[e],e,a)}function Nc(a){a()}function Hb(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function Xd(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function W(a){var b=t(a)?[]:{},c;for(c in a)pa(a,
c)&&(b[c]=W.isCloneable(a[c])?W(a[c]):a[c]);return b}function Oc(a,b){var c=[],e=!(b&&!1===b.encode),h=b&&!0===b.allowDupes;ca(a,function(a,b){var f=h&&t(b)?b:[b];c.push.apply(c,f.map(function(b){return e?encodeURIComponent(a)+"="+encodeURIComponent(b):a+"="+b}))});return(c.length?"?":"")+c.join("&")}function cf(a,b){for(var c,e={},h=a.split(b||"&"),j=0,n=h.length;j<n;j++)c=h[j].split("="),c[0]&&(e[c[0]]=c[1]);return e}function rd(a,b,c){if(!a)return"";if(!b)return a;var e=Fb(a),a=e.protocol+"://"+
e.authority+e.path,h=e.anchor?"#"+e.anchor:"",j={};ca(b,function(a,b){var e=c&&t(b)?b:[b];j[encodeURIComponent(a)]=e.map(encodeURIComponent)});b=Oc(Da(e.queryKey,j),{encode:!1,allowDupes:c});return a+b+h}function Yd(a,b){ca(b,function(b,e){pa(a,b)?t(a[b])?a[b].push(e):a[b]=[a[b],e]:a[b]=e});return a}function R(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(b){}}function Pc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function df(a){var b;
a&&(b=wb(a.getElementsByTagName("input")),b=b.concat(wb(a.getElementsByTagName("button"))),b=Ee(b,{type:"submit"})[0]);return b}function hb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Fe(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var b=a.split("/"),a=parseInt(b[1],10),c=parseInt(b[0],10),b=parseInt(b[2],10),e=new Date(b,c-1,a);return e.getFullYear()==b&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function sb(a,b,c){var e,h=Ge,j=Zd;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");
void 0===b&&(b=new Date);c&&(c.monthNames&&t(c.monthNames)&&12===c.monthNames.length&&(h=c.monthNames),c.dayNames&&t(c.dayNames)&&7===c.dayNames.length&&(j=c.dayNames));c=function(){var a=b.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,b.getFullYear());a=a.replace(/{month}/g,h[b.getMonth()]);a=a.replace(/{mmm}/g,h[b.getMonth()].substring(0,3));a=a.replace(/{day}/g,j[b.getDay()]);a=a.replace(/{0m}/g,e(b.getMonth()+1));a=a.replace(/{m}/g,b.getMonth()+
1);a=a.replace(/{0d}/g,e(b.getDate()));a=a.replace(/{d}/g,b.getDate());a=a.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],c=b.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());a=a.replace(/{0hour}/g,e(c()));a=a.replace(/{hour}/g,c());a=a.replace(/{0h}/g,e(b.getHours()));a=a.replace(/{h}/g,b.getHours());a=a.replace(/{minute}/g,e(b.getMinutes()));a=a.replace(/{second}/g,e(b.getSeconds()));return a=a.replace(/{ampm}/g,11<b.getHours()?"PM":"AM")}function sd(a,b,c){function e(){var a=g.search(L);
if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||12<b?(f.setMonth(g.substring(a,a+1)-1),g=g.substring(a+1)):(f.setMonth(b-1),g=g.substring(a+2));return y=!0}function h(){var a=g.search(L);if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||31<b?(f.setDate(g.substring(a,a+1)),g=g.substring(a+1)):(f.setDate(b),g=g.substring(a+2));return qc=!0}function j(){var a;a=g.search(L);if(-1===a)return!1;g=g.substring(a);a=g.match(o)[0];f.setFullYear(a);g=g.substring(a.length);return C=!0}function n(){var a,
b,c=-1,e;for(e=0;12>e;++e)a=g.search(p[e]),-1===c&&-1<a&&(c=a,b=e),-1<a&&a<c&&(c=a,b=e);if(-1===c)return!1;f.setMonth(b);g=g.substring(c);a=g.search(t);-1===a&&(a=g.length);g=g.substring(a);return y=!0}var f=new Date,a=a.match(/\{+([a-z0])+\}/g),g=b,L=/[0-9]{1}/,o=/[0-9]+/,p=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],t=/[^a-zA-Z]/,y=!1,C=!1,qc=!1;if("string"!==typeof b)return new Date("Invalid Date");"undefined"===typeof c&&(c=!1);f.setMonth(0);f.setFullYear(0);
f.setDate(1);f.setMinutes(0);f.setSeconds(0);f.setHours(0);f.setMilliseconds(0);for(var b=0,nd=a.length;b<nd;++b){var D=!0;switch(a[b]){case "{m}":y||(D=!1,c||(D=n()),D||(D=e()));break;case "{0m}":y||(D=!1,c||(D=n()),D||(D=e()));break;case "{month}":y||(D=n(),!D&&!c&&(D=e()));break;case "{mmm}":y||(D=n(),!D&&!c&&(D=e()));break;case "{d}":qc||(D=h());break;case "{0d}":qc||(D=h());break;case "{yyyy}":C||(D=j())}if(!D){f=new Date("Invalid Date");break}if(y&&C&&qc)break}return f}function Da(a,b){for(var c in b)pa(b,
c)&&(a[c]=b[c]);return a}function He(a,b){if(!W.isCloneable(a)||!W.isCloneable(b))return a;for(var c in b)pa(b,c)&&(a[c]="undefined"===typeof a[c]||!W.isCloneable(a[c])?W.isCloneable(b[c])?W(b[c]):b[c]:W.isCloneable(b[c])?He(a[c],b[c]):b[c]);return a}function Ie(a,b){var c=!0;if(!W.isCloneable(a)||!W.isCloneable(b))return a===b;for(var e in a)if(pa(a,e)&&(c=W.isCloneable(a[e])?Ie(a[e],b[e]):a[e]===b[e],!c))return!1;return!0}function Y(a,b){for(var c=b,e=/\{\|(.*?)\|\}/,h;h=e.exec(c);)try{var j=h[1].trim(),
n=Ga(a,j),n="undefined"!==typeof n?n:"",c=c.replace(h[0],n)}catch(f){return window.console&&window.console.log&&console.log(f.name+": "+f.message,"error"),!1}return c}function ef(a,b){var c=W(a);ca(b,function(b,h){var j=Ga(a,b);if(j&&ib(h)&&"date"===h.type&&(j=sd("{yyyy}-{0m}-{0d}",j),j=sb(h.format,j),!("undefined"===typeof b||0===b.length||!ib(c)&&!t(c)))){for(var n=b.split("."),f=c,g,L=0,o=n.length-1;L<o;++L)g=f[n[L]],W.isCloneable(g)||(f[n[L]]={}),f=f[n[L]];f[n.pop()]=j}});return c}function xb(a,
b){if(a){if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(!a.parentNode)return!1;var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:c===b.toLowerCase()?a.parentNode:xb(a.parentNode,b)}}function td(a,b){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:p(a).has(b)?a:td(a.parentNode,b)}function Nb(a){var b=[],c;for(c in a)pa(a,c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}function wb(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function Je(a){if(a&&
0<a.length)for(var a=a[0].children,b=a.length,c=0;c<b;++c)a[c].blur&&a[c].blur()}function $d(a,b){for(var c=[],e=0,h=a.length;e<h;e++)b(a[e])&&c.push(a[e]);return c}function Ee(a,b){return $d(a,function(a){for(var e in b)if(pa(b,e)&&a[e]!==b[e])return!1;return!0})}function ff(a,b,c){for(var e=[],h=0,j=a.length;h<j;h++)e.push(b.call(c,a[h],h,a));return e}function Ke(a){var b,c;if(a&&(a.blur&&a.blur(),a.children)){c=a.children;a=0;for(b=c.length;a<b;a++)Ke(c[a])}}function pa(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function ud(a){if("string"!==typeof a)return a;for(var b=a.length,c=[],e;b--;)e=a.charCodeAt(b),c[b]="&#"+e+";";return c.join("")}function vd(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",pa&&(c.innerHTML=pa)):(c.src=Aa,ua||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=Da?e:b;return c}function b(a){Ha||
(z.style.display="none",ma.style.display="none",T.style.display="none");Wa&&Oa.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&La.fire();"object"===typeof a&&R(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),j=document.createElement("a"),h=document.createElement("h3");e.innerHTML=Ea;j.innerHTML=Ga;h.innerHTML=wa;e.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";
c.className="janrain_close_confirm";e.className="janrain_modal_confirm";j.className="janrain_modal_cancel";y(e,"click",function(a){b();z.removeChild(mb);mb=null;R(a)});y(j,"click",function(a){z.removeChild(mb);mb=null;R(a)});c.appendChild(h);c.appendChild(j);c.appendChild(e);a.appendChild(c);return a}function e(a){mb||(mb=c(),z.appendChild(mb));R(a)}function h(){function a(){var b,c,e,j,u,h,n,f;e=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,
offsetWidth:0,offsetHeight:0};f=e.scrollWidth?e.scrollWidth:0;b=e.scrollHeight?e.scrollHeight:0;h=e.offsetWidth?e.offsetWidth:0;n=e.offsetHeight?e.offsetHeight:0;j=document.body.scrollWidth?document.body.scrollWidth:0;u=document.body.scrollHeight?document.body.scrollHeight:0;c=document.body.offsetWidth?document.body.offsetWidth:0;e=document.body.offsetHeight?document.body.offsetHeight:0;h=Math.max(j,f,c,h);b=Math.max(u,b,e,n);e=T.style;e.width=h+"px";e.height=b+"px";e.position="absolute"}T=document.createElement("div");
T.id=ca;var b=T.style;b.left="0px";b.top="0px";gf?(a(),y(window,"resize",a)):(b.bottom="0px",b.right="0px",b.position="fixed");b.backgroundColor="#000000";Sd(T,"0.4");b.display="none";b.zIndex=xa;return T}function j(a){var b=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,c=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=cc(),j=Eb(a),h=e.height-j.height,
e=e.width-j.width,b=b+h/2,c=c+e/2;D()&&(0>h&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,b=10),0>e&&(document.documentElement.scrollLeft=0,c=document.body.scrollLeft=0),a.style.top=b+"px",a.style.left=c+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function n(){if(Ha){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(z)}else j(z);Ha||I.show()}function f(a){Sa||(qa=Q("number",[0,20],10,a),nb.fire({radius:Bb(Fa,qa)}))}function o(a){Sa||
($=Q("color",null,"#000000",a))}function L(a){Sa||(Fa=Q("number",[0,20],10,a),$a.fire({radius:Bb(Fa,qa),refresh:!0}))}function p(a){Sa||(Ta=Q("number",[0,1],0.5,a),"object"==typeof z&&Mb(z,qa,$,Ta))}function t(){if("undefined"===typeof tb)return!0;var a=cc();return!!Math.floor(tb)!==!!Math.floor(a.width/a.height)}function C(){var a=cc();tb=a.width/a.height}function Rd(a){if("portrait"===a){ab="portrait";var b="one column"}"landscape"===a&&(ab="landscape",b="two column");Ka.fire({orientation:ab,format:b,
width:ba,height:M});t()&&n();C()}function A(a){a&&(Y=a);g&&aa&&(Y+=qa-2);"object"==typeof z&&(z.style.width=Y+"px");return this}function qc(a){a&&(W=a);g&&aa&&(W=W+2*qa-4);a&&"object"==typeof z&&(z.style.height=W+"px");return this}function nd(){var a=cc(),a=a.width>=a.height,b="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||b&&a?"landscape":"portrait";ab!==a&&Rd(a);n()}function D(){return"object"===typeof z&&"none"!==z.style.display}var ba=380,M=131,z,
H="janrainModal",ma,T,ca="janrainModalOverlay",X,Y=ba,W=M,qa=10,$="#000000",Fa=10,Ta=0.5,xa=1E3,Da=!1,Aa=rc("rel/img/17c96fc4b9c8464d1c95cd785dd3120b.png"),pa="",Sa=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ua=!1,wa="Are you sure you want to quit?",Ea="Yes, quit",Ga="No, stay",mb,ab="landscape",jb=!0,Wa="boolean"===typeof Wa?Wa:"number"===typeof window.orientation?!0:!1,S="boolean"===typeof S?S:janrain.settings.previewMode,Ha=S,ya=ya||!1,tb,Ca=!1;
janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Aa=janrain.settings.capture.modalCloseImage,ua=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(pa=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=V());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=V());var La=V(),na=V(),$a=V(),nb=V(),Ka=V();Oa&&Oa.onOrientationChange&&Oa.onViewportChange&&
(Oa.onOrientationChange.addHandler(function(a){Rd(a.orientation)},!0),Oa.onViewportChange.addHandler(function(){t()&&j(z);C()},!0));"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){D()&&(Ca=!0)},!0),janrain.events.onCaptureContentChange.addHandler(function(){D()&&Ca&&(n(),Ca=!1)},!0));return{isOpen:function(){return D()},setWidth:function(a){A(a);return this},setHeight:function(a){qc(a);return this},setBorder:function(a){("string"==
typeof a||"number"==typeof a)&&f(a);Sa||"object"==typeof z&&Mb(z,qa,$,Ta);return this},setBorderColor:function(a){a&&o(a);Sa||"object"==typeof z&&Mb(z,qa,$,Ta);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&L(a);Sa||"object"==typeof z&&va(z,Fa);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&p(a);return this},setZIndex:function(a){T.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(Ha=a);return this},setId:function(a){H=
a;z&&(z.id=a);return this},show:function(){Wa||(z.style.display="block");"object"==typeof ma&&jb&&(ma.style.display="block");Ha?Wa&&(z.style.display="block"):(T.style.display="block",Wa?(Oa.setElement(z).activate(),z.style.display="block"):(y(window,"resize",nd),nd()));Sa||$a.fire({radius:Bb(Fa,qa),refresh:!1});na.fire();janrain.events.onModalOpen.fire();Zb.fire();z.focus()},close:function(a){b(a)},closeConfirm:function(){e()},refresh:function(a){ya||z.appendChild(X);a&&a.center&&n()},remove:function(){if(Ha){var a=
document.getElementById("previewMode");"object"===typeof X&&z.removeChild(X);"object"===typeof z&&a.removeChild(z);"object"===typeof T&&document.body.removeChild(T);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";T=z=""}else"object"===typeof X&&z.removeChild(X),"object"===typeof T&&document.body.removeChild(T),"object"===typeof z&&document.body.removeChild(z)},addContent:function(b){var c=janrain.events.onAuthWidgetContentPlaced;c&&c.fire();ma=b;if(!z){z=document.createElement("div");
z.id=H;if("number"===typeof Y||"string"===typeof Y)z.style.width=Y+"px";z.style.height=W+"px";z.style.position="absolute";Sa||(z.style.padding=qa+"px",va(z,Fa),Mb(z,qa,$,Ta));z.style.zIndex=1E3;z.style.display="none";T=h();X=pa?a("a"):a();z.appendChild(X);document.body.appendChild(T);document.body.appendChild(z)}z.appendChild(ma);Ha&&n();return this},getContent:function(){return ma},getBorderWidth:function(){return qa},getState:function(){return{width:Y,borderWidth:qa,borderColor:$,borderRadius:Fa,
borderOpacity:Ta,orientation:ab}},setState:function(a){P("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&f(a.borderWidth),"undefined"!==typeof a.borderColor&&o(a.borderColor),"undefined"!==typeof a.borderOpacity&&p(a.borderOpacity),"undefined"!==typeof a.orientation&&Rd(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&L(a.borderRadius),"object"==typeof z&&va(z,Fa)))},setConfirmClose:function(a){Da=a;
return this},setShowContentOnLoad:function(a){jb=a;return this},setConfirmMessageText:function(a){wa=a},setConfirmLinkText:function(a){Ea=a},setCancelLinkText:function(a){Ga=a},onClose:La,onShow:na,onOrientationChange:Ka,onBorderRadiusChange:$a,onBorderWidthChange:nb}}function hf(a){function b(a){"janrainReadyToClose:True"===a.data&&(top.focus(),f=!0,Db(window,"message",b))}function c(a){"janrainPopupHasClosed"===a.data&&(Db(window,"message",c),g&&g.parentNode&&g.parentNode.removeChild(g),"function"===
typeof L&&L())}function e(){var a=window.open(h,"","top="+((window.screen.availHeight||window.screen.height)/2-n/2)+",left="+((window.screen.availWidth||window.screen.width)/2-j/2)+",width="+j+",height="+n+",status=1,location=1,resizable=1,scrollbars=1");jf&&y(window,"message",b);if(kf)y(window,"message",c),g=Fc("janrain-xdr-iframe",janrain.settings.appUrl+"/xdr_iframe");else var e=window.setInterval(function(){f&&a&&(a.close(),f=!1);if(!a||a.closed||void 0===a.closed)window.clearInterval(e),"function"===
typeof L&&L()},500)}var h=a,j=400,n=400,f=!1,g,L;return{show:function(){e()},setWidth:function(a){a&&(j=a);return this},setHeight:function(a){a&&(n=a);return this},setCallback:function(a){a&&(L=a);return this}}}function lf(){function a(a){"function"===typeof a&&(C=a);return this}function b(){f=[];t.innerHTML="";X(arguments,function(a,b){var c=document.createElement("button");c.className="capture_btn capture_secondary";vb(c,a);c.setAttribute("data-index",b.toString());y(c,"click",function(a){a.index=
parseInt(M(a).getAttribute("data-index"));C(a)});f.push(c);t.appendChild(c)});c(f.length-1);return this}function c(a){var b=f[A];b&&p(b).remove("capture_primary").append("capture_secondary");A=a;(b=f[A])&&p(b).remove("capture_secondary").append("capture_primary");return this}function e(){janrain.capture.ui.modal.close();return this}var h,j,f,g,o,L,t,C,A;h="Notice";j="This is a notice.";A=0;(function(){g=document.createElement("div");var a=document.createElement("div"),b=document.createElement("h1"),
c=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";b.className="capture_dialog_title";c.className="capture_dialog_message";e.className="capture_footer";vb(b,h);vb(c,j);a.appendChild(b);g.appendChild(a);g.appendChild(c);g.appendChild(e);o=b;L=c;t=e;return this})();b("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(g);return this},close:e,setTitle:function(a){h=
a;vb(o,h);return this},setMessage:function(a){j=a;vb(L,j);return this},setPrimaryIndex:c,setButtons:b,setCallback:a}}function ae(){function a(){C=(new Date).getTime()-h;if(C<e){var a=Math.round(b()*p+g);j.style[L]=a+"px"}else clearInterval(t),j.style[L]=o+"px",M()}function b(){if("flat"==A)return C*(1/e);if("sinusoidal"==A)return Math.abs(Math.sin(C*(Math.PI/(2*e))))}function c(a){return{x:function(){var b=a.event.clientX-Le(a.boundary).x,b=b<this.boundary_x()?b:this.boundary_x();return 0<b?b:0},
boundary_x:function(){var b=a.boundary.getBoundingClientRect();return b.width||b.right-b.left}}}var e="1000",h,j,f=document,g,o,L="left",p,t,C,A="flat",M,I;return{setAcceleration:function(a){A=a;return this},setCallback:function(a){M=a;return this},setDuration:function(a){e=a;return this},setDirection:function(a){"horizontal"===a&&(L="left");"vertical"===a&&(L="top");return this},setElement:function(a){j=a;return this},setElementBoundary:function(a){f=a;return this},startPosition:function(a){g=a;
return this},endPosition:function(a){o=a;return this},animate:function(){p=o-g;h=(new Date).getTime();t=setInterval(a,10);return this},drag:function(a){var b=this;this.moveHandler=function(a){var b=c({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:f}).x();j.style.left=b+"px";Pc(a);R(a);I&&clearTimeout(I);I=setTimeout(function(){M({pos_x:b})},500)};this.upHandler=function(a){b.unbindDragHandlers();Pc(a);R(a)};y(document,Ec,this.moveHandler);y(document,kd,this.upHandler);
Pc(a);R(a)},unbindDragHandlers:function(){Db(document,kd,this.upHandler);Db(document,Ec,this.moveHandler);return this}}}function Le(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:curtop}}}function V(){return new Gb}function Gb(){this.eventHandlers=[];this.firedEvents=[];this.fireCount=0}function mf(a,b){a.addHandler(b,!0);if(a.permaArgs)for(var c=0,e=a.permaArgs.length;c<e;++c)b(a.permaArgs[c])}function Qc(){ca(janrain.events,function(a,
b){b.eventName=a})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){if(null===this)throw new TypeError;var c=
Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(e),j=0;j<e;j++)j in c&&(h[j]=a.call(b,c[j],j,c));return h});Array.prototype.filter||(Array.prototype.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var h=[],j=0;j<e;j++)if(j in c){var f=c[j];a.call(b,f,j,c)&&h.push(f)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
var H;H||(H={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var h,g,p,t,y=j,K,D=e[a];D&&"object"===typeof D&&"function"===typeof D.toJSON&&(D=D.toJSON(a));"function"===typeof o&&(D=o.call(e,a,D));switch(typeof D){case "string":return b(D);case "number":return isFinite(D)?""+D:"null";case "boolean":case "null":return""+
D;case "object":if(!D)return"null";j+=f;K=[];if("[object Array]"===Object.prototype.toString.apply(D)){t=D.length;for(h=0;h<t;h+=1)K[h]=c(h,D)||"null";p=0===K.length?"[]":j?"[\n"+j+K.join(",\n"+j)+"\n"+y+"]":"["+K.join(",")+"]";j=y;return p}if(o&&"object"===typeof o){t=o.length;for(h=0;h<t;h+=1)"string"===typeof o[h]&&(g=o[h],(p=c(g,D))&&K.push(b(g)+(j?": ":":")+p))}else for(g in D)Object.prototype.hasOwnProperty.call(D,g)&&(p=c(g,D))&&K.push(b(g)+(j?": ":":")+p);p=0===K.length?"{}":j?"{\n"+j+K.join(",\n"+
j)+"\n"+y+"}":"{"+K.join(",")+"}";j=y;return p}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;"function"!==typeof H.stringify&&(H.stringify=function(a,b,e){var h;f=j="";if("number"===typeof e)for(h=0;h<e;h+=1)f+=" ";else"string"===typeof e&&(f=e);if((o=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof H.parse&&(H.parse=function(a,b){function c(a,e){var h,j,f=a[e];if(f&&"object"===typeof f)for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(j=c(f,h),void 0!==j?f[h]=j:delete f[h]);return b.call(a,e,f)}var h,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof b?c({"":h},""):h;throw new SyntaxError("JSON.parse");})})();var o;(function(){function a(a){return function(b){if("boolean"!==typeof b)throw Error("argument must be true or false");janrain.settings.debug.tagFilter[a]=b;window.localStorage&&(localStorage.janrainDebugTagFilter=H.stringify(janrain.settings.debug.tagFilter))}}janrain.settings.debug=janrain.settings.debug||{};var b={enabled:!1,logLevel:"log",logEvents:!1,
tagFilter:{untagged:!0}};if(window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel),localStorage.janrainDebugTagFilter))try{janrain.settings.debug.tagFilter=H.parse(localStorage.janrainDebugTagFilter)}catch(c){}Da(b,janrain.settings.debug);janrain.settings.debug=b;var e=function(){return function(a){if(!a||1>a.length)a="";var b=Error(a),a="Error: "+a+
" at:\n";return"string"===typeof b.stack?0===b.stack.indexOf("Error:")?b.stack:a+b.stack:"[stack trace unavailable]"}}();o=function(){function a(b){var c=b.level>=g[janrain.settings.debug.logLevel]&&janrain.settings.debug.tagFilter[b.tag];if(window.console&&c){c="#"+b.id+" "+b.message;"untagged"!==b.tag&&(c="["+b.tag+"] "+c);try{console[b.type](c)}catch(e){console[b.type](c)}}}function b(j,p){return function(){var b,t;1===arguments.length?(b="untagged",t=arguments[0]):2===arguments.length?(b=arguments[0],
t=arguments[1]):o.forceError("debug logging functions must be called with exactly 1 or 2 arguments");if(janrain.settings.debug.enabled||p)f++,t={stack:e(t),level:g[j],tag:b,id:f,type:j,date:new Date,message:t},c.push(t),a(t)}}var c=[],f=0,g={};X(["log","info","warn","error"],function(a,b){g[a]=b});return{log:b("log"),info:b("info"),warn:b("warn"),error:b("error"),forceWarn:b("warn",!0),forceError:b("error",!0),logEvents:function(){for(var a in janrain.events)"function"===typeof janrain.events[a].addHandler&&
janrain.events[a].addHandler(function(a){return function(b){o.log(a+": "+b)}}(a))},trace:function(a){var b=c[a-1];b?console.log(b.stack):console.error("No such log entry #"+a)},dump:function(){X(c,a)}}}();janrain.debug={dump:o.dump,trace:o.trace,enable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="true")},disable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="false")},$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};
X(["jtl","event","untagged"],function(b){janrain.debug["show"+(b.charAt(0).toUpperCase()+b.substring(1))]=a(b)})})();var nf=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;kb=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?
document.documentElement.clientHeight:0;lb=nf;var Hc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,qd=[],md=!1,aa="CSS1Compat"!==document.compatMode,Qb=!1,xa=!1,f=[],Rb="884cf95";document.createElement("input");var Rc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
wd=null!==Rc?Rc[0]:!1,ya="number"===typeof window.orientation||null!==Rc,Zd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Ge="January,February,March,April,May,June,July,August,September,October,November,December".split(","),of=[16,20,30,32,48,50,64],Me=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],pf=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];Ja=13;ye=38;Ae=40;xe=37;ze=39;we=9;Qd=27;var Sc="ontouchstart"in window;ve=Sc?"touchstart":"mousedown";kd=Sc?"touchend":"mouseup";Ec=Sc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Fc("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){y(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){md=!0})});Ba.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var ua=navigator.userAgent,g=bc(),Tc=document.documentMode,Lc=/Gecko\//.test(ua),Mc=/AppleWebKit\//.test(ua);/Chrome\//.test(ua);var kf=/CriOS\//.test(ua),xd=Ic(),qf=Jc(),rf=function(a){var a=a||ua,b=a.indexOf("OS "),c=0;Jc(a)&&-1<b&&(c=Number(a.substr(b+3).split(" ")[0].split("_")[0]));return c}(),jf=qf&&6===
rf&&xd,gf=function(a){a=a||ua;return/android/i.test(a)&&/linux/i.test(a)&&!/chrome/i.test(a)&&!/opera/i.test(a)&&!/firefox/i.test(a)}(),P=function(){var a=function(a){for(var b=[],f=0;f<a.length;f++)b.push(a[f]);return b},b={};janrain.settings&&janrain.settings.permissions&&(b.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(b.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!b[e]?!1:0<=b[e].indexOf(a)}}();
Fb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
W.isCloneable=function(a){return a&&(ib(a)||t(a))};var Ne=function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=b.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),b=b.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,""),a.innerHTML=b,b=a.textContent||a.innerText,a.innerHTML="");return b}}(),$=function(a,b,c){$=document.getElementsByClassName?function(a,b,c){for(var a=(b||document).getElementsByClassName(a),c=c?RegExp("\\b"+c+"\\b","i"):null,b=[],f,g=0,o=a.length;g<
o;g+=1)f=a[g],(!c||c.test(f.nodeName))&&b.push(f);return b}:function(a,b,c){var c=c||"*",b=b||document,f=a.split(" "),a=[],b="*"===c&&b.all?b.all:b.getElementsByTagName(c),c=[],g;g=0;for(var o=f.length;g<o;g+=1)a.push(RegExp("(^|\\s)"+f[g]+"(\\s|$)"));for(var o=0,p=b.length;o<p;o+=1){f=b[o];g=!1;for(var t=0,y=a.length;t<y&&!(g=a[t].test(f.className),!g);t+=1);g&&c.push(f)}return c};return $(a,b,c)},Oe=function(){return!1};o.info("Debugging mode is on. Run: \nlocalStorage.janrainDebugEnabled = false; \nin the console to turn it off.");
window.localStorage&&"true"===localStorage.janrainLocalWidgetCodeEnabled&&o.forceWarn("Local code mode is on. Run: \nlocalStorage.janrainLocalWidgetCodeEnabled = false; \nin the console to turn it off.");g&&(o.info("[ Internet Explorer ]\nVersion       : "+g+"\nDocument Mode : "+Tc),g!==Tc&&o.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),c=a.length;X(b,function(a){"stylesheet"===
a.rel&&c++});return c}()&&o.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&o.warn("The widget might be running inside a frame. Watch out for cross origin issues.");janrain.settings.custom&&o.warn("janrain.settings.custom is true. Customer must provide their own UI.");setTimeout(function(){janrain.ready||o.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},
1E4);for(var Oa=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,C);y=n().content;o();p();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){D(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});g()},
!1),setTimeout(g,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,g,!1)},!1));I.addHandler(function(){b({height:window.innerHeight,width:window.innerWidth},0)},!0);H.addHandler(function(a){kb=a.height;lb=a.width},!0);window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,g,!1)},!1)}function b(a,c){var e=window.innerHeight,f=window.innerWidth,g=!0,h=!0;e!=a.height&&(g=!1);f!=a.width&&(h=!1);g&&h?20>c?setTimeout(function(){b({height:e,
width:f},++c)},100):H.fire({height:e,width:f}):setTimeout(function(){b({height:e,width:f},0)},100)}function c(){setTimeout(function(){t(y)},20);e(C,document.body)}function e(a,b){for(var c=0;c<a.style.length;c++){var e=a.style[c];b.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===window.orientation||180===window.orientation)&&lb>kb||(90===window.orientation||-90===window.orientation)&&kb>lb?!1:!0;var b="landscape";if(a&&(0===window.orientation||
180===window.orientation))b="portrait";if(!a&&(90===window.orientation||-90===window.orientation))b="portrait";return b}function g(){var a=f();R||t("width=device-width, initial-scale=1, maximum-scale=1");I.fire({orientation:a})}function n(){var a=document.getElementsByTagName("meta"),b;for(b in a)if("viewport"===a[b].name)return a[b];return!1}function o(){if("undefined"===typeof document.getElementsByTagName||n())return!1;var a=document.getElementsByTagName("head")[0],b=document.createElement("meta");
b.setAttribute("name","viewport");a.appendChild(b);return!0}function p(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function t(a){var b=n();if(!b||b.content==a)return!1;if("undefined"===typeof a){var c=n();document.getElementsByTagName("head")[0].removeChild(c)}b.content=a;return!0}var y,C=document.createElement("div"),A=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
M=null!==A?A[0]:!1,I=V(),H=V(),R=M?M.match(/android|\Wsilk\W/):!1,D=function(){var a=window.orientation,b={height:screen?screen.height:0,width:screen?screen.width:0},c={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,g,h){var j=!1,o=function(a,b){return a.height>=a.width&&b.height>=b.width||a.width>a.height&&b.width>b.height?!0:!1},n=a===f,p=o(g,b),t=o(h,c);if(!n&&(!p||!t))j=!0;!n&&!p&&(e=!0);j&&(e&&!o(g,h)&&(j=h.height,h.height=h.width,h.width=j),kb=h.height,lb=h.width);
a=f;b={height:g.height,width:g.width};c={height:h.height,width:h.width}}}();return{setElement:function(){return this},onOrientationChange:I,onViewportChange:H,getMobileDevice:function(){return M},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()},isAndroid:function(){return R}}}(),rc=function(a){var b;b="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";b=b.replace(/\/$/,"");return b+"/"+a},Uc={openId:{blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},
openId2:{aol:{flow:"aol",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},flickr:{flow:"flickr",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{flow:"google",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{flow:"hyves",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{flow:"myopenid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{flow:"paypal",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{flow:"verisign",
width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{flow:"yahoo",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:640,height:480,color:"#3B5998",friendlyName:"Facebook",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tencentweibo:{flow:"tencentweibo",
width:800,height:650,color:"#93C5EA",friendlyName:"Tencent Weibo",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0,image:!0,media:!0}}}},qq:{flow:"qq",width:800,height:650,color:"#4BB6EE",friendlyName:"QQ",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0}}}},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,
height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mydigipass:{flow:"mydigipass",width:900,height:650,color:"#D34836",friendlyName:"MYDIGIPASS.COM"},odnoklassniki:{flow:"odnoklassniki",width:600,height:500,color:"#000000",friendlyName:"Odnoklassniki"},doccheck:{flow:"doccheck",width:850,height:600,color:"#D34836",
friendlyName:"DocCheck"},medikey:{flow:"medikey",width:850,height:650,color:"#D34836",friendlyName:"Medikey"},paypal_openidconnect:{flow:"paypal_openidconnect",width:600,height:600,color:"#1A3665",friendlyName:"PayPal"},xing:{flow:"xing",width:950,height:550,color:"#006567",friendlyName:"XING",shareSettings:{broadcast:{counter:{max:420,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,
googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},fimnet:{fimnet:{flow:"fimnet",width:514,height:550,color:"#336699",friendlyName:"FiMnet"}},saml2:{samltest:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"SAML Test"},lilly:{flow:"saml2",width:910,height:565,color:"#ED1D23",friendlyName:"Lilly"},jnj:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"J&J"},media_id:{flow:"saml2",
width:675,height:600,color:"#3D4D8F",friendlyName:"Media ID"}}},La={},Vc=["openId","openId2","oauth","fimnet","saml2"];0<Vc.length;){var Wc=Vc.pop(),Xc;for(Xc in Uc[Wc])La[Xc]=Uc[Wc][Xc]}var be=[],I=function(){var a=[];return{log:function(b){var c={};c.id=a.length+1;c.message=b;a.push(c);return this},show:function(){if(0!=a.length){for(var b in a)if("undefined"!==typeof a[b].id){var c=a[b];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+
c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();Gb.prototype.addHandler=function(a,b){var b=b||!1,c=this.eventName?this.eventName:"???";0<this.fireCount&&o.warn("Adding handler for event "+c+" but it has already been fired "+this.fireCount+" time(s).");"???"!==c&&0<Lb.fireCount&&!1===b&&o.warn("Adding handler for event "+c+" but janrain.capture.ui.start() has already been called.");this.eventHandlers.push(a);return this.eventHandlers.length-
1};Gb.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Gb.prototype.fire=function(a){var b=this;this.fireCount++;this.eventName&&o.log("event",this.eventName);X(this.eventHandlers,function(c){try{"function"===typeof c&&c(a)}catch(e){setTimeout(function(){o.forceError("Error in event handler for '"+b.eventName+"'");throw e;},0)}});a&&!0===a.save&&(delete a.save,this.firedEvents.push({event:this,args:a}))};"undefined"===typeof janrain.events&&(janrain.events=
{});Zb=void 0;rb=void 0;Lb=void 0;rb||(rb=V());Zb||(Zb=V());Lb||(Lb=V());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=V());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=V());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=V());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=V());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=V());janrain.events.onProviderLoginToken||
(janrain.events.onProviderLoginToken=V());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=V());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=V());(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}Aa(function(){return a()?(janrain.events.onAuthWidgetLoad.fire(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Auth widget loaded poll failing. Is the auth widget loading?").start()})();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFieldsChanged,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccess,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen,onCapturePluralItemEdit,onCapturePluralItemCreate,onCapturePluralItemDelete,onCapturePluralItemSave".split(",");
for(var gc=0,sf=janrain.events.captureEvents.length;gc<sf;gc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[gc]]&&(janrain.events[janrain.events.captureEvents[gc]]=new Gb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureControlSuccesss=janrain.events.onCaptureControlSuccess;janrain.settings.capture.oldEvents&&(janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart,janrain.events.onCaptureStartLogin=
janrain.events.onCaptureLoginStart,janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess,janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess,janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed,janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed,janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess,janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed,
janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess,janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed,janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess,janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed,janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed);janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&pd(janrain.settings.capture.ssoFileUrl||
(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainsso.com":"https://d1v9u0bgi1uimx.cloudfront.net")+"/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=!1}).load();(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;
return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}Aa(function(){return a()?(X(janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad||[],Nc),"function"===typeof janrainCaptureWidgetOnLoad&&janrainCaptureWidgetOnLoad(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Capture widget loaded poll failing. Is the capture widget loading?").start()})();Qc();var uf=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",
providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function b(){var a;Ua&&(ib=q());l=h();pb=z();G=document.createElement("div");G.className="janrainContent";G.style.width=O+"px";G.style.height=j()+"px";G.style.paddingLeft=s+"px";G.style.paddingRight=s+"px";G.style.boxSizing="content-box";40===bb&&(G.style.paddingTop=s-1+"px");xa||(G.style.backgroundColor=ma);xa||(G.style.border=Ma?"1px solid "+la:"1px solid "+ma);
G=va(G,F);xa||(G.style.overflow="hidden");G.style.position=Ma?"relative":"absolute";Ka=C();2==l||0==l?(Xa=(new p).setSide("right").create(),Ya=(new p).setSide("left").create()):(Xa=(new p).setSide("top").create(),Ya=(new p).setSide("bottom").create());a=A();" "!==e()&&a.appendChild(pb);if(xa){var i=K("blank");i.style.display="none";a.appendChild(i)}a.appendChild(Ka);!xa&&Xa&&Ya&&(a.appendChild(Xa),a.appendChild(Ya));0<l&&Ua&&a.appendChild(ib);G.appendChild(a);P("customizable_auth_widget_styling")||
c(G);Qb||I.show();setTimeout(function(){rb.fire()},0)}function c(a){function b(a){var c="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;c&&(c.cssText&&(c=c.cssText),a.style.setAttribute?a.style.setAttribute("cssText",c.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",c.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),i=0,f=e.length;i<f;i++)"janrainProviderPages"===e[i].id||"janrainSlideControl"===e[i].className||
"janrainSlideControl"===e[i].parentNode.className||b(e[i]);b(a)}function e(){if(fa&&(fa==a().twoColumn.actionText||fa==a().oneColumn.actionText||fa==a().oneRow.actionText))ka=!1;return ka&&fa?fa:f.translate.HEADER?f.translate.HEADER:"two column"===w?a().twoColumn.actionText:"one column"===w?a().oneColumn.actionText:"one row"===w?a().oneRow.actionText:fa}function h(){var a=w;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function j(){var a=" "===fa?0:
cb+s,b=Ua&&"one row"!==w?Ra+s:0;return n()+a+b}function o(){var a=parseInt(Ka.style.left),b=parseInt(Ka.style.top),c;1==l?parseInt(Ka.style.height):parseInt(Ka.style.width);2==l&&(c=(O-3*s-(2==l?10:0))/l);if("one column"===w){if(" "===fa&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-(cb-(s+1)))return 0}0==l&&(c=O-100);if(0>a&&a<-c)return 1;if(0<a||a>=-s)return 0}function n(){if("two column"===w)var a=oa/2;"one column"===w&&(a=oa);"one row"===w&&(a=1);var b="one row"===w?0:2*a,c="one column"===
w?3*s:0;if(7===g||6===g||g&&aa){if("two column"===w&&(c=s,7===g||6===g))c=2*s;if("one column"===w&&(c=3*s,(7===g||6===g)&&!aa))c+=s;if("one row"===w&&(7===g||6===g))c=s}"one column"===w&&na<=oa&&(c=g&&aa?c+2*s:c-2*s);return U*a+s*(a+1)+b+c}function p(){function a(){var b;j="over";var ob=o();if(0==ob&&"left"===i||0==ob&&"top"===i||1==ob&&"right"===i||1==ob&&"bottom"===i)return this.style.cursor="default",q.onclick="",!1;var f=this;setTimeout(function(){if(1===l){if("over"!==j)return!1;g&&(e.style.display=
"block");h.style.display="block";q.onclick=c;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");b="top"==i||"bottom"==i?parseInt(a.style.top):parseInt(a.style.left);var ob="right"===i||"bottom"===i?b-Za:b+Za;"top"===i||"bottom"===i?a.style.top=ob+"px":a.style.left=ob+"px";l=2}},g?50:100)}function b(){var a;j="out";var c=o();if(1==c&&"right"===i||0==c&&"left"===i||0==c&&"top"===i||1==c&&"bottom"===i)return!1;setTimeout(function(){if(2===l){if("out"!==j)return!1;g&&(e.style.display=
"none");h.style.display="none";var b=document.getElementById("janrainProviderPages");a="top"==i||"bottom"==i?parseInt(b.style.top):parseInt(b.style.left);var c="right"===i||"bottom"===i?a+Za:a-Za;"top"===i||"bottom"===i?b.style.top=c+"px":b.style.left=c+"px";l=1}},g?200:400)}function c(){h.style.display="none";q.style.cursor="default";t(i,function(a){v(a);l=1})}var e,i,f,h,B={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},j="",l=1,q;return{setSide:function(a){i=a;return this},
create:function(){var g;if(na<=oa)g=!1;else{g=document.createElement("div");g.setAttribute("id","janrainShim_"+i);g.style.background="black";"top"===i||"bottom"===i?(g.style.height="19px",g.style.width="100%"):(g.style.height="100%",g.style.width="17px");ya?(g.style.filter="alpha(opacity=100)",g.style.opacity=100):(g.style.filter="alpha(opacity=0)",g.style.opacity=0);g.style.position="absolute";g.style.zindex="99";if("top"===i||"bottom"===i)g.style.left="0";g.style[i]=s+"px";g.style.top="one column"!==
w?s+1+"px":"top"===i?"10px":"0px";g.style.display="none";e=g;g=document.createElement("div");g.style.backgroundColor=ya?"green":ma;g.className="janrainSlideControllerMask";g.style.position="absolute";"one column"!==w&&(g.style.width=s+"px",g.style.height="100%",g.style.top="0px",g.style[i]="0px",g.style.borderWidth="1px","right"===i&&(!Ua||"one row"===w)&&va(g,null,0,0,F,0),"left"===i&&(!Ua||"one row"===w)&&va(g,null,0,0,0,F),"right"===i&&" "===fa&&va(g,null,0,F,F,0),"left"===i&&" "===fa&&va(g,null,
F,0,0,F));"one column"===w&&(g.style.height=s+"px",g.style.fontSize="0px",g.style.width="100%",g.style.padding="0px",g.style[i]="0px","top"===i&&" "===fa?va(g,null,F,F,0,0):"bottom"===i&&!Ua&&va(g,null,0,0,F,F));"one row"===w&&(g.style.height="105.5%");f=g;g=document.createElement("div");g.setAttribute("id","janrainArrow_"+i);g.style.background="url("+rc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+B[i]+" transparent";g.style.height="19px";g.style.width="17px";g.style.position=
"absolute";if("top"===i||"bottom"===i)g.style.left=O/2+"px";g.style[i]=s+"px";g.style.top="one column"!==w?n()/2-2*s+1+"px":"top"===i?"10px":"0px";g.style.display="none";h=g;g=document.createElement("div");g.className="janrainSlideControl";g.style.backgroundColor=ya?"purple":"transparent";"one column"===w?(g.style.width=O+4+"px",g.style.left="3px","top"==i?(g.style.height=s+"px",g.style.top=cb+s+"px"," "===fa&&(g.style.left="0px",g.style.top="0px",g.style.width=O+10+"px")):(g.style.height="20px",
g.style.bottom=(Ua?Ra+s:0)+"px",va(g,null,0,0,F,F))):(g.style.width="right"===i?"20px":"0px",g.style[i]="0px",g.style.height=n()-(s*(" "===fa)?1:2)+"px",40===bb&&"one row"===w&&"left"===i&&(g.style.left=Oa+"px"),"right"===i&&!Ua&&va(g,null,0,0,F,0),"left"===i&&!Ua&&va(g,null,0,0,0,F));g.style.position="absolute";g.style.zIndex="100";g.style.cursor="pointer";g.onmouseover=a;g.onmouseout=b;g.onclick=c;q=g;q.appendChild(f);q.appendChild(e);q.appendChild(h);g=q}return g}}}function t(a,b){var c=document.getElementById("janrainProviderPages"),
e=new ae;if("top"===a||"bottom"===a){if(" "===fa)var i=-(n()-U),f=0;else i=-(n()-U-cb-s),f=cb+s;50===U&&(i-=20);g&&aa&&(i+=s," "!==fa&&(f+=s));e.setElement(c).setAcceleration("sinusoidal").setDuration(100*oa).startPosition(parseInt(c.style.top)).endPosition("bottom"===a?i:f).setDirection("vertical").setCallback(function(){b(a)}).animate()}else g&&aa?(i=-(O-2*s-39),"one row"===w&&(i=-(Oa-1*s))):(i=-(O-32),"one row"===w&&(i=-(O-24))),e.setElement(c).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(c.style.left)).endPosition("right"==
a?i:s).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function q(){var a=document.createElement("div");a.style.backgroundColor=ya?"aqua":ma;a.style.width=O+"px";a.style.height=Ra+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=s+"px";a.style.paddingRight=s+"px";a.style.paddingBottom=s+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=wa;a.style.fontFamily=Va;va(a,null,0,0,F,F);var b=document.createElement("div"),c=
janrain.settings.translate.POWERED_BY_PREFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_PREFIX:"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_SUFFIX:" by Janrain";b.style.paddingLeft="1px";var i=document.createElement("a");i.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Fb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");
i.setAttribute("target","_blank");i.appendChild(document.createTextNode(c+e));b.appendChild(i);a.appendChild(b);return a}function z(){var a=document.createElement("div");a.style.backgroundColor=ya?"orange":ma;a.className="janrainHeader";a.style.fontSize=Ia+"px";a.style.color=wa;a.style.position="relative";a.style.height=cb+"px";40===bb&&(a.style.cssFloat="left");a.style.left=40===bb?"-6px":"-5px";a.style.paddingLeft=s+"px";a.style.paddingRight=s+"px";a.style.paddingTop=s+"px";a.style.paddingBottom=
"0px";a.style.whiteSpace="nowrap";a.style.width=40===bb?"81px":O+"px";a.style.zIndex="100";40===bb?va(a,null,F,0,0,F):va(a,null,F,F,0,0);40===bb&&(a.style.marginTop="-3px");a.style.textAlign="one column"===w?"center":"left";var b=e();Fa=document.createElement("div");Fa.style.paddingLeft="1px";Fa.style.fontFamily=Va;" "!==b&&Fa.appendChild(document.createTextNode(b));a.appendChild(Fa);return a}function A(){var a=document.createElement("div");a.id="janrainView";return a}function C(){var a,b;function c(e){e=
e.touches[0];"one column"===w?a=e.pageY:b=e.pageX}function e(c){c.preventDefault();c=c.touches[0];c="one column"===w?a-c.pageY:b-c.pageX;if(35<c||-35>c){var i;i="one column"===w?0<c?"bottom":"top":0<c?"right":"left";var g=o(),f=!0;"bottom"===i&&g+1==n&&(f=!1);"top"===i&&0==g&&(f=!1);"left"===i&&0==g&&(f=!1);"right"===i&&g+1==n&&(f=!1);f&&("one column"===w?h.style.top=parseInt(h.style.top)-c+"px":h.style.left=parseInt(h.style.left)-c+"px",t(i,function(){v()}),h.ontouchmove="")}}function i(){h.ontouchmove=
e}var f,h,B,j,n,p=l,q=[];j=D();n=xa?1:Math.ceil(na/oa);2<n&&I.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");xa&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===g||7===g)&&g&&aa?2*s:s+"px";if((6===g||7===g)&&!aa)h.style.paddingTop=s+4+"px";1<n&&(h.ontouchstart=c,h.ontouchmove=e,h.ontouchend=i);40===bb&&"one row"===w?h.style.left=Oa+s+"px":g&&aa?"one column"!==w&&(h.style.left=
s+"px"):h.style.left=s+"px";40===bb&&"one row"===w&&(h.style.cssFloat="left");40===bb&&"one row"===w&&(h.style.marginTop="1px");"one column"===w&&(h.style.top=(g&&aa?1:0)+cb+s+"px");"one row"!==w&&" "===fa&&(h.style.top="0px");"one column"===w&&" "===fa&&(h.style.top="0px");f=O*n;h.style.position=g&&aa&&"one column"===w?"relative":"absolute";"two column"===w&&!(na<=oa)&&(h.style.width=f+"px");"one row"===w&&(h.style.width=(!0===xa?O+s:2*O)+"px");xa&&(p=0);b=0;a=0;for(var y=0;y<n;y++){for(B=0;B<=p;B++)q[B]=
document.createElement("ul"),q[B].className="providers",q[B].id="janrainProviders_"+B,1<p&&(q[B].style.cssFloat="left"),1<p&&(q[B].style.styleFloat="left"),q[B].style.listStyleType="none",q[B].style.marginTop="0px",q[B].style.marginLeft="0px",q[B].style.marginRight="0px",q[B].style.marginBottom="0px",q[B].style.padding="0px";f=document.createElement("div");f.className="janrainPage";f.setAttribute("pageIndex",y);g&&aa&&1===n&&(f.style.width="110%");for(B=0;B<p;B++)f.appendChild(q[B]);if(xa||1>l)for(B=
0;B<=p;B++)f.appendChild(q[B]);for(var tf=j.length%2,z=xa?na:oa,A=0;A<z&&!(0==j.length);A++){if(2==p)var u=1==tf?q[j.length%2?0:1]:q[j.length%2];if(1==p||0==p)u=q[0];B=j.shift();u.appendChild(B)}h.appendChild(f)}return h}function v(a){0==o()?("left"===a&&(Ya.style.width=s+"px",Xa.style.display="block",Xa.style.width="20px"),"top"===a&&(Xa.style.height=s+"px",Ya.style.display="block",Ya.style.height="20px")):("right"===a&&(Xa.style.width=s+"px",Ya.style.display="block",Ya.style.width="20px"),"bottom"===
a&&(Ya.style.height=s+"px",Xa.style.display="block",Xa.style.height="20px"))}function D(){for(var a=[],b=0;b<na;b++){var c=K(ra[b],b+1);a.push(c)}if("one column"==w){var e=a.slice(0),b=function(){var a=-Infinity,b,c,i=function(){b=e[c].children[0].children[1];return void 0!==b};for(c=0;c<e.length;c++)i()&&(a=Math.max(a,b.offsetWidth));for(c=0;c<e.length;c++)i()&&(b.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(b,!0):janrain.events.onAuthWidgetContentPlaced.addHandler(b,
!0);janrain.events.onCustomizationChange.addHandler(b,!0)}return a}function M(a,b){b.style.cursor="pointer";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.setAttribute("id","janrain-"+a);b.setAttribute("role","button");"one row"===w?b.style.background="transparent":("gradient"===Ba&&od(b,"bottom, #eeeeee, #ffffff"),"gray"===Ba&&(b.style.backgroundColor="#eeeeee"),"white"===Ba&&(b.style.backgroundColor="#ffffff"));y(b,"mouseover",function(){bc();"one row"===w?b.style.background="transparent":
(b.style.backgroundColor="#E3E3E3",b.style.backgroundImage="")});y(b,"mouseout",function(){bc();"one row"===w?b.style.background="transparent":("gradient"===Ba&&od(b,"bottom, #eeeeee, #ffffff"),"gray"===Ba&&(b.style.backgroundColor="#eeeeee"),"white"===Ba&&(b.style.backgroundColor="#ffffff"))});Qb||L(b,a);return b}function K(a,b){function c(b){if(La&&La[a])return La[a][b]}var e=document.createElement("li");e.style.listStyle="none";0==l&&!1===xa&&(e.style.cssFloat="left");0==l&&!1===xa&&(e.style.styleFloat=
"left");e.style.height=g&&aa?U+2:U+"px";if("two column"==w){var i=xa?3*s:na<=oa?0:3*s;e.style.width=6===g||bc&&aa?(O-i-4*s)/l+"px":(O-i-(2==l?10:0))/l+"px"}e.style.marginTop="0px";if("one column"==w){if(7==g||6==g)e.style.marginTop="-1px";g&&aa?e.style.marginRight="0px":e.style.width=O-s/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=s+"px";0==l&&(e.style.width=U+"px");e.style.marginBottom=(7===g||6===g||g&&aa?3:s)+"px";e.style.position="relative";0!=l&&(e.style.border="1px solid "+db);
0!=l&&va(e,Ja);var i=document.createElement("a"),f=document.createElement("span"),h=document.createElement("span");"undefined"!==typeof b&&(i.tabIndex=b);i.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";i.style.fontSize="12px";i.style.lineHeight="14px";i.style.marginLeft="auto";i.style.marginRight="auto";i.href="javascript:void(0);";i.style.textDecoration="none";i.style.display="block";i.style.paddingLeft="5px";i.style.paddingRight="5px";i.style.textAlign="left";h.className="janrain-provider-text-color-"+
a;h.style.fontFamily=Va;h.style.cursor="pointer";h.style.marginLeft="7px";h.style.textAlign="left";30==U&&(f.className="janrain-provider-icon-24 janrain-provider-icon-"+a,f.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==U&&(f.className="janrain-provider-icon-32 janrain-provider-icon-"+a,f.style.marginTop="9px",f.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign=
"top",h.style.display="inline-block");"one column"==w&&(i.style.textAlign="center");"two column"==w&&275>O&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,i.style.textAlign="center");2==l&&(30==U&&(i.style.width="auto"),50==U&&(f.style.marginLeft="5px"));if(0==l&&(30==U||50==U)){var f=document.createElement("a"),B=document.createElement("span"),j=document.createTextNode(a);"undefined"!==typeof b&&(f.tabIndex=b);f.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+
a;f.style.marginTop="0px";f.href="javascript:void(0);";f.style.textDecoration="none";f.style.display="block";B.style.display="inline-block";B.style.textIndent="-9999px"}if(c("customSAML")||c("customOpenid")){var n=c("friendlyName")||"Sign In",o=document.createTextNode(n);if(1==l||2==l){if(30==U||50==U)f.style.backgroundImage="url("+c("largeIcon")+")",h.appendChild(o),h.style.color=c("color")||"#000000";if(15<=o.length){var p="undefined"!==typeof o.textContent?"textContent":"nodeValue";o[p]=o[p].substr(0,
15)}}if(0==l&&(30==U||50==U))j=document.createTextNode(n),f.style.backgroundImage="url("+c("largeIcon")+")";g&&10>g&&(f.style.backgroundImage="none",f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+c("largeIcon")+"')")}else if("blank"!==a&&(1==l||2==l))30==U&&(f.style.backgroundColor="transparent",h.innerHTML=La[a].friendlyName),50==U&&(f.style.backgroundColor="transparent",h.innerHTML=La[a].friendlyName);6===g&&"one row"!==w&&(n=document.createElement("div"),
n.style.height=f.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+f.src+"')",f.style.filter="alpha(opacity=0)",n.appendChild(f),e.appendChild(n));0==l?(e.appendChild(f),f.appendChild(B),B.appendChild(j)):(e.appendChild(i),i.appendChild(f),i.appendChild(h));return M(a,e)}function R(a,b){var c=document.createElement("a"),e=f.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",b),i=document.createElement("span"),
e=document.createTextNode(e),h=document.createElement("span");i.className="janrain-provider-text-color-"+a;c.href="javascript:void(0);";c.style.textDecoration="none";c.style.display="block";if("customopenid"===a){var B=document.createElement("span");document.createElement("span");B.className="janrain-provider-icon-32 janrain-provider-icon-"+a;B.style.backgroundImage="url("+$a.largeIcon+")";i.style.color=$a.customOpenIdProviderColor||"#000000";10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+
$a.largeIcon+"')")}else"customsaml"===a?(B=document.createElement("span"),document.createElement("span"),B.className="janrain-provider-icon-32 janrain-provider-icon-"+a,B.style.backgroundImage="url("+nb.largeIcon+")",i.style.color=nb.customSAMLProviderColor||"#000000",10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+nb.largeIcon+"')")):(B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+
a);h.style.display="inline-block";h.style.verticalAlign="top";h.style.fontFamily=Va;var n=document.createElement("div"),o=7.5*e.length+30,p=j();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==l||120>p)15<=e.length&&(n.style.fontSize="14px",o=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",o=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",o=5*e.length+50),30<=e.length&&(o="undefined"!==typeof e.textContent?"textContent":"nodeValue",e[o]=e[o].substr(0,26)+
"...",o=162);n.style.width=o+"px";if(0==l||116>p)"customopenid"===a?(B=document.createElement("span"),document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a,B.style.backgroundImage="url("+$a.largeIcon+")",i.style.color=$a.customOpenIdProviderColor||"#000000",g&&10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+$a.largeIcon+"')")):"SAML"===a?(B=document.createElement("span"),
document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a,B.style.backgroundImage="url("+nb.largeIcon+")",i.style.color=nb.customSAMLProviderColor||"#000000",g&&10>g&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+nb.largeIcon+"')")):(B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===U&&(h.style.marginTop="9px",h.style.fontSize=
"12px",B.style.marginTop="3px");50===U&&(h.style.marginTop="16px",B.className="janrain-provider-icon-32 janrain-provider-icon-"+a,B.style.marginTop="9px");"one row"===w&&30===U&&(B.style.marginTop="-1px");h.appendChild(i);i.appendChild(e);B.style.marginRight="10px";B.style.verticalAlign="top";c.style.overflow="hidden";c.style.position="relative";c.style.height=("one row"!==w?U:25)+"px";c.style.marginBottom="one row"===w?"-4px":"4px";"one row"===w&&(c.style.top="-4px");c.style.left="0px";g&&aa&&(c.style.marginRight=
"5px");g&&aa&&(c.style.marginLeft="3px");c.style.border="1px solid "+db;va(c,Ja);"customopenid"===a&&(c.style.color=La[a].color);6===g||7===g||g&&aa?n.style.left="10px":n.style.margin="0 auto";n.appendChild(B);n.appendChild(h);0==l&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==l||116>p?(c.appendChild(n),n.style.width="auto"):(50===U&&parseInt(c.style.height),h.style.cssFloat="none",h.style.styleFloat="none",c.appendChild(B),c.appendChild(h));return M(a,c)}function L(a,b){y(a,"click",function(){H(b)})}
function H(a){var b=La[a],c={appUrl:f.appUrl,mobileDevice:wd,language:f.language,popup:tb,tokenUrl:Oe(Wa.linkAccounts)||rd(f.tokenUrl||location.href,Wa)||location.href,facebookPermissions:Sa,forceReauth:ab,widgetType:"auth",tokenAction:jb,bpChannel:Pb,customOpenid:mb,customOpenidOpxblob:f.customOpenidOpxblob,extParams:f.extParams,scopes:Ob};b.name=a;new sb(b,c,function(){Ca||(Tb=setTimeout(function(){Ga(b)},300))})}function T(){var a=document.createElement("div");a.style.position="absolute";a.style.top=
"0px";a.style.left="0px";a.style.width=O+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=s+"px";a.style.backgroundColor=ma;a.style.height=j()-(g&&aa?0:2*s)+"px";va(a,F);return a}function N(a){var b=document.createElement("a"),c=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");b.setAttribute("class","janrainSwitchAccountLink");b.setAttribute("href","");b.style.fontSize="12px";b.style.fontFamily=Va;b.style.color=wa;b.onclick=a;b.appendChild(c);return b}
function Y(){return"modal"===S?document.getElementById("janrainModal"):"embed"===S?document.getElementById("janrainEngageEmbed"):!1}function X(){var a=parseInt(G.style.width);return a=a+2*s+2}function W(){var a=Y();null!==a&&"object"===typeof G&&G.parentNode===a&&a.removeChild(G)}function $(){var a="";"object"===typeof u&&(a=u.getState());return{type:S,width:X(),fontFamily:Va,fontSize:Ia,fontColor:wa,backgroundColor:ma,borderColor:la,borderRadius:F,format:w,providersPerPage:oa,providers:ra,buttonBackgroundStyle:Ba,
buttonBorderColor:db,buttonBorderRadius:Ja,actionText:e(),showAttribution:Ua,modalState:a}}function da(a){w=Q("string",["default","two column","one column","one row"],"two column",a);"default"===w&&(w="two column");"one row"==a&&(F=Q("number",[0,10],5,F));za(Ia)}function ca(a){"two column"===w&&(O=Q("number",[225,600],380,a));"one column"===w&&(O=Q("number",[160,600],200,a));"one row"===w&&(U=30,a=na<=oa?s*(parseInt(oa)-1):s*(parseInt(oa)+2),40===bb&&(a+=Oa-s),O=U*oa+a);if(("two column"===w||"one column"===
w)&&!xa)O=O-2*s-2;g&&aa&&(O=O+2*s+2);"one row"!==w&&(U=380<O?50:30)}function ea(b){"string"===typeof b&&(ka=!0,fa=Q("text",null,fa,b)," "===fa?F=Q("number",[0,5],5,F,!0):cb="two column"!==w?a().headerHeight-5:a().headerHeight)}function ga(a){Ba=Q("string",["gray","white","gradient"],"gradient",a)}function V(a){db=Q("color",null,"#CCCCCC",a)}function ba(a){ma=Q("color",null,"#ffffff",a)}function pa(a){"undefined"===typeof a&&(a=5);F=" "===fa||!Ua||"one row"===w?Q("number",[0,5],5,a,!0):Q("number",
[0,10],10,a)}function qa(a){Ua=Q("boolean",null,!0,a);j();F=a?Q("number",[0,10],5,F,!0):Q("number",[0,5],5,F,!0)}function Aa(a){la=Q("color",null,"#C0C0C0",a)}function za(a){if("two column"===w)Ia=Q("number",[8,30],Nb,a);else if("one column"===w||"one row"===w)Ia=Q("number",[8,20],Rb,a)}function ua(a){wa=Q("color",null,"#333333",a)}function Da(a){if("object"==typeof a){l=h();for(var b=0,c=a.length;b<c;b++)La[a[b]]||(I.log(a[b]+" is not a valid provider: removing."),a.splice(b,1),--b,--c);ra=a;na=
a.length;"object"===typeof u&&u.setHeight(j()-2*s).refresh()}}function Ea(a){"two column"===w&&(oa=Q("number",[4,6,8],6,a));"one column"===w&&(oa=Q("number",[1,6],6,a));"one row"===w&&(oa=ic?na:Q("number",[4,8],6,a),ca(O))}function Ga(a){var b=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),c=document.createElement("div");Pa=T(a.name);c.appendChild(b);c.style.position="absolute";c.style.marginTop="-8px";c.style.top="50%";c.style.textAlign="center";
c.style.width="100%";Pa.appendChild(c);G&&G.appendChild(Pa)}function Ha(a){return!(Qb||eb||-1===ra.indexOf(a))}var ya=!1,O=380,ka=!1,Va="Helvetica, lucida grande, Verdana, sans-serif",Ia=0,wa="#666666",ma="#ffffff",la="#C0C0C0",F=10,G,Fa,w="two column",l,Ma,oa=6,ra=["aol","yahoo","openid"],na=ra.length,db="#CCCCCC",Ja=5,Ba="gradient",U=30,cb=a().headerHeight,bb=60,Oa=89,Ra=a().footerHeight,s=5,Za=10,fa="Sign in using your account with",Pa,Ka,Xa,Ya,Ua=!0,eb=!1,gb=!1,pb,ib;return{build:b,setFormat:function(b){b&&
da(b);"two column"!==w&&(cb=a().headerHeight-5);"two column"===w&&(oa=a().twoColumn.providersPerPage,cb=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&ea(a);return this},setFontSize:function(a){a&&za(a);return this},setFontFamily:function(a){a&&a&&(Va=a);return this},setFontColor:function(a){a&&ua(a);return this},setButtonBorderColor:function(a){a&&V(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Ja=Q("number",[0,20],5,a);
return this},setButtonBackgroundStyle:function(a){a&&ga(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&ca(a);return this},refresh:function(){W();var a=Y();b();var c=hb();c&&!vb?Ta("expected_tab",c):(null!==a&&"object"===typeof G&&a.appendChild(G),"object"===typeof u&&u.setHeight(parseInt(G.style.height)+2).refresh());Qb&&"object"===typeof u&&u.setHeight(parseInt(G.style.height)+2).refresh();janrain.events.onCustomizationChange.fire($());return this},remove:function(){W();
return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=Q("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(U=30,bb=40);60===oneRowHeaderHeight&&(U=30);90===oneRowHeaderHeight&&(U=50);return this},setHeight:function(a){"object"==typeof G&&(G.style.height=a+"px");return this},setBackgroundColor:function(a){a&&ba(a);return this},setBorderColor:function(a){a&&Aa(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&pa(a);return this},
setProviders:function(a){"object"==typeof a&&Da(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Ea(a),"object"===typeof u&&u.setHeight(j()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&qa(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Qb=a);return this},setProviderFlow:function(a,b){return L(a,b)},triggerFlow:function(a){return H(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(eb=
a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(gb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(xa=a,l=h());return this},embed:function(a){if((Ma=a)&&"object"==typeof G)G.style.position="relative";return this},getContentsDiv:function(){return G},getErrorPage:function(a,b){var c=document.createTextNode(b.msg),e=document.createElement("div");e.appendChild(c);e.style.color=wa;e.style.fontSize=Ia+"px";e.style.width="100%";var i=T(a);i.className=
"janrainAuthErrorPage";i.appendChild(e);i.appendChild(N(function(){G.removeChild(i);G.removeChild(Pa);ab=!0;return!1},a));G.appendChild(i);return G},showReturnExperience:Ha,getReturnExperience:function(a,b){if(!Ha(a))return G;var c=R(a,b),e=T(a),i=document.createElement("div"),g=function(){ab=vb=!0;G.removeChild(e);document.getElementById("janrainView").style.visibility="inherit";return!1};i.style.position="relative";i.style.top="50%";30===U&&(i.style.marginTop="-25px");50===U&&(i.style.marginTop=
"-35px");0==l&&(i.style.top="0",i.style.marginTop="0");e.id="janrainAuthReturnExperience";e.appendChild(i);i.appendChild(c);gb||i.appendChild(N(g,a));G.appendChild(e);return G},getWidth:function(){return X()},getActualHeight:function(){return parseInt(G.style.height)+2},getHeight:function(){return j()-2*s},getState:function(){return $()},setState:function(b){if(P("customizable_auth_widget_styling")){var c=b.fontFamily;c&&(Va=c);za(b.fontSize);ua(b.fontColor);ba(b.backgroundColor);Aa(b.borderColor);
"embed"===S&&b.format&&(b.format&&da(b.format),"two column"!==w&&(cb=a().headerHeight-5),"two column"===w&&(oa=a().twoColumn.providersPerPage,cb=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)Ea(b.providersPerPage),"object"===typeof u&&u.setHeight(j()).refresh("janrainModal");ga(b.buttonBackgroundStyle);V(b.buttonBorderColor);Ja=Q("number",[0,20],5,b.buttonBorderRadius);ea(b.actionText);qa(b.showAttribution);pa(b.borderRadius);"embed"===S&&("string"==
typeof width||"number"==typeof width)&&ca(b.width)}Da(b.providers)},showNotice:function(){Ga()},removeNotice:function(){Hb(Pa)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Hb(a)}}}function b(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var b=
(new C).setName(xb);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),b.setValue("true").create())},wa(f.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};wa("//connect.facebook.net/en_US/all.js")}
function c(){if("object"===typeof q)if("object"===typeof da){var a=q.getState();a.width=da.width;da=a}else da=q.getState();"object"===typeof q&&q.remove();"object"===typeof u&&u.remove();S="modal";t();"object"===typeof q&&da&&P("customizable_auth_widget_styling")&&q.setState(da);"object"===typeof u&&Ka&&P("customizable_auth_widget_styling")&&u.setState(Ka);"object"===typeof u&&u.show();"object"===typeof q&&q.refresh()}function e(){if("object"===typeof q){if("object"===typeof da){var a=q.getState();
a.borderRadius=da.borderRadius;a.format=da.format;a.width=da.width;da=a}else da=q.getState();Ka=da.modalState;delete Ka.orientation}"object"===typeof q&&q.remove();"object"===typeof u&&u.remove();"object"===typeof u&&(u="");S="embed";n();"object"===typeof q&&da&&P("customizable_auth_widget_styling")&&q.setState(da);"object"===typeof q&&q.refresh()}function h(){var a,b;t();b=document.getElementsByTagName("a");var c=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in b)c.test(b[a].className)&&(b[a].onclick=
p)}function j(a){var b=parseInt(janrain.settings.fontSize,10);"two column"===Cb?a.setFontSize(b||Nb):a.setFontSize(b||Rb)}function n(){var b=hb();q=new a;j(q);q.setBackgroundColor(Pa).embed(!0).setPreviewMode(Jb).setShowAttribution(Vb).setNoReturnExperience(Bc).setNoReturnExperienceSwitchAccountLink(Cc).setFormat(Cb).setRowHeight(lb).setFontSize(jc).setFontFamily(Wb).setFontColor(za).setActionText(kc).setProviders(Eb).setProvidersPerPage(Xb).setWidth(kb).setBorderColor(vc).setBorderRadius(fc).setButtonBorderColor(Ma).setButtonBorderRadius(Yb).setButtonBackgroundStyle(zb).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));Ha||(b?(qa("welcome_info_name",unescape(T("welcome_info_name"))),Ta("expected_tab",b)):Ja(c,q.getContentsDiv()))}function p(){"object"===typeof u&&u.show();return!1}function t(){var b=Bb(tc,dc),c=hb();if("undefined"===typeof b||0>b)b=5;q=new a;j(q);q.setBackgroundColor(Pa).setPreviewMode(Jb).setShowAttribution(Vb).setNoReturnExperience(Bc).setNoReturnExperienceSwitchAccountLink(Cc).setFontSize(jc).setFontFamily(Wb).setFontColor(za).setActionText(kc).setProviders(Eb).setProvidersPerPage(Xb).setBorderRadius(b).setButtonBorderColor(Ma).setButtonBorderRadius(Yb).setButtonBackgroundStyle(zb).build();
if("object"!==typeof u){u=new vd;u.ready=!1;var e=u.addContent;u.addContent=function(a){u.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}u.setHeight(q.getActualHeight()).setWidth(q.getWidth()).setPreviewMode(Jb).setBorderColor(ec).setBorder(dc).setBorderOpacity(uc).setBorderRadius(tc);Ha||(c?(qa("welcome_info_name",unescape(T("welcome_info_name"))),Ta("expected_tab",c)):u.addContent(q.getContentsDiv()));u.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&q.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&q.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});u.setHeight(q.getActualHeight());u.setWidth(q.getWidth())},!0);u.onShow.addHandler(function(){"object"==typeof q&&u.setWidth(q.getWidth())},!0);u.onBorderWidthChange.addHandler(function(a){"object"===typeof u&&"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&u.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},
!0);u.onBorderRadiusChange.addHandler(function(a){"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&u.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},!0)}function A(a,b){if(!P("customizable_auth_widget_styling"))return!1;if("object"===typeof q)return b(a),!0}function M(a){return A(a,function(a){q.setBackgroundColor(a).refresh()})}function R(a){return A(a,function(a){q.setBorderRadius(a).refresh()})}
function W(a){return A(a,function(a){q.setBorderColor(a).refresh()})}function $(a){return"modal"===S?!1:A(a,function(a){q.setWidth(a).refresh({center:!0})})}function ca(a){return A(a,function(a){q.setActionText(a).refresh()})}function pa(a){return A(a,function(a){q.setButtonBorderColor(a).refresh()})}function Aa(a){return A(a,function(a){q.setButtonBorderRadius(a).refresh()})}function D(a){return A(a,function(a){q.setButtonBackgroundStyle(a).refresh()})}function ba(a){return"modal"==S?!1:A(a,function(a){q.setFormat(a).refresh()})}
function ua(a){return A(a,function(a){q.setProvidersPerPage(a).refresh()})}function z(a){return A(a,function(a){q.setFontFamily(a).refresh()})}function Ea(a){return A(a,function(a){q.setFontSize(a).refresh()})}function ma(a){return A(a,function(a){q.setFontColor(a).refresh()})}function T(a){var b;if("single cookie"===na){b=C().getCookie("janrain_engage_login_data");if(!b)return;b=H.parse(b);return!b[a]?void 0:a=b[a]}if("default"===na)return a=C().getCookie(a),!a?void 0:a}function Ga(a,b,c){var e;
if(!a||!b)return!1;c||(c=1);if("single cookie"===na)return(oldCookieJSON=C().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),c=H.parse(oldCookieJSON),c[a]=b,e=new C,e.setName("janrain_engage_login_data").setValue(H.stringify(c)).setDomain(window.location.hostname).setExpiration(1826).create(),!0;return"default"===na?(e=new C,e.setName(a).setValue(b).setDomain(window.location.hostname).setExpiration(c).create(),!0):!1}function ya(a,b){if("expected_tab"===a&&!b){var c=T("login_tab");c&&
ya("expected_tab",c);return!1}if(!b||"undefined"===b||"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;b="welcome_info_name"===a?escape(b):b;Bc?C().setName(a).remove():Ga(a,b,1826)}function Ba(a,b){var c={};a||(a=eb);b||(b=eb.appUrl);if(g&&3>ga)return c.widget_type=a.widget_type,c.provider=a.provider,c.time=(new Date).getTime(),c=Oc(c),wa(b+"/signin/get_login_info"+c),ga++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);
"undefined"!==typeof Tb&&clearTimeout(Tb);"undefined"!==typeof q&&q.refresh&&q.refresh();janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a);return!1}function sb(a,b,c){var e=b.appUrl,g=janrain.settings.customSAML&&a.customSAML,f=janrain.settings.customOpenid&&a.customOpenid,e=g||"saml2"==a.flow?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),h=janrain.settings.originUrl||window.location.href;b.mobileDevice&&(h="mobile");var j=b.language||"en",n=b.popup?"xdr":
"xdrsw",o=b.tokenUrl||window.location.href,p={};eb={appUrl:b.appUrl,provider:a.name,widget_type:b.widgetType};p.language_preference=j;p.token_url=o;p.display="popup";p.widget=!0;"object"===typeof b.facebookPermissions&&(p.ext_perm=b.facebookPermissions.toString());g?p.saml_provider=a.identifier:p.openid_identifier=a.identifier;p.origin_url=h;p.provider_name=a.name;p.force_reauth=b.forceReauth;p.xdReceiver=b.appUrl+"/"+n;p.callback="none";p.widget_type=b.widgetType;p.token_action="url";janrain.settings.captureDomain&&
(p.capture_domain=janrain.settings.captureDomain);if("event"===b.tokenAction||"hybrid"===b.tokenAction)p.token_action="event";b.mobileDevice&&"hybrid"===b.tokenAction&&(p.token_action="url");b.bpChannel&&(p.bp_channel=b.bpChannel);b.extParams&&b.extParams[a.name]&&(p.ext_params=b.extParams[a.name]);b.scopes&&"object"===typeof b.scopes[a.name]&&(p.override_scopes=b.scopes[a.name].toString());b.sharingType&&(p.sharing_type=b.sharingType);h=function(b){var c=janrain.settings[b],b=a[b],c="object"===typeof c?
c[a.name]:c;return c!==b?c:b}("customOpenidOpxblob");b.customOpenid&&"string"===typeof h&&(p.opx_blob=h);e+=Oc(p);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});(function(a,b,c){if(a&&b){var c=c||1826,e=C(),i=window.janrain;i&&i.settings&&"single cookie"===i.settings.storageType?(i=H.parse(C().getCookie("janrain_engage_login_data")||"{}"),i[a]=b,e.setName("janrain_engage_login_data").setValue(H.stringify(i))):e.setName(a).setValue(b);e.setDomain(window.location.hostname).setExpiration(c).create()}})("login_tab",
a.name,1);var h;b.mobileDevice&&"event"!==b.tokenAction||!b.popup?wa(b.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&(f||g)?window.location.href=e:window.top.location.href=e}):(h=new hf(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},g="";e.widget_type=b.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();g=Oc(e);"function"===typeof c&&c();wa(b.appUrl+
"/signin/get_login_info"+g);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function qa(a,b){if(!b||"undefined"===b||"welcome_info_name"!==a)return!1}function hb(){f.noReturnExperience&&("single cookie"===f.storageType?C().setName("janrain_engage_login_data").setDomain(window.location.hostname).remove():(ac("login_tab"),ac("expected_tab")));Fa();var a=T("login_tab"),b=T("expected_tab");return Oa.isAndroid()?a:b}function Fa(){var a=T("login_tab"),b=T("expected_tab"),c=
T("welcome_info_name");if(!a||!b||!c)_noReturnExperience=!0,ac("login_tab"),ac("expected_tab"),ac("welcome_info_name"),C().setUseLocalStorage(!0).setName("janrainLastAuthMethod").remove()}function Ta(a,b){function c(){janrain.events.onReturnExperienceFound.fire({returnProvider:b,welcomeName:e})}var e=unescape(T("welcome_info_name")),g=function(a){var c=function(){600>a&&setTimeout(function(){g(++a)},50)};if("object"!==typeof q)return c(),!1;"modal"===S?u.addContent(q.getReturnExperience(b,e)):"embed"===
S&&(Ja(document.getElementById("janrainEngageEmbed"),q.getReturnExperience(b,e)),q.showReturnExperience(b)&&(document.getElementById("janrainView").style.visibility="hidden"));"modal"===S&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!b)return!1;"object"===typeof q&&q.removeReturnExperience();Dc?c():janrain.events.onAuthWidgetLoad.addHandler(c,!0);g(0)}function Ja(a,b){a&&(a.innerHTML="");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(b)):(a=document.createElement("div"),
a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(b),janrain.events.onAuthWidgetContentPlaced.fire()):(I.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),I.show());return a}function yb(a,b,c){c=c?Yd:Da;return Wa=b?c(Wa,a):a}function gb(){function a(b){if(!("customsaml"===b&&!f.customSAML||"customopenid"===b&&!f.customOpenid)){var c,e;if("customsaml"===
b)c="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===b)c="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");else{I.log("Bad provider: "+b);I.show();return}var i=typeof f[c];if("undefined"===i||"string"===i){var g=f[c]||b;f[c]=[g];X(e,function(a){if("object"!==typeof f[a]){var b=f[a];f[a]={};f[a][g]=b}})}}}
function b(a,c){var e=Y,i={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(f[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&P("customizable_auth_widget_styling")){"customopenid"===a&&(mb=!0);for(var i=i[a],g=0,h=i.length;g<h;g++)if(!f[i[g]])return I.log(e({provider:a,setting:i[g]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),I.show(),!1;var j={customsaml:{providerColor:"customSAMLProviderColor",
friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},e=function(b){b=f[j[a][b]];return"object"===typeof b?
b[c]:b},i={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(i.flow=e("flow"),i.customOpenid=!0,i.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(i.customSAML=!0,i.identifier=c);La[c]=i}}f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return++Lb,0===Lb%2E3&&o.error("Translations are not loading. janrain.settings.translate is undef."),
setTimeout(gb,5),!1;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=f.translate={});!0===f.noProvidersCss&&!0===f.custom||(sc(ld()+"providers.css"),g&&9>=g&&sc(ld()+"providers-ie.css"));if(f.stop)return!0;jb=f.tokenAction?f.tokenAction:jb;if(!f.tokenUrl&&"event"!=jb)return I.log("Missing tokenUrl.  tokenUrl is required."),I.show(),!1;Ra=f.appUrl;S=Q("string",["modal","embed"],"embed",f.type?f.type:S);Ha=f.multi?f.multi:Ha;Ca=f.custom?f.custom:Ca;ab=f.forceReauth?f.forceReauth:
ab;Pb=f.bpChannel?f.bpChannel:Pb;Sa=f.facebookPermissions?f.facebookPermissions:Sa;Ob=f.scopes?f.scopes:Ob;wb=!!f.facebookAutoLogin;na=f.storageType?Q("string",["default","single cookie"],"default",f.storageType):na;tb="boolean"===typeof f.popup?f.popup:tb;wd&&"event"!==jb&&(tb=!1);ib=f.returnExperienceTimeout?f.returnExperienceTimeout:ib;Ha&&(setTimeout(function(){var a=hb();if(a)qa("welcome_info_name",unescape(T("welcome_info_name"))),Ta("expected_tab",a),document.getElementById("janrainView").style.visibility=
"hidden";else if(a=function(){if("modal"===S)u.addContent(q.getContentsDiv());else if("embed"===S){var a=document.getElementById("janrainEngageEmbed");Ja(a,q.getContentsDiv())}"undefined"!==typeof b&&rb.removeHandler(b)},q)a();else var b=rb.addHandler(a)},ib),wa(f.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");f.customOpenid&&X(f.customOpenidProviderId,function(a){b("customopenid",a)});f.customSAML&&X(f.customSAMLProviderId,function(a){b("customsaml",a)});Fa();if(Ca)return!0;jb=
f.tokenAction?f.tokenAction:jb;dc=P("customizable_auth_widget_styling")?f.modalBorderWidth:dc;ec=P("customizable_auth_widget_styling")?f.modalBorderColor:ec;tc=P("customizable_auth_widget_styling")?f.modalBorderRadius:tc;uc=P("customizable_auth_widget_styling")?f.modalBorderOpacity:uc;Pa=P("customizable_auth_widget_styling")?f.backgroundColor:Pa;fc=P("customizable_auth_widget_styling")?f.borderRadius:fc;vc=P("customizable_auth_widget_styling")?f.borderColor:vc;Cb=f.format;za=P("customizable_auth_widget_styling")?
f.fontColor:za;jc=P("customizable_auth_widget_styling")?f.fontSize:jc;Wb=P("customizable_auth_widget_styling")?f.fontFamily:Wb;kb=P("customizable_auth_widget_styling")?f.width:kb;lb=P("customizable_auth_widget_styling")?f.rowHeight:lb;Xb=f.providersPerPage;ic=P("customizable_auth_widget_styling")?f.providersNotPaged:ic;kc=P("customizable_auth_widget_styling")?f.actionText:kc;Ma=P("customizable_auth_widget_styling")?f.buttonBorderColor:Ma;Yb=P("customizable_auth_widget_styling")?f.buttonBorderRadius:
Yb;zb=P("customizable_auth_widget_styling")?f.buttonBackgroundStyle:zb;Vb=P("customizable_auth_widget_hide_attribution")?f.showAttribution:Vb;Jb=f.previewMode;Bc=f.noReturnExperience;Cc=f.noReturnExperienceSwitchAccountLink;Eb=f.providers;if(f.customOpenid&&P("customizable_auth_widget_styling")){if(!f.customOpenidLargeIcon)return I.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),I.show(),!1;$a={largeIcon:f.customOpenidLargeIcon,
customOpenIdProviderName:f.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:f.customOpenIdProviderColor}}if(f.customSAML&&P("customizable_auth_widget_styling")){if(!f.customSAMLLargeIcon)return I.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),I.show(),!1;nb={largeIcon:f.customSAMLLargeIcon,customSAMLProviderName:f.customSAMLProviderName||janrain.settings.translate.SIGN_IN||
"Sign in",customSAMLProviderColor:f.customSAMLProviderColor}}f.previewMode?("modal"===S&&$b(c),"embed"===S&&$b(e)):("modal"===S&&$b(h),"embed"===S&&$b(n));xd&&y(window,"unload",function(){})}var Ra,Sa,Ob,wb=!1,xb="janrain_engage_facebook_auto_login",Pb,mb=!1,ab=!1,jb="url",Wa={},S="embed",Ha=!1,ib=300,ab=!1,tb=!0,Ca=!1,Lb=0,na="default",$a,nb,Ka,u,dc,ec,tc,uc,q,da,Pa,fc,vc,kb,lb,Cb,Eb=[],ic=!1,Xb,kc,jc,Wb,za,Ma,Yb,zb,Jb,Bc,Cc,Vb,vb=!1,Dc=!1,Nb=18,Rb=14;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=
V(!0));janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=V());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=V());janrain.events.onAuthWidgetLoad.addHandler(function(){Dc=!0;var a=(new C).getCookie(xb);wb&&!a&&b()},!0);janrain.events.onProviderLoginSuccess.addHandler(function(){var a=document.getElementById("janrainAuthReturnExperience"),b=document.getElementById("janrainView");a&&(a.style.visibility="hidden");b&&(b.style.visibility="hidden")});
janrain.events.onAuthWidgetLoad.addHandler(function(){var a=T("expected_tab"),b=T("welcome_info_name");X(janrain.settings.beforeJanrainWidgetOnLoad||[],Nc);"function"===typeof janrainWidgetOnload?(X(janrain.settings.beforeJanrainWidgetOnLoad||[],Nc),Ca?(janrainWidgetOnload(),!Ha&&a&&b&&janrain.events.onReturnExperienceFound.fire({returnProvider:a,welcomeName:unescape(b)})):q?janrainWidgetOnload(q.getState()):janrainWidgetOnload()):o.warn("No such function 'janrainWidgetOnload'. Does 'janrainCaptureWidgetOnLoad' exist?")},
!0);for(var Tb,ga=0,eb,lc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),mc=0;mc<lc.length;mc++)"undefined"===typeof janrain.events[lc[mc]]&&(janrain.events[lc[mc]]=new Gb);janrain.events.onProviderLoginError.addHandler(function(a){if(Ca)return!0;var b=T("login_tab");if("modal"===S){var c=document.getElementById("janrainModal");
c&&c.appendChild(q.getErrorPage(b,a.err))}"embed"===S&&(c=document.getElementById("janrainEngageEmbed"))&&Ja(c,q.getErrorPage(b,a.err))},!0);gb();return{status:"loaded",logoutFacebook:function(a){if("function"!==typeof a)throw Error("janrain.engage.signin.logoutFacebook takes a callback function as its only parameter.");var b=!1,c=function(e){var g=Fb(e.origin).host,f=Fb(Ra).host;g!==f?o.forceError("Ignoring postMessage due to domain mismatch: ",e.origin+" does not match "+Ra):0===e.data.indexOf("janrainLogoutFacebook:")&&
(g=e.data.indexOf(":")+1,e=e.data.substring(g),e=H.parse(e),"ok"!==e.status&&o.forceError("Failed to log out of Facebook"),b=!0,Db(window,"message",c),a(e))};y(window,"message",c);var e=Ra+"/widget/logout_facebook?facebookAppId="+janrain.settings.facebookAppId+"&url="+encodeURIComponent(window.location.protocol+"//"+window.location.host);Fc("janrainLogoutFacebook",e);setTimeout(function(){b||(Db(window,"message",c),a({status:"fail",message:"Timeout attempting to log out of Facebook"}))},5E3)},appendTokenParams:function(a,
b,c){yb(a,b,c)},appendTokenParamsCumulative:function(a,b){yb(a,!0,b)},setBackplaneChannel:function(a){Pb=a},setLoginCookie:function(a,b){ya(a,b)},loginHandler:function(a){var b=jb;a?("ok"===a.stat&&("event"===b||"hybrid"===b||"noRedirect"===b?("undefined"!=typeof storage&&storage.set("janrainEngageAuthenticityToken",a.authenticity_token),"noRedirect"!==b&&wa(a.redirectUrl)):(b=document.createElement("form"),b.action=a.redirectUrl,b.method="POST",janrain.settings.targetTop&&(b.target="_top"),document.body.appendChild(b),
b.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?(janrain.events.onProviderLoginCancel.fire(a),"undefined"!==typeof q&&q.refresh&&q.refresh()):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Tb&&clearTimeout(Tb),janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a))):Ba()},cancelLogin:function(a){Ba(a,f.appUrl);!Ca&&q&&q.removeNotice()},removeNotice:function(){q&&q.removeNotice()},setWelcomeInfoName:function(a,b){qa(a,b)},setReturnExperience:function(a,
b){Ta(a,b)},setNoReturnExperience:function(a,b){var c;"boolean"===typeof a&&q?(q.setNoReturnExperience(a),b||q.refresh(),c=!0):c=!1;return c},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&q?(q.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&q?(q.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&q?(q.setConfigureMode(a).refresh(),a=!0):a=!1;return a},
setCustom:function(a){Ca=a},getState:function(){return"object"===typeof q?q.getState():!1},setProviderFlow:function(b,c){return!P("customizable_auth_widget_styling")?!1:a().setProviderFlow(b,c)},triggerFlow:function(b){return!P("customizable_auth_widget_styling")?!1:a().triggerFlow(b)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):
console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+
a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var b in janrain.settings[a])"function"!==typeof janrain.settings[a][b]&&console.log(" --- --- "+b+": "+janrain.settings[a][b]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return M(a)},setBorderColor:function(a){return W(a)},setBorderRadius:function(a){return R(a)},setWidth:function(a){return $(a)},setActionText:function(a){return ca(a)},setFontFamily:function(a){return z(a)},
setFontSize:function(a){return Ea(a)},setFontColor:function(a){return ma(a)},setFormat:function(a){return ba(a)},setButtonBorderColor:function(a){return pa(a)},setButtonBorderRadius:function(a){return Aa(a)},setButtonBackgroundStyle:function(a){return D(a)},setProviders:function(a){var b;"object"===typeof q&&(xa?q.setProviders(a):q.setProviders(a).refresh(),b=!0);return b},setProvidersPerPage:function(a){return ua(a)},setShowAttribution:function(a){var b;P("customizable_auth_widget_hide_attribution")?
"object"===typeof q&&q.setShowAttribution(a).refresh():b=!1;return b},refresh:function(){return q.refresh()},getWidth:function(){return q.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof u&&u.close()},create:function(){return new vd},setBorder:function(a){P("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorder(a),u.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){P("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorderColor(a),
u.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){P("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorderOpacity(a),u.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){P("customizable_auth_widget_styling")?("object"==typeof u&&(u.setBorderRadius(a),u.refresh()),a=!0):a=!1;return a}}}},vf=new function(){return{status:"not loaded"}},wf=new function(){var a;function b(d){function a(d,r){var m=d instanceof Mc?d:new Mc(d),b=r&&pa(r,"merge")&&!0===r.merge,J,c;d&&
(J=m.get("id")||"auto_id_"+Ba(7),m.get("id")!==J&&m.set("id",J),(c=f[J])&&b&&c.set(m.attributes),!c&&-1==g.indexOf(m)&&(g.push(m),f[J]=m,h.length=g.length));return m}function m(d){var a;d&&(a=g.indexOf(d),0<=a&&(g.splice(a,1),delete f[d.get("id")],h.length=g.length));return d}function b(d,m){for(var d=t(d)?d:[d],J=0,c=d.length;J<c;)a(d[J],m),J+=1;return h}function c(d){for(var d=t(d)?d:[d],a=0,r=d.length;a<r;)m(d[a]),a+=1;return h}function e(d){return g.filter(function(a){for(var r in d)return pa(d,
r)&&a.get(r)===d[r]})}var g=[],f={},h={length:0,_models:g,_fieldsById:f};d&&b(d);return Da(h,{get:function(d){return f[d]},getById:function(d){return f[d]},getByName:function(d){for(var d=e({name:d}),a=0,r=1,m=d.length-1;r<=m;)d[a].time<=d[r].time&&(a=r),r+=1;return d[a]},getFieldsByName:function(d){return e({name:d})},add:function(d,a){return b(d,a)},remove:function(d){return c(d)},indexOf:function(d){return g.indexOf(d)},at:function(d){return g[d]},reset:function(){return c(g)},each:function(d,
a){X(g,d,a);return h},map:function(d){return g.map(d)},where:function(d){return e(d)},addField:function(d){a(d);return h},addFields:function(d){return b(d)},removeField:function(d){m(d);return h},removeFields:function(d){return c(d)},updateField:function(d){a(d,{merge:!0});return h},update:function(d){return b(d,{merge:!0})},updateFields:function(d){return b(d,{merge:!0})}})}function c(d){var a=janrain.settings.capture.modalBorderWidth||10,m=janrain.settings.capture.modalBorderColor||"#000",b=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;d.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(m).setBorder(a).setBorderOpacity(c).setBorderRadius(b);return d}function e(d){if("object"!==typeof x)x=new vd,Cc();else{var a=x.getContent();Xd(document.body,a)&&(a.style.display="none",document.body.appendChild(a))}ea&&ea.modal&&Ac.push(ea);x=c(x);x.addContent(d).show();x.setHeight(Eb(d).height);x.setWidth(Eb(d).width).refresh({center:!0})}function f(d){function a(){Od=
!0;var r=d||P(),m=Fb(d),b=Fb(janrain.settings.capture.captureServer);"http"===b.protocol||"https"===b.protocol||(I.log("The capture server url does not have a valid protocol. Check your settings."),I.show());if(!b.host||"undefined"===b.host)I.log("The capture server url does not have a valid host. Check your settings."),I.show();d&&(Ib=m.queryKey.flow_path);wa(r,Gc);Gb();nb();janrain.events.onCaptureLoginFailed.addHandler(function(){xc++;$a()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){xc=
0;$a()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){Dc(Md)},!0);janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Dc(Md)},!0);janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var d=!1,a;for(a in sa)if("invalid"===sa[a].status){var r=sa[a].postValidationActions;if(r)for(var m in r){if(!sa[a].validation||"undefined"===typeof sa[a].validation[m])break a;for(var b in r[m])if(r[m].hasOwnProperty(b))switch(b){case "render":r[m].render.screen&&!d&&(d=
!0,(new eb).setScreenData(r[m].render.screen,l.screens[r[m].render.screen]));break;case "setCookie":var J=r[m].setCookie.name,c=r[m].setCookie.value,e=r[m].setCookie.days;(new C).setExpiration(e).setUseLocalStorage(!0).setName(J).setValue(c).create()}}}}},!0);janrain.events.onCaptureRenderComplete.addHandler(function(){if(he){var d=ra.savedProfileMessage||"Your profile has been saved",a=$("capture_profileSavedMessage_container",ea.div),r=a.length;if(r)for(var m=0,r=a.length;m<r;m++)a[m].innerHTML=
d,a[m].style.display="",kc(a[m]);else if(de&&(a=document.getElementById(N+de+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+d+"</div>",kc(a);he=!1;if(janrain.settings.capture.autoSave){for(;be.length;)be.pop().unbindDragHandlers();Ub.each(jb)}}vb()},!0);janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof x&&x.isOpen()){x.setHeight(Eb(x.getContent()).height);var d=x.getState().width,a=Eb(x.getContent()).width;
(d=d!==a)&&x.setWidth(a);x.refresh({center:d})}},!0);janrain.settings.custom&&!Yc&&rb()}function m(){xd&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Gd=!0);a()}function b(){if(!Id){Id=!0;var d=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(d,!0);janrain.events.onCaptureRegistrationSuccess.addHandler(d,
!0);janrain.events.onCaptureBackplaneReady.fire();m()}}Wb(jc());janrain.settings.capture.noStyling||(sc(ld()+"widgets.css"),Ce(ld()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&t(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,e=c.length,h=0;h<e;h++)sc(c[h]),V(c[h]);if(g&&9>g&&janrain.settings.capture.conditionalIEStylesheets&&t(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;e=c.length;for(h=
0;h<e;h++)Ce(c[h]),V(c[h])}if(ya&&janrain.settings.capture.mobileStylesheets&&t(janrain.settings.capture.mobileStylesheets)){c=janrain.settings.capture.mobileStylesheets;e=c.length;for(h=0;h<e;h++)sc(c[h]),V(c[h])}janrain.settings.capture.backplane?(h=function(){function d(){r++;if(20<r)return ga("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Id=!0,janrain.settings.capture.backplane=!1,m(),!1;if(Id)return clearTimeout(a),!1;var a=setTimeout(d,500)}"function"===
typeof Backplane?Backplane(b):Wc=!0;var a={serverBaseURL:Sd,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:s};2<=parseInt(U,10)&&(a.block=Td);s&&2>parseInt(U,10)&&(a.initFrameFilter=function(d){return d});"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Wc&&"undefined"!==typeof Backplane&&b();var r=0;d()},"function"===typeof Backplane?h():wa(bb,h)):m()}function j(d,a,m,b){var c=
[];b&&c.push({value:"",text:b,disabled:!0});if("desc"===m)for(m=a;m>d-1;m--)c.push({value:m,text:m});else for(m=d;m<a+1;m++)c.push({value:m,text:m});return c}function n(d){d||(d=ha);return"string"===typeof d?"capture_"+d+"_":"capture_"+K(d)+"_"}function K(d){if(d!==window){var a=d.getAttribute("data-capturescreenname");if(a&&l.screens[a])return a;for(var a=$("capture_screen_container"),m=0,b=a.length;m<b;m++)if(Xd(a[m],d))return a=a[m].getAttribute("data-capturescreenname"),d.setAttribute("data-capturescreenname",
a),a}}function P(){var d=zc,a=janrain.settings.capture.flowVersion||"HEAD",m=L()||"default",b=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=b?/^[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}$/.test(a)?Q()+"/widget_data/flows/"+b+"/"+m+"/"+a+"/"+d+".js":Q()+"/widget_data/flow.js:"+b+":"+d+":"+a+":"+m:Q()+"/widget_data/flow.js:"+d+":"+a+":"+m}function L(){return ya&&janrain.settings.capture.mobileFlowName?janrain.settings.capture.mobileFlowName:janrain.settings.capture.flowName}
function Q(){return janrain.settings.capture.cdnUrl?janrain.settings.capture.cdnUrl:janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janraincapture.com":"https://d1lqe9temigv1p.cloudfront.net"}function V(d){A(Ad,d)||Ad.push(d);ge=Ad.length}function aa(d){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+d+"' is missing."}}function ua(d){d=M(d);xa(d)}function va(d){var a=0,m=0,b=0,c=0;ca(sa,function(e,g){"pending"==g.status&&d===g.formId&&a++;
"invalid"==g.status&&d===g.formId&&m++;"undefined"!==typeof g.unique&&!1===g.unique&&d===g.formId&&b++;"valid"==g.status&&d===g.formId&&c++});return{pending:a,invalid:m,notUnique:b,valid:c}}function xa(d,a){var m=d.getAttribute("data-capturefield"),m=$c.check(d,l.fields[m]),b=document.getElementById(d.id+"_errors");!m.valid&&m.reason?b&&(b.innerHTML=m.reason):b&&(b.innerHTML="");if(a)return"object"!==typeof m&&(m={valid:!0}),m}function La(d,a){a.name||(a.name=d.getAttribute("data-capturerendererfield")?
d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield"));var m=n(d),b=document.getElementById(m+a.name+"_dateselectmonth"),b=b.options[b.selectedIndex].value,c=document.getElementById(m+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,m=document.getElementById(m+a.name+"_dateselectyear"),m=m.options[m.selectedIndex].value;return!b||!c||!m?!1:b+"/"+c+"/"+m}function D(d,a){if(!d)return!1;for(var m=wb(d.getElementsByTagName("input")),m=m.concat(wb(d.getElementsByTagName("select"))),
m=m.concat(wb(d.getElementsByTagName("textarea"))),b=[],a=a||!1,c={},e=!1,g,h=0,f=m.length;h<f;h++)g=m[h],(e="file"===g.type?xa(g,!0).valid:Bb(g,!0,a))||b.push(g),"true"===g.getAttribute("data-capturecollection")&&!c[g.name]&&(c[g.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function ba(){}function kb(d){function a(d){R(d);(s?m:b)(d)}function m(d){R(d);o.style.display="none";s=!1}function b(){if(!s){var d=ja||fb;if(ta.getMonth()!==d.getMonth()||
ta.getFullYear()!==d.getFullYear())ta=new Date(d),n(ta)}s=!0;o.style.display="block"}function c(d){Vd(O);for(var d=parseInt(d),a=F.getFullYear();a>=H.getFullYear();--a){var r=document.createElement("option");r.setAttribute("value",a);Ea(r,a);O.appendChild(r)}O.value=d}function e(){ta.setMonth(P.value);ta.setFullYear(O.value);n(ta)}function h(d){P.value=d.getMonth();d=d.getFullYear();O.value=d}function f(d){return function(a){R(a);ta.setMonth(ta.getMonth()+d);a=ta.getFullYear();(a<H.getFullYear()||
a>F.getFullYear())&&ta.setMonth(ta.getMonth()-d);n(ta)}}function E(d){d=d.getDay();return A?(d-1+7)%7:d}function k(d){ja=new Date(ta);ja.setDate(d);"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=sb(S,ja));m();B(ja)}function j(d,a){return d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear()}function i(d){return(j(d,H)||d>H)&&(j(d,F)||d<F)}function n(d){function a(d){R(d);var d=M(d),r=d.getAttribute("data-date");Q&&p(Q.parentNode).remove("capture_datePicker_selectedDate");
p(d.parentNode).append("capture_datePicker_selectedDate");Q=d;k(r)}Vd(w);if(U)h(ta);else{var r=sb(Y,d);Vd(q);Ea(q,r)}r=document.createElement("tr");r.className="capture_datePicker_daysOfTheWeekHeader";for(var m=0,b=z.length;m<b;m++){var J=document.createElement("th");Ea(J,z[m]);r.appendChild(J)}w.appendChild(r);var c=d.getMonth(),r=new Date(d),e,d=1;r.setDate(1);e=E(r);var m=document.createElement("tr"),ia=new Date(r),g=1-e;ia.setDate(g);for(b=0;b<e;++b){var J=document.createElement("td"),f=document.createElement("a");
Ea(f,ia.getDate());J.appendChild(f);J.style.textAlign="right";f.setAttribute("data-date",g);f.href="#";J.className="capture_datePicker_prevMonthDay";m.appendChild(J);i(ia)?(p(J).append("capture_datePicker_day"),y(f,"click",a)):p(J).append("capture_datePicker_day_disabled");ja&&j(ia,ja)&&(p(J).append("capture_datePicker_selectedDate"),Q=f);j(ia,L)&&p(J).append("capture_datePicker_today");ia.setDate(ia.getDate()+1);g++}for(;r.getMonth()===c;)J=document.createElement("td"),f=document.createElement("a"),
f.setAttribute("data-date",d),f.href="#",Ea(f,d),i(r)?(J.className="capture_datePicker_day",y(f,"click",a)):J.className="capture_datePicker_day_disabled",ja&&j(r,ja)&&(p(J).append("capture_datePicker_selectedDate"),Q=f),j(r,L)&&p(J).append("capture_datePicker_today"),J.appendChild(f),m.appendChild(J),++e,6<e&&(e=0,w.appendChild(m),m=document.createElement("tr")),++d,r.setDate(d);b=E(r);d=new Date(r);d.setDate(d.getDate()-1);d=d.getDate()+1;if(0<b){for(b=E(r);7>b;++b)J=document.createElement("td"),
f=document.createElement("a"),J.style.textAlign="right",f.href="#",f.setAttribute("data-date",d),Ea(f,r.getDate()),J.appendChild(f),J.className="capture_datePicker_nextMonthDay",m.appendChild(J),i(r)?(p(J).append("capture_datePicker_day"),y(f,"click",a)):p(J).append("capture_datePicker_day_disabled"),ja&&j(r,ja)&&(p(J).append("capture_datePicker_selectedDate"),Q=f),j(r,L)&&p(J).append("capture_datePicker_today"),r.setDate(r.getDate()+1),d++;w.appendChild(m)}}var l=d||{},o,q,ub,nc,v,w,z="Su,Mo,Tu,We,Th,Fr,Sa".split(","),
A=!1,s=ub=!1,u,B=l.callback||function(){};v=l.monthPreviousText;var C=l.monthNextText,x=l.targetElement,D=l.extraTargetElements||[],d=l.elementAttachedTo,N=l.openOnTargetElementFocus,K=l.provideOpenButton,G,I=!!l.hasCloseButton,L=new Date,H=void 0!==l.minimumSelectableDate?l.minimumSelectableDate:"1/1/"+(L.getFullYear()-100),F=void 0!==l.maximumSelectableDate?l.maximumSelectableDate:"12/31/"+(L.getFullYear()+30),U=l.monthAndYearSelectable,T=l.arrowKeyNavigation,P,O,le=void 0!==l.defaultDate?l.defaultDate:
new Date,fb=le,ta,ja=l.preSelectedDate,Q,S=l.format||"{m}/{d}/{yyyy}",Y=l.calendarTitleFormat||"{month} {yyyy}";ta=new Date(fb);hb(fb)?(u=Wd(fb),fb=new Date,fb.setDate(fb.getDate()+u)):"string"===typeof fb&&(fb=new Date(fb));hb(H)?(u=Wd(H),H=new Date,H.setDate(H.getDate()+u)):"string"===typeof H&&(H=new Date(H));hb(F)?(u=Wd(F),F=new Date,F.setDate(F.getDate()+u)):"string"===typeof F&&(F=new Date(F));Ra(fb)||(fb=new Date);le=new Date(fb);Ra(H)||(H=new Date("1/1/"+(L.getFullYear()-100)));Ra(F)||(F=
new Date("12/31/"+(L.getFullYear()+30)));"undefined"===typeof T&&(T=!0);u="January,February,March,April,May,June,July,August,September,October,November,December".split(",");l.monthNames&&12===l.monthNames.length&&(u=l.monthNames);l.weekStartsOnMonday&&(A=l.weekStartsOnMonday,ub=!0);l.daysOfWeek&&7===l.daysOfWeek.length&&(z=l.daysOfWeek,ub=!1);ub&&z.push.apply(z,z.splice(0,1));o=document.createElement("div");o.className="capture_datePicker_wrapper";l.additionalClasses&&(t(l.additionalClasses)&&(l.additionalClasses=
l.additionalClasses.join(" ")),o.className+=" "+l.additionalClasses);"object"===typeof x&&(p(x).append("capture_datePicker_targetElement"),ja&&Ra(ja)&&"INPUT"===x.nodeName&&(x.value=sb(S,ja)),"undefined"===typeof d&&(d=x.parentNode));l=0;"object"===typeof d&&(p(d).append("capture_datePicker_mainTarget"),l=d.offsetHeight);De(o,{display:"none",position:"absolute",top:l+"px",right:"0",zIndex:"100"});l=document.createElement("div");l.className="capture_datePicker_header";q=document.createElement("div");
q.className="capture_datePicker_monthAndYearDisplayDiv";ub=document.createElement("a");ub.setAttribute("href","#");ub.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";nc=document.createElement("a");nc.setAttribute("href","#");nc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";l.appendChild(q);o.appendChild(l);if(U){P=document.createElement("select");O=document.createElement("select");P.className="capture_datePicker_monthSelect";O.className=
"capture_datePicker_yearSelect";for(var X=ta.getMonth(),V=0;12>V;++V){var W=document.createElement("option");W.setAttribute("value",V);Ea(W,u[V]);P.appendChild(W)}u=ta.getFullYear();c(u);P.value=X;O.value=u;y(P,"change",e);y(O,"change",e);q.appendChild(P);q.appendChild(O)}v?Ea(ub,v):p(ub).append("janrain-icon-16").append("janrain-icon-back");C?Ea(nc,C):p(nc).append("janrain-icon-16").append("janrain-icon-forward");y(ub,"click",f(-1));y(nc,"click",f(1));l.appendChild(ub);l.appendChild(nc);v=document.createElement("table");
v.className="capture_datePicker_monthTable";v.style.width="100%";v.cellSpacing=0;v.cellPadding=0;w=document.createElement("tbody");v.appendChild(w);o.appendChild(v);I&&(I=document.createElement("div"),I.className="capture_datePicker_closeButton",I.style.textAlign="center",v=document.createElement("a"),v.href="#",Ea(v,"Close"),y(v,"click",m),I.appendChild(v),o.appendChild(I));K&&"object"===typeof d&&(G=document.createElement("span"),G.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",
y(G,"click",a),d.appendChild(G));n(fb);N&&"object"===typeof x&&y(x,"focus",b);"object"===typeof x&&(y(x,"keydown",function(d){switch(d.keyCode){case we:case Ja:case Qd:m()}}),y(x,"keyup",function(){if("INPUT"===x.nodeName){var d=sd(S,x.value);Ra(d)&&i(d)&&(ta=d,ja=new Date(d),n(d))}}),y(x,"blur",function(){if("INPUT"===x.nodeName){var d=sd(S,x.value);Ra(d)||!i(d)?ja?(ta=new Date(ja),k(ja.getDate())):x.value="":(d=sb(S,ja),d!==x.value&&(x.value=d))}}));y(document,"click",function(d){if(s){for(d=M(d);d;){if(d===
o||d===x||d===G)return;for(var a=0,r=D.length;a<r;++a)if(d===D[a])return;d=d.parentNode}m()}});y(document,"keydown",function(d){if(s)if(d.keyCode===Ja||d.keyCode===Qd)m();else if(T){var a={};a[xe]=-1;a[ye]=-7;a[ze]=1;a[Ae]=7;d=a[d.keyCode]||0;0!==d&&(a=ja?new Date(ja):new Date(le),a.setDate(a.getDate()+d),i(a)&&(ja=new Date(a),ta=new Date(ja),n(ta),"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=sb(S,ja)),B(ja)))}});"object"===typeof d&&d.appendChild(o);g&&7>=g&&"object"===typeof d&&De(d,{position:"relative",
zIndex:1});return{show:b,hide:m,setSelectedDate:function(d){"object"===typeof d&&"function"===typeof d.getMonth&&(ja=new Date(d),ta=new Date(d),n(d));return this},getSelectedDate:function(){return ja}}}function z(){}function lb(d){var a=za(),d=Ca({flow_control:d,token:la,capture_transactionId:a});i("/widget/control.jsonp",d);Ma(a)}function ma(d){var a=document.getElementById("captureIFrame_"+d);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound",
"yes"),y(document.getElementById("captureIFrame_"+d),"load",qa))}function T(d,a,m){if(!t(d)&&!a)return!1;t(d)||(d=[]);var b=d.length,c,e=new eb,g="",f=[],h=document.getElementById(m+a);if(!h)return!1;for(a=0;a<b;a++)if(c=l.fields[d[a]])c.fieldPrefix=m,c.name=c.elementName=d[a],g+=e.renderField(c),f.push(c.name);if(!g.length&&h)return h.innerHTML="",!1;h.innerHTML=g;a=0;for(b=f.length;a<b;a++)(d=document.getElementById(m+f[a]))&&y(d,"blur",Ob)}function vb(){for(var d=ea.div.getElementsByTagName("select"),
a=d.length,m=0;m<a;m++)d[m].getElementsByTagName("option")[d[m].selectedIndex].disabled&&(p(d[m]).append("capture_disabled"),y(d[m],"change",function(){p(this).remove("capture_disabled")}))}function Gb(){y(document.body,"click",function(d){var a=M(d),a=[xb(a,"A"),xb(a,"BUTTON")];X(a,function(a){if(a){var r=janrain.settings.capture.logoutLinksClass||"capture_end_session";p(a).has(r)&&(Pa(),R(d));r=a.getAttribute("data-capturescreen");a=a.getAttribute("data-captureuseruuid");r&&(a?Kc(r,a):(O=!0,janrain.capture.ui.renderScreen(r)),
R(d))}})})}function rb(){janrain.events.onProviderLoginToken.addHandler(function(d){if(d.janrainWidgetParameters&&d.janrainWidgetParameters.widget_type&&"share"===d.janrainWidgetParameters.widget_type)return!1;if(d.linkAccounts)ac(Da({provider:d.janrainWidgetParameters.provider},d));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);ob&&(yc=Ia);Ia=d.token;ea.values=lc(ea.div.id);Ac.push(ea);var d=gc(d.keepMeLoggedIn),a=d.capture_transactionId;
i("/widget/token_url.jsonp",d);Ma(a);ob&&(ob=!1)}},!0);Yc=!0}function ac(d){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:d.currentScreen,needsResponse:!0,callback:function(){d.callback&&d.callback();janrain.events.onCaptureProfileLink.fire({provider:d.provider,authProfile:Te})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",
elementValue:d.token}]})}function qa(d){var d=M(d),a=d.getAttribute("data-transactionId"),m=H.parse(d.getAttribute("next"));if("formClicked"===d.className){if(janrain.settings.capture.transactionTimeout&&A(Ua,a))return!1;Qb(a,m)}}function Qb(d,a){i("/widget/get_result.jsonp",{transactionId:d,cache:(new Date).getTime()},function(){Aa(function(){if(fa[d]){Yb(d);var m=fa[d];"success"===m.status?a&&Mb(a):ga("there was a problem with the response",m);return!0}return!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){ga("could not find transaction status");
o.warn("poll for transaction status failed. transaction id: "+d);return!1}).start()})}function Fa(d,a){var m=M(d).getAttribute("id").split("_")[3],b=M(d),c=n(b),e=b.parentNode,g=p(e).has("capture_tab_toggle"),f=g?"capture_tab_toggle":"capture_radio_toggle",b=b.getAttribute("data-capture-tab-index");(new C).setUseLocalStorage(!0).setName("janrainCaptureSelectedTab").setValue(b).create();for(b=0;b<a.collection.length;b++)a.collection[b].elementName!==m&&(document.getElementById(c+a.collection[b].elementName).style.display=
"none");for(var f=$(f,document.getElementById(c+a.elementName)),h=f.length,b=0;b<h;b++)p(f[b]).remove("capture_toggled");p(e).append("capture_toggled");document.getElementById(c+m).style.display="block";janrain.events.onCaptureContentChange.fire();g&&R(d)}function Ta(d,a,m,b){m=b?H.stringify(b):m;Ma(a);d.className="formClicked";d.setAttribute("next",m);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===Ya.indexOf(a)&&(-1===Ua.indexOf(a)&&Ua.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},
janrain.settings.capture.transactionTimeout)}function Zb(){var d,a,m,b,c,e,g=!1;return{setIframe:function(a){d=a;return this},setTransactionId:function(d){a=d;return this},setNext:function(d){m=d;b=H.parse(m);return this},setForm:function(d){c=d;return this},setEvent:function(d){e=d;return this},dontSubmit:function(){return b?b.dontSubmit:!1},process:function(){a:if(b.conditional){for(var f=b.conditional,h=f.length,k=0;k<h;k++){var j;b:{j=f[k];var i=l.fields[j.field],i=n(c)+(i.elementId||i.elementName),
i=document.getElementById(i);switch(j.compare){case "=":if(i.value===j.value){j=!0;break b}}j=void 0}if(j){g=f[k];break}}g?g.nosubmit?(R(e),Mb(g.next)):Ta(d,a,m,g.next):Ta(d,a,m)}else if(b.dontSubmit){R(e);if(b.storeValues){f=$("capture_focused");Je(f);if(!D(c))break a;f=va(c.id);if(0<f.notUnique||0<f.pending||0<f.invalid)break a;lc(c.id,!0)}Mb(b)}else Ta(d,a,m)}}}function yb(d){var a=M(d),m=a&&a.id?a.id:"",b=M(d).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b),e=
$("capture_focused"),f=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),E=new Zb;E.setNext(h);E.dontSubmit()&&(f=!0);if(0<e.length&&g&&f&&me){var k={},j;for(j in d)k[j]=d[j];setTimeout(function(){Ke(a);yb(k)},0)}else{me=!0;if(!f&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){pb||$b(a);ea.values=lc(ea.div.id);if(D(a)){Je(e);var l=!1;(function(){Aa(function(){var b=va(m);if(0<b.invalid)return R(d),
pb||Sa(a),!0;if(0===b.pending)return l&&a.submit(),!0;R(d);l=!0;return!1}).setDelay(50).setMaxAttempts(400).setFailCallback(function(){o.warn("Poll to check form validations failed. Form id: "+a.id);R(d)}).start()})()}else return pb||Sa(a),R(d),!1;l||(e=df(a),h=od(),e.parentNode.insertBefore(h,e),e.style.display="none")}f&&R(d);E.setIframe(c).setTransactionId(b).setForm(a).setEvent(d).process()}}function $b(d){for(var d=bc(d),a=0,m=d.length;a<m;a++)ne.clearPlaceHolder(d[a])}function bc(d){for(var a=
[],m=wb(d.getElementsByTagName("input")),m=m.concat(wb(d.getElementsByTagName("textarea"))),d=0,b=m.length;d<b;d++)m[d].getAttribute("placeholder")&&m[d].getAttribute("placeholder").length&&a.push(m[d]);return a}function Sa(d){for(var d=bc(d),a=0,m=d.length;a<m;a++)ne.restorePlaceHolder(d[a])}function Ob(d){me=!1;d=gb(d);Bb(d,!1)}function Bb(d,a,m){if(d.type&&("hidden"===d.type||"submit"===d.type||"file"===d.type)||!d.getAttribute("data-capturefield"))return!0;var b=d.getAttribute("data-capturerendererfield")?
l.fields[d.getAttribute("data-capturerendererfield")]:l.fields[d.getAttribute("data-capturefield")],c=d.getAttribute("data-capturerendererchildfieldname"),e=c?b.elementName+"["+c+"]":b.elementName,g=n(d),f,h;f=!1;if(b.validation)f=(f=b.validation[c])&&f.required?f.required:!1,h=b.validation.required||f;else return!0;f=d.id||d.name;if(!d.value&&!h)return delete sa[f],!0;if(sa[f]&&sa[f].status&&"pending"===sa[f].status||b.validation.type&&"server"===b.validation.type||c&&!b.validation[c]&&"dateselect"!==
b.type)return!0;sa[f]=sa[f]||{};sa[f].element=d;sa[f].formId=d.form&&d.form.id?d.form.id:"";sa[f].status="pending";sa[f].postValidationActions=b.validation.actions||null;c="multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById(g+"form_collection_"+b.elementName):"dateselect"===b.type?document.getElementById(g+"form_item_"+b.name):document.getElementById(g+"form_item_"+e);m||p(c).append("capture_validating");e=new k.validation;e.setParentDiv(c);e.setElement(d);d=$c.check(d,b,
a);d.validation&&(e.setValidation(d.validation),sa[f].validation=d.validation);d.valid?(f=!0,m||(e.valid(b.validation.hideValidated),p(c).remove("capture_validating"))):d.pending?(m||e.pending(),f=!0):(f=!1,m||(e.notValid(d.reason,d.type),p(c).remove("capture_validating")));return f}function Mb(d){Ac.push(ea);if(d.noop)return!1;d.url&&(window.location.href=d.url);d.screen&&(new eb).setScreenData(d.screen,l.screens[d.screen]);if(d.action&&ea)janrain.capture.ui[d.action]();if(d["function"]&&"function"===
typeof ke[d["function"]])ke[d["function"]]()}function Pb(d,a){var m={linkAccounts:!0,currentScreen:d,capture_transactionId:za()};janrain.engage&&janrain.engage.signin?(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams(m,!0),janrain.engage.signin.triggerFlow(a)):console.log("Authentication widget not loaded on the page.")}function mb(){if(0===oe)return!1;var d=(new Date).getTime()-oe,d=Math.floor(d/1E3);if(60>d)return d+" seconds ago";d=Math.floor(d/60);if(1==
d)return d+" minute ago";if(59>d)return d+" minutes ago"}function ab(d){oc=!0;d=document.getElementById(d);y(d,"submit",function(){Ue=(new Date).getTime()});clearInterval(Ve);Ve=setInterval(function(){if(!oc)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:mb()})},Yd)}function jb(d){if(d){var a=document.getElementById(d.get("id")),m=d.attributes;if(a&&("value"in m&&pa(m,"value")&&Ue<d.time&&("radio"===a.type||"checkbox"===a.type?(d=xb(a,"form").id,d=document.forms[d][a.name],
d.length&&(d=Ee(d,{value:m.value})[0]),d.checked=m.checked):a.value!==m.value&&(a.value=m.value)),m.valid&&(d=td(a,"capture_form_item"))&&p(d).append("capture_validated"),m.focused)){var b=function(){if(this.setSelectionRange){var d=this.value.length+1;this.setSelectionRange(d,d)}else this.value=this.value;setTimeout(function(){Db(a,"focus",b)},10)};y(a,"focus",b);a.focus()}}}function Wa(d){d=M(d);""!==d.name&&S(d)}function S(d){setTimeout(function(){var a={id:d.id,name:d.name,value:d.value};if("radio"===
d.type||"checkbox"==d.type)a.checked=d.checked;Ub.update(a);janrain.settings.capture.autoSave&&Ha(d)},0)}function Ha(d){clearTimeout(hd);return hd=setTimeout(function(){if(Xd(document.body,d)){var a=xb(d,"form").id,a=document.getElementById(a);if(oc&&D(a,!0)){pb||$b(a);a.submit();a.getAttribute("next");var m=a.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+m);(new Zb).setIframe(b).setTransactionId(m).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Zd)}
function cc(d){d=M(d);d.tagName.match(/select/i)&&clearTimeout(hd);Ub.update({id:d.id,focused:!0})}function tb(d){var a=M(d).id;setTimeout(function(){var d=Ub.get(a);d&&d.get("focused")&&d.set("focused",!1)},0)}function Ca(d,a){var m=Da({js_version:Rb,capture_screen:ha,flow:l.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Dd,settings_version:oa,locale:zc},d||{});janrain.settings.capture.backplane&&
"undefined"!==typeof Backplane&&(m.bp_channel=Backplane.getChannelID());Ib&&(m.flow_path=Ib);if(t(a))for(var b=0,c=a.length;b<c;b++)m.hasOwnProperty(a[b])&&delete m[a[b]];return m}function gc(d){var a=Ca({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",capture_transactionId:za()});Ia&&(a.token=Ia);yc&&(a.merge_token=yc,yc=null);d&&"true"===d&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&
"object"===typeof janrain.settings.capture.dataDefaults){var d=janrain.settings.capture.dataDefaults,b;for(b in d)d.hasOwnProperty(b)&&"undefined"===typeof a[b]&&(a[b]=d[b])}return a}function na(d){(new C).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(d).create()}function $a(){(new C).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(xc).create()}function nb(){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainFailedLogins",
function(d){hb(d)&&(xc=parseInt(d,10))}):(d=d.getCookie("janrainFailedLogins"),hb(d)&&(xc=parseInt(d,10)))}function Ka(d){d=36E5*Ud-(d||0)+(new Date).getTime();return(new Date((new Date).setTime(d))).toUTCString()}function u(){clearTimeout(pe);pe=setTimeout(ec,1E4)}function dc(){if(janrain.settings.capture.federate&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d,a;cookie=new C;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",
function(b){b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(o.info("SSO refresh_token, token needs refreshing, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):u())},!1);else{var b=cookie.getCookie("janrainCaptureTokenRefresh",null,!1);b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(o.info("SSO refresh_token, token needs refreshing"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):u())}}}function ec(){if(janrain.settings.capture.federate&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureToken",function(d){d?dc():(o.info("SSO refresh_token, no token exists, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}):d.getCookie("janrainCaptureToken")?dc():(o.info("SSO refresh_token, no token exists"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}}
function tc(d){var a=new C;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(d);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function uc(){var d=new C;d.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain);d.remove()}function q(){var d=new C;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureTemporaryToken",
function(d){d&&(da(d),uc())}):d.getCookie("janrainCaptureTemporaryToken")&&(da(d.getCookie("janrainCaptureTemporaryToken")),uc())}function da(d,a,b){var c=Ka();la=d;a?(janrain.settings.capture.federate&&ec(),janrain.events.onCaptureSessionCreated.fire({accessToken:d}),janrain.events.onCaptureSessionFound.fire({accessToken:d})):(a=new C,a.setExpirationDirectly(c).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(la),o.info("token set: "+la),o.info("token expires: "+c),janrain.settings.capture.cookieDomain&&
a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&(c=new C,a=Ka(),c.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),o.info("refresh token at: "+a),janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain),c.create(),ec()),ce&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:d}),ce=!1),b?(o.info("create capture session from Federate refresh"),janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:d})):
janrain.events.onCaptureSessionCreated.fire({accessToken:d}))}function Pa(d){var a=new C,b=za(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},e=function(){janrain.capture.ui.federateLogoutCallbackFired(b,c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();d||(la="");janrain.settings.capture.keepProfileCookieAfterLogout||
(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();l&&Tb(l,!0);janrain.settings.capture.federate?(clearTimeout(pe),JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},e),function(){Aa(function(){return A(Hd,b)}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){o.warn("Poll for check federate callback called failed. ssoLogoutTransactionId: "+
b);ga("federatecallback not successful");Hd.push(b);c();janrain.settings.capture.federate=!1;o.warn("janrain.settings.capture.federate set to false");return!1}).start()}()):Gd&&c();janrain.events.onCaptureSessionEnded.fire()}function fc(){var d=new C;d.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)d.getCookie("janrainCaptureToken",function(d){d?da(d,!0):janrain.events.onCaptureSessionNotFound.fire();F=!0});else{if(d.getCookie("janrainCaptureToken"))return da(d.getCookie("janrainCaptureToken"),
!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function vc(d){o.info("fire Federate delayed events");var a=fa[d];if(d=a.fireEvent)t(d)||(d=[d]),ca(d,function(d,b){janrain.events[b]&&("onCaptureLoginSuccess"===b&&Ld||janrain.events[b].fire(a))})}function Ec(d,a){o.info("set Federate login");JANRAIN.SSO.CAPTURE.set_login({code:d,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});o.info("SSO set_login at "+new Date);(function(){Aa(function(){return Sb[a]&&
Sb[a].setLoginSuccess}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){o.warn("Poll for set federate login failed. transactionId: "+a);ga("set login not successful");Sb[a].eventFiredDueToSlowResponse=!0;vc(a);janrain.settings.capture.federate=!1;Gd=!0;o.warn("janrain.settings.capture.federate set to false");return!1}).start()})()}function Fc(d){o.info("check Federate for session at "+new Date);d||(d={});var a=za(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,
response_method:d.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:H.stringify(Ca({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};janrain.settings.capture.federateSegment&&(b.segment=janrain.settings.capture.federateSegment);janrain.settings.capture.federateSupportedSegments&&
t(janrain.settings.capture.federateSupportedSegments)&&(b.supported_segments=janrain.settings.capture.federateSupportedSegments.join("-"));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());var c=new C;c.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?c.getCookie("janrainCaptureTokenRefresh",function(d){d?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?
(b.refresh=!1,o.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false, multi domain localStorage")):(b.refresh=!0,o.info("token refresh expired, Federate refresh is true, multi domain localStorage")):(b.refresh=!1,o.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),o.info("no token refresh time found, force Federate refresh true, multi domain localStorage"))},
!1):(d=c.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,o.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false")):(b.refresh=!0,o.info("token refresh expired, Federate refresh is true")):(b.refresh=!1,o.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/
24/60).setName("federateLimitRefresh").setValue("true").create()),o.info("no token refresh time found, force Federate refresh true"));o.info("SSO check_login at "+new Date);JANRAIN.SSO.CAPTURE.check_login(b);Ma(a);(function(){Aa(function(){return-1<Ya.indexOf(a)}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){o.warn("Poll for check federate login failed. transactionId: "+a);ga("check login not successful");janrain.settings.capture.federate=!1;o.warn("janrain.settings.capture.federate set to false");
Gd=!0;fc();F=!0;return!1}).start()})()}function Gc(){var d=janrain.settings.capture.redirectFlow,a="transactionId"in pc,b=Na.capture_complete_social_registration;janrain.settings.capture.federate&&Fc();Na.jr_otp&&k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/otp_signin",name:"janrainOTPPost",needsResponse:!0,fieldPrefix:"janrain_otp_",fields:[{elementType:"hidden",elementName:"jr_otp",elementValue:Na.jr_otp}]});fc();F=!0;d&&a?(location.hash=location.hash.replace(RegExp("[&,]*transactionId="+
pc.transactionId),""),Qb(pc.transactionId)):b&&da(b);pc.access_token&&(ce=!0,da(pc.access_token))}function Hc(d,a){var b=d["if"].compare;if(!b||0>b.indexOf(":"))return!1;switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new C;b.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!bd&&(bd=ha);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){e&&"janrainLastAuthMethod"===c&&(Jd=!0);Xb(ic(d["if"],b)?d.then:d["else"],a)});else{var e=b.getCookie(c);e&&"janrainLastAuthMethod"===
c&&(Jd=!0);Xb(ic(d["if"],e)?d.then:d["else"],a)}break;case "session":b=b.split(":")[1],"boolean"===typeof d["if"].to&&(d["if"].to+=""),"exists"===b&&Xb(ic(d["if"],!!la+"")?d.then:d["else"],a)}}function ic(d,a){var b=hb(a)?parseInt(a,10):a,c,e=hb(d.to)?parseInt(d.to,10):d.to;switch(d.withOperator){case "===":c=e===b;break;case "!==":c=e!==b;break;case "==":c=e==b;break;case "!=":c=e!==b;break;case ">":c=b>e;break;case "<":c=b<e}return c}function Xb(d,a){!d&&"function"===typeof a&&a();if(!d)return!1;
if("undefined"===typeof d["if"]){if(d.render){var b=d.render.screen,c=l.screens[b];(new eb).setScreenData(b,c)}}else Hc(d,a)}function kc(d){if(!d)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){d&&(d.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function jc(){for(var d="",a=[],b=0;10>b;b++)d=Ba(40),a.push(d);return a}function Wb(d){if(!t(d))return!1;for(var a=d.length,b=0;b<a;b++){var c=d[b];-1===Nd.indexOf(c)&&
Nd.push(c)}}function za(){var d=Nd.pop();0===Nd.length&&Wb(jc());-1===zd.indexOf(d)&&zd.push(d);return d}function Ma(d){var a=zd.indexOf(d);-1<a&&zd.splice(a,1);-1===Xa.indexOf(d)&&Xa.push(d)}function Yb(d){var a=Xa.indexOf(d);-1<a&&Xa.splice(a,1);-1===Ya.indexOf(d)&&Ya.push(d)}function zb(d){return janrain.settings.capture.federate&&d.sso&&d.ssoCode}function Jb(d,a){d.fireEvent=a;Sb[d.transactionId]=d;Ec(d.ssoCode,d.transactionId)}function Bc(d){if(d.status){fa[d.transactionId]=d;"photoUploaded"===
d.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();if(d.userData){if(janrain.settings.capture.setProfileCookie){var a=d.userData,b=Ka();(new C).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(H.stringify(a)).create();janrain.events.onCaptureProfileCookieSet.fire(a)}if(janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=d.userData,t(a))){for(var c=a.length,e={},f=0;f<c;++f)e[a[f]]=Ga(b,
a[f]);(new C).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(H.stringify(e)).create()}}"success"===d.status?janrain.events.onCaptureSaveSuccess.fire(d):janrain.events.onCaptureSaveFailed.fire(d);(a=We[d.action])&&a(d)}}function Cc(){if("object"!==typeof x)return!1;ra.modalConfirmText&&x.setConfirmMessageText(ra.modalConfirmText);ra.modalConfirmLinkText&&x.setConfirmLinkText(ra.modalConfirmLinkText);ra.modalCancelLinkText&&x.setCancelLinkText(ra.modalCancelLinkText)}
function Vb(d,a,b,c){if(!qb[d]||!qb[d].custom)qb[d]={},qb[d].html='<div class="'+a+'">'+(ra[d]||b)+"</div>",qb[d].screen=c}function Ic(d,a){var b=[];ca(qb,function(d){b.push(d)});A(b,d)&&(qb[d].html=a,qb[d].custom=!0)}function Dc(d){l=d;l.flow=L();"undefined"===typeof Md&&(Md=d);Xe();"object"!==typeof l.layouts&&(l.layouts={});"object"!==typeof l.layouts.captureAccessDeniedBuiltIn&&(l.layouts.captureAccessDeniedBuiltIn={});l.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?
document.getElementById("captureAccessDeniedBuiltIn").innerHTML:qb.accessDenied.html;"object"!==typeof l.layouts.captureRetrievingUserDataBuiltIn&&(l.layouts.captureRetrievingUserDataBuiltIn={});l.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:qb.retrievingUserData.html;"object"!==typeof l.layouts.captureDialogBuiltIn&&(l.layouts.captureDialogBuiltIn={});l.layouts.captureDialogBuiltIn.html=
qb.dialog.html;l.screens.janrainDialog=qb.dialog.screen;for(d=0;d<cd.length;d++)l.fields[cd[d].field][cd[d].attribute]=cd[d].value}function rc(d){if(W.isCloneable(d))for(var a in d)if(pa(d,a)){var b=d[a];W.isCloneable(b)&&rc(b);if(ib(b)&&"settings"===b.valueSource&&"undefined"!==typeof b.key&&"undefined"!==typeof b["default"]){var c=yd[b.key];"undefined"===typeof c&&(c=b["default"]);d[a]=c}}}function Lc(d){var a={},b=!1;ca(d.fields,function(c,e){void 0!==e.value&&!d.fields[e.value]&&(void 0!==Ed[c]&&
!Ie(Ed[c],e.value)&&(b=!0,a[c]={oldValue:Ed[c],newValue:e.value}),Ed[c]=e.value)});b&&janrain.events.onCaptureFieldsChanged.fire(a)}function Tb(d,a){ca(d.fields,function(b,c){if((!d.form||a)&&c.doNotPrePopulate)c.value=""})}function ga(){$d.push(arguments);if(window.console){var d=arguments;d.callee=d.callee.caller;d=[].slice.call(d);g?console.log(d):console.log.apply(console,d)}}function eb(){function d(d,a,b){a&&a.screenConditionals?Xb(a.screenConditionals,b):"function"===typeof b&&b()}function a(d){janrain.events.onCaptureAccessDenied.fire();
Va=!0;ee="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})}function b(d){var a,r=za();switch(d){case "email":(d=Na&&Na.verification_code?Na.verification_code:"")?(a=Ca({capture_transactionId:r,verification_code:d}),i("/widget/email_code.jsonp",a),Ma(r),ga("need to verify "+d)):ga("no code supplied");break;case "password":(d=Na&&Na.code?Na.code:"")?(ga("need to verify "+d),a=Ca({capture_transactionId:r,code:d}),i("/widget/email_code.jsonp",a),Ma(r)):ga("no code supplied");
break;case "reactivate":(d=Na&&Na.reactivation_code?Na.reactivation_code:"")?(ga("need to verify "+d),a=Ca({capture_transactionId:r,reactivation_code:d}),i("/widget/reactivate_account.jsonp",a),Ma(r)):ga("no code supplied")}Ye=!0}function J(d){d&&(Qc=d.validateOnRender);if(!Ye){if(d&&"changePasswordLink"===d.dataType&&!d.errors)return b("password"),!1;if(d&&"verifyEmail"===d.dataType&&!d.errors)return b("email"),!1;if(d&&"reactivateAccount"===d.dataType&&!d.errors)return b("reactivate"),!1}var c=
d.dataType&&"public"===d.dataType;if(d&&d.hasUserData&&!l.fused||d&&d.hasUserData&&c&&!l.privacyFiltered)return c=d.dataType&&"public"===d.dataType,!la&&!c?a(d):(Va=!0,ee="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,source:"server"}),mc(c)),h(),!1;if(!la&&d&&d.requireAccessToken)return a(d),h(),!1;Va=!1;f(d);h();Jd&&(Jd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,b){if(ie)setTimeout(function(){e(a,
b)},50);else{b&&b.type&&"completeSocialRegistration"===b.type&&(Ld=!0);if(ya&&b&&(l.noModalForMobile||b.noModalForMobile))b.modal=!1;if(ya&&b&&(l.modalForMobile||b.modalForMobile))b.modal=!0;F?(ha=a,N="capture_"+ha+"_",d(a,b,function(){J(b)})):setTimeout(function(){e(a,b)},50)}}function f(d){if(ea&&ea.div&&(!d.modal||ea.modal&&d.modal)&&!d.keepPreviousScreen)ea.div.style.display="none";var a=d.layout,b=d.source,r=d.modal,d=!!d.modalLoadOnLoad;if("server"===b){var m=document.getElementById(a);m||(m=
document.createElement("div"),m.setAttribute("id",a));try{wc[a]?Z.html=wc[a]:(Z.html=l.layouts[a].html,wc[a]=Z.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===b)try{if(m=document.getElementById(a))wc[a]&&!1!==janrain.settings.capture.saveLayouts?Z.html=wc[a]:(Z.html=m.innerHTML,wc[a]=Z.html);else throw Z.html="",aa(a);}catch(J){throw ga(J.name+": "+J.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");
}p(m).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");ya&&(p(m).append("janrain-capture-ui-mobile"),Oa.onOrientationChange.addHandler(function(d){p(m).append("janrain-capture-ui-mobile-"+d.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[d.orientation]);janrain.events.onCaptureContentChange.fire()},!0),Oa.onOrientationChange.fire({orientation:Oa.getOrientation()}));Z.div=m;Va||Z.div.setAttribute("data-capturescreenname",
ha);db&&"captureRetrievingUserDataBuiltIn"!==db.id&&!ea.modal&&r&&(Vc=db);db=Z.div;Z.modalLoadOnLoad=d;Z.source=b;Z.modal=r;ea=Z;"undefined"===typeof je[ha]&&(je[ha]={});je[ha].layout=Z}function g(d,a){var b=d.element,r=d.type;A(["data","capture","widget"],d.element)||(b="html",r=d.element);if("object"===typeof d.displayCondition&&"undefined"!==typeof d.displayConditionPassed&&!1===d.displayConditionPassed)return!1;if(d.close)return u.render.html.close(d);if(u.render[b]&&u.render[b][r])return o.log("jtl",
"Rendering {* "+r+" *}, type: "+b+"."+r),u.render[b][r](d,a);b='Invalid JTL tag "'+d.name+'" with element "'+d.element+'"';d.type&&(b+=' and type "'+d.type+'"');o.forceError(b);return!1}function h(){ie=!0;janrain.events.onCaptureRenderStart.fire(l);Qa=[];l.fields.submitButton||(l.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});l.fields.loginWidget||(l.fields.loginWidget={element:"widget",type:"login"});
l.fields.shareWidget||(l.fields.shareWidget={element:"widget",type:"share"});l.fields.backButton||(l.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});l.fields.captcha||(l.fields.captcha={element:"capture",type:"captcha"});l.fields.keepMeLoggedIn||(l.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});l.fields.errorMessages||(l.fields.errorMessages={element:"capture",type:"errorMessages"});l.fields.savedProfileMessage||(l.fields.savedProfileMessage=
{element:"capture",type:"savedProfileMessage"});Z.originalHtml=Z.html;Z.flow=l;Z.html=E(Z.html);Z.div.innerHTML=Z.html;if("server"==Z.source){if(!document.getElementById("janrainCaptureWidget")){var d=document.createElement("div");d.id="janrainCaptureWidget";document.body.appendChild(d)}document.getElementById("janrainCaptureWidget").appendChild(Z.div)}if(!Va){for(var d=0,a=Bd.length;d<a;d++)Bb(document.getElementById(Bd[d]),!1);Bd=[]}j();k();for(d=0;d<Qa.length;d++){a=document.getElementById(N+Qa[d].elementName);
if(!a){o.forceError("Couldn't find the \""+Qa[d].elementName+'" form. Is it being placed inside another form?');break}Qa[d].next&&Qa[d].next.type&&"server"===Qa[d].next.type?a.setAttribute("next",'{"noop":""}'):Qa[d].next?(Qa[d].next.conditional&&a.setAttribute("next",H.stringify(Qa[d].next)),Qa[d].next.screen&&a.setAttribute("next",H.stringify(Qa[d].next)),Qa[d].next.url&&a.setAttribute("next",H.stringify(Qa[d].next)),Qa[d].next.action&&a.setAttribute("next",H.stringify(Qa[d].next))):a.setAttribute("next",
'{"noop":""}')}q();ea=Z;janrain.events.onCaptureContentChange.fire()}function E(d){for(var a=/\{\*(.*?)\*\}/,b=/^\s*\/\s*/,r=/^\s*#\s*/,m=/\{(.*?)*\}\s*/,c=!1,J,e=[],f=[];J=a.exec(d);)try{var ia=J[1].trim();if(m.test(ia))var h=ia.match(m),ia=ia.replace(h[0],"").trim(),Pd=h[0].match(/\{(.*?)*\}\s*/)[0];else Pd=null;c=!1;r.test(ia)&&(ia=ia.replace("#","").trim(),c=!0);if(b.test(ia)){var k=ia.replace("/",""),E={};if("undefined"==typeof l.fields[k])return ga("No field definition for"+k,"error"),o.error("No field definition for"+
k+" error"),s;E.element=l.fields[k].element;E.type=l.fields[k].type;E.close=!0}else{if("undefined"==typeof l.fields[ia])return ga("No field definition named "+ia+" for tag "+J[0],"error"),o.error("No field definition named "+ia+" for tag "+J[0]+" error"),s;E=l.fields[ia];E.name=ia;c&&(E.start=!0);if("form"===E.element&&!E.transactionId){var j=za();E.transactionId=j}E.elementName=E.elementName||ia}var Pd=Pd||null,i=g(E,Pd);i||(i=" ");i+="";i=i.replace(/\$/g,"$$$$");d=d.replace(J[0],i);(E.next||"form"===
E.element&&!E.close)&&Qa.push({elementName:E.elementName,next:E.next});E.onclickHandler&&v.push({elementName:E.elementName,handler:E.onclickHandler,eventType:"click"});E.onchangeHandler&&v.push({elementName:E.elementName,handler:E.onchangeHandler,eventType:"change"});"string"===typeof E.element&&"form"===E.element&&!E.close&&(v.push({elementName:E.elementName,handler:yb,eventType:"submit"}),janrain.settings.capture.autoSave&&!ya&&v.push({elementName:E.elementName,handler:ab,eventType:"render"}));
if("form"===E.element&&("widget/traditional_register.jsonp"===E.action||"widget/social_register.jsonp"===E.action))f.push("widget/traditional_register.jsonp"===E.action?"traditionalRegister":"socialRegister");if("form"===E.element&&"widget/traditional_signin.jsonp"===E.action||"widget"===E.element&&"login"===E.type)e.push("widget/traditional_signin.jsonp"===E.action?"traditionalSignin":"socialSignin")}catch(n){return ga(n.name+": "+n.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),
screen:ha});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:ha});return d}function k(){Z.div.getAttribute("data-captureventadded")||(y(Z.div,"click",function(d){var a=M(d);if(a&&a.nodeName&&"A"===a.nodeName){var b=a.getAttribute("data-capturecontrol");b&&(lb(b),R(d));a.getAttribute("data-cancelcapturereturnexperience")&&bd&&(janrain.capture.ui.setNoReturnExperience(),R(d));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof x)"close"===a&&(janrain.capture.ui.modal.close(),
R(d)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),R(d))}}),Z.div.setAttribute("data-captureventadded",!0));for(var d=Z.div.getElementsByTagName("img"),a=d.length,b=0;b<a;b++)y(d[b],"load",function(){janrain.events.onCaptureContentChange.fire()});d=$(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=d.length;if(!Re){for(b=0;b<a;b++)y(d[b],"click",function(d){"object"===typeof x?(janrain.capture.ui.renderScreen(ea.flow.defaultScreen),x.setShowContentOnLoad(!0).addContent(ea.div).show(),
O=!1,janrain.events.onCaptureScreenShow.fire({screen:ha}),janrain.events.onCaptureContentChange.fire()):Qe=!0;R(d)});Re=!0}}function j(){if(l.cssDependencies&&t(l.cssDependencies))for(var d=0;d<l.cssDependencies.length;d++)V(l.cssDependencies[d]);ge&&Od&&!w?mf(janrain.events.onCssLoad,function(d){Z=ea;qe.push(d.source);for(d=0;d<ge;d++)if(-1==qe.indexOf(Ad[d]))return!1;w||(n(),w=!0)}):n();ie=!1;d={flow:l,renderingBuiltInScreen:Va,screen:ha};Va&&(d.builtInScreenRendered=ee);janrain.events.onCaptureRenderComplete.fire(d);
l.screens&&l.screens[ha]&&l.screens[ha].type&&"completeSocialRegistration"===l.screens[ha].type&&(tc(la),Pa(!0))}function n(){var d=!1,a=!1;if(Z.modal){if("object"===typeof x){var d=!0,b=x.getContent();b&&document.body.appendChild(b);x.close(!0)}else x=new vd,Cc();Pe||(a=!0,janrain.events.onModalClose.addHandler(function(){l&&l.mergeToken&&(l.mergeToken="");db=Vc},!0),Pe=!0);x=c(x);x.setShowContentOnLoad(!0).addContent(Z.div);a&&janrain.events.onCaptureModalReady.fire();if(d||Z.modalLoadOnLoad||Qe||
O)x.show(),O=!1,janrain.events.onCaptureScreenShow.fire({screen:ha})}else"object"===typeof x&&x.close(!0),O=!1,janrain.events.onCaptureScreenShow.fire({screen:ha});Z.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function q(d){for(var d=d||v,a=0;a<d.length;a++)if("function"===typeof d[a].handler)if("render"===d[a].eventType)d[a].handler(N+d[a].elementName);else{var b=document.getElementById(N+d[a].elementName);y(b,d[a].eventType,d[a].handler)}v=[]}var Z={},u,s=ra.humanReadableGenericErrorMessage||
"Error displaying information";u=new z;$c=new ba;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:q}}function lc(d,a){for(var b=[],c=document.getElementById(d).getElementsByTagName("INPUT"),e=c.length,f=0;f<e;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Tc||a)ad[c[f].getAttribute("data-capturefield")]=c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);b.push(g)}return b}
function mc(d,a){var b="function"===typeof a?a:function(){};if(d){var c=id||Na.uuid||"";id&&(id="");c?(ga("need to get data for "+c),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):ga("no uuid supplied")}else{if(!la)return!1;k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function i(d,a,b){0!==d.indexOf("http")&&(d=janrain.settings.capture.captureServer+d);wa(rd(d,a),b)}function B(d,a){var b={},c=d&&d.userData&&d.userData.migratedUserType?d.userData.migratedUserType:null,e=a?Uc:dd;Ia&&!a&&(b.capture_social_registration=Ia);la&&a&&(b.capture_complete_social_registration=la);re&&(b.authProvider=re);c&&(b.migratedUserType=
c);Pa();var c=e,e=location,f=c;c.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(c),f=e.protocol+"//"+e.host+f.join("/"));b=rd(f,b);window.location=b}function Nc(d,a){var b=!1,c;if("ok"===d.stat&&(c=d.result,c.accessToken&&(c.oneTime?G=c.accessToken:(da(c.accessToken),G=null)),c&&Bc(c),re=c&&c.authProvider?c.authProvider:null,Te=c&&c.authProfileData?c.authProfileData:{},c&&c.screen&&l.screens&&l.screens[c.screen]&&l.screens[c.screen].type&&"completeSocialRegistration"===l.screens[c.screen].type&&
q(),"socialSignin"===c.action&&"success"===c.status&&"noUserForIdentifier"===c.statusMessage||"socialSignin"===c.action&&"success"===c.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(e){var f=[];ca(e,function(d,a){c[d]===a||c.userData&&c.userData[d]===a?f.push(!0):f.push(!1)})}dd&&"noUserForIdentifier"===c.statusMessage&&(b=!0,B(c));Uc&&e&&!A(f,!1)&&(b=!0,B(c,!0))}"function"===typeof a&&!b&&a(c)}function Pc(d){function a(d){return'<li><a href="#" class="capture_suggestion">'+
d+"</a></li>"}var b=d.result,d=n(b.submittedScreen),c=l.fields[b.field],e=document.getElementById(d+(c.elementId||c.elementName||b.field)),f=b.alternatives,g=c.validation.messages.unique||"",h=document.getElementById(d+"form_item_"+(c.elementName||b.field)),E=new k.validation;E.setElement(e);E.setParentDiv(h);if(!1===b.unique){if(f){var f=f.map(a),j=function(d){var a=M(d);p(a).has("capture_suggestion")&&(e.value=a.innerHTML,Db(h,"click",j),E.valid(),R(d))};E.notValid(g+'<ul class="capture_suggestions">'+
f.join("")+"</ul>",function(){y(h,"click",j)})}else E.notValid(g);E.setUnique(!1)}else{if(b=Ga(c,"validation.unique.alongWith"))(d=document.getElementById(d+"form_item_"+l.fields[b].elementName))&&p(d).append("capture_validated").remove("capture_validating").remove("capture_error");E.valid();E.setUnique(!0)}}function Rc(d){var a=[];l&&l.fields&&ca(l.fields,function(b,c){c&&c.type&&c.type===d&&a.push(c)});return a}function Sc(d,a){janrain.events.onCaptureError.fire("object"===typeof d?d:"{"+d+"}");
if(d.result&&d.result.error&&("access_token_expired"===d.result.error&&(Pa(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===d.result.error&&"malformed access token"===d.result.errorDescription&&(Pa(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===d.result.error)){var b=Rc("linkAccounts"),c=b.length?b[0]:{},b=c.messages&&c.messages.errors&&c.messages.errors.linkError?c.messages.errors.linkError:"That account is already in use.",e=C().getCookie("expected_tab");if(x&&x.isOpen()&&
(c=c&&c.linkAccountContainer?$("capture_"+c.linkAccountContainer,document.getElementById("janrainModal")):!1)){for(var f=$("capture_form_error_container",c[0]),c=0,g=f.length;c<g;c++)f[c].innerHTML='<div class="capture_form_error">'+b+"</div>";var h=janrain.events.onModalClose.addHandler(function(){X(f,function(d){d.innerHTML=""});janrain.events.onModalClose.removeHandler(h)})}janrain.events.onCaptureLinkAccountError.fire({message:b,provider:e})}janrain.settings.custom||janrain.engage.signin.widget.refresh();
b=d.result.customError||d.result.error+": "+d.result.errorDescription;Xc(b,d.result.error)||alert(b);ga(d);"function"===typeof a&&a()}function Xc(d,a){if(db){var b={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()};a&&b.classes.push("capture_errortype_"+a.replace(/ /g,"").toLowerCase());b=k.domHelpers.createDiv(b);b.innerHTML=d;db.insertBefore(b,db.firstChild);janrain.events.onCaptureContentChange.fire()}return db}function Zc(d,a){if("string"!==typeof d||!janrain.settings.capture.setProfileCookie)return!1;
var b=new C,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureProfileData",function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureProfileData"))&&b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}function md(d,a){if("string"!==typeof d||!janrain.settings.capture.returnExperienceUserData)return!1;var b=new C,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureReturnExperienceData",
function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureReturnExperienceData"))&&b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}function Jc(d){var a=C();return A(["expected_tab","welcome_info_name","login_tab"],d)&&(d=a.getCookie(d))?unescape(d):""}function od(){var d=document.createElement("div");d.className="capture_btn capture_processing";d.innerHTML=ra.processing||"Processing";return d}function Kc(d,a){l&&d&&a&&
l.screens&&l.screens[d]&&l.screens[d].dataType&&"public"===l.screens[d].dataType?(!l._uuid||l._uuid&&l._uuid!==a||!l.privacyFiltered?(id=a,l.fused=!1):id="",O=!0,janrain.capture.ui.renderScreen(d)):ga("Cannot get public flow and show screen.")}function qd(d,a){if(!d)throw Error("postCaptureForm requires you supply a form name.");var b=l.fields[d];if(!b)throw Error("postCaptureForm Error: no form called "+d+" found in the flow.");if(!b.element||"form"!==b.element)throw Error("postCaptureForm Error: the field called "+
d+" found in the flow is not a form.");var c=b.fields;if(!c)throw Error("postCaptureForm Error: the form called "+d+" has no fields defined.");for(var b=b.action,e=Ba(40),f={},g={fieldPrefix:"capture_postForm_"+e+"_",elementId:d,name:d,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+b,needsResponse:!0},b=0,h=c.length;b<h;b++){var E={};if(a)E.elementValue=a[c[b]];else{var j=Ub.getByName(c[b]);E.elementValue=j?j.getValue():void 0}"undefined"!==typeof E.elementValue&&(f[c[b]]=!0,E.elementType=
"hidden",E.fieldPrefix=g.fieldPrefix,E.elementId=c[b]+"_"+e,E.elementName=E.name=c[b],g.fields.push(E))}ca(a,function(d,a){if(!f[d]){var b=d.match(/(.*)\[(.*)\]/),r=d;b&&(r="display"===b[1]?b[2]:b[1]);if(A(c,r))g.fields.push({elementType:"hidden",fieldPrefix:g.fieldPrefix,elementValue:a,elementId:d+"_"+e,elementName:d,name:d});else throw Error('postCaptureForm Error: No field named "'+r+'" found in the flow.');}});k.domHelpers.createFormAndPost(g)}var Mc=function(){function d(d){this.attributes=d&&
Da({},d)||{};this.time=(new Date).getTime();return this}d.prototype={set:function(d,a){var b=this,r=!1,c;ib(d)&&(c=d);"string"===typeof d?(r=this.attributes[d]!==a,this.attributes[d]=a):c&&ca(c,function(d,a){r=r||b.attributes[d]!==a;b.attributes[d]=a});r&&(this.time=(new Date).getTime());return this},get:function(d){return this.attributes[d]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(d,a){var a=a||this,b;for(b in this.attributes)pa(this.attributes,
b)&&d.call(a,b,this.attributes[b]);return this}};for(var a=["focused","checked","value","name","valid"],b=0,c=a.length;b<c;b++)(function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.prototype["set"+b]=function(d){return this.set(a,d)};d.prototype["get"+b]=function(){return this.get(a)}})(a[b]);return d}(),v=[],$c,ie=!1,Ib,zc=janrain.settings.capture.language||janrain.settings.language||"en-US",Qa=[],ha,je={},N,bd,Jd=!1,Kd=!1,Qc,Ac=[],wd=janrain.settings.capture.maxScreenHistory||3,ea={},cd=[],
Md,ke={},Tc=janrain.settings.capture.mode13||!1,dd=janrain.settings.capture.socialRegistrationRedirect,Uc=janrain.settings.capture.socialRegistrationCompleteRedirect,Ld=!1,ed=!1,fd=!1,gd=!1,ad={},Ub,Ed={},O=!1,ka,Va=!1,Ia,yc,ce=!1,la,F=!1,G,he=!1,w=!1,l,yd,oa="",ra={},Vc,db,Id=!1,Wc=!1,U=janrain.settings.capture.backplaneVersion||"1.2",cb="1.2"===U+""?"backplane.js":"backplane"+U+".js",bb=janrain.settings.capture.backplaneLibrary||(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainbackplane.com/":
"https://d134l0cdryxgwa.cloudfront.net/")+cb,Sd=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+U,Td=janrain.settings.capture.backplaneBlock||20,s=janrain.settings.capture.backplaneReplayOnPageLoad||!1,wc={},fa={},Nd=[],zd=[],Xa=[],Ya=[],Ua=[],Od=!1,Ud=janrain.settings.capture.accessTokenLifeHours||1,pb="placeholder"in document.createElement("input"),Yc=!1,ob=!1,de,x,Qe=!1,Re=!1,Pe=!1,Ad=[],ge=0,Bd=[],Dd="HEAD",Se=!1,qb={},ee,Cd={},fe=!1,xc=0,hc=[],Fd=
!1,Gd=!1,Sb={},Hd=[],pe;a=0;var Na=Fb(window.location.href).queryKey,pc=cf(location.hash.replace("#",""),/[&,]/),id,jd,re,Te,Ze="Validating",Ye=!1,Ab,$e="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),qe=[],se={};Ac.push=function(){Array.prototype.push.apply(this,arguments);this.length>wd&&this.shift();
return this.length};"en"===zc&&(zc="en-US");dd&&Na&&Na.capture_social_registration?Ia=Na.capture_social_registration:pc.engageToken&&(yc=Ia=pc.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+Ia),""));Ia&&(gd=!0);Cd.publicPrivateTogglers=[];ba.prototype.check=function(d,a,b){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof d.value&&("text"===d.type||"email"===d.type))d.value=d.value.trim();var a=a||l.fields[d.name],c=d.getAttribute("data-capturerendererchildfieldname"),
c=c&&a.validation&&a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation||!c)return!0;c.messages||(c.messages={});if(!this.hasValue(d,a,c))return{valid:!1,reason:c.messages.required||"Field not completed",type:"required"};if(!this.isDate(d,a,c))return{valid:!1,reason:c.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(d,a,c))return{valid:!1,reason:c.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(d,
a,c))return{valid:!1,reason:c.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(d,a,c))return{valid:!1,reason:c.messages.minYears||"Not old enough",validation:{minYears:c.minYears},type:"minYears"};if(!this.isValidMinLength(d,a,c))return{valid:!1,reason:c.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(d,a,c))return{valid:!1,reason:c.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(d,
a,c))return{valid:!1,reason:c.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(d,a,c))return{valid:!1,reason:c.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(d,a,c))return{valid:!1,reason:c.messages.match||"Invalid match",type:"match"};var e=this.custom(d,a,c);if(!e)return"undefined"===typeof e?{pending:!0}:{valid:!1,reason:c.messages.custom||"Invalid",type:"custom"};e=sa&&sa[d.id]&&"undefined"!==typeof sa[d.id].unique&&
!1===sa[d.id].unique;return c.unique&&!c.unique.uniquenessBlacklist&&(!b||e)?(b=document.getElementById(n(d)+"form_item_"+d.getAttribute("name")),this.isUnique(d,b,a,function(){}),{pending:!0}):{valid:!0}};ba.prototype.custom=function(d,a,b){if(!a||!b.custom||"function"!==typeof te[b.custom])return!0;var c=new k.validation,a=document.getElementById(n(d)+"form_item_"+a.elementName);c.setParentDiv(a);c.setElement(d);return te[b.custom](d.name,d.value,c)};ba.prototype.getRating=function(d){var d=d.value,
a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],b=0,c;c=Math.min(8,Math.floor(3*Math.log(d.length+1)));for(var e=0;e<a.length;e++)a[e].test(d)&&b++;return c+=Math.floor(Math.pow(2,b)/2)};ba.prototype.isValidMaxNumericLength=function(d,a,b){if(!a)return!0;a=b.maxNumericLength;if(!a)return!0;d=d.value.match(/(\d)/g);t(d)&&d.length>a&&b.actions&&b.actions.maxNumericLength&&hc.push(b.actions.maxNumericLength);return t(d)?d.length<=a:!0};ba.prototype.isValidMaxLength=function(d,a,b){d=d.value;if(!a)return!0;
a=b.maxLength;if(!a)return!0;d.length>a&&b.actions&&b.actions.maxLength&&hc.push(b.actions.maxLength);return d.length<=a};ba.prototype.isValidMinLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.minLength;if(!a)return!0;d.length<a&&b.actions&&b.actions.minLength&&hc.push(b.actions.minLength);return d.length>=a};ba.prototype.isValidMaxFileSize=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.maxFileSize;return!a?!0:d.files[0].size<
a};ba.prototype.isValidFileType=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.validFileTypes;return!t(a)?!0:A(a,d.files[0].type)};ba.prototype.isDate=function(d,a,b){if((!a||"dateselect"!==a.type)&&!b.isDate)return!0;var c=La(d,a);if(c)a=Fe(c);else{if(!(b=b.required))a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield")),b=n(d),d=document.getElementById(b+
a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,c=document.getElementById(b+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,a=document.getElementById(b+a.name+"_dateselectyear"),a=a.options[a.selectedIndex].value,b=!(!d&&!c&&!a);a=b?!1:!0}return a};ba.prototype.isValidMinYears=function(d,a,b){if(!a||"dateselect"!==a.type)return!0;a=La(d,a);d=b.minYears;if(!Fe(a)||!d)return!0;var c=new Date,a=Math.abs(((new Date(a)).getTime()-c.getTime())/864E5),a=Math.floor(a/365.242199);
a>=d||b.actions&&b.actions.minYears&&hc.push(b.actions.minYears);return a>=d};ba.prototype.hasValue=function(d,a,b){var c;if("select"===a.element)c=d.options[d.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=d.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,f=[],g=0;g<e;g++)c[g].checked&&f.push(c[g]);c=f.length}else c=!1;else c=d.value;if(!a||!b.required)return!0;
if("dateselect"===a.type)return c=La(d,a),!c?!1:!0;c||b.actions&&b.actions.required&&hc.push(b.actions.required);return c};ba.prototype.isUnique=function(d,a,b,c){var a=d.form.getAttribute("data-capturefield"),b=d.getAttribute("data-capturefield"),a=Ca({value:d.value,form:a,capture_screen:K(d),field:b}),e={};X(d.form,function(d){Ga(l.fields[b],"validation.unique.alongWith")===d.name&&(e[d.name]=d.value)});a=Da(a,e);if(d=l.fields[b])if(d=d.idFieldElementId)if(d=document.getElementById(d))a.pluralId=
d.value;la&&(a.access_token=la);Ib&&(a.flow_path=Ib);i("/widget/unique.jsonp",a,c)};ba.prototype.isBlacklisted=function(d,a,b){function c(){var a=d.value,b=response;if(!b||0===b.length)return!0;for(var r,m=0;m<b.length;m++)if(r=RegExp("^"+b[m]+"$","i"),r.test(a))return!0;return!1}captureUIBlacklistCallback=function(d){b(c(d))};t(a)?b(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):b(!0)};ba.prototype.isValidFormat=function(d,a,b){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,
alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,noWhitespace:/^\S*$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!b.format)return!0;
a=b.format;if("string"===typeof a&&c[a])a=c[a];else return!1;(d=a.test(d.value))||b.actions&&b.actions.format&&hc.push(b.actions.format);return d};ba.prototype.isValidMatch=function(d,a,b){if(!a)return!0;a=b.match;if(!a)return!0;a=l.fields[a];a=n(d)+(a.elementId||a.elementName);a=document.getElementById(a);d.value!==a.value&&b.actions&&b.actions.match&&hc.push(b.actions.match);return d.value===a.value};var k={autoSelectPreferredTab:function(d,a){var b=(new C).setUseLocalStorage(!0),b=parseInt(b.getCookie("janrainCaptureSelectedTab"),
10);isNaN(b)&&"capture_selected_tab"in Na&&(b=parseInt(Na.capture_selected_tab));isNaN(b)||(b=d.collection[b])&&v.push({elementName:a+"_"+b.elementName,handler:function(d){var a=document.getElementById(d);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(d,a,b){a=Ga(a,b);void 0!==d.trueValueReplace&&a?a=d.trueValueReplace:void 0!==d.falseValueReplace&&!a&&(a=d.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(d,
a,b){var c=d.profileStoragePath.split("."),e=c.shift(),f=c.join(".");v.push({handler:function(){function c(d){var e=document.getElementById(a);return e&&(d||!e.getAttribute("placeholder"))?(e[b]=d,!0):!1}janrain.settings.multiDomainLocalStorage?Zc(e,function(a){c(k.getValueFromObject(d,a,f))}):c(k.getValueFromObject(d,Zc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(d){d.type||(d.type="");var a=d.elementId||d.elementName;v.push({elementName:a,handler:function(d){d=M(d);n(d);(d=td(d,
"capture_form_item"))&&p(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:xd&&"checkbox"===d.type?"click":"focus"});v.push({elementName:a,handler:function(d){d=M(d);n(d);(d=td(d,"capture_form_item"))&&p(d).remove("capture_focused")},eventType:"blur"});d.validation&&(v.push({elementName:a,handler:Ob,eventType:d.validation.eventType||"blur"}),d.validation.match&&"password"===d.type&&v.push({elementName:d.validation.match,handler:function(){setTimeout(function(){var d=
document.getElementById(N+a);Bb(d,!1)},0)},eventType:"keydown"}));d.rendererFieldName&&d.rendererChildFieldName&&l.fields[d.rendererFieldName].validation&&l.fields[d.rendererFieldName].validation[d.rendererChildFieldName]&&v.push({elementName:d.rendererFieldName+"_"+d.rendererChildFieldName,handler:Ob,eventType:"blur"});if("password"===d.type){d.validation&&("function"===typeof d.validation.rating?v.push({elementName:a,handler:function(a){var a=gb(a),b=$c.getRating(a);d.validation.rating(a,b)},eventType:"keyup"}):
d.validation.rating&&v.push({elementName:a,handler:function(d){d=gb(d);d=$c.getRating(d);ga("Password Strength",d)},eventType:"keyup"}));for(var b=[],c=0,e=v.length;c<e;c++)v[c].elementName===a&&b.push(v[c]);v.push({elementName:a,handler:function(d){return k.togglePasswordInput(d,b)},eventType:"click"});v.push({elementName:a,handler:function(d){return k.togglePasswordInput(d,b)},eventType:"focus"})}if("text"===d.type||"password"===d.type||"email"===d.type)v.push({elementName:a,handler:k.clearPlaceHolder,
eventType:"focus"}),v.push({elementName:a,handler:k.restorePlaceHolder,eventType:"blur"})},attachModifyEventHandler:function(d){v.push({elementName:d.elementId||d.elementName,eventType:d.modify.event,handler:function(){var a=document.getElementById(d.modify.element),b=d.modify.attributes;if(b&&a)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])}})},wrapStringData:function(d,a,b){var c="",e=["capture_data_item"];b&&e.push(b);c+=k.createDiv({elementId:"stringdata_"+d.name,classes:e});d.label&&
(c+=k.createLabel({elementId:d.name,label:d.label,classes:["capture_data_label"]}));c+=k.createDiv({elementId:d.name,classes:["capture_data"]});return c+a+"</div></div>"},wrapFormItemStart:function(d){var a="",b=[],c=d.classes||[],e="elementCollection"===d.type?"form_collection":"form_item";if(d.justElement||"submit"===d.type||"button"===d.type)return"";-1===c.indexOf("capture_"+e)&&c.push("capture_"+e);d.errors&&-1===c.indexOf("capture_error")&&!d.collection&&c.push("capture_error");!d.collection&&
d.type&&-1===c.indexOf("capture_"+d.type)&&("checkbox"===d.type||"radio"===d.type?b.push("capture_"+d.type):c.push("capture_"+d.type));"elementCollection"===d.type&&d.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");d.collection?(-1===c.indexOf("capture_"+e+"_"+d.elementName)&&c.push("capture_"+e+"_"+d.elementName),d.checked&&c.push("capture_toggled"),a+=k.createDiv({elementName:e+"_"+d.elementId,hide:d.hide,classes:c})):a+=k.createDiv({elementName:e+
"_"+d.elementName,hide:d.hide,classes:c});if(("checkbox"===d.type||"radio"===d.type)&&!d.collection)a+=k.createDiv({elementName:e+"_inner_"+d.elementName,classes:b});return a},wrapFormItemEnd:function(d){return d.justElement||"submit"===d.type||"button"===d.type?"":"</div>"},createPublicPrivateToggle:function(d){function a(){for(var d=Cd.publicPrivateTogglers,b=d.length,c=0;c<b;c++)d[c]&&(d[c].style.display="none");Cd.publicPrivateTogglers=[]}function b(a){var c=M(a),r=n(c),m=document.getElementById(r+
"display_toggle_options_"+d.elementName),e=document.getElementById(r+"display["+(d.rendererFieldName||d.elementName)+"]"),f=function(){if(!t(d.publicPrivateBoundFields))return!1;var a=[];X(d.publicPrivateBoundFields,function(d){a.push(document.getElementById(r+"display["+d+"]"))});return a}(),J=document.getElementById(r+"display_indicator_public_"+d.elementName),g=document.getElementById(r+"display_indicator_private_"+d.elementName),h=r+"display_option_public_"+d.elementName,ia=r+"display_option_private_"+
d.elementName,k=c.parentNode?c.parentNode.id||"":"";if(k===h||k===ia)c=c.parentNode;c.id===h?(e.value="public",f&&X(f,function(d){d.value="public"}),p(document.getElementById(h)).append("capture_checked"),p(document.getElementById(ia)).remove("capture_checked"),e.value="public",p(J).append("capture_toggled"),p(g).remove("capture_toggled")):(e.value="private",f&&X(f,function(d){d.value="private"}),p(document.getElementById(h)).remove("capture_checked"),p(document.getElementById(ia)).append("capture_checked"),
e.value="private",p(J).remove("capture_toggled"),p(g).append("capture_toggled"));S(e);m.style.display="none";R(a)}var c="",e=["capture_display_option"],f=["capture_display_option"];d.forcePublicPrivate&&("public"===d.forcePublicPrivate.toLowerCase()?d.displayPublic=!0:"private"===d.forcePublicPrivate.toLowerCase()&&(d.displayPublic=!1));c+=k.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+d.elementName});c+=k.createDiv({classes:["capture_display_toggle_options"],
elementId:"display_toggle_options_"+d.elementName});d.displayPublic&&e.push("capture_checked");c+=k.createDiv({classes:e,elementId:"display_option_public_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d.displayPublic||f.push("capture_checked");c+=k.createDiv({classes:f,elementId:"display_option_private_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];d.disablePublicPrivate&&e.push("capture_display_toggle_disabled");d.displayPublic&&e.push("capture_toggled");c+=k.createDiv({classes:e,elementId:"display_indicator_public_"+d.elementName});c+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_toggle","capture_private"];d.disablePublicPrivate&&f.push("capture_display_toggle_disabled");d.displayPublic||f.push("capture_toggled");
c+=k.createDiv({classes:f,elementId:"display_indicator_private_"+d.elementName});c+='<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';t(d.publicPrivateBoundFields)&&X(d.publicPrivateBoundFields,function(a){c+=k.createInput({type:"hidden",elementName:"display["+a+"]",value:d.displayPublic?"public":"private"})});c+=k.createInput({type:"hidden",elementName:"display["+(d.rendererFieldName||d.elementName)+"]",value:d.displayPublic?
"public":"private"});v.push({elementName:"display_toggle_wrap_"+d.elementName,eventType:"click",handler:function(b){var c=M(b),m=n(c),m=document.getElementById(m+"display_toggle_options_"+d.elementName),e="none"===m.style.display||""===m.style.display?"block":"none";c.parentNode&&p(c.parentNode).has("capture_display_toggle")&&(c=c.parentNode);p(c).has("capture_display_toggle")&&!p(c).has("capture_display_toggle_disabled")&&("block"===e&&(a(),Cd.publicPrivateTogglers.push(m)),m.style.display=e);R(b)}},
{elementName:"display_option_public_"+d.elementName,handler:b,eventType:"click"},{elementName:"display_option_private_"+d.elementName,handler:b,eventType:"click"});Se||(y(document.body,"click",function(d){d=M(d);d.parentNode&&p(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);!p(d).has("capture_display_toggle")&&!p(d).has("capture_display_option")&&a()}),Se=!0);return c},createAnchor:function(d){var a="",b=d.fieldPrefix||N,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?
d.elementAttributes:{},f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[];A(f,"capture_"+c)||f.push("capture_"+c);a=a+"<a "+("id='"+b+c+"' ");d.target&&(a+="target='"+d.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Nb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+="href='"+d.elementHref+"' ";a+="name='"+d.elementName+"' ";a+=">";d.elementText&&(a+=d.elementText);return a+"</a>"},createTextarea:function(d){var a="",b=d.fieldPrefix||N,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?
d.elementClasses:[],f=d.rows||"5",a=a+k.createLabel(d);A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+d.name+"' ";a=a+("rows='"+f+"' ")+("name='"+d.elementName+"' ");d.placeholder&&pb&&(a+="placeholder='"+d.placeholder+"'");a+=">";d.value&&(a+=d.value);a+="</textarea>";d.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(d));return a+=k.createTip(d)},createTip:function(d){var a;
a="<div class='capture_tip' ";d.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof d.tip?d.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+d.elementName+"'>");a+=Ze+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+d.elementName+"'>");d.errors&&t(d.errors)&&(a+=d.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(d));return a+"</div>"},createLabel:function(d,a){var b,c=d.fieldPrefix||N,e=d.elementId||d.elementName;
if(!d.label)return a?a:"";b="<label ";"elementCollection"!==d.type&&(b+=" for='"+c+e+"'");b+=">";a&&(b+=a);d.label&&(b+=d.label);return b+"</label>"},createSelect:function(d){var a="",b=d.fieldPrefix||N,c=d.rendererFieldName,e=d.rendererChildFieldName,f,h=d.justElement,j=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],E=d.elementId||d.elementName;A(j,"capture_"+E)||j.push("capture_"+E);A(j,"capture_select")||j.push("capture_select");a+=k.createLabel(d);a=a+'<span class="capture_select_arrow"><select '+
("id='"+b+E+"' ")+("class='"+j.join(" ")+"' ");c&&(a+="data-capturerendererfield='"+c+"' ");d.showFieldWhere&&(a+='data-showFieldWhere="'+d.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+d.name+"' ";a+="name='"+d.elementName+"' ";a+=">";c=d.options||[];e=c.length;for(j=0;j<e;j++){var l=c[j],i=l.value||""===l.value?l.value:l.text,a=a+('<option value="'+i+'"');l.disabled&&(a+=' disabled="true"');t(l.showField)&&(a+=' data-showField="'+l.showField.join(",")+
'"');i===Ne(d.value)&&(a+=' selected="selected"',f=l.showField);a+=">"+l.text+"</option>"}a+="</select></span>";d.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(d));h||(a+=k.createTip(d));v.push({handler:function(){f&&T(f,d.showFieldWhere,b)},eventType:"render"});v.push({elementName:E,handler:function(d){var d=M(d),a=n(d),b=d.getElementsByTagName("option")[d.selectedIndex].getAttribute("data-showField"),c=d.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));g&&9>g&&S(d);T(b,c,
a)},eventType:"change"});return a},createButton:function(d){var a="",b=d.fieldPrefix||N,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],f="object"===typeof d.elementAttributes?d.elementAttributes:{},g=d.type?d.type:"submit";A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_btn")||e.push("capture_btn");A(e,"capture_primary")||e.push("capture_primary");a+="<button ";d.hide&&(a+="style='display:none' ");a=a+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a=
a+("type='"+g+"' ")+("data-capturefield='"+d.name+"' ");d.value&&(a+="value='"+d.value+"' ");a+=Nb(f)+" ";a+="name='"+d.elementName+"' ";a+=">";d.elementContent&&(a+=d.elementContent);a+="</button>";d.modify&&k.attachModifyEventHandler(d);return a},createInput:function(d){var a="",b="",c=d.fieldPrefix||N,e=d.elementId||d.elementName,f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],g="object"===typeof d.elementAttributes?d.elementAttributes:{},h="button"===d.type||"submit"===d.type||"checkbox"===
d.type||"radio"===d.type||"hidden"===d.type,j=d.justElement||d.collection||"hidden"===d.type||"button"===d.type||"submit"===d.type,l="password"===d.type&&!pb&&d.placeholder?"text":d.type,i=("checkbox"===d.type&&!d.collection||"radio"===d.type&&!d.collection)&&!d.justElement,n=d.rendererFieldName,p=d.rendererChildFieldName,o=Qc&&!d.collection;A(f,"capture_"+e)||f.push("capture_"+e);h||(b+=k.createLabel(d));d.validation&&d.validation.required&&f.push("capture_required");a+="<input ";d.hide&&(a+="style='display:none' ");
a=a+("id='"+c+e+"' ")+(Nb(g)+" ");"text"===d.type||"email"===d.type||"password"===d.type||"file"===d.type?A(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===d.type||"radio"===d.type?A(f,"capture_input_"+d.type)||f.push("capture_input_"+d.type):"submit"===d.type&&(A(f,"capture_btn")||f.push("capture_btn"),A(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+d.name+"' ";d.collection&&(a+="data-capturecollection='true' ");n&&(a+="data-capturerendererfield='"+
n+"' ");p&&(a+="data-capturerendererchildfieldname='"+p+"' ");("checkbox"===d.type||"radio"===d.type)&&d.elementValue?a+="value='"+ud(d.elementValue)+"' ":d.value||"string"===typeof d.displaySavedValue?(g=d.value,h="string"===typeof d.displaySavedValue?d.displaySavedValue:d.value,d.displaySavedValue&&ad[h]&&(g=ud(ad[h]),"password"===d.type&&(l="password")),("password"===d.type||"text"===d.type||"email"===d.type)&&!d.errors&&o&&Bd.push(c+e),a+="value='"+g+"' "):d.placeholder&&!pb?(a+="value='"+ud(d.placeholder)+
"' ",A(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+l+"' ")+("class='"+f.join(" ")+"' ");d.subId&&(a+='data-subid="'+d.subId+'" ');d.placeholder&&(a+="placeholder='"+ud(d.placeholder)+"' ");if(d.checked||d.elementValue&&d.value===d.elementValue)a+="checked='checked' ";a+="name='"+d.elementName+"' ";a+="/>";b="checkbox"===d.type||"radio"===d.type?b+k.createLabel(d,a):b+a;d.modify&&k.attachModifyEventHandler(d);d.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(d));
i&&(b+="</div>");j||(b+=k.createTip(d));d.profileStoragePath&&"undefined"===typeof d.value&&k.setElementAttributeWithLocalStorage(d,c+e,"value");return b},createDiv:function(d){var a="<div ",b=d.fieldPrefix||N,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.classes||[];A(f,"capture_"+c)||f.push("capture_"+c);a+="id='"+b+c+"'";if("option"===d.type&&!d["default"]||d.hide)a+=" style='display:none'";"radioCollection"===d.type&&f.push("radio_set");t(f)&&
f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Nb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+=">";d.elementText&&(a+=d.elementText);d.closeDiv&&(a+="</div>");return a},createImage:function(d){var a,b=d.fieldPrefix||N,c=d.classes||[],e=d.elementId||d.imageId||d.elementName||"";a="<img "+('src="'+d.src+'"');e&&!A(c,"capture_"+e)&&c.push("capture_"+e);d.hide&&(a+=" style='display:none'");d.alt&&(a+=" alt='"+d.alt+"'");"undefined"!==typeof d.width&&(a+=" width='"+
d.width+"'");"undefined"!==typeof d.height&&(a+=" height='"+d.height+"'");e&&(a+=' id="'+b+d.imageId+'" ');t(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(d,a){var b,c="captureIFrame_"+d;if(document.getElementById(c))return!1;if(se[a]&&(b=document.getElementById(se[a])))b="div"==b.parentNode.tagName.toLowerCase()?b.parentNode:b,Hb(b);se[a]=c;if(g){b="";var e=document.createElement("div");e.innerHTML=b+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+
d+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else b=document.createElement("iframe"),b.setAttribute("name",c),b.setAttribute("data-transactionId",d),b.id=c,b.setAttribute("src","about:blank"),b.style.display="none",b.className="",document.body.appendChild(b)},createAnchor:function(d){var a=d.fieldPrefix||N,b=document.createElement("a");if(!d.classes||d.classes&&!t(d.classes))d.classes=[];d.elementId&&!A(d.classes,a+d.elementId)&&d.classes.push(a+
d.elementId);b.setAttribute("href",d.elementHref);b.innerHTML=d.elementText;d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},createDiv:function(d){var a=d.fieldPrefix||N,b=document.createElement("div");if(!d.classes||d.classes&&!t(d.classes))d.classes=[];d.elementId&&!A(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},
createImage:function(d){var a=d.fieldPrefix||N,b=document.createElement("img");if(!d.classes||d.classes&&!t(d.classes))d.classes=[];d.elementId&&!A(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);d.alt&&b.setAttribute("alt",d.alt);"undefined"!==typeof d.width&&b.setAttribute("width",d.width);"undefined"!==typeof d.height&&b.setAttribute("height",d.height);b.src=d.elementSrc;d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},
createInput:function(d){var a=document.createElement("input"),b=d.fieldPrefix||N,c="object"===typeof d.elementAttributes?d.elementAttributes:{},e=d.containerDivClasses||[],f;"submit"===d.elementType&&d.containerDiv&&(f=this.createDiv({elementName:d.elementName+"_containverDiv",classes:e}));if(!d.classes||d.classes&&!t(d.classes))d.classes=[];for(var g in c)c.hasOwnProperty(g)&&a.setAttribute(g,c[g]);d.elementId&&!A(d.classes,b+d.elementId)&&d.classes.push(b+d.elementId);d.elementType&&a.setAttribute("type",
d.elementType);d.name&&a.setAttribute("data-capturefield",d.name);d.elementValue&&(a.value=d.elementValue);d.elementName&&(a.name=d.elementName);d.elementId&&(a.id=b+d.elementId);d.hideElement&&(a.style.display="none");a.className=d.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(a){a.transactionId||(a.transactionId=za());var b=a.transactionId,c=a.captureScreen||ha,e=a.fieldPrefix?a.fieldPrefix:n(c),f=document.createElement("form"),g=t(a.fields)?a.fields:[],h=g.length;k.domHelpers.createIFrame(b,
e+a.elementId);a.needsResponse&&ma(b);if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,e+a.elementId)&&a.classes.push(e+a.elementId);f.id=e+a.elementId+"_"+b;f.className=a.classes.join(" ");f.setAttribute("target","captureIFrame_"+b);f.setAttribute("data-transactionId",b);a.name&&f.setAttribute("data-capturefield",a.name);f.setAttribute("action",a.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");a.validate&&f.setAttribute("data-capturedomelementvalidate",
"true");f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:"\u2713",elementName:"utf8"}));l&&l.mergeToken&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:l.mergeToken,elementName:"merge_token",elementId:"merge_token_"+b}));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Backplane.getChannelID(),elementName:"bp_channel",
elementId:"bp_channel_"+b}));Ib&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ib,elementName:"flow_path",elementId:"flow_path_"+b}));if(G)f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:G,elementName:"access_token",elementId:"access_token_"+b}));else{var j=a.elementAction.substring(janrain.settings.capture.captureServer.length+1,a.elementAction.length);a&&a.elementAction&&!A($e,j)&&la&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:la,elementName:"access_token",elementId:"access_token_"+b}))}ha&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:c,elementName:"capture_screen",elementId:"screen_"+b}));Rb&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Rb,elementName:"js_version",elementId:"js_version_"+b}));a.serverNextScreen&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.serverNextScreen,
elementName:"serverNextScreen",elementId:"serverNextScreen_"+b}));a.engageTokenRequired&&f.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:Ia,fieldPrefix:e,elementName:"token",elementId:"token_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:b,fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.name,elementName:"form",elementId:"form_"+
b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:l.flow,elementName:"flow",elementId:"flow_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+b,elementValue:janrain.settings.capture.clientId}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+b,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Dd,elementName:"flow_version",elementId:"flow_version_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:oa,elementName:"settings_version",elementId:"settings_version_"+b}));f.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:zc,elementName:"locale",elementId:"locale_"+b}));for(c=0;c<h;c++)switch(b=g[c],b.elementType){case "div":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(k.domHelpers.createDiv(b));break;case "anchor":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(k.domHelpers.createAnchor(b));break;case "hidden":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(k.domHelpers.createInput(b));break;case "file":b.fieldPrefix=b.fieldPrefix||e;f.setAttribute("enctype","multipart/form-data");f.appendChild(k.domHelpers.createInput(b));
break;case "submit":b.fieldPrefix=b.fieldPrefix||e,f.appendChild(k.domHelpers.createInput(b))}k.domHelpers.createFormHandler(f,a);return f},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),ke[b.elementId]=b.callback);y(a,"submit",yb)},createFormAndPost:function(a){var b=a.fieldPrefix||N,c=za();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var e=k.domHelpers.createForm(a),b=k.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+
c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(b);document.body.appendChild(e);k.domHelpers.createFormHandler(e,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||N,e;optionsLength=a.length;e="<ul";t(b)&&b.length&&(e=e+' class="'+b.join(" "),e+='"');e+=">";for(var f=0;f<optionsLength;f++){e+="<li";"string"===typeof a[f].listItemId&&(e+=' id="'+c+a[f].listItemId+'" ');a[f].hide&&(e+=' style="display: none;" ');if(!a[f].listItemClasses||
!t(a[f].listItemClasses))a[f].listItemClasses=[];"string"===typeof a[f].listItemId&&!A(a[f].listItemClasses,"capture_"+a[f].listItemId)&&a[f].listItemClasses.push("capture_"+a[f].listItemId);t(a[f].listItemClasses)&&a[f].listItemClasses.length&&(e+=' class="',e+=a[f].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+a[f].anchorHref+'"';e+=' data-capture-tab-index="'+f+'"';"string"===typeof a[f].anchorId&&(e+=' id="'+c+a[f].anchorId+'" ');if(!a[f].anchorClasses||!t(a[f].anchorClasses))a[f].anchorClasses=
[];"string"===typeof a[f].anchorId&&!A(a[f].anchorClasses,"capture_"+a[f].anchorId)&&a[f].anchorClasses.push("capture_"+a[f].anchorId);t(a[f].anchorClasses)&&a[f].anchorClasses.length&&(e+=' class="',e+=a[f].anchorClasses.join(" "),e+='"');e+=">";e+=a[f].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(a,b){var c=gb(a),e=c.getAttribute("data-capturefield"),e=l&&l.fields&&e?l.fields[e]:"";n(c);if(e&&!e.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&
c.setAttribute("value","");if(g&&"text"===c.type){var f=document.createElement("span"),h=c.parentElement;h.insertBefore(f,c);h.removeChild(c);e=document.createElement("input");e.id=c.id;e.setAttribute("data-capturefield",c.name);e.className="capture_password capture_text_input";e.name=c.name;e.setAttribute("type","password");h.insertBefore(e,f);h.removeChild(f);for(c=0;c<b.length;c++)"function"===typeof b[c].handler&&y(e,b[c].eventType,b[c].handler);e.focus()}else"password"!=c.getAttribute("type")&&
c.setAttribute("type","password")},clearPlaceHolder:function(a){if(pb)return!0;a="value"in a?a:gb(a);a.value===a.getAttribute("placeholder")&&(g?a.value="":a.setAttribute("value",""),p(a).remove("capture_input_placeholder"))},restorePlaceHolder:function(a){if(pb)return!0;var a="value"in a?a:gb(a),b=a.getAttribute("placeholder");if(!b||"password"===a.getAttribute("type"))return!1;b&&""===a.value&&(g?a.value=b:a.setAttribute("value",b),p(a).append("capture_input_placeholder"))},setField:function(a,
b,c){c+=a.name;if("dateselect"===a.type){if(b=sd("{yyyy}-{0m}-{0d}",b),Ra(b)&&(a=document.getElementById(c+"_dateselectmonth")))a.selectedIndex=b.getMonth()+1,Cb(a,"change"),a=document.getElementById(c+"_dateselectday"),a.selectedIndex=b.getDate(),Cb(a,"change"),a=document.getElementById(c+"_dateselectyear"),a.value=b.getFullYear(),Cb(a,"change")}else if("text"===a.type||"hidden"===a.type){if(a=document.getElementById(c))a.value=Ne(b),Cb(a,"change")}else o.forceError("Setting a field with type '"+
a.type+"' is not supported yet.")},resetField:function(a,b){var c,e=b+a.name;if("dateselect"===a.type){if(c=document.getElementById(e+"_dateselectmonth"))c.selectedIndex=0,p(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectday"),c.selectedIndex=0,p(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectyear"),c.selectedIndex=0,p(c).append("capture_disabled")}else if("text"===a.type||"hidden"===a.type){if(c=document.getElementById(e))c.value="",Cb(c,"change")}else o.forceError("Resetting a field with type '"+
a.type+"' is not supported yet.")},validation:function(){function a(d){e=d;var c=b.id||b.name;Ub.add({id:c,valid:"valid"===d},{merge:!0});sa[c].status=e}var b,c,e,f,g;return{getElement:function(){return b},getParentDiv:function(){return c},getState:function(){return e},getValidation:function(){return g},setState:function(b){a(b)},setUnique:function(a){f=a;sa[b.id||b.name].unique=f},setValidation:function(a){g=a},setParentDiv:function(a){(c=a)&&c.className.split(" ")},setElement:function(a){b=a;c&&
c.className.split(" ")},valid:function(e){e||p(c).append("capture_validated");p(c).remove("capture_validating").remove("capture_error");a("valid");e={};b&&(e.field=b);janrain.events.onCaptureValidationSuccess.fire(e);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");p(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var e;switch(arguments.length){case 1:message=arguments[0];
break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:e=arguments[1];break;case 3:message=arguments[0],e=arguments[1],callback=arguments[2]}a("invalid");if(message){if("noValidationMessage"!==message){p(c).append("capture_error").remove("capture_validated");for(var f,h=n(c),J=c.getElementsByTagName("div"),j=J.length,k=0;k<j;k++)if("capture_tip_error"===J[k].className){var l=0===c.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(c.id.split(l)[1]===
J[k].getAttribute("data-elementName")||c.id.split(l)[1]+"[dateselect_year]"===J[k].getAttribute("data-elementName")){f=J[k];break}}f&&(f.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);f.message=message;f.parentDiv=c;f.invalidType=e;g&&(f.validation=g);janrain.events.onCaptureValidationFailed.fire(f)}}}},ne={createSelect:k.createSelect,createTextarea:k.createTextarea,createAnchor:k.createAnchor,createInput:k.createInput,
createLabel:k.createLabel,createDiv:k.createDiv,createImage:k.createImage,createListOfLinks:k.createListOfLinks,togglePassword:k.togglePasswordInput,clearPlaceHolder:k.clearPlaceHolder,restorePlaceHolder:k.restorePlaceHolder,getElementByEventAttribute:gb},af=0;z.prototype.render={data:{engageCookie:function(a){return Jc(a.cookieName)},localStorage:function(a){var b="",c=(a.fieldPrefix||N)+(a.elementId||a.elementName),e=a.classes?a.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",f=a.valuePath,
g="";if(!janrain.settings.capture.setProfileCookie)return I.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),I.show(),"";janrain.settings.multiDomainLocalStorage?Zc(a.data,function(b){b=k.getValueFromObject(a,b,f);Aa(function(){var a;a=b;var d=document.getElementById(c);d?(Ea(d,a),a=!0):a=!1;return a}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){o.warn("Poll to get local storage data failed. Key: "+a.data)}).start()}):b=Zc(a.data);
g='<span id="'+c+'" class="'+e+'">'+k.getValueFromObject(a,b,f);return g+"</span>"},string:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",c,b=l.fields&&l.fields[a.value]?l.fields[a.value]:"";a.displaySavedValue&&(c=b&&b.type&&"password"===b.type);c=a.displaySavedValue&&ad[a.value]&&(!c||c&&Tc)?ad[a.value]:a.value;b=a.justString?c:k.wrapStringData(a,c);"undefined"!==typeof a.hideWhenValue&&c===a.hideWhenValue&&(b="");return b},image:function(a){var b;a.value&&
(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=k.createImage(b)):b=a.value);return b}},html:{anchor:function(a){return a=""+k.createAnchor(a)},textarea:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createTextarea(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},select:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createSelect(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);
return b},multi:function(a,b){var c="",e,f,g=a.options.length;f=t(a.value)?a.value:"string"===typeof a.value?a.value.split(","):"boolean"===typeof a.value||"number"===typeof a.value?[a.value]:[];var h=0;for(e=f.length;h<e;h++)f[h]=f[h].toString();a.type="elementCollection";c+=k.wrapFormItemStart(a);c+=k.createLabel(a);for(h=0;h<g;h++)e=a.options[h],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=
e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.value+"_"+h,name:a.name,value:e.value,collection:!0,label:e.label,checked:A(f,e.value)}),v.push({elementName:a.elementName+"_"+e.value+"_"+h,handler:function(b,c){return function(){for(var e=n(this),m=document.getElementById(e+"form_collection_"+a.elementName),m=$("capture_form_item_"+a.elementName,m),e=document.getElementById(e+"form_item_"+a.elementName+"_"+b+"_"+c),r=0,f=m.length;r<f;r++)p(m[r]).remove("capture_toggled");
e&&p(e).append("capture_toggled")}}(e.value,h),eventType:"click"});c+=k.createTip(a);return c+=k.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createInput(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createButton(a);
b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.localFieldPrefix||N,f=a.classes||[];f.indexOf("capture_form"===-1)&&f.push("capture_form");f.indexOf(-1==="capture_"+a.elementName)&&f.push("capture_"+a.elementName);b+="id='"+e+a.elementName+"' ";b+=Nb(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+
"' ";t(f)&&(b+="class='"+f.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+"accept-charset='UTF-8' >"+('<div id="'+e+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+e+a.elementName+'_errorMessages"></div>'),g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(g+=k.createDiv({elementId:"formerror_"+
(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[h]+"</div>")}v.push({handler:function(){ma(a.transactionId)},eventType:"render"});v.push({handler:function(){var b=document.getElementById(e+a.elementName);if(!b)return!1;var c=$("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(e+a.elementName+"_errorMessages");g?(c.innerHTML=g,p(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===
typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,j;for(j in c)c.hasOwnProperty(j)&&(b+=k.createInput({elementName:j,type:"hidden",value:c[j]}))}b+=k.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b+=k.createInput({elementName:"bp_channel",elementId:"bp_channel"+a.transactionId,type:"hidden",value:Backplane.getChannelID()}));Ib&&(b+=k.createInput({elementName:"flow_path",elementId:"flow_path_"+
a.transactionId,type:"hidden",value:Ib}));l&&l.mergeToken&&(b+=k.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:l.mergeToken}));G?b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:G}):a&&a.action&&!A($e,a.action)&&la&&(b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:la}));
ha&&(b+=k.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:ha}));Rb&&(b+=k.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Rb}));a.serverNextScreen&&(b+=k.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||gd)b+=k.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",
value:Ia});b+=k.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=k.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=k.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:l.flow});b+=k.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=k.createInput({elementName:"redirect_uri",
elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=k.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=k.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:Dd});b+=k.createInput({elementName:"settings_version",elementId:"settings_version_"+a.transactionId,type:"hidden",value:oa});b+=k.createInput({elementName:"locale",
elementId:"locale_"+a.transactionId,type:"hidden",value:zc});k.domHelpers.createIFrame(a.transactionId,e+a.elementName);!1!==a.listenToFields&&v.push({handler:function(){var b=document.getElementById(e+a.elementName);b&&(y(b,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&Wa(a)}),y(b,"keypress",function(a){(a.charCode||a.keyCode)&&Wa(a)}),y(b,"change",Wa),b.addEventListener?(b.addEventListener("focus",cc,!0),b.addEventListener("blur",tb,!0)):(b.attachEvent("onfocusin",cc),b.attachEvent("onfocusout",
tb)))},eventType:"render"});return b},div:function(a){return k.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var b='<table class="capture_table">',c=z.prototype.render.html;if(a.th.display){var b=b+"<tr>",e;for(e in a.th.cols)b+="<th>"+a.th.cols[e]+"</th>";b+="</tr>"}for(var f in a.rows){var b=b+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],
e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),b+="<td>",b+=k.wrapFormItemStart(a),b+=c.input(e),b+=k.wrapFormItemEnd(a),b+="</td>"):b+="<td>"+a.rows[f].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.customText||(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",
value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},
{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},
{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",
value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo",value:"Congo"},{text:"Congo",value:"Congo"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia",value:"Croatia"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",
value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},
{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},
{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},
{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea",value:"Korea"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",
value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",
value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},
{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},
{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",
value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},
{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},
{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",
value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return z.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var b=[{text:a.customText.stateLabel||"state",value:"",
disabled:!0}],b=a.noCanadianProvinces?b.concat(Me):b.concat(Me,pf);a.options=b;return z.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var b=a.fieldPrefix||N;Kd=a.checked||!1;a=""+k.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:Kd,elementName:"capture_keep_me_logged_in"});v.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},
!0,!0)},eventType:"render"});v.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=M(a);Kd=a.checked;janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){var b=a.fieldPrefix||N,c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",c=janrain.settings.capture.recaptchaUrl||c;"undefined"!==typeof Recaptcha&&(fe=
!0);fe||wa(c,function(){fe=!0});var e="recaptcha_container";0<af&&(e=b+"_"+e);v.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,e,{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});b=""+k.wrapFormItemStart(a);a.label&&
(b+=k.createLabel(a));b=b+('<div id="'+e+'"></div>')+k.createTip(a);b+=k.wrapFormItemEnd(a);af++;return b},mergeAccounts:function(a,b){var b=b?H.parse(b):{custom:!1},c=z.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',j=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",k=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",l=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
i=a.customText.moreInfo||"More Info ?",n=a.customText.createButton||"Create",o=a.customText.connectButton||"Connect";e.connectRadioText=Y(e,g);e.connectLegacyRadioText=Y(e,h);e.createRadioText=Y(e,j);e.foundExistingAccountText=Y(e,k);e.moreInfoHoverText=Y(e,l);e.moreInfoText=Y(e,i);e.createButtonText=Y(e,n);e.connectButtonText=Y(e,o);k="";if("useConnectIcons"in a?a.useConnectIcons:1)k+='<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase().replace("+",
"plus")+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase().replace("+","plus")+'"></span>';e.connect_button=c.html.button({elementContent:k+o,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=c.html.button({elementContent:n,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.html.multiRadio({element:"multiRadio",
value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?Y(e,h):Y(e,g),value:1},{label:j,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase().replace("+",
"plus");e.existing_provider_lowerCase=e.existing_provider.toLowerCase().replace("+","plus");b.custom?v.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=Y(e,b.innerHTML)},eventType:"render"}):f+=Y(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}         </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
v.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(ob=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});v.push({elementName:a.name+"_createButton",handler:function(){dd?B():(yc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});v.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(N+a.name+"_connectButton").style.display="";document.getElementById(N+a.name+"_createButton").style.display="none";p(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");p(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});v.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(N+a.name+"_connectButton").style.display="none";document.getElementById(N+a.name+"_createButton").style.display="";p(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");p(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,b){var c="",e=b?H.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=k.createAnchor(a)},linkSocialAccount:function(a){var b=ha,c=k.createDiv({elementId:"link_social_account_"+a.provider,name:a.name}),c=c+k.createButton(a),c=c+"</div>";v.push({elementName:a.name,handler:function(c){Kb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"click"});v.push({elementName:a.name,
handler:function(c){Kb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"keypress"});Yc||rb();return c},linkAccounts:function(a){function b(c){var e=a.value.providers[c],m=a.value.displayNames[c],r=a.value.identifiers[c],g=a.value.prettyProviders?a.value.prettyProviders[c]:e,h=f+a.name+"_extraFields_"+e,c=""+('<li class="capture_provider_linked" data-capturerelatedfieldsid="'+h+'">')+'<span class="'+("janrain-provider-icon-"+n+" janrain-provider-icon-"+e+(a.customIcons?"-custom":"")+'">'),
c=c+'</span><span class="',j=m&&"null"!==m.toLowerCase(),l=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),m=j||!l?Y({provider:g,displayName:m},a.displayFormat):g,c=c+("janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+m+"</span>");!Fd&&1===k||(c+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+r+'"></span>');c+="</li>";a.additionalFields&&a.additionalFields[e]&&(c=c+('<div class="capture_linkAccounts_additionalFields" id="'+
h+'">')+ff(a.additionalFields[e],function(a){return"{* "+a+" *}"}).join("\n"),c+="</div>");return c}function c(b){M(b);Kb.unLinkAccount(b,a,e,function(){q--;!Fd&&1>=q&&setTimeout(function(){var a=$("capture_remove_linkedaccount");Hb(a[0])},0)})}a.value||(a.value={});a.customText||(a.customText={});var e=ha,f=a.fieldPrefix||N,g='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',h=l.fields[a.linkAccountContainer].elementName||l.fields[a.linkAccountContainer].name||a.linkAccountContainer,
j=a.customText.linkAnotherAccount||"Link account",k=t(a.value.providers)?a.value.providers.length:0,i=f+a.name+"_linkaccountsscreen",n=a.providerIconSize&&A(of,a.providerIconSize)?a.providerIconSize:16,g=g+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(a.customAddLinks){for(var o=0,j=a.customProviders.length;o<j;o++)if(A(a.value.providers,a.customProviders[o]))var p=a.value.providers.indexOf(a.customProviders[o]),g=g+b(p);else g+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+
a.customProviders[o]+'">',g+=Y({provider:a.customProviders[o]},a.customAddLinkFormat)+"</li>";v.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Kb.linkWithCustomLink(a,e)},eventType:"click"});v.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Kb.linkWithCustomLink(a,e)},eventType:"keypress"})}else{for(o=0;o<k;o++)g+=b(o);g+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+'_linknewlink">'+j+"</a></li>"}g+="</ul></div>";v.push({elementName:a.name+"_linknewlink",
handler:function(a){Kb.openInModal(a,e,i)},eventType:"click"});var q=k;v.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"keypress"});v.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"click"});g=g+'<div style="display: none;">'+('<div id="'+i+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';ya&&(g+=" janrain-capture-ui-mobile");g=g+'">'+('<div id="'+f+a.name+'_linkAccountContainerContainer">');g+="</div></div></div>";a.customAddLinks||
v.push({handler:function(){Kb.renderHandler(f+h,f+a.name+"_linkAccountContainerContainer")},eventType:"render"});return g},errorMessages:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});
return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return b=a.justString?b:k.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=z.prototype.render.html;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});a.hideMiddlename||(b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));b+=c.input({elementName:a.name+
"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},multipurposeAuth:function(a){var b;a.type="text";b=""+k.wrapFormItemStart(a);b+=k.createInput(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);a.type="multipurposeAuth";return b},dateselect_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",b="",c,b=parseInt(a.value.dateselect_month,10);c=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,e),c=a.format,b=sb(c,b,{monthNames:a.monthNames,dayNames:a.dayNames})):b=b+"/"+e+"/"+c;return b=a.justString?b:k.wrapStringData(a,b,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(c){c=
M(c);c=n(c);c=document.getElementById(c+"form_item_"+a.elementName);p(c).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function c(b){var e=M(b),f=n(e),f=document.getElementById(f+"form_item_"+a.elementName);p(f).remove("capture_focused");La(e,a)&&Ob(b)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",f=a.customText.monthLabelDateSelect||"month",g=a.customText.yearLabelDateSelect||"year",h=Ge;a.monthNames&&t(a.monthNames)&&
12===a.monthNames.length&&(h=a.monthNames);var l=a.fieldPrefix||N,i='<div id="'+l+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',o,q,u,w=t(a.format)&&3===a.format.length?a.format:["month","day","year"],y=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",x=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",z=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",f=[{text:f,value:"",disabled:!0},{text:h[0],value:1},{text:h[1],
value:2},{text:h[2],value:3},{text:h[3],value:4},{text:h[4],value:5},{text:h[5],value:6},{text:h[6],value:7},{text:h[7],value:8},{text:h[8],value:9},{text:h[9],value:10},{text:h[10],value:11},{text:h[11],value:12}],h=a.monthStart||1,s=a.monthEnd||13,A=a.dayStart||1,B=a.dayEnd||31,C=a.yearStart||1929,H=a.yearEnd||(new Date).getFullYear();u={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:z,options:f.slice(0,1).concat(f.slice(h,s))};q={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:y,options:j(A,B,"asc",e)};C=parseInt(C,10);H=parseInt(H,10);o={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:x,options:j(C,H,"desc",g)};for(e=0;3>e;e++){var D;switch(w[e]){case "month":D=u;break;case "day":D=q;break;case "year":D=o}0===e&&(D.label=a.label);2===e&&(D.publicPrivateToggle=a.publicPrivateToggle,D.displayPublic=a.displayPublic,D.tip=a.tip,D.justElement=!1);i+=k.createSelect(D)}if(a.datePicker){var I,w=new Date(z+"/"+y+"/"+x),G;G=isNaN(w.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:w,preSelectedDate:w};Da(G,a.datePickerSettings||{});v.push({elementName:o.elementName,
eventType:"render",handler:function(){var a=document.getElementById(l+u.elementId),d=document.getElementById(l+q.elementId),b=document.getElementById(l+o.elementId);G.elementAttachedTo=b.parentNode;G.extraTargetElements=[a,d,b];G.callback=function(c){a.value=c.getMonth()+1;b.value=c.getFullYear();d.value=c.getDate();S(a);S(d);S(b);p(a).remove("capture_disabled");p(b).remove("capture_disabled");p(d).remove("capture_disabled");b.focus();b.blur()};I=new kb(G)}});var F=function(){if("undefined"!==typeof I){var a=
document.getElementById(l+u.elementId),d=document.getElementById(l+q.elementId),b=document.getElementById(l+o.elementId),c=new Date;c.setFullYear(b.value);c.setMonth(a.value-1);c.setDate(d.value);I.setSelectedDate(c)}};v.push({elementName:o.elementId,eventType:"change",handler:function(){F()}});v.push({elementName:u.elementId,eventType:"change",handler:function(){F()}});v.push({elementName:q.elementId,eventType:"change",handler:function(){F()}})}i+="</div>";v.push({elementName:a.name+"_dateselectyear",
handler:b,eventType:"focus"});v.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"blur"});v.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});v.push({elementName:a.name+"_dateselectday",handler:c,eventType:"blur"});v.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});v.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"blur"});return i},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";
var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&
(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=k.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b=a.defaultCountry||
"United States",c,e=z.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});var f=a.customText.stateLabel||"state",g=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=e.input({elementName:a.name+"[city]",elementId:a.name+
"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=z.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:f},placeholder:"State/Province",
hide:!("United States"===a.value.country||"Canada"===a.value.country||("United States"===b||"Canada"===b)&&"undefined"===typeof a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});c+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&
a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=z.prototype.render.capture.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:g},value:a.value&&a.value.country?a.value.country:b,placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});v.push({elementName:a.name+"_country",handler:function(b){var b=M(b),b=n(b),c=
this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince"),f=document.getElementById(b+a.name+"_stateprovince_hidden");"United States"===c||"Canada"===c?(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block",f&&f.parentNode.removeChild(f)):(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none",e.selectedIndex=0,e[0].setAttribute("disabled","disabled"),e.parentNode.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:b,elementValue:"",elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince_hidden"})))},eventType:"change"});return c+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+k.createButton(a);a.type="backButton";v.push({elementName:a.elementName,handler:function(){Od=!1;var a=Ac.pop();a&&(a.flow.oneTimeRender=void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return b},partial:function(a){var b=
document.getElementById(a.layout);if(b)return b.innerHTML;throw aa(a.layout);},photoManager:function(a,b){function c(b){oc=!1;var f=document.getElementById(s+a.name+"_profile_pic_uploadform_container"),m=document.getElementById(s+a.name+"_upload_photo_form");document.createElement("div").appendChild(m);f.innerHTML="";var g=document.createElement("div");g.innerHTML=ea;var h=document.createElement("div");h.innerHTML=fa;f.appendChild(g);f.appendChild(m);f.appendChild(h);e(document.getElementById(K));
f=document.getElementById(s+"photo_chooser");y(f,"change",ua);var r=janrain.events.onModalClose.addHandler(function(){oc=!0;janrain.events.onModalClose.removeHandler(r)},!0);b&&R(b)}function f(b){if(0<parseInt(b.unscaled.width)){Ab=b;var c=b.unscaled.height/b.sizedHeight,e=Math.round(B/(b.unscaled.width/b.sizedWidth)),m=document.getElementById(s+a.name+"_profile_pic_image_edit"),c=Math.round(C/c);"none"===m.style.display&&(m.style.display="block");m.style.width=e+"px";m.style.height=c+"px";m.style.marginLeft=
"-"+Math.round(b.unscaled.left/b.sizedWidth*e)+"px";m.style.marginTop="-"+Math.round(b.unscaled.top/b.sizedHeight*c)+"px"}}function g(){if(I)return!1;var b=document.getElementById(s+a.name+"_profile_pic_image_edit_crop");crop(b,f,G,D,function(){janrain.events.onCaptureContentChange.fire()});b.style.display="inline";I=!0}function h(){setTimeout(function(){"function"!==typeof crop?wa("//"+(janrain.settings.enforceSecureCloudfront?"cdn-social.janrain.com":"d16s8pqtk4uodx.cloudfront.net")+"/crop/crop.js",
g):setTimeout(g,50)},500)}function j(a){if(!Ab)return!1;M(a);var a=Ab.sizedWidth/Ab.originalWidth,d=Ab.sizedHeight/Ab.originalHeight;document.getElementById(s+"width").value=Math.round(Ab.unscaled.width/a);document.getElementById(s+"height").value=Math.round(Ab.unscaled.height/d);document.getElementById(s+"x").value=Math.round(Ab.unscaled.left/a);document.getElementById(s+"y").value=Math.round(Ab.unscaled.top/d)}function l(){Aa(function(){var a=document.getElementById("janrainModal");if(null===a||
"none"===a.style.display){h();oc=!1;e(document.getElementById(O));var d=janrain.events.onModalClose.addHandler(function(){oc=!0;janrain.events.onModalClose.removeHandler(d)},!0);return!0}return!1}).setDelay(100).setMaxAttempts(20).setFailCallback(function(){o.warn("Poll for modal existing failed.")}).start()}var b=b?H.parse(b):{custom:!1},i={};if(t(a.value)&&a.value.length){ka={};for(var q=0,u=a.value.length;q<u;q++)ka[a.value[q].type]=a.value[q]}else ka=!1;var w;ka.original||(ka.large?(ka.original=
ka.large,w="large"):ka.normal&&(ka.original=ka.normal,w="normal"));var q=k.createDiv({elementName:a.elementName+"_parent"}),x=ha,s=a.fieldPrefix||N,u=z.prototype.render.html,B=a.previewSizeWidth||100,C=a.previewSizeHeight||100,D=a.originalMaxWidth||450,G=a.originalMaxHeight||450,I=!1,F="object"===typeof ka,L=F?"":"capture_profile_pic ",K=s+a.name+"_uploadphotoscreen",O=s+a.name+"_editphotoscreen";if(F&&ka.original)var P=-1<ka.original.value.indexOf("?")?"&":"?";i.profilePicClass=L;i.uploadPhotoScreenId=
K;i.editPhotoScreenId=O;var B=parseInt(B,10),C=parseInt(C,10),D=parseInt(D,10),G=parseInt(G,10),Q={elementName:a.elementName};F&&ka.large&&(Q.classes=["capture_userphoto"]);i.mainDiv=k.createDiv(Q);i.closeDiv="</div>";a.customText||(a.customText={});var Q=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",S=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",T=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",U=a.customText.removePhotoLinkPhotoManager||
"Remove photo",V=a.customText.editPhotoLinkPhotoManager||"Edit photo",W=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",X=a.customText.editPhotoButtonTextPhotoManager||"Save",$=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",ca=a.customText.removePhotoButtonTextPhotoManager||"Remove",da=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",ea=a.customText.uploadNewPhotoInstructionPhotoManager||"",fa=a.customText.uploadNextStepInstructionPhotoManager||
"",ga=a.customText.editPhotoPreviewTitlePhotoManager||"";i.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";i.editProfileInstruction=S;i.profilePhotoTitle=Q;i.prefixFieldName=s+a.name;i.editPhotoPreviewTitle=ga;Hb(document.getElementById(K));Hb(document.getElementById(O));i.profileImage='<div id="'+s+a.name+'_profile_pic" class="'+L+"capture_profile_pic_display"+(F?"":" capture_default")+'">';F&&ka.large&&(i.profileImage+=function(){var b=k.createImage({src:ka.large.value,
imageId:a.name+"_profile_pic_image"});return ya?(v.push({elementName:"mobilePhotoChangeLink",eventType:"click",handler:function(){document.getElementById(N+"photo_chooser").click()}},{elementName:"photo_chooser",eventType:"change",handler:function(){document.getElementById(N+"photo_submit").click()}}),k.createAnchor({elementName:"mobilePhotoChangeLink",elementHref:"javascript:void(0)",elementText:b})):b}());i.profileImage+="</div>";i.photoLinks=ya?"":k.createListOfLinks([{listItemId:"upload_photo",
listItemClasses:[],anchorText:T,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:V,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!F},{listItemId:"remove_photo",listItemClasses:[],anchorText:U,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!F}],["options"]);i.uploadImage=F&&ka.large?k.createImage({src:ka.large.value,
imageId:a.name+"_profile_pic_image_upload"}):"";i.editImage=F&&ka.original?k.createImage({src:ka.original.value+P+"janrainDate="+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";i.cropImage=F&&ka.original?k.createImage({src:ka.original.value+P+"janrainDate="+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";i.photoChooserErrors=k.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});
i.photoChooserErrors+="</div>";var aa=za();k.domHelpers.createIFrame(aa,a.name+"_upload_photo_form");i.uploadFormOpen=u.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:aa,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});i.uploadFileField=k.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});i.uploadSubmitButton=
k.createInput({elementName:"photo_submit",elementId:"photo_submit",value:$,classes:["capture_btn","capture_primary","capture_disabled"],justElement:!0,type:"submit"});i.uploadFormClose="</form>";var ba=za();k.domHelpers.createIFrame(ba,a.name+"_crop_photo_form");i.editFormOpen=u.form({action:"widget/photo/crop_photo.jsonp",transactionId:ba,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form",listenToFields:!1});i.editFormOpen+=k.createDiv({elementName:"",classes:["capture_popup-arrow"],
type:"div"});i.editFormOpen+="</div>";i.editFormOpen+=k.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});i.editFormOpen+=k.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});i.editFormOpen+=k.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});i.editFormOpen+=k.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});i.editSubmitButton=k.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",
value:X,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.editFormClose="";w&&(i.editFormClose+=k.createInput({elementName:"originalFallback",elementId:"originalFallback",value:w,justElement:!0,type:"hidden"}));i.editFormClose+="</form>";i.chooseDifferentPhotoLink=k.createAnchor({elementHref:"#",elementText:W,elementId:a.name+"_different_photo_link"});b.custom?v.push({handler:function(){var b=document.getElementById(s+a.name+"_parent");b.innerHTML=Y(i,b.innerHTML);v.push({elementName:a.name+
"_upload_photo_form",handler:yb,eventType:"submit"});v.push({elementName:a.name+"_crop_photo_form",handler:yb,eventType:"submit"});ma(aa);ma(ba)},eventType:"render"}):(q+=Y(i,'{| mainDiv |}     {| profileImage |}     {| photoLinks |}     &nbsp; {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
q+="</div>",v.push({elementName:a.name+"_upload_photo_form",handler:yb,eventType:"submit"}),v.push({elementName:a.name+"_crop_photo_form",handler:yb,eventType:"submit"}),ma(aa),ma(ba));v.push({eventType:"render",handler:function(){var b=document.getElementById(s+a.name+"_different_photo_link");y(b,"click",c);b=document.getElementById(s+a.name+"_crop_photo_form");document.getElementById(s+a.name+"_profile_pic_editPhoto_container").appendChild(b);y(b,"submit",j)}});v.push({elementName:"upload_photo_link",
handler:c,eventType:"click"});janrain.settings.capture.editPhotoAfterUpload&&janrain.events.onCapturePhotoUploadSuccess.addHandler(function(){I=!1;l()},!0);v.push({elementName:"edit_photo_link",handler:function(a){l();R(a)},eventType:"click"});v.push({elementName:"remove_photo_link",handler:function(a){var d=M(a),b=n(d);if(!document.getElementById(b+"remove_photo_contain")){var c=k.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:b,classes:["capture_popup_container pad"]}),d=k.domHelpers.createAnchor({elementHref:"#",
fieldPrefix:b,elementText:ca,elementId:"confirm_remove_photo_link"}),e=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:b,elementId:"cancel_remove_photo_link",elementText:da});c.innerHTML='<div class="capture_popup-arrow"></div><p>Can&#39;t Be Undone</p>';c.appendChild(d);c.appendChild(e);document.getElementById(b+"remove_photo").appendChild(c);var f=function(a){var d=[b+"createFormAndPostSubmit",b+"confirm_remove_photo_link",b+"remove_photo_link"],e=M(a).getAttribute("id")||"";!A(d,M(a).getAttribute("id"))&&
0>e.indexOf(b+"createFormAndPostSubmit_")&&(c.innerHTML="",Hb(c),Db(document,"click",f),R(a))};y(e,"click",f);y(document,"click",f);y(d,"click",function(a){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:b,captureScreen:x,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});R(a)});R(a)}},eventType:"click"});v.push({eventType:"render",handler:function(){function a(){var d=document.getElementById(s+
"photo_chooser").value?"remove":"append";p(b())[d]("capture_disabled")[d]("btn_disabled")}function d(a){!ya&&(p(b()).has("capture_disabled")||p(b()).has("btn_disabled"))&&("click"==a.type||"keyup"==a.type&&a.keyCode==Ja)&&R(a)}function b(){return document.getElementById(s+"photo_submit")}a();y(document.getElementById(s+"photo_chooser"),"change",a);y(b(),"click",d);y(b(),"keyup",d)}});return q},datePicker:function(a){var b="",c={provideOpenButton:!0};a.type="text";Da(c,a.settings||{});b+=k.wrapFormItemStart(a);
b+=k.createInput(a);b+=k.wrapFormItemEnd(a);v.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);c.targetElement=a;new kb(c)}});k.attachFieldEventHandlers(a);a.type="datePicker";return b},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b=k.createDiv({elementName:"slider capture_form_item"}),c=z.prototype.render.html,e=a.fieldPrefix||N,f="initialPosition"in a?a.initialPosition:0,g=a.value&&
0<=a.value.score?a.value.score:f,b=b+("<label>"+a.label+"</label>"),b=b+k.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+k.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+k.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b+="</ul></div></div>";a.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(a));
b+=c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:""});b+="</div>";v.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===
a.enabled){var i=!1;v.push({elementName:a.elementName+"_marker",eventType:ve,handler:function(b){i=!0;var c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=c.getBoundingClientRect(),m=c.width?c.width:c.right-c.left,c=new ae;c.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/m));S(f)}).drag(b);be.push(c);
hd&&clearTimeout(hd)}});v.push({elementName:a.elementName+"_marker",eventType:kd,handler:function(){var b=document.getElementById(e+a.elementName+"_marker"),c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),b=parseInt(Be(b.id,"left")),c=c.getBoundingClientRect();f.value=Math.round(100*(b/(c.width?c.width:c.right-c.left)))}});v.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+
"_container").style.cursor="pointer"}});v.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),m=document.getElementById(e+a.elementName+"_score"),g=f.getBoundingClientRect(),h=g.width?g.width:g.right-g.left,r=b.clientX-Le(f).x,b=parseInt(Be(c.id,"left")),b=isNaN(b)?0:b;(new ae).setElement(c).setAcceleration("sinusoidal").setDuration(500).startPosition(b).endPosition(r).setDirection("horizontal").setCallback(function(){m.value=
Math.round(100*(r/h));S(m)}).animate()}}})}return b},radioCollection:function(a){for(var b=a.fieldPrefix||N,c=k.createDiv({elementName:a.elementName,classes:a.classes||[]}),e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='"+
b+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",v.push({elementName:"radio_"+a.collection[e].elementName,handler:function(b){Fa(b,a)},eventType:"click"});k.autoSelectPreferredTab(a,"radio");return c+"</div>"},tabCollection:function(a){for(var b,c=[],e=k.createDiv({elementName:a.elementName,classes:a.classes||[]}),f=0;f<a.collection.length;f++)b={listItemId:"tab_li_"+a.collection[f].elementName,listItemClasses:["capture_tab_toggle"],anchorId:"tab_"+a.collection[f].elementName,
anchorText:a.collection[f].label,anchorHref:"#"},0===f&&b.listItemClasses.push("capture_toggled"),c.push(b),v.push({elementName:"tab_"+a.collection[f].elementName,handler:function(b){Fa(b,a)},eventType:"click"});k.autoSelectPreferredTab(a,"tab");e+=k.createListOfLinks(c,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var b="",c=a.format||"",e=a.startHTML||"",f=a.endHTML||"",g=a.delimiter||"",h=t(a.value)?a.value:[],j=t(a.classes)?" "+a.classes.join(" "):[],l="capture_newsletter_checkbox"+
j,n=h.length,o=(a.fieldPrefix||N)+"form_item_"+a.elementName,p=a.bulkUpdate,q,s,u;if(0<n){b+=k.wrapFormItemStart(a);b+=k.createLabel(a);b+=e;for(e=0;e<n;++e)""!==c?b+=Y(h[e],c)+g:(s=h[e],q=s.display_name||"",checked="","active"===s.status&&(checked='checked="checked"'),q='<label><input type="checkbox" class="'+l+'" data-subId="'+s.list_id+'" value="'+s.list_id+'" name="'+a.name+'[]" '+checked+">"+q+"</label>",u="undefined"!==typeof s.description?'<p class="capture_newsletter_description'+j+'">'+s.description+
"</p>":"",s="undefined"!==typeof s.image?k.createImage({src:s.image,classes:["capture_newsletter_image"].concat(j)}):"",b+=q+u+s+g);g&&(b=b.slice(0,-g.length));b=b+f+k.createTip(a);b+=k.wrapFormItemEnd(a);p||v.push({handler:function(){for(var a=$("capture_newsletter_checkbox",document.getElementById(o)),b=0,d=a.length;b<d;++b)y(a[b],"change",function(a){var b=M(a),a=b.getAttribute("data-subId"),d=b.checked?"active":"inactive",b=za(),a=Ca({list_id:a,token:la,subscription_status:d,capture_transactionId:b});
i("/widget/update_subscription.jsonp",a);Ma(b)})},eventType:"render"})}return b},pluralIterator:function(a){var b="",c="",e=a.format||"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",i="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,j=t(a.value)?a.value:[],n={},p=j.length,q,s=(a.fieldPrefix||N)+(a.elementId||a.elementName),u="<div id='"+s+"'>";if(0===p)b=i;else{for(q=0;q<p;++q)i=ef(j[q],a.propertyFormats),c+=Y(i,e)+h,n[j[q].id]=j[q];h&&(c=c.slice(0,-h.length));
c&&(b+=f+c+g)}a.editable&&v.push({handler:function(){var b=document.getElementById(s),c=$("janrainCapturePluralEditBtn",b),e=c.length,f=$("janrainCapturePluralDeleteBtn",b),m=f.length,b=$("janrainCapturePluralCreateBtn",b),g=l.fields[a.idField],h=g?document.getElementById(N+g.name):null;if(h){var r=xb(h,"form");if(r){var i=function(b){var b=M(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=n[c],janrain.events.onCapturePluralItemEdit.fire({item:e,element:b,editor:a.name}),h.disabled=!1,ca(a.fieldMapping,
function(a,b){var d=l.fields[b];d&&k.setField(d,e[a],N)}))},q=function(b){var b=M(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=n[c],janrain.events.onCapturePluralItemDelete.fire({item:e,element:b,editor:a.name}),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile/delete_from_plural",name:a.deleteForm,needsResponse:!0,fields:[{elementType:"hidden",elementName:"delete",elementValue:a.name+"["+c+"]"}],callback:function(){mc(!1)}}))},p;for(p=
0;p<e;++p)c[p].setAttribute("data-plural-item-id",j[p].id),y(c[p],"click",i);if(a.deleteForm)for(p=0;p<m;++p)f[p].setAttribute("data-plural-item-id",j[p].id),y(f[p],"click",q);else 0<m&&o.forceError("Plural iterator editor requires a delete form in the flow for deletions to work.");ca(a.fieldMapping,function(a,b){var d=l.fields[b];d&&(d.idFieldElementId=N+g.name)});0<b.length&&(b=b[0],y(b,"click",function(b){b=M(b);janrain.events.onCapturePluralItemCreate.fire({element:b,editor:a.name});h.disabled=
!0;ca(a.fieldMapping,function(a,b){var d=l.fields[b];d&&k.resetField(d,N)})}));y(r,"submit",function(){var b=null;h.disabled||(b=n[h.value]);janrain.events.onCapturePluralItemSave.fire({item:b,editor:a.name})})}else o.forceError("Plural iterator editor requires a form.")}else o.forceError("Plural iterator editor requires idField in flow and in your form.")},eventType:"render"});return u+b+"</div>"},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";
var b,c,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",i="01",j="NA",l="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";b=a.value.split(" ");c=b.length;for(o=0;o<c;++o)e=b[o].split("-"),3===e.length?(g=e[0],h=e[1],i=e[2]):(e=b[o].split(":"),3===e.length?(j=e[0],l=e[1],n=e[2].split(".")[0]):(e=b[o].split("/"),3===e.length&&(g=e[0],h=e[1],i=e[2])));b=new Date;"NA"!==j||"NA"!==l||"NA"!==n?(b.setUTCHours(j),b.setUTCMinutes(l),b.setUTCSeconds(n),
b.setUTCMilliseconds(0),b.setUTCMonth(h-1),b.setUTCDate(i),b.setUTCFullYear(g)):(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.setMonth(h-1),b.setDate(i),b.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime())?a.value:a.justString?sb(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}):k.wrapStringData(a,sb(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){v.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),
b=document.getElementById(N+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=za();janrain.engage.signin.appendTokenParams({capture_transactionId:d},!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Yc||rb()},eventType:"render"});var a=k.createDiv({elementName:"login_widget",
classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?H.parse(b):{text:"Share"};v.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var c=k.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var bf=function(){function a(b,d,c){b={required:b,type:d};return"object"===typeof c?Da(b,c):b}function b(c,e){return a(!0,c,e)}function c(b,e){return a(!1,b,e)}function e(a,b){ca(g,function(d,c){ca(c,
function(c,e){a.call(b,d,c,e)})})}var f={name:b("string"),elementName:b("string"),value:c("array",{subtype:"string"}),options:b("array",{subtype:"object",subtypeDefinition:{value:c("string"),label:c("string")}})},g={data:{engageCookie:{name:"Engage Cookie Data",definition:{cookieName:b("string")}},localStorage:{name:"Local Storage Data",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),classes:c("array",{subtype:"string"}),data:b("string")}},string:{name:"String Data",
definition:{displayPublic:b("boolean"),value:c("string"),displaySavedValue:c("boolean"),justString:c("boolean"),hideWhenValue:c("string")}},image:{name:"Image Data",definition:{value:b("string"),returnImageTag:c("boolean"),elementName:c("string"),hide:c("boolean"),classes:c("array",{subtype:"string"}),elementId:c("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:c("array",{subtype:"string"}),elementText:b("text"),fieldPrefix:c("string"),elementHref:b("string"),elementName:b("string"),
target:c("string"),name:b("string")}},textarea:{name:"Text Area",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementId:c("string"),rows:c("number"),name:b("string"),placeholder:c("string"),value:c("text"),publicPrivateToggle:c("boolean")}},select:{name:"Select",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),dontShowTip:c("boolean"),showFieldWhere:c("string"),name:b("string"),
elementName:b("string"),options:b("array",{subtype:"object",subtypeDefinition:{text:b("string"),value:c("string")}}),publicPrivateToggle:c("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",definition:f},multiRadio:{name:"Radio Buttons",definition:f},input:{name:"Input",definition:{type:b("string"),fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),justElement:c("boolean"),collection:c("boolean"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),
hide:c("boolean"),elementValue:c("string"),value:c("string"),placeholder:c("string"),engageData:c("string"),checked:c("boolean"),modify:c("boolean"),publicPrivateToggle:c("boolean"),profileStoragePath:c("boolean"),displaySavedValue:c("boolean")}},button:{name:"Button",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementClasses:c("array",{subtype:"string"}),type:c("string"),hide:c("boolean"),name:b("string"),value:c("string"),elementContent:c("string"),modify:c("boolean")}},
form:{name:"Form",definition:{elementAttributes:c("object",{subtype:"string"}),localFieldPrefix:c("string"),classes:c("array",{subtype:"string"}),action:b("string"),transactionId:b("string"),serverNextScreen:c("boolean"),hideOnSubmit:c("boolean"),engageTokenRequired:c("boolean"),checkIdentifier:c("boolean")}},div:{name:"Div",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementAttributes:c("object",{subtype:"string"}),classes:c("array",{subtype:"string"}),type:c("string"),
name:b("string"),elementText:b("text")}},close:{name:"Close",definition:{element:b("string"),type:c("string")}}},capture:{table:{name:"Table",definition:{th:b("object",{definition:{display:c("boolean"),cols:c("array",{subtype:"string"})}}),rows:b("array",{subtype:"object",subtypeDefinition:{cells:b("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},countrySelect:{name:"Country Select",definition:{customText:c("object",{definition:{countryLabel:c("string")}})}},stateSelect:{name:"State Select",
definition:{customText:b("object",{definition:{stateLabel:c("string")}}),noCanadianProvinces:c("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:b("boolean"),label:c("string"),name:b("string"),checked:c("boolean")}},captcha:{name:"CAPTCHA",definition:{name:b("string"),label:c("string")}},mergeAccounts:{name:"Merge Accounts",definition:{value:b("string"),customText:c("object",{subtype:"string",definition:{connectRadio:c("string"),connecetLegacyRadio:c("string"),createRadio:c("string"),
foundExistingAccount:c("string"),moreInfoHover:c("string"),moreInfo:c("string"),createButton:c("string"),name:b("string"),traditionalMergeScreen:b("string"),useConnectIcons:c("boolean"),connectButton:c("string")}})}},publicProfileLink:{name:"Public Profile Link",definition:{elementHref:c("string"),elementAttributes:c("object",{subtype:"string"}),addUUIDToLink:c("boolean")}},linkSocialAccount:{name:"Link Social Account",definition:{provider:b("string"),elementClasses:c("string"),elementContent:b("string")}},
linkAccounts:{name:"Link Accounts",definition:{value:c("object",{definition:{providers:b("array",{subtype:"string"}),displayNames:b("array",{subtype:"string"}),identifiers:b("array",{subtype:"string"}),prettyProviders:b("array",{subtype:"string"}),customProviders:b("array",{subtype:"string"})}}),customText:c("object",{subtype:"string"}),fieldPrefix:c("string"),name:c("string"),linkAccountContainer:b("string"),providerIconSize:c("number"),displayFormatKnown:c("string"),customIcons:c("boolean"),customAddLinks:c("boolean"),
customAddLinkFormat:c("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),value:b("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},nameFull:{name:"Name Full",definition:{name:b("string"),publicPrivateToggle:b("boolean"),displayPublic:b("boolean"),value:c("object",{definition:{firstname:c("string"),
middlename:c("string"),lastname:c("string")}}),placeholder:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),format:c("string"),value:b("object",{definition:{dateselect_year:b("number"),dateselect_month:b("number"),dateselect_day:b("number")}})}},dateselect:{name:"Date Select",definition:{customText:c("object",{definition:{yearLabelDateSelect:c("string"),
monthLabelDateSelect:c("string"),dayLabelDateSelect:c("string"),fieldPrefix:c("string"),name:b("string"),format:c("array",{subtype:"string"}),monthStart:c("number"),monthEnd:c("number"),dayStart:c("number"),dayEnd:c("number"),yearStart:c("number"),yearEnd:c("number"),label:c("string"),publicPrivateToggle:c("boolean"),displayPublic:b("boolean"),tip:c("string"),datePickerSettings:c("object"),elementName:b("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:c("boolean"),
value:b("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},addressFull:{name:"Address Full",definition:{name:b("string"),publicPrivateToggle:c("boolean"),displayPublic:c("boolean"),value:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}}),customText:c("object",{definition:{stateLabel:c("string"),
countryLabel:c("string")}}),placeholder:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},backButton:{name:"Back Button",definition:null},partial:{name:"Partial",definition:{layout:b("string")}},photoManager:{name:"Photo Manager",definition:{elementName:b("string"),fieldPrefix:c("string"),previewSizeWidth:c("number"),previewSizeHeight:c("number"),originalMaxWidth:c("number"),originalMaxHeight:c("number"),
name:b("string"),value:c("array",{subtype:"object",subtypeDefinition:{type:b("string")}}),customText:c("object",{definition:{profilePhotoTitlePhotoManager:c("string"),editProfilePhotoTitlePhotoManager:c("string"),editProfileInstructionPhotoManager:c("string"),chooseNewPhotoLinkPhotoManager:c("string"),removePhotoLinkPhotoManager:c("string"),editPhotoLinkPhotoManager:c("string"),chooseDifferentPhotoLinkPhotoManager:c("string"),editPhotoButtonTextPhotoManager:c("string"),uploadPhotoButtonTextPhotoManager:c("string"),
removePhotoButtonTextPhotoManager:c("string"),removePhotoCancelButtonTextPhotoManager:c("string"),uploadNewPhotoInstructionPhotoManager:c("string"),uploadNextStepInstructionPhotoManager:c("string"),editPhotoPreviewTitlePhotoManager:c("string")}})}},datePicker:{name:"Date Picker",definition:{monthPreviousText:c("string"),monthNextText:c("string"),openOnTargetElementFocus:c("boolean"),provideOpenButton:c("boolean"),hasCloseButton:c("boolean"),minimumSelectableDate:c("string"),maximumSelectableDate:c("string"),
monthAndYearSelectable:c("boolean"),defaultDate:c("string"),arrowKeyNavigation:c("boolean"),format:c("string"),calendarTitleFormat:c("string"),monthNames:c("array",{subtype:"string"}),weekStartsOnMonday:c("boolean"),daysOfWeek:c("array",{subtype:"string"}),additionalClasses:c("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:c("boolean"),displayPublic:c("boolean"),fieldPrefix:c("string"),initialPosition:c("number"),label:b("string"),elementName:b("string"),legend_items:b("array",
{subtype:"string"}),publicPrivateToggle:c("boolean"),enabled:c("boolean"),value:c("object",{definition:{score:c("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:c("array",{subtype:"string"}),elementName:c("string"),collection:b("array",{subtype:"object",
subtypeDefinition:{elementName:b("string")}})}},newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:c("string"),startHTML:c("string"),endHTML:c("string"),delimiter:c("string"),value:c("array",{subtype:"string"}),classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:b("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:c("string"),startHMTL:c("string"),endHTML:c("string"),delimiter:c("string"),emptyMessage:c("string"),value:c("array",{subtype:"object"})}},
datetime_public:{name:"Date Time Public",definition:{displayPublic:c("boolean"),format:c("string"),value:c("string"),justString:c("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},h=[];e(function(a,b){h.push(a+"."+b)});var i=g,f=i.capture,i=i.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=Da({},i.button.definition);e(function(a,b,d){d.path=a+"."+b;d.group=a;d.name=b;Da(d.definition,
{schemaId:c("string"),label:c("string"),tip:c("string")});"html"===a?d.definition.element=b:(d.definition.element=a,d.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&(a="html."+a);return Ga(g,a)}}}(),me=!0,sa={},ue,Kb={addCustomLink:function(a,b,c){var e=b.fieldPrefix||N,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=Y({provider:a},b.customAddLinkFormat);
c&&c.parentNode?c.parentNode.insertBefore(f,c):document.getElementById(e+b.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,b){janrain.events.onCaptureProfileUnlink.fire({provider:b});var c=a.value.providers.indexOf(b);ca(a.value,function(a,b){t(b)&&b.splice(c,1)})},unLinkAccount:function(a,b,c,e){if(!("keypress"===a.type&&a.keyCode!==Ja)){var f=M(a);"#"===f.getAttribute("href")&&R(a);if(p(f).has("capture_remove_linkedaccount")){var g=this.completeUnLinkAccount;
ue=function(){e&&e();g(f,b,c)};b.confirmRemoval?("undefined"===typeof jd&&(jd=new lf,jd.setTitle(ra.confirmRemoveLinkedTitle||"Remove Linked Account?").setMessage(ra.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(ra.confirmRemoveLinkedNoText||"Cancel",ra.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&ue();jd.close()})),jd.open()):ue()}}},completeUnLinkAccount:function(a,b,c){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider"),
g=a.parentNode.getAttribute("data-capturerelatedfieldsid");b.customAddLinks&&Kb.addCustomLink(f,b,a.parentNode);Hb(a.parentNode);g&&Hb(document.getElementById(g));k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:b.fieldPrefix||N,captureScreen:c,needsResponse:!0,callback:function(){Kb.unLinkAccountSuccessCallback(b,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",
elementType:"hidden",elementValue:e}]})},openInModal:function(a,b,c){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0));e(document.getElementById(c));R(a)},linkWithCustomLink:function(a,b){if(!("keypress"===a.type&&a.keyCode!=Ja)){var c=M(a),c=xb(c,"li");p(c).has("capture_custom_add_linkedaccount")&&(c=c.getAttribute("data-captureprovider"),Pb(b,c))}},triggerLinkSocialAccountFlow:function(a,
b,c){"keypress"===a.type&&a.keyCode!==Ja||Pb(b,c)},renderHandler:function(a,b){var c=document.getElementById(a);document.getElementById(b).appendChild(c)}},oc=!0,Ue=0,Ve,hd=0,oe=0,Yd=janrain.settings.capture.autoSaveUpdateInterval||1E4,Zd=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;Oe=function(a){if(janrain.settings.capture.redirectFlow){var b=gc(Kd?"true":"false");Ma(b.capture_transactionId);b.flow=L();delete b.token;a&&(b.capture_screen=ha,b.engage_add_account=
!0,b.access_token=la);a=a?"/widget/profile":"/widget/token_url";b=Oc(b);return janrain.settings.capture.captureServer+a+b}};var We={reactivateAccount:function(a){if("accountReactivated"===a.statusMessage||"invalidReactivationCode"===a.statusMessage)"success"===a.status?janrain.events.onCaptureAccountReactivateSuccess.fire(a):janrain.events.onCaptureAccountReactivateFailed.fire(a)},deactivateAccount:function(a){a.statusMessage&&("success"===a.status&&"accountDeactivated"===a.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(a):
janrain.events.onCaptureAccountDeactivateFailed.fire(a))},emailCode:function(a){if("verified"===a.statusMessage||"invalidVerificationCode"===a.statusMessage)"success"===a.status?zb(a)?(a.accessToken||a.authorizationCode)&&Jb(a,"onCaptureEmailVerificationSuccess"):janrain.events.onCaptureEmailVerificationSuccess.fire(a):janrain.events.onCaptureEmailVerificationFailed.fire(a);else if("forgotPasswordCodeRedeemed"===a.statusMessage||"invalidForgotPasswordCode"===a.statusMessage)"success"===a.status?zb(a)?
(a.accessToken||a.authorizationCode)&&Jb(a,"onCaptureForgotPasswordCodeSuccess"):janrain.events.onCaptureForgotPasswordCodeSuccess.fire(a):janrain.events.onCaptureForgotPasswordCodeFailed.fire(a)},profile:function(a){"profileFound"!==a.statusMessage&&("success"===a.status?(he=!0,oe=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a))},traditionalSignin:function(a){ed=!1;if("success"!==a.status)janrain.events.onCaptureLoginFailed.fire(a);
else{if(a.authorizationCode){var b=rd(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode){if(zb(a))a.oneTime?(ed=!0,a.fireEvent="onCapturePostLoginScreen"):Jb(a,"onCaptureLoginSuccess");else if(Ld)Ld=!1;else if(a.oneTime){ed=!0;var c=W(a);delete c.accessToken;janrain.events.onCapturePostLoginScreen.fire(c)}else janrain.events.onCaptureLoginSuccess.fire(a);("traditionalSignin"===a.action||"socialSignin"===a.action)&&na(a.action);janrain.settings.capture.federate&&
a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),Yb(a.transactionId),F=!0)}a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}},postLoginConfirmation:function(a){"success"!==a.status?janrain.events.onCaptureLoginFailed.fire(a):a.oneTime?janrain.events.onCapturePostLoginScreen.fire(a):fd&&!ed?janrain.events.onCaptureRegistrationSuccess.fire(a):!fd&&ed&&janrain.events.onCaptureLoginSuccess.fire(a)},traditionalRegister:function(a){fd=!1;if("success"!==
a.status)janrain.events.onCaptureRegistrationFailed.fire(a);else{if(!zb(a))if(a.oneTime){fd=!0;var b=W(a);delete b.accessToken;janrain.events.onCaptureRegistrationSuccessNoLogin.fire(b);janrain.events.onCapturePostLoginScreen.fire(b)}else janrain.events.onCaptureRegistrationSuccess.fire(a);gd&&(gd=!1);if(a.accessToken||a.authorizationCode)"socialRegister"===a.action?na("socialSignin"):na("traditionalSignin"),zb(a)&&(a.oneTime?(fd=!0,a.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):
Jb(a,"onCaptureRegistrationSuccess"))}},control:function(a){"success"===a.status?janrain.events.onCaptureControlSuccesss.fire(a):janrain.events.onCaptureControlFailed.fire(a)}};(function(){this.otpSignin=this.ssoSignin=this.socialSignin=this.traditionalSignin;this.socialRegister=this.traditionalRegister}).call(We);var Xe=function(){Vb("accessDenied","capture_access","Sorry. Access denied.");Vb("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");Vb("dialog","capture_dialog",
"",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"})};Xe();var $d=[],te={};return{modal:{close:function(){"object"==typeof x&&x.close()},closeConfirm:function(){"object"==typeof x&&x.closeConfirm()},open:function(a){O=!0;var b=a||ea.flow.defaultScreen;if("object"==typeof x&&(a&&janrain.capture.ui.renderScreen(b),a=ea.div))x.setShowContentOnLoad(!0),x.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof x&&(x.setBorder(a),
x.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof x&&(x.setBorderColor(a),x.refresh());return!0},setBorderOpacity:function(a){"object"===typeof x&&(x.setBorderOpacity(a),x.refresh());return!0},setBorderRadius:function(a){"object"==typeof x&&(x.setBorderRadius(a),x.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof x&&(x.setZIndex(a),x.refresh());return!0}},start:function(a,b){Lb.fire();if(janrain.settings.capture.hasSettings&&janrain.settings.capture.appId&&
janrain.settings.capture.clientId){var c=Q()+"/widget_data/settings/"+janrain.settings.capture.appId+"/"+janrain.settings.capture.clientId+".js";pd(c,function(){f(a,b)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;o.forceError("Failed to load capture settings.");f(a,b)}).load()}else f(a,b)},hasActiveSession:function(){return!!la},renderComponent:eb().renderField,listComponents:bf.listComponents,componentDefinition:bf.componentDefinition,render:function(a,c){if(janrain.settings.capture.hasSettings){var e,
f,g,h,i,j;e=yd.mergeFlow;f=a.mergeFromSettings;if(e&&f)for(h=0,i=f.length;h<i;++h)g=f[h],j=Ga(e,g),g=Ga(a,g),j&&g&&He(g,j);rc(a)}Lc(a);Ub||(Ub=b());a.i18nStrings&&(ra=a.i18nStrings);ra.validatingText&&(Ze=ra.validatingText);if(a.version)Dd=a.version;else throw Error("MissingVersionError: Missing version.");Dc(a);Fd=a.hasTraditionalAccount;de=a.form;if(Fd){e=$("janrain_traditional_account_only");f=e.length;for(h=0;h<f;h++)e[h].style.display="block"}Tb(a);e=new eb;f=!1;dd&&gd&&(f=janrain.settings.capture.registerFlow||
"socialRegister");f=l.oneTimeRender||f||janrain.settings.capture.screenToRender||l.defaultScreen;e.setScreenData(f,l.screens[f]);if(c)for(var k in c)c[k].id&&c[k].value&&(e=document.getElementById(c[k].id),e.value=c[k].value,"radio"===c[k].type&&(e.checked=c[k].checked,c[k].checked&&e.click()))},renderScreen:function(a,b){var c=l.screens[a];c?(Od=!1,b||Ac.push(ea),(new eb).setScreenData(a,c)):o.forceError("Can't render - Missing screen '"+a+"' in flow.")},applySettings:function(a){yd=a;oa=a.janrain_settings_version||
""},getClientSettings:function(){return W(yd)},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){cd.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){z.prototype.render[a].helpers=ne;z.prototype.render[a][b]=c},setValidator:function(a,b){ba.prototype[a]=b},registerFunction:function(a,b){te[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){qe.push(a)},handleCaptureUniqueResponse:function(a){Pc(a)},
handleCaptureResponse:function(a,b){Nc(a,b)},handleErrorResponse:function(a,b){Sc(a,b)},createCaptureSession:function(a){da(a)},endCaptureSession:function(){Pa()},addTransactionIds:function(a){Wb(a)},getFailedLogins:function(){return xc},setCustomHtml:function(a,b){Ic(a,b)},getEngageCookie:function(a){return Jc(a)},getProfileCookieData:function(a,b){return Zc(a,b)},getReturnExperienceData:function(a,b){return md(a,b)},federateLogoutCallbackFired:function(a,b){o.info("Federate logout callback fired");
A(Hd,a)||(Hd.push(a),b())},federateNoLogin:function(a){o.info("federateNoLogin called at "+new Date);janrain.events.onCaptureFederateNoLogin.fire(a.result);Yb(a.transactionId);fc();F=!0},federateSetLoginSuccess:function(a){o.info("Federate set login success");a&&a.transactionId&&Sb&&Sb[a.transactionId]&&(Sb[a.transactionId].setLoginSuccess=!0,Sb[a.transactionId].eventFiredDueToSlowResponse||vc(a.transactionId))},federateRefreshToken:function(b){b&&"ok"===b.stat?(da(b.accessToken,!1,!0),u()):6>=++a?
(o.warn("SSO refresh token returned: "+b.stat+" at "+new Date),o.warn("SSO refresh token retry attempt: "+a),u()):o.error("SSO refresh token failed with stat: "+b.stat+" at "+new Date)},linkSocialAccount:function(a){Yc||rb();Pb(ha,a)},scriptLoader:function(a,b){return pd(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new k.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)},setNoReturnExperience:function(){var a=
new C;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);bd&&janrain.capture.ui.renderScreen(bd)},getPublicProfile:function(a,b){Kc(a,b)},activateCaptureControl:function(a){lb(a)},postCaptureForm:function(a,b){qd(a,b)}}};Qc();return{engage:{signin:"loaded"===Ga(janrain,"engage.signin.status")?janrain.engage.signin:uf,share:"loaded"===Ga(janrain,"engage.share.status")?janrain.engage.share:vf},capture:{ui:wf}}}();
janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;