(function(a){a(window).load(function(){var d=a(window).height(),h=a(".sidebar:not(.view-sidebar)"),b=a(".secure-sidebar"),g=a(".left-content"),f=a(".ad-widget"),m=a(".bx-wrapper");a(".secure-scroll-section");f.height();var k=h.height(),l=f.offset(),c=h.offset();400<f.height()?h.addClass("tall-ad"):h.addClass("short-ad");g.height()>=2*d&&d>k+50&&a(document).scroll(function(){if(a(document).scrollTop()>=a(document).height()-a(window).height()-395){var f=a(document).height()-a(window).height()-395,g=
a(".homepage-content").offset().top;h.addClass("absolute").css({left:"656px",top:f-g+70});b.css({})}else a(document).scrollTop()>=l.top-70?h.removeClass("absolute").addClass("fixit-felix").css({left:c.left,top:70}):(h.removeClass("fixit-felix absolute").css({left:"auto",top:0}),m.css({height:"auto"}))})})})(jQuery);var cdnEndpoint="https://s.audiomack.com";+function(a){function d(f){a(b).remove();a(g).each(function(){var b=h(a(this)),c={relatedTarget:this};b.hasClass("open")&&(b.trigger(f=a.Event("hide.bs.dropdown",c)),f.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown",c))})}function h(b){var f=b.attr("data-target");f||(f=(f=b.attr("href"))&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));return(f=f&&a(f))&&f.length?f:b.parent()}var b=".dropdown-backdrop",g='[data-toggle="dropdown"]',f=function(b){a(b).on("click.bs.dropdown",
this.toggle)};f.prototype.toggle=function(b){var f=a(this);if(!f.is(".disabled, :disabled")){var c=h(f);b=c.hasClass("open");d();if(!b){if("ontouchstart"in document.documentElement&&!c.closest(".navbar-nav").length)a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",d);var g={relatedTarget:this};c.trigger(b=a.Event("show.bs.dropdown",g));if(b.isDefaultPrevented())return;c.toggleClass("open").trigger("shown.bs.dropdown",g);f.trigger("focus")}return!1}};f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var f=
a(this);b.preventDefault();b.stopPropagation();if(!f.is(".disabled, :disabled")){var c=h(f),d=c.hasClass("open");if(!d||d&&27==b.keyCode)return 27==b.which&&c.find(g).trigger("focus"),f.trigger("click");f=c.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');f.length&&(c=f.index(f.filter(":focus")),38==b.keyCode&&0<c&&c--,40==b.keyCode&&c<f.length-1&&c++,~c||(c=0),f.eq(c).trigger("focus"))}}};var m=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var g=
a(this),c=g.data("bs.dropdown");c||g.data("bs.dropdown",c=new f(this));"string"==typeof b&&c[b].call(g)})};a.fn.dropdown.Constructor=f;a.fn.dropdown.noConflict=function(){a.fn.dropdown=m;return this};a(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",g,f.prototype.toggle).on("keydown.bs.dropdown.data-api",g+', [role="menu"], [role="listbox"]',f.prototype.keydown)}(jQuery);+function(a){var d=function(b,a){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",b,a)};d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};d.prototype.init=function(b,g,f){this.enabled=!0;this.type=b;this.$element=a(g);this.options=
this.getOptions(f);this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);b=this.options.trigger.split(" ");for(g=b.length;g--;)if(f=b[g],"click"==f)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=f){var d="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,
a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};d.prototype.getDelegateOptions=function(){var b={},g=this.getDefaults();this._options&&a.each(this._options,function(a,d){g[a]!=d&&(b[a]=
d)});return b};d.prototype.enter=function(b){var g=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(g.timeout);g.hoverState="in";if(!g.options.delay||!g.options.delay.show)return g.show();g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show)};d.prototype.leave=function(b){var g=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(g.timeout);
g.hoverState="out";if(!g.options.delay||!g.options.delay.hide)return g.hide();g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide)};d.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var g=this,b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):
this.options.placement,d=/\s?auto?\s?/i,k=d.test(f);k&&(f=f.replace(d,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(f);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);var d=this.getPosition(),l=b[0].offsetWidth,c=b[0].offsetHeight;if(k){var k=f,h=this.$element.parent(),h=this.getPosition(h),f="bottom"==f&&d.top+d.height+c-h.scroll>h.height?"top":"top"==f&&0>d.top-h.scroll-c?"bottom":"right"==f&&d.right+l>h.width?"left":"left"==f&&d.left-
l<h.left?"right":f;b.removeClass(k).addClass(f)}d=this.getCalculatedOffset(f,d,l,c);this.applyPlacement(d,f);this.hoverState=null;f=function(){g.$element.trigger("shown.bs."+g.type)};a.support.transition&&this.$tip.hasClass("fade")?b.one(a.support.transition.end,f).emulateTransitionEnd(150):f()}};d.prototype.applyPlacement=function(b,g){var f=this.tip(),d=f[0].offsetWidth,k=f[0].offsetHeight,l=parseInt(f.css("margin-top"),10),c=parseInt(f.css("margin-left"),10);isNaN(l)&&(l=0);isNaN(c)&&(c=0);b.top+=
l;b.left+=c;a.offset.setOffset(f[0],a.extend({using:function(b){f.css({top:Math.round(b.top),left:Math.round(b.left)})}},b),0);f.addClass("in");var c=f[0].offsetWidth,h=f[0].offsetHeight;"top"==g&&h!=k&&(b.top=b.top+k-h);l=this.getViewportAdjustedDelta(g,b,c,h);l.left?b.left+=l.left:b.top+=l.top;d=l.left?2*l.left-d+c:2*l.top-k+h;k=l.left?"left":"top";l=l.left?"offsetWidth":"offsetHeight";f.offset(b);this.replaceArrow(d,f[0][l],k)};d.prototype.replaceArrow=function(b,a,f){this.arrow().css(f,b?50*(1-
b/a)+"%":"")};d.prototype.setContent=function(){var b=this.tip(),a=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](a);b.removeClass("fade in top bottom left right")};d.prototype.hide=function(){function b(){"in"!=g.hoverState&&f.detach();g.$element.trigger("hidden.bs."+g.type)}var g=this,f=this.tip(),d=a.Event("hide.bs."+this.type);this.$element.trigger(d);if(!d.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one(a.support.transition.end,
b).emulateTransitionEnd(150):b(),this.hoverState=null,this};d.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")};d.prototype.hasContent=function(){return this.getTitle()};d.prototype.getPosition=function(b){b=b||this.$element;var g=b[0],f="BODY"==g.tagName;return a.extend({},"function"==typeof g.getBoundingClientRect?g.getBoundingClientRect():null,{scroll:f?document.documentElement.scrollTop||
document.body.scrollTop:b.scrollTop(),width:f?a(window).width():b.outerWidth(),height:f?a(window).height():b.outerHeight()},f?{top:0,left:0}:b.offset())};d.prototype.getCalculatedOffset=function(b,a,f,d){return"bottom"==b?{top:a.top+a.height,left:a.left+a.width/2-f/2}:"top"==b?{top:a.top-d,left:a.left+a.width/2-f/2}:"left"==b?{top:a.top+a.height/2-d/2,left:a.left-f}:{top:a.top+a.height/2-d/2,left:a.left+a.width}};d.prototype.getViewportAdjustedDelta=function(b,a,f,d){var k={top:0,left:0};if(!this.$viewport)return k;
var h=this.options.viewport&&this.options.viewport.padding||0,c=this.getPosition(this.$viewport);/right|left/.test(b)?(f=a.top-h-c.scroll,a=a.top+h-c.scroll+d,f<c.top?k.top=c.top-f:a>c.top+c.height&&(k.top=c.top+c.height-a)):(d=a.left-h,a=a.left+h+f,d<c.left?k.left=c.left-d:a>c.width&&(k.left=c.left+c.width-a));return k};d.prototype.getTitle=function(){var b=this.$element,a=this.options;return b.attr("data-original-title")||("function"==typeof a.title?a.title.call(b[0]):a.title)};d.prototype.tip=
function(){return this.$tip=this.$tip||a(this.options.template)};d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};d.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};d.prototype.enable=function(){this.enabled=!0};d.prototype.disable=function(){this.enabled=!1};d.prototype.toggleEnabled=function(){this.enabled=!this.enabled};d.prototype.toggle=function(b){b=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+
this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};d.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var h=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var g=a(this),f=g.data("bs.tooltip"),m="object"==typeof b&&b;if(f||"destroy"!=b)if(f||g.data("bs.tooltip",f=new d(this,m)),"string"==typeof b)f[b]()})};a.fn.tooltip.Constructor=d;a.fn.tooltip.noConflict=function(){a.fn.tooltip=h;return this}}(jQuery);+function(a){var d=function(b,a){this.init("popover",b,a)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");d.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);d.prototype.constructor=d;d.prototype.getDefaults=function(){return d.DEFAULTS};d.prototype.setContent=
function(){var b=this.tip(),a=this.getTitle(),f=this.getContent();b.find(".popover-title")[this.options.html?"html":"text"](a);b.find(".popover-content").empty()[this.options.html?"string"==typeof f?"html":"append":"text"](f);b.removeClass("fade top bottom left right in");b.find(".popover-title").html()||b.find(".popover-title").hide()};d.prototype.hasContent=function(){return this.getTitle()||this.getContent()};d.prototype.getContent=function(){var b=this.$element,a=this.options;return b.attr("data-content")||
("function"==typeof a.content?a.content.call(b[0]):a.content)};d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};d.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var h=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var g=a(this),f=g.data("bs.popover"),m="object"==typeof b&&b;if(f||"destroy"!=b)if(f||g.data("bs.popover",f=new d(this,m)),"string"==typeof b)f[b]()})};a.fn.popover.Constructor=d;a.fn.popover.noConflict=
function(){a.fn.popover=h;return this}}(jQuery);+function(a){var d=function(b,g){this.options=g;this.$body=a(document.body);this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};d.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};d.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)};d.prototype.show=function(b){var g=this,f=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(f);
this.isShown||f.isDefaultPrevented()||(this.isShown=!0,this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var f=a.support.transition&&g.$element.hasClass("fade");g.$element.parent().length||g.$element.appendTo(g.$body);g.$element.show().scrollTop(0);f&&g.$element[0].offsetWidth;g.$element.addClass("in").attr("aria-hidden",!1);g.enforceFocus();var d=a.Event("shown.bs.modal",
{relatedTarget:b});f?g.$element.find(".modal-dialog").one(a.support.transition.end,function(){g.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(300):g.$element.trigger("focus").trigger(d)}))};d.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",
!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};d.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))};d.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",
a.proxy(function(b){27==b.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};d.prototype.hideModal=function(){var b=this;this.$element.hide();this.backdrop(function(){b.removeBackdrop();b.$element.trigger("hidden.bs.modal")})};d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};d.prototype.backdrop=function(b){var g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&
g;this.$backdrop=a('<div class="modal-backdrop '+g+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",a.proxy(function(b){b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(f?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&
this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};d.prototype.setScrollbar=function(){if(!(document.body.clientHeight<=window.innerHeight)){var b=this.measureScrollbar(),a=parseInt(this.$body.css("padding-right")||0);b&&this.$body.css("padding-right",a+b)}};d.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};d.prototype.measureScrollbar=function(){var b=document.createElement("div");b.className="modal-scrollbar-measure";
this.$body.append(b);var a=b.offsetWidth-b.clientWidth;this.$body[0].removeChild(b);return a};var h=a.fn.modal;a.fn.modal=function(b,g){return this.each(function(){var f=a(this),m=f.data("bs.modal"),k=a.extend({},d.DEFAULTS,f.data(),"object"==typeof b&&b);m||f.data("bs.modal",m=new d(this,k));if("string"==typeof b)m[b](g);else k.show&&m.show(g)})};a.fn.modal.Constructor=d;a.fn.modal.noConflict=function(){a.fn.modal=h;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var g=
a(this),f=g.attr("href"),d=a(g.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),f=d.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(f)&&f},d.data(),g.data());g.is("a")&&b.preventDefault();d.modal(f,this).one("hide",function(){g.is(":visible")&&g.trigger("focus")})})}(jQuery);+function(a){var d=function(b){this.element=a(b)};d.prototype.show=function(){var b=this.element,d=b.closest("ul:not(.dropdown-menu)"),f=b.data("target");f||(f=(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!b.parent("li").hasClass("active")){var m=d.find(".active:last a")[0],k=a.Event("show.bs.tab",{relatedTarget:m});b.trigger(k);k.isDefaultPrevented()||(f=a(f),this.activate(b.parent("li"),d),this.activate(f,f.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:m})}))}};d.prototype.activate=
function(b,d,f){function m(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");f&&f()}var k=d.find("> .active"),h=f&&a.support.transition&&k.hasClass("fade");h?k.one(a.support.transition.end,m).emulateTransitionEnd(150):m();k.removeClass("in")};var h=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var g=a(this),
f=g.data("bs.tab");f||g.data("bs.tab",f=new d(this));if("string"==typeof b)f[b]()})};a.fn.tab.Constructor=d;a.fn.tab.noConflict=function(){a.fn.tab=h;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(jQuery);(function(){var a,d;a=jQuery;d=function(d,b){var g,f,m=this;return this.options=a.extend({title:null,footer:null,remote:null},a.fn.ekkoLightbox.defaults,b||{}),this.$element=a(d),this.modal_id=this.options.modal_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1E3*Math.random()+1),f='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-header"'+(this.options.title||this.options.always_show_close?"":' style="display:none"')+'><h4 class="modal-title">'+
(this.options.title||"&nbsp;")+"</h4></div>",g='<div class="modal-footer"'+(this.options.footer?"":' style="display:none"')+">"+this.options.footer+"</div>",a(document.body).append('<div id="'+this.modal_id+'" class="ekko-lightbox modal fade" tabindex="-1"><div class="modal-dialog"><div class="modal-content">'+f+'<div class="modal-body"><div class="ekko-lightbox-container"><div></div></div></div>'+g+"</div></div></div>"),this.modal=a("#"+this.modal_id),this.modal_dialog=this.modal.find(".modal-dialog").first(),
this.modal_content=this.modal.find(".modal-content").first(),this.modal_body=this.modal.find(".modal-body").first(),this.lightbox_container=this.modal_body.find(".ekko-lightbox-container").first(),this.lightbox_body=this.lightbox_container.find("> div:first-child").first(),this.showLoading(),this.modal_arrows=null,this.border={top:parseFloat(this.modal_dialog.css("border-top-width"))+parseFloat(this.modal_content.css("border-top-width"))+parseFloat(this.modal_body.css("border-top-width")),right:parseFloat(this.modal_dialog.css("border-right-width"))+
parseFloat(this.modal_content.css("border-right-width"))+parseFloat(this.modal_body.css("border-right-width")),bottom:parseFloat(this.modal_dialog.css("border-bottom-width"))+parseFloat(this.modal_content.css("border-bottom-width"))+parseFloat(this.modal_body.css("border-bottom-width")),left:parseFloat(this.modal_dialog.css("border-left-width"))+parseFloat(this.modal_content.css("border-left-width"))+parseFloat(this.modal_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal_dialog.css("padding-top"))+
parseFloat(this.modal_content.css("padding-top"))+parseFloat(this.modal_body.css("padding-top")),right:parseFloat(this.modal_dialog.css("padding-right"))+parseFloat(this.modal_content.css("padding-right"))+parseFloat(this.modal_body.css("padding-right")),bottom:parseFloat(this.modal_dialog.css("padding-bottom"))+parseFloat(this.modal_content.css("padding-bottom"))+parseFloat(this.modal_body.css("padding-bottom")),left:parseFloat(this.modal_dialog.css("padding-left"))+parseFloat(this.modal_content.css("padding-left"))+
parseFloat(this.modal_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",function(){return m.modal_shown(),m.options.onShown.call(m)}).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",function(){return m.gallery&&a(document).off("keydown.ekkoLightbox"),m.modal.remove(),m.options.onHidden.call(m)}).modal("show",b),this.modal};d.prototype={modal_shown:function(){var d,b=this;return this.options.remote?(this.gallery=this.$element.data("gallery"),
this.gallery&&(this.gallery_items="document.body"===this.options.gallery_parent_selector||""===this.options.gallery_parent_selector?a(document.body).find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'):this.$element.parents(this.options.gallery_parent_selector).first().find('*[data-toggle="lightbox"][data-gallery="'+this.gallery+'"]'),this.gallery_index=this.gallery_items.index(this.$element),a(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional_arrows&&
1<this.gallery_items.length&&(this.lightbox_container.prepend('<div class="ekko-lightbox-nav-overlay"><a href="#" class="'+this.strip_stops(this.options.left_arrow_class)+'"></a><a href="#" class="'+this.strip_stops(this.options.right_arrow_class)+'"></a></div>'),this.modal_arrows=this.lightbox_container.find("div.ekko-lightbox-nav-overlay").first(),this.lightbox_container.find("a"+this.strip_spaces(this.options.left_arrow_class)).on("click",function(a){return a.preventDefault(),b.navigate_left()}),
this.lightbox_container.find("a"+this.strip_spaces(this.options.right_arrow_class)).on("click",function(a){return a.preventDefault(),b.navigate_right()}))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(d=this.getYoutubeId(this.options.remote))?this.showYoutubeVideo(d):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type?this.showInstagramVideo(this.options.remote):"url"===this.options.type?
this.showInstagramVideo(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo|url"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},strip_stops:function(a){return a.replace(/\./g,"")},strip_spaces:function(a){return a.replace(/\s/g,"")},isImage:function(a){return a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSwf:function(a){return a.match(/\.(swf)((\?|#).*)?$/i)},
getYoutubeId:function(a){var b;return b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),b&&11===b[2].length?b[2]:!1},getVimeoId:function(a){return 0<a.indexOf("vimeo")?a:!1},getInstagramId:function(a){return 0<a.indexOf("instagram")?a:!1},navigate:function(a){if(a=a||window.event,39===a.keyCode||37===a.keyCode){if(39===a.keyCode)return this.navigate_right();if(37===a.keyCode)return this.navigate_left()}},navigateTo:function(d){var b,g;return 0>d||d>this.gallery_items.length-
1?this:(this.showLoading(),this.gallery_index=d,this.options.onNavigate.call(this,this.gallery_index),this.$element=a(this.gallery_items.get(this.gallery_index)),this.updateTitleAndFooter(),g=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(g,this.$element.attr("data-type")||!1),this.gallery_index+1<this.gallery_items.length&&(b=a(this.gallery_items.get(this.gallery_index+1),!1),g=b.attr("data-remote")||b.attr("href"),"image"===b.attr("data-type")||this.isImage(g))?
this.preloadImage(g,!1):void 0)},navigate_left:function(){return 1!==this.gallery_items.length?(0===this.gallery_index?this.gallery_index=this.gallery_items.length-1:this.gallery_index--,this.options.onNavigate.call(this,"left",this.gallery_index),this.navigateTo(this.gallery_index)):void 0},navigate_right:function(){return 1!==this.gallery_items.length?(this.gallery_index===this.gallery_items.length-1?this.gallery_index=0:this.gallery_index++,this.options.onNavigate.call(this,"right",this.gallery_index),
this.navigateTo(this.gallery_index)):void 0},detectRemoteType:function(a,b){var d;return"image"===b||this.isImage(a)?(this.options.type="image",this.preloadImage(a,!0)):"youtube"===b||(d=this.getYoutubeId(a))?(this.options.type="youtube",this.showYoutubeVideo(d)):"vimeo"===b||(d=this.getVimeoId(a))?(this.options.type="vimeo",this.showVimeoVideo(d)):"instagram"===b||(d=this.getInstagramId(a))?(this.options.type="instagram",this.showInstagramVideo(d)):"url"===b||(d=this.getInstagramId(a))?(this.options.type=
"instagram",this.showInstagramVideo(d)):(this.options.type="url",this.loadRemoteContent(a))},updateTitleAndFooter:function(){var a,b,d,f;return d=this.modal_content.find(".modal-header"),b=this.modal_content.find(".modal-footer"),f=this.$element.data("title")||"",a=this.$element.data("footer")||"",f||this.options.always_show_close?d.css("display","").find(".modal-title").html(f||"&nbsp;"):d.css("display","none"),a?b.css("display","").html(a):b.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('<div class="modal-loading">Loading..</div>'),
this},showYoutubeVideo:function(a){var b,d,f;return b=560/315,f=this.$element.data("width")||560,f=this.checkDimensions(f),d=f/b,this.resize(f),this.lightbox_body.html('<iframe width="'+f+'" height="'+d+'" src="//www.youtube.com/embed/'+a+'?badge=0&autoplay=1&html5=1" frameborder="0" allowfullscreen></iframe>'),this.options.onContentLoaded.call(this),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showVimeoVideo:function(a){var b,d,f;return b=500/281,f=this.$element.data("width")||
560,f=this.checkDimensions(f),d=f/b,this.resize(f),this.lightbox_body.html('<iframe width="'+f+'" height="'+d+'" src="'+a+'?autoplay=1" frameborder="0" allowfullscreen></iframe>'),this.options.onContentLoaded.call(this),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},showInstagramVideo:function(a){var b;return b=this.$element.data("width")||612,b=this.checkDimensions(b),this.resize(b),this.lightbox_body.html('<iframe width="'+b+'" height="'+b+'" src="'+this.addTrailingSlash(a)+'embed/" frameborder="0" allowfullscreen></iframe>'),
this.options.onContentLoaded.call(this),this.modal_arrows?this.modal_arrows.css("display","none"):void 0},loadRemoteContent:function(d){var b,g,f=this;return g=this.$element.data("width")||560,this.resize(g),b=this.$element.data("disableExternalCheck")||!1,console.log(b,this.isExternal(d)),b||this.isExternal(d)?(this.lightbox_body.html('<iframe width="'+g+'" height="'+g+'" src="'+d+'" frameborder="0" allowfullscreen></iframe>'),this.options.onContentLoaded.call(this)):this.lightbox_body.load(d,a.proxy(function(){return f.$element.trigger("loaded.bs.modal")})),
this.modal_arrows?this.modal_arrows.css("display","block"):void 0},isExternal:function(a){var b;return b=a.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/),"string"==typeof b[1]&&0<b[1].length&&b[1].toLowerCase()!==location.protocol?!0:"string"==typeof b[2]&&0<b[2].length&&b[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host?!0:!1},error:function(a){return this.lightbox_body.html(a),this},preloadImage:function(d,b){var g,f=this;return g=
new Image,(null==b||!0===b)&&(g.onload=function(){var b;return b=a("<img />"),b.attr("src",g.src),b.addClass("img-responsive"),f.lightbox_body.html(b),f.modal_arrows&&f.modal_arrows.css("display","block"),f.resize(g.width),f.options.onContentLoaded.call(f)},g.onerror=function(){return f.error("Failed to load image: "+d)}),g.src=d,g},resize:function(d){var b;return b=d+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal_dialog.css("width","auto").css("max-width",b),this.lightbox_container.find("a").css("padding-top",
function(){return a(this).parent().height()/2}),this},checkDimensions:function(a){var b,d;return d=a+this.border.left+this.padding.left+this.padding.right+this.border.right,b=document.body.clientWidth,d>b&&(a=this.modal_body.width()),a},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(a){return"/"!==a.substr(-1)&&(a+="/"),a}};a.fn.ekkoLightbox=function(h){return this.each(function(){var b;return b=a(this),h=a.extend({remote:b.attr("data-remote")||b.attr("href"),gallery_parent_selector:b.attr("data-parent"),
type:b.attr("data-type")},h,b.data()),new d(this,h),this})};a.fn.ekkoLightbox.defaults={gallery_parent_selector:"*:not(.row)",left_arrow_class:".glyphicon .glyphicon-chevron-left",right_arrow_class:".glyphicon .glyphicon-chevron-right",directional_arrows:!0,type:null,always_show_close:!0,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}}}).call(this);(function(){function a(){}function d(b,a){this.path=b;"undefined"!==typeof a&&null!==a?(this.at_2x_path=a,this.perform_check=!1):(this.at_2x_path=b.replace(/\.\w+$/,function(b){return"@2x"+b}),this.perform_check=!0)}function h(b){this.el=b;this.path=new d(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var a=this;this.path.check_2x_variant(function(b){b&&a.swap()})}var b="undefined"==typeof exports?window:exports,g={check_mime_type:!0};b.Retina=a;a.configure=function(b){null==b&&(b=
{});for(var a in b)g[a]=b[a]};a.init=function(a){null==a&&(a=b);var d=a.onload||new Function;a.onload=function(){var b=document.getElementsByTagName("img"),a=[],c,f;for(c=0;c<b.length;c++)f=b[c],a.push(new h(f));d()}};a.isRetina=function(){return 1<b.devicePixelRatio||b.matchMedia&&b.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)").matches?
!0:!1};b.RetinaImagePath=d;d.confirmed_paths=[];d.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))};d.prototype.check_2x_variant=function(b){var a,k=this;if(this.is_external())return b(!1);if(this.perform_check||"undefined"===typeof this.at_2x_path||null===this.at_2x_path){if(this.at_2x_path in d.confirmed_paths)return b(!0);a=new XMLHttpRequest;a.open("HEAD",this.at_2x_path);a.onreadystatechange=function(){if(4==a.readyState&&200<=a.status&&
399>=a.status){if(g.check_mime_type){var l=a.getResponseHeader("Content-Type");if(null==l||!l.match(/^image/i))return b(!1)}d.confirmed_paths.push(k.at_2x_path);return b(!0)}return b(!1)};a.send()}else return b(!0)};b.RetinaImage=h;h.prototype.swap=function(b){function a(){d.el.complete?(d.el.setAttribute("width",d.el.offsetWidth),d.el.setAttribute("height",d.el.offsetHeight),d.el.setAttribute("src",b)):setTimeout(a,5)}"undefined"==typeof b&&(b=this.path.at_2x_path);var d=this;a()};a.isRetina()&&
a.init(b)})();(function(a){a.fn.foggy=function(d){var h={opacity:.8,blurRadius:2,quality:16,cssFilterSupport:!0},b={opacity:1,blurRadius:0},g;g=!1==d?a.extend(h,b):a.extend(h,d);var f=function(b,a,f,d){this.content=b;this.position=a;this.offset=f;this.opacity=d};f.prototype.render=function(b){a("<div/>",{html:this.content,"class":"foggy-pass-"+this.position}).css({position:this.position,opacity:this.opacity,top:this.offset[0],left:this.offset[1]}).appendTo(b)};var m=function(b){this.radius=b};m.prototype.includes=
function(b,a){return Math.pow(b,2)+Math.pow(a,2)<=Math.pow(this.radius,2)?!0:!1};m.prototype.points=function(){for(var b=[],a=-this.radius;a<=this.radius;a++)for(var f=-this.radius;f<=this.radius;f++)this.includes(a,f)&&b.push([a,f]);return b};var k=function(b,a){this.element=b;this.settings=a};k.prototype.calculateOffsets=function(b,f){var d=a.grep((new m(b)).points(),function(b){return 0!=b[0]||0!=b[1]});if(!(d.length<=f)){for(var g=d.length-f,k=[],l=0;l<g;l++)k.push(Math.round(d.length/g*l));d=
a.grep(d,function(b,c){return 0<=a.inArray(c,k)?!1:!0})}return d};k.prototype.getContent=function(){var b=a(this.element).find(".foggy-pass-relative")[0];return b?a(b).html():a(this.element).html()};k.prototype.render=function(){var b=this.getContent();a(this.element).empty();var d=a("<div/>").css({position:"relative"}),g=this.calculateOffsets(2*this.settings.blurRadius,this.settings.quality),k=1.2*this.settings.opacity/(g.length+1);(new f(b,"relative",[0,0],k)).render(d);a(g).each(function(a,g){(new f(b,
"absolute",g,k)).render(d)});d.appendTo(this.element)};var l=function(b,a){this.element=b;this.settings=a};l.prototype.render=function(){(""+g.opacity).slice(2,4);var b=this.settings.blurRadius;a(this.element).css({"-webkit-filter":"blur("+b+"px)",opacity:g.opacity})};return this.each(function(b,a){g.cssFilterSupport&&"-webkit-filter"in document.body.style?(new l(a,g)).render():(new k(a,g)).render()})}})(jQuery);!function(a){var d={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,
nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4E3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};a.fn.bxSlider=function(h){if(0==this.length)return this;if(1<this.length)return this.each(function(){a(this).bxSlider(h)}),
this;var b={},g=this,f=a(window).width(),m=a(window).height(),k=function(){b.settings=a.extend({},d,h);b.settings.slideWidth=parseInt(b.settings.slideWidth);b.children=g.children(b.settings.slideSelector);b.children.length<b.settings.minSlides&&(b.settings.minSlides=b.children.length);b.children.length<b.settings.maxSlides&&(b.settings.maxSlides=b.children.length);b.settings.randomStart&&(b.settings.startSlide=Math.floor(Math.random()*b.children.length));b.active={index:b.settings.startSlide};b.carousel=
1<b.settings.minSlides||1<b.settings.maxSlides;b.carousel&&(b.settings.preloadImages="all");b.minThreshold=b.settings.minSlides*b.settings.slideWidth+(b.settings.minSlides-1)*b.settings.slideMargin;b.maxThreshold=b.settings.maxSlides*b.settings.slideWidth+(b.settings.maxSlides-1)*b.settings.slideMargin;b.working=!1;b.controls={};b.interval=null;b.animProp="vertical"==b.settings.mode?"top":"left";b.usingCSS=b.settings.useCSS&&"fade"!=b.settings.mode&&function(){var a=document.createElement("div"),
c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],f;for(f in c)if(void 0!==a.style[c[f]])return b.cssPrefix=c[f].replace("Perspective","").toLowerCase(),b.animProp="-"+b.cssPrefix+"-transform",!0;return!1}();"vertical"==b.settings.mode&&(b.settings.maxSlides=b.settings.minSlides);g.data("origStyle",g.attr("style"));g.children(b.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))});l()},l=function(){g.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');
b.viewport=g.parent();b.loader=a('<div class="bx-loading" />');b.viewport.prepend(b.loader);g.css({width:"horizontal"==b.settings.mode?100*b.children.length+215+"%":"auto",position:"relative"});b.usingCSS&&b.settings.easing?g.css("-"+b.cssPrefix+"-transition-timing-function",b.settings.easing):b.settings.easing||(b.settings.easing="swing");r();b.viewport.css({width:"100%",overflow:"hidden",position:"relative"});b.viewport.parent().css({maxWidth:y()});b.settings.pager||b.viewport.parent().css({margin:"0 auto 0px"});
b.children.css({"float":"horizontal"==b.settings.mode?"left":"none",listStyle:"none",position:"relative"});b.children.css("width",p());"horizontal"==b.settings.mode&&0<b.settings.slideMargin&&b.children.css("marginRight",b.settings.slideMargin);"vertical"==b.settings.mode&&0<b.settings.slideMargin&&b.children.css("marginBottom",b.settings.slideMargin);"fade"==b.settings.mode&&(b.children.css({position:"absolute",zIndex:0,display:"none"}),b.children.eq(b.settings.startSlide).css({zIndex:50,display:"block"}));
b.controls.el=a('<div class="bx-controls" />');b.settings.captions&&v();b.active.last=b.settings.startSlide==s()-1;b.settings.video&&g.fitVids();var f=b.children.eq(b.settings.startSlide);"all"==b.settings.preloadImages&&(f=b.children);b.settings.ticker?b.settings.pager=!1:(b.settings.pager&&(b.settings.pagerCustom?b.pagerEl=a(b.settings.pagerCustom):(b.pagerEl=a('<div class="bx-pager" />'),b.settings.pagerSelector?a(b.settings.pagerSelector).html(b.pagerEl):b.controls.el.addClass("bx-has-pager").append(b.pagerEl),
K()),b.pagerEl.delegate("a","click",U)),b.settings.controls&&(b.controls.next=a('<a class="bx-next" href="">'+b.settings.nextText+"</a>"),b.controls.prev=a('<a class="bx-prev" href="">'+b.settings.prevText+"</a>"),b.controls.next.bind("click",w),b.controls.prev.bind("click",N),b.settings.nextSelector&&a(b.settings.nextSelector).append(b.controls.next),b.settings.prevSelector&&a(b.settings.prevSelector).append(b.controls.prev),b.settings.nextSelector||b.settings.prevSelector||(b.controls.directionEl=
a('<div class="bx-controls-direction" />'),b.controls.directionEl.append(b.controls.prev).append(b.controls.next),b.controls.el.addClass("bx-has-controls-direction").append(b.controls.directionEl))),b.settings.auto&&b.settings.autoControls&&(b.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+b.settings.startText+"</a></div>"),b.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+b.settings.stopText+"</a></div>"),b.controls.autoEl=a('<div class="bx-controls-auto" />'),
b.controls.autoEl.delegate(".bx-start","click",L),b.controls.autoEl.delegate(".bx-stop","click",Q),b.settings.autoControlsCombine?b.controls.autoEl.append(b.controls.start):b.controls.autoEl.append(b.controls.start).append(b.controls.stop),b.settings.autoControlsSelector?a(b.settings.autoControlsSelector).html(b.controls.autoEl):b.controls.el.addClass("bx-has-controls-auto").append(b.controls.autoEl),M(b.settings.autoStart?"stop":"start")),(b.settings.controls||b.settings.autoControls||b.settings.pager)&&
b.viewport.after(b.controls.el));c(f,G)},c=function(b,c){var f=b.find("img, iframe").length;if(0==f)return c(),void 0;var d=0;b.find("img, iframe").each(function(){a(this).one("load",function(){++d==f&&c()}).each(function(){this.complete&&a(this).load()})})},G=function(){if(b.settings.infiniteLoop&&"fade"!=b.settings.mode&&!b.settings.ticker){var c="vertical"==b.settings.mode?b.settings.minSlides:b.settings.maxSlides,f=b.children.slice(0,c).clone().addClass("bx-clone"),c=b.children.slice(-c).clone().addClass("bx-clone");
g.append(f).prepend(c)}b.loader.remove();C();"vertical"==b.settings.mode&&(b.settings.adaptiveHeight=!0);b.viewport.height(n());g.redrawSlider();b.settings.onSliderLoad(b.active.index);b.initialized=!0;b.settings.responsive&&a(window).bind("resize",R);b.settings.auto&&b.settings.autoStart&&la();b.settings.ticker&&H();b.settings.pager&&B(b.settings.startSlide);b.settings.controls&&x();b.settings.touchEnabled&&!b.settings.ticker&&(b.touch={start:{x:0,y:0},end:{x:0,y:0}},b.viewport.bind("touchstart",
O))},n=function(){var c=0,f=a();if("vertical"==b.settings.mode||b.settings.adaptiveHeight)if(b.carousel){var d=1==b.settings.moveSlides?b.active.index:b.active.index*q(),f=b.children.eq(d);for(i=1;i<=b.settings.maxSlides-1;i++)f=d+i>=b.children.length?f.add(b.children.eq(i-1)):f.add(b.children.eq(d+i))}else f=b.children.eq(b.active.index);else f=b.children;return"vertical"==b.settings.mode?(f.each(function(){c+=a(this).outerHeight()}),0<b.settings.slideMargin&&(c+=b.settings.slideMargin*(b.settings.minSlides-
1))):c=Math.max.apply(Math,f.map(function(){return a(this).outerHeight(!1)}).get()),c},y=function(){var a="100%";return 0<b.settings.slideWidth&&(a="horizontal"==b.settings.mode?b.settings.maxSlides*b.settings.slideWidth+(b.settings.maxSlides-1)*b.settings.slideMargin:b.settings.slideWidth),a},p=function(){var a=b.settings.slideWidth,c=b.viewport.width();return 0==b.settings.slideWidth||b.settings.slideWidth>c&&!b.carousel||"vertical"==b.settings.mode?a=c:1<b.settings.maxSlides&&"horizontal"==b.settings.mode&&
(c>b.maxThreshold||c<b.minThreshold&&(a=(c-b.settings.slideMargin*(b.settings.minSlides-1))/b.settings.minSlides)),a},r=function(){var a=1;"horizontal"==b.settings.mode&&0<b.settings.slideWidth?b.viewport.width()<b.minThreshold?a=b.settings.minSlides:b.viewport.width()>b.maxThreshold?a=b.settings.maxSlides:(a=b.children.first().width(),a=Math.floor(b.viewport.width()/a)):"vertical"==b.settings.mode&&(a=b.settings.minSlides);return a},s=function(){var a=0;if(0<b.settings.moveSlides)if(b.settings.infiniteLoop)a=
b.children.length/q();else for(var c=0,f=0;c<b.children.length;)++a,c=f+r(),f+=b.settings.moveSlides<=r()?b.settings.moveSlides:r();else a=Math.ceil(b.children.length/r());return a},q=function(){return 0<b.settings.moveSlides&&b.settings.moveSlides<=r()?b.settings.moveSlides:r()},C=function(){if(b.children.length>b.settings.maxSlides&&b.active.last&&!b.settings.infiniteLoop)if("horizontal"==b.settings.mode){var a=b.children.last(),c=a.position();u(-(c.left-(b.viewport.width()-a.width())),"reset",
0)}else"vertical"==b.settings.mode&&(c=b.children.eq(b.children.length-b.settings.minSlides).position(),u(-c.top,"reset",0));else c=b.children.eq(b.active.index*q()).position(),b.active.index==s()-1&&(b.active.last=!0),void 0!=c&&("horizontal"==b.settings.mode?u(-c.left,"reset",0):"vertical"==b.settings.mode&&u(-c.top,"reset",0))},u=function(a,c,f,d){if(b.usingCSS)a="vertical"==b.settings.mode?"translate3d(0, "+a+"px, 0)":"translate3d("+a+"px, 0, 0)",g.css("-"+b.cssPrefix+"-transition-duration",f/
1E3+"s"),"slide"==c?(g.css(b.animProp,a),g.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){g.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");D()})):"reset"==c?g.css(b.animProp,a):"ticker"==c&&(g.css("-"+b.cssPrefix+"-transition-timing-function","linear"),g.css(b.animProp,a),g.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){g.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");u(d.resetValue,
"reset",0);A()}));else{var k={};k[b.animProp]=a;"slide"==c?g.animate(k,f,b.settings.easing,function(){D()}):"reset"==c?g.css(b.animProp,a):"ticker"==c&&g.animate(k,speed,"linear",function(){u(d.resetValue,"reset",0);A()})}},K=function(){for(var c="",f=s(),d=0;f>d;d++){var g="";b.settings.buildPager&&a.isFunction(b.settings.buildPager)?(g=b.settings.buildPager(d),b.pagerEl.addClass("bx-custom-pager")):(g=d+1,b.pagerEl.addClass("bx-default-pager"));c+='<div class="bx-pager-item"><a href="" data-slide-index="'+
d+'" class="bx-pager-link">'+g+"</a></div>"}b.pagerEl.html(c)},v=function(){b.children.each(function(){var b=a(this).find("img:first").attr("title");void 0!=b&&(""+b).length&&a(this).append('<div class="bx-caption"><span>'+b+"</span></div>")})},w=function(a){b.settings.auto&&g.stopAuto();g.goToNextSlide();a.preventDefault()},N=function(a){b.settings.auto&&g.stopAuto();g.goToPrevSlide();a.preventDefault()},L=function(a){g.startAuto();a.preventDefault()},Q=function(a){g.stopAuto();a.preventDefault()},
U=function(c){b.settings.auto&&g.stopAuto();var f=a(c.currentTarget),f=parseInt(f.attr("data-slide-index"));f!=b.active.index&&g.goToSlide(f);c.preventDefault()},B=function(c){var f=b.children.length;return"short"==b.settings.pagerType?(1<b.settings.maxSlides&&(f=Math.ceil(b.children.length/b.settings.maxSlides)),b.pagerEl.html(c+1+b.settings.pagerShortSeparator+f),void 0):(b.pagerEl.find("a").removeClass("active"),b.pagerEl.each(function(b,f){a(f).find("a").eq(c).addClass("active")}),void 0)},D=
function(){if(b.settings.infiniteLoop){var a="";0==b.active.index?a=b.children.eq(0).position():b.active.index==s()-1&&b.carousel?a=b.children.eq((s()-1)*q()).position():b.active.index==b.children.length-1&&(a=b.children.eq(b.children.length-1).position());"horizontal"==b.settings.mode?u(-a.left,"reset",0):"vertical"==b.settings.mode&&u(-a.top,"reset",0)}b.working=!1;b.settings.onSlideAfter(b.children.eq(b.active.index),b.oldIndex,b.active.index)},M=function(a){b.settings.autoControlsCombine?b.controls.autoEl.html(b.controls[a]):
(b.controls.autoEl.find("a").removeClass("active"),b.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},x=function(){1==s()?(b.controls.prev.addClass("disabled"),b.controls.next.addClass("disabled")):!b.settings.infiniteLoop&&b.settings.hideControlOnEnd&&(0==b.active.index?(b.controls.prev.addClass("disabled"),b.controls.next.removeClass("disabled")):b.active.index==s()-1?(b.controls.next.addClass("disabled"),b.controls.prev.removeClass("disabled")):(b.controls.prev.removeClass("disabled"),
b.controls.next.removeClass("disabled")))},la=function(){0<b.settings.autoDelay?setTimeout(g.startAuto,b.settings.autoDelay):g.startAuto();b.settings.autoHover&&g.hover(function(){b.interval&&(g.stopAuto(!0),b.autoPaused=!0)},function(){b.autoPaused&&(g.startAuto(!0),b.autoPaused=null)})},H=function(){var c=0;"next"==b.settings.autoDirection?g.append(b.children.clone().addClass("bx-clone")):(g.prepend(b.children.clone().addClass("bx-clone")),c=b.children.first().position(),c="horizontal"==b.settings.mode?
-c.left:-c.top);u(c,"reset",0);b.settings.pager=!1;b.settings.controls=!1;b.settings.autoControls=!1;b.settings.tickerHover&&!b.usingCSS&&b.viewport.hover(function(){g.stop()},function(){var c=0;b.children.each(function(){c+="horizontal"==b.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var f=b.settings.speed/c*(c-Math.abs(parseInt(g.css("horizontal"==b.settings.mode?"left":"top"))));A(f)});A()},A=function(a){speed=a?a:b.settings.speed;a={left:0,top:0};var c={left:0,top:0};"next"==
b.settings.autoDirection?a=g.find(".bx-clone").first().position():c=b.children.first().position();u("horizontal"==b.settings.mode?-a.left:-a.top,"ticker",speed,{resetValue:"horizontal"==b.settings.mode?-c.left:-c.top})},O=function(a){b.working?a.preventDefault():(b.touch.originalPos=g.position(),a=a.originalEvent,b.touch.start.x=a.changedTouches[0].pageX,b.touch.start.y=a.changedTouches[0].pageY,b.viewport.bind("touchmove",S),b.viewport.bind("touchend",X))},S=function(a){var c=a.originalEvent,f=Math.abs(c.changedTouches[0].pageX-
b.touch.start.x),d=Math.abs(c.changedTouches[0].pageY-b.touch.start.y);if(3*f>d&&b.settings.preventDefaultSwipeX?a.preventDefault():3*d>f&&b.settings.preventDefaultSwipeY&&a.preventDefault(),"fade"!=b.settings.mode&&b.settings.oneToOneTouch)a=0,"horizontal"==b.settings.mode?(c=c.changedTouches[0].pageX-b.touch.start.x,a=b.touch.originalPos.left+c):(c=c.changedTouches[0].pageY-b.touch.start.y,a=b.touch.originalPos.top+c),u(a,"reset",0)},X=function(a){b.viewport.unbind("touchmove",S);var c=a.originalEvent;
a=0;(b.touch.end.x=c.changedTouches[0].pageX,b.touch.end.y=c.changedTouches[0].pageY,"fade"==b.settings.mode)?(c=Math.abs(b.touch.start.x-b.touch.end.x),c>=b.settings.swipeThreshold&&(b.touch.start.x>b.touch.end.x?g.goToNextSlide():g.goToPrevSlide(),g.stopAuto())):(c=0,"horizontal"==b.settings.mode?(c=b.touch.end.x-b.touch.start.x,a=b.touch.originalPos.left):(c=b.touch.end.y-b.touch.start.y,a=b.touch.originalPos.top),!b.settings.infiniteLoop&&(0==b.active.index&&0<c||b.active.last&&0>c)?u(a,"reset",
200):Math.abs(c)>=b.settings.swipeThreshold?(0>c?g.goToNextSlide():g.goToPrevSlide(),g.stopAuto()):u(a,"reset",200));b.viewport.unbind("touchend",X)},R=function(){var b=a(window).width(),c=a(window).height();f==b&&m==c||(f=b,m=c,g.redrawSlider())};return g.goToSlide=function(c,f){if(!b.working&&b.active.index!=c)if(b.working=!0,b.oldIndex=b.active.index,b.active.index=0>c?s()-1:c>=s()?0:c,b.settings.onSlideBefore(b.children.eq(b.active.index),b.oldIndex,b.active.index),"next"==f?b.settings.onSlideNext(b.children.eq(b.active.index),
b.oldIndex,b.active.index):"prev"==f&&b.settings.onSlidePrev(b.children.eq(b.active.index),b.oldIndex,b.active.index),b.active.last=b.active.index>=s()-1,b.settings.pager&&B(b.active.index),b.settings.controls&&x(),"fade"==b.settings.mode)b.settings.adaptiveHeight&&b.viewport.height()!=n()&&b.viewport.animate({height:n()},b.settings.adaptiveHeightSpeed),b.children.filter(":visible").fadeOut(b.settings.speed).css({zIndex:0}),b.children.eq(b.active.index).css("zIndex",51).fadeIn(b.settings.speed,function(){a(this).css("zIndex",
50);D()});else{b.settings.adaptiveHeight&&b.viewport.height()!=n()&&b.viewport.animate({height:n()},b.settings.adaptiveHeightSpeed);var d=0,k={left:0,top:0};if(!b.settings.infiniteLoop&&b.carousel&&b.active.last)if("horizontal"==b.settings.mode)var l=b.children.eq(b.children.length-1),k=l.position(),d=b.viewport.width()-l.outerWidth();else k=b.children.eq(b.children.length-b.settings.minSlides).position();else b.carousel&&b.active.last&&"prev"==f?(k=1==b.settings.moveSlides?b.settings.maxSlides-q():
(s()-1)*q()-(b.children.length-b.settings.maxSlides),l=g.children(".bx-clone").eq(k),k=l.position()):"next"==f&&0==b.active.index?(k=g.find("> .bx-clone").eq(b.settings.maxSlides).position(),b.active.last=!1):0<=c&&(k=c*q(),k=b.children.eq(k).position());"undefined"!=typeof k&&u("horizontal"==b.settings.mode?-(k.left-d):-k.top,"slide",b.settings.speed)}},g.goToNextSlide=function(){if(b.settings.infiniteLoop||!b.active.last){var a=parseInt(b.active.index)+1;g.goToSlide(a,"next")}},g.goToPrevSlide=
function(){if(b.settings.infiniteLoop||0!=b.active.index){var a=parseInt(b.active.index)-1;g.goToSlide(a,"prev")}},g.startAuto=function(a){b.interval||(b.interval=setInterval(function(){"next"==b.settings.autoDirection?g.goToNextSlide():g.goToPrevSlide()},b.settings.pause),b.settings.autoControls&&1!=a&&M("stop"))},g.stopAuto=function(a){b.interval&&(clearInterval(b.interval),b.interval=null,b.settings.autoControls&&1!=a&&M("start"))},g.getCurrentSlide=function(){return b.active.index},g.getSlideCount=
function(){return b.children.length},g.redrawSlider=function(){b.children.add(g.find(".bx-clone")).outerWidth(p());b.viewport.css("height",n());b.settings.ticker||C();b.active.last&&(b.active.index=s()-1);b.active.index>=s()&&(b.active.last=!0);b.settings.pager&&!b.settings.pagerCustom&&(K(),B(b.active.index))},g.destroySlider=function(){b.initialized&&(b.initialized=!1,a(".bx-clone",this).remove(),b.children.each(function(){void 0!=a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):
a(this).removeAttr("style")}),void 0!=a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),b.controls.el&&b.controls.el.remove(),b.controls.next&&b.controls.next.remove(),b.controls.prev&&b.controls.prev.remove(),b.pagerEl&&b.pagerEl.remove(),a(".bx-caption",this).remove(),b.controls.autoEl&&b.controls.autoEl.remove(),clearInterval(b.interval),b.settings.responsive&&a(window).unbind("resize",R))},g.reloadSlider=function(a){void 0!=
a&&(h=a);g.destroySlider();k()},k(),this}}(jQuery);(function(){(function(a,d,h){var b,g;g={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5E3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}};b=function(){return function(b,d){this.element=b;this.options=a.extend(!0,{},g,d);this._defaults=g;this._name="slidesjs";this.init()}}();
b.prototype.init=function(){var b,g,k,l,c=this;b=a(this.element);this.data=a.data(this);a.data(this,"animating",!1);a.data(this,"total",b.children().not(".slidesjs-navigation",b).length);a.data(this,"current",this.options.start-1);a.data(this,"vendorPrefix",this._getVendorPrefix());"undefined"!=typeof TouchEvent&&(a.data(this,"touch",!0),this.options.effect.slide.speed/=2);b.css({overflow:"hidden"});b.slidesContainer=b.children().not(".slidesjs-navigation",b).wrapAll("<div class='slidesjs-container'>",
b).parent().css({overflow:"hidden",position:"relative"});a(".slidesjs-container",b).wrapInner("<div class='slidesjs-control'>",b).children();a(".slidesjs-control",b).css({position:"relative",left:0});a(".slidesjs-control",b).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"});a.each(a(".slidesjs-control",b).children(),function(b){return a(this).attr("slidesjs-index",b)});this.data.touch&&(a(".slidesjs-control",
b).on("touchstart",function(a){return c._touchstart(a)}),a(".slidesjs-control",b).on("touchmove",function(a){return c._touchmove(a)}),a(".slidesjs-control",b).on("touchend",function(a){return c._touchend(a)}));b.fadeIn(0);this.update();this.data.touch&&this._setuptouch();a(".slidesjs-control",b).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return a(this).css({zIndex:10})});this.options.navigation.active&&(a("<a>",{"class":"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",
text:"Previous"}).appendTo(b),a("<a>",{"class":"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(b));a(".slidesjs-next",b).click(function(a){a.preventDefault();c.stop(!0);return c.next(c.options.navigation.effect)});a(".slidesjs-previous",b).click(function(a){a.preventDefault();c.stop(!0);return c.previous(c.options.navigation.effect)});this.options.play.active&&(k=a("<a>",{"class":"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(b),l=
a("<a>",{"class":"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(b),k.click(function(a){a.preventDefault();return c.play(!0)}),l.click(function(a){a.preventDefault();return c.stop(!0)}),this.options.play.swap&&l.css({display:"none"}));this.options.pagination.active&&(g=a("<ul>",{"class":"slidesjs-pagination"}).appendTo(b),a.each(Array(this.data.total),function(b){var f;f=a("<li>",{"class":"slidesjs-pagination-item"}).appendTo(g);return a("<a>",{href:"#","data-slidesjs-item":b,
html:b+1}).appendTo(f).click(function(b){b.preventDefault();c.stop(!0);return c["goto"](1*a(b.currentTarget).attr("data-slidesjs-item")+1)})}));a(d).bind("resize",function(){return c.update()});this._setActive();this.options.play.auto&&this.play();return this.options.callback.loaded(this.options.start)};b.prototype._setActive=function(b){var d;d=a(this.element);this.data=a.data(this);b=-1<b?b:this.data.current;a(".active",d).removeClass("active");return a(".slidesjs-pagination li:eq("+b+") a",d).addClass("active")};
b.prototype.update=function(){var b,d,g;b=a(this.element);this.data=a.data(this);a(".slidesjs-control",b).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0});g=b.width();d=this.options.height/this.options.width*g;this.options.width=g;this.options.height=d;return a(".slidesjs-control, .slidesjs-container",b).css({width:g,height:d})};b.prototype.next=function(b){a(this.element);this.data=a.data(this);a.data(this,"direction","next");void 0===b&&(b=this.options.navigation.effect);
return"fade"===b?this._fade():this._slide()};b.prototype.previous=function(b){a(this.element);this.data=a.data(this);a.data(this,"direction","previous");void 0===b&&(b=this.options.navigation.effect);return"fade"===b?this._fade():this._slide()};b.prototype["goto"]=function(b){var d;a(this.element);this.data=a.data(this);void 0===d&&(d=this.options.pagination.effect);b>this.data.total?b=this.data.total:1>b&&(b=1);if("number"==typeof b)return"fade"===d?this._fade(b):this._slide(b);if("string"==typeof b){if("first"===
b)return"fade"===d?this._fade(0):this._slide(0);if("last"===b)return"fade"===d?this._fade(this.data.total):this._slide(this.data.total)}};b.prototype._setuptouch=function(){var b,d,g;b=a(this.element);this.data=a.data(this);g=a(".slidesjs-control",b);b=this.data.current+1;d=this.data.current-1;0>d&&(d=this.data.total-1);b>this.data.total-1&&(b=0);g.children(":eq("+b+")").css({display:"block",left:this.options.width});return g.children(":eq("+d+")").css({display:"block",left:-this.options.width})};
b.prototype._touchstart=function(b){var d;a(this.element);this.data=a.data(this);d=b.originalEvent.touches[0];this._setuptouch();a.data(this,"touchtimer",Number(new Date));a.data(this,"touchstartx",d.pageX);a.data(this,"touchstarty",d.pageY);return b.stopPropagation()};b.prototype._touchend=function(b){var d,g,l,c,h,n,y=this;d=a(this.element);this.data=a.data(this);c=a(".slidesjs-control",d);c.position().left>.5*this.options.width||c.position().left>.1*this.options.width&&250>Number(new Date)-this.data.touchtimer?
(a.data(this,"direction","previous"),this._slide()):c.position().left<-(.5*this.options.width)||c.position().left<-(.1*this.options.width)&&250>Number(new Date)-this.data.touchtimer?(a.data(this,"direction","next"),this._slide()):(l=this.data.vendorPrefix,n=l+"Transform",g=l+"TransitionDuration",h=l+"TransitionTimingFunction",c[0].style[n]="translateX(0px)",c[0].style[g]=.85*this.options.effect.slide.speed+"ms");c.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",
function(){l=y.data.vendorPrefix;n=l+"Transform";g=l+"TransitionDuration";h=l+"TransitionTimingFunction";c[0].style[n]="";c[0].style[g]="";return c[0].style[h]=""});return b.stopPropagation()};b.prototype._touchmove=function(b){var d,g,l;d=a(this.element);this.data=a.data(this);l=b.originalEvent.touches[0];g=this.data.vendorPrefix;d=a(".slidesjs-control",d);g+="Transform";a.data(this,"scrolling",Math.abs(l.pageX-this.data.touchstartx)<Math.abs(l.pageY-this.data.touchstarty));this.data.animating||
this.data.scrolling||(b.preventDefault(),this._setuptouch(),d[0].style[g]="translateX("+(l.pageX-this.data.touchstartx)+"px)");return b.stopPropagation()};b.prototype.play=function(b){var d,g=this;d=a(this.element);this.data=a.data(this);if(!this.data.playInterval&&(b&&(this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),a.data(this,"playInterval",setInterval(function(){g.data.direction="next";return"fade"===g.options.play.effect?g._fade():g._slide()},this.options.play.interval)),
b=a(".slidesjs-container",d),this.options.play.pauseOnHover&&(b.unbind(),b.bind("mouseenter",function(){return g.stop()}),b.bind("mouseleave",function(){return g.options.play.restartDelay?a.data(g,"restartDelay",setTimeout(function(){return g.play(!0)},g.options.play.restartDelay)):g.play()})),a.data(this,"playing",!0),a(".slidesjs-play",d).addClass("slidesjs-playing"),this.options.play.swap))return a(".slidesjs-play",d).hide(),a(".slidesjs-stop",d).show()};b.prototype.stop=function(b){var d;d=a(this.element);
this.data=a.data(this);clearInterval(this.data.playInterval);this.options.play.pauseOnHover&&b&&a(".slidesjs-container",d).unbind();a.data(this,"playInterval",null);a.data(this,"playing",!1);a(".slidesjs-play",d).removeClass("slidesjs-playing");if(this.options.play.swap)return a(".slidesjs-stop",d).hide(),a(".slidesjs-play",d).show()};b.prototype._slide=function(b){var d,g,l,c,h,n,y,p,r=this;d=a(this.element);this.data=a.data(this);if(!this.data.animating&&b!==this.data.current+1)return a.data(this,
"animating",!0),g=this.data.current,-1<b?(b-=1,p=b>g?1:-1,l=b>g?-this.options.width:this.options.width,h=b):(p="next"===this.data.direction?1:-1,l="next"===this.data.direction?-this.options.width:this.options.width,h=g+p),-1===h&&(h=this.data.total-1),h===this.data.total&&(h=0),this._setActive(h),n=a(".slidesjs-control",d),-1<b&&n.children(":not(:eq("+g+"))").css({display:"none",left:0,zIndex:0}),n.children(":eq("+h+")").css({display:"block",left:p*this.options.width,zIndex:10}),this.options.callback.start(g+
1),this.data.vendorPrefix?(b=this.data.vendorPrefix,y=b+"Transform",c=b+"TransitionDuration",n[0].style[y]="translateX("+l+"px)",n[0].style[c]=this.options.effect.slide.speed+"ms",n.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){n[0].style[y]="";n[0].style[c]="";n.children(":eq("+h+")").css({left:0});n.children(":eq("+g+")").css({display:"none",left:0,zIndex:0});a.data(r,"current",h);a.data(r,"animating",!1);n.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd");
n.children(":not(:eq("+h+"))").css({display:"none",left:0,zIndex:0});r.data.touch&&r._setuptouch();return r.options.callback.complete(h+1)})):n.stop().animate({left:l},this.options.effect.slide.speed,function(){n.css({left:0});n.children(":eq("+h+")").css({left:0});return n.children(":eq("+g+")").css({display:"none",left:0,zIndex:0},a.data(r,"current",h),a.data(r,"animating",!1),r.options.callback.complete(h+1))})};b.prototype._fade=function(b){var d,g,l,c,h,n=this;d=a(this.element);this.data=a.data(this);
if(!this.data.animating&&b!==this.data.current+1)return a.data(this,"animating",!0),g=this.data.current,b?(b-=1,h=b>g?1:-1,l=b):(h="next"===this.data.direction?1:-1,l=g+h),-1===l&&(l=this.data.total-1),l===this.data.total&&(l=0),this._setActive(l),c=a(".slidesjs-control",d),c.children(":eq("+l+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(g+1),this.options.effect.fade.crossfade?(c.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),c.children(":eq("+
l+")").stop().fadeIn(this.options.effect.fade.speed,function(){c.children(":eq("+l+")").css({zIndex:0});a.data(n,"animating",!1);a.data(n,"current",l);return n.options.callback.complete(l+1)})):c.children(":eq("+g+")").stop().fadeOut(this.options.effect.fade.speed,function(){c.children(":eq("+l+")").stop().fadeIn(n.options.effect.fade.speed,function(){return c.children(":eq("+l+")").css({zIndex:10})});a.data(n,"animating",!1);a.data(n,"current",l);return n.options.callback.complete(l+1)})};b.prototype._getVendorPrefix=
function(){var b,a,d,g;a=(h.body||h.documentElement).style;d="transition";g=["Moz","Webkit","Khtml","O","ms"];d=d.charAt(0).toUpperCase()+d.substr(1);for(b=0;b<g.length;){if("string"==typeof a[g[b]+d])return g[b];b++}return!1};return a.fn.slidesjs=function(d){return this.each(function(){if(!a.data(this,"plugin_slidesjs"))return a.data(this,"plugin_slidesjs",new b(this,d))})}})(jQuery,window,document)}).call(this);(function(a){a.fn.fitVids=function(d){var h={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var b=document.head||document.getElementsByTagName("head")[0],g=document.createElement("div");g.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>';
b.appendChild(g.childNodes[1])}d&&a.extend(h,d);return this.each(function(){var b='iframe[src*="player.vimeo.com"] iframe[src*="youtube.com"] iframe[src*="youtube-nocookie.com"] iframe[src*="kickstarter.com"][src*="video.html"] object embed'.split(" ");h.customSelector&&b.push(h.customSelector);var d=".fitvidsignore";h.ignore&&(d=d+", "+h.ignore);b=a(this).find(b.join(","));b=b.not("object object");b=b.not(d);b.each(function(){var b=a(this);if(!(0<b.parents(d).length||"embed"===this.tagName.toLowerCase()&&
b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var g="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),c=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),g=g/c;b.attr("id")||(c="fitvid"+Math.floor(999999*Math.random()),b.attr("id",c));b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",
100*g+"%");b.removeAttr("height").removeAttr("width")}})})}})(window.jQuery||window.Zepto);(function(a){a.fn.succinct=function(d){var h=a.extend({size:240,omission:"...",ignore:!0},d);return this.each(function(){var b,d,f=a(this),m=/(<([^>]+)>)/;(function(){f.each(function(){b=a(this).html();b.length>h.size&&(d=a.trim(b).substring(0,h.size).split(" ").slice(0,-1).join(" "),h.ignore&&(d=d.replace(m,"")),a(this).html(d+h.omission))})})()})}})(jQuery);!function t$$0(d,h,b){function g(k,l){if(!h[k]){if(!d[k]){var c="function"==typeof require&&require;if(!l&&c)return c(k,!0);if(f)return f(k,!0);c=Error("Cannot find module '"+k+"'");throw c.code="MODULE_NOT_FOUND",c;}c=h[k]={exports:{}};d[k][0].call(c.exports,function(b){var c=d[k][1][b];return g(c?c:b)},c,c.exports,t$$0,d,h,b)}return h[k].exports}for(var f="function"==typeof require&&require,m=0;m<b.length;m++)g(b[m]);return g}({1:[function(a,d,h){function b(b){b.fn.perfectScrollbar=function(a){return this.each(function(){"object"==
typeof a||"undefined"==typeof a?f.get(this)||g.initialize(this,a):"update"===a?g.update(this):"destroy"===a&&g.destroy(this);return b(this)})}}var g=a("../main"),f=a("../plugin/instances");"function"==typeof define&&define.amd?define(["jquery"],b):(a=window.jQuery?window.jQuery:window.$,"undefined"!=typeof a&&b(a));d.exports=b},{"../main":7,"../plugin/instances":18}],2:[function(a,d,h){h.add=function(b,a){if(b.classList)b.classList.add(a);else{var d=b.className.split(" ");0>d.indexOf(a)&&d.push(a);
b.className=d.join(" ")}};h.remove=function(b,a){if(b.classList)b.classList.remove(a);else{var d=b.className.split(" "),h=d.indexOf(a);0<=h&&d.splice(h,1);b.className=d.join(" ")}};h.list=function(b){return b.classList?b.classList:b.className.split(" ")}},{}],3:[function(a,d,h){h.e=function(b,a){var d=document.createElement(b);return d.className=a,d};h.appendTo=function(b,a){return a.appendChild(b),b};h.css=function(b,a,d){if("object"==typeof a)for(var h in a)d=a[h],"number"==typeof d&&(d=d.toString()+
"px"),b.style[h]=d;else"undefined"==typeof d?b=window.getComputedStyle(b)[a]:(h=d,b=("number"==typeof h&&(h=h.toString()+"px"),b.style[a]=h,b));return b};h.matches=function(b,a){return"undefined"!=typeof b.matches?b.matches(a):"undefined"!=typeof b.matchesSelector?b.matchesSelector(a):"undefined"!=typeof b.webkitMatchesSelector?b.webkitMatchesSelector(a):"undefined"!=typeof b.mozMatchesSelector?b.mozMatchesSelector(a):"undefined"!=typeof b.msMatchesSelector?b.msMatchesSelector(a):void 0};h.remove=
function(b){"undefined"!=typeof b.remove?b.remove():b.parentNode&&b.parentNode.removeChild(b)}},{}],4:[function(a,d,h){var b=function(b){this.element=b;this.events={}};b.prototype.bind=function(b,a){"undefined"==typeof this.events[b]&&(this.events[b]=[]);this.events[b].push(a);this.element.addEventListener(b,a,!1)};b.prototype.unbind=function(b,a){var d="undefined"!=typeof a;this.events[b]=this.events[b].filter(function(k){return d&&k!==a?!0:(this.element.removeEventListener(b,k,!1),!1)},this)};b.prototype.unbindAll=
function(){for(var b in this.events)this.unbind(b)};a=function(){this.eventElements=[]};a.prototype.eventElement=function(a){var d=this.eventElements.filter(function(b){return b.element===a})[0];return"undefined"==typeof d&&(d=new b(a),this.eventElements.push(d)),d};a.prototype.bind=function(b,a,d){this.eventElement(b).bind(a,d)};a.prototype.unbind=function(b,a,d){this.eventElement(b).unbind(a,d)};a.prototype.unbindAll=function(){for(var b=0;b<this.eventElements.length;b++)this.eventElements[b].unbindAll()};
a.prototype.once=function(b,a,d){var k=this.eventElement(b),l=function(b){k.unbind(a,l);d(b)};k.bind(a,l)};d.exports=a},{}],5:[function(a,d,h){d.exports=function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}}()},{}],6:[function(a,d,h){var b=a("./class"),g=a("./dom");h.toInt=function(b){return parseInt(b,10)||0};h.clone=function(b){if(null===b)return null;if("object"==typeof b){var a={},
d;for(d in b)a[d]=this.clone(b[d]);return a}return b};h.extend=function(b,a){var d=this.clone(b),g;for(g in a)d[g]=this.clone(a[g]);return d};h.isEditable=function(b){return g.matches(b,"input,[contenteditable]")||g.matches(b,"select,[contenteditable]")||g.matches(b,"textarea,[contenteditable]")||g.matches(b,"button,[contenteditable]")};h.removePsClasses=function(a){for(var d=b.list(a),g=0;g<d.length;g++){var l=d[g];0===l.indexOf("ps-")&&b.remove(a,l)}};h.outerWidth=function(b){return this.toInt(g.css(b,
"width"))+this.toInt(g.css(b,"paddingLeft"))+this.toInt(g.css(b,"paddingRight"))+this.toInt(g.css(b,"borderLeftWidth"))+this.toInt(g.css(b,"borderRightWidth"))};h.startScrolling=function(a,d){b.add(a,"ps-in-scrolling");"undefined"!=typeof d?b.add(a,"ps-"+d):(b.add(a,"ps-x"),b.add(a,"ps-y"))};h.stopScrolling=function(a,d){b.remove(a,"ps-in-scrolling");"undefined"!=typeof d?b.remove(a,"ps-"+d):(b.remove(a,"ps-x"),b.remove(a,"ps-y"))};h.env={isWebKit:"WebkitAppearance"in document.documentElement.style,
supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(a,d,h){h=a("./plugin/destroy");var b=a("./plugin/initialize");a=a("./plugin/update");d.exports={initialize:b,update:a,destroy:h}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":20}],8:[function(a,d,h){d.exports={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,
maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0}},{}],9:[function(a,d,h){var b=a("../lib/dom"),g=a("../lib/helper"),f=a("./instances");d.exports=function(a){var d=f.get(a);d&&(d.event.unbindAll(),b.remove(d.scrollbarX),b.remove(d.scrollbarY),b.remove(d.scrollbarXRail),b.remove(d.scrollbarYRail),g.removePsClasses(a),f.remove(a))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],
10:[function(a,d,h){function b(b,a){var c=window.Event.prototype.stopPropagation.bind;a.settings.stopPropagationOnClick&&a.event.bind(a.scrollbarY,"click",c);a.event.bind(a.scrollbarYRail,"click",function(c){var d=g.toInt(a.scrollbarYHeight/2),d=a.railYRatio*(c.pageY-window.scrollY-a.scrollbarYRail.getBoundingClientRect().top-d)/(a.railYRatio*(a.railYHeight-a.scrollbarYHeight));0>d?d=0:1<d&&(d=1);b.scrollTop=(a.contentHeight-a.containerHeight)*d;m(b);c.stopPropagation()});a.settings.stopPropagationOnClick&&
a.event.bind(a.scrollbarX,"click",c);a.event.bind(a.scrollbarXRail,"click",function(c){var d=g.toInt(a.scrollbarXWidth/2),d=a.railXRatio*(c.pageX-window.scrollX-a.scrollbarXRail.getBoundingClientRect().left-d)/(a.railXRatio*(a.railXWidth-a.scrollbarXWidth));0>d?d=0:1<d&&(d=1);b.scrollLeft=(a.contentWidth-a.containerWidth)*d-a.negativeScrollAdjustment;m(b);c.stopPropagation()})}var g=a("../../lib/helper"),f=a("../instances"),m=a("../update-geometry");d.exports=function(a){var d=f.get(a);b(a,d)}},{"../../lib/helper":6,
"../instances":18,"../update-geometry":19}],11:[function(a,d,h){function b(b,a){var d=null,g=null,k=function(f){var k=d+(f.pageX-g)*a.railXRatio,h=a.scrollbarXRail.getBoundingClientRect().left+a.railXRatio*(a.railXWidth-a.scrollbarXWidth);a.scrollbarXLeft=0>k?0:k>h?h:k;k=m.toInt(a.scrollbarXLeft*(a.contentWidth-a.containerWidth)/(a.containerWidth-a.railXRatio*a.scrollbarXWidth))-a.negativeScrollAdjustment;b.scrollLeft=k;l(b);f.stopPropagation();f.preventDefault()},h=function(){m.stopScrolling(b,"x");
a.event.unbind(a.ownerDocument,"mousemove",k)};a.event.bind(a.scrollbarX,"mousedown",function(l){g=l.pageX;d=m.toInt(f.css(a.scrollbarX,"left"))*a.railXRatio;m.startScrolling(b,"x");a.event.bind(a.ownerDocument,"mousemove",k);a.event.once(a.ownerDocument,"mouseup",h);l.stopPropagation();l.preventDefault()})}function g(b,a){var d=null,g=null,k=function(f){var k=d+(f.pageY-g)*a.railYRatio,h=a.scrollbarYRail.getBoundingClientRect().top+a.railYRatio*(a.railYHeight-a.scrollbarYHeight);a.scrollbarYTop=
0>k?0:k>h?h:k;k=m.toInt(a.scrollbarYTop*(a.contentHeight-a.containerHeight)/(a.containerHeight-a.railYRatio*a.scrollbarYHeight));b.scrollTop=k;l(b);f.stopPropagation();f.preventDefault()},h=function(){m.stopScrolling(b,"y");a.event.unbind(a.ownerDocument,"mousemove",k)};a.event.bind(a.scrollbarY,"mousedown",function(l){g=l.pageY;d=m.toInt(f.css(a.scrollbarY,"top"))*a.railYRatio;m.startScrolling(b,"y");a.event.bind(a.ownerDocument,"mousemove",k);a.event.once(a.ownerDocument,"mouseup",h);l.stopPropagation();
l.preventDefault()})}var f=a("../../lib/dom"),m=a("../../lib/helper"),k=a("../instances"),l=a("../update-geometry");d.exports=function(a){var d=k.get(a);b(a,d);g(a,d)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19}],12:[function(a,d,h){function b(a,b){function c(c,d){var g=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===g&&0<d||g>=b.contentHeight-b.containerHeight&&0>d)return!b.settings.wheelPropagation}g=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;
if(0===g&&0>c||g>=b.contentWidth-b.containerWidth&&0<c)return!b.settings.wheelPropagation}return!0}var d=!1;b.event.bind(a,"mouseenter",function(){d=!0});b.event.bind(a,"mouseleave",function(){d=!1});var f=!1;b.event.bind(b.ownerDocument,"keydown",function(h){if((!h.isDefaultPrevented||!h.isDefaultPrevented())&&d){var p=document.activeElement?document.activeElement:b.ownerDocument.activeElement;if(p){for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(g.isEditable(p))return}var r=p=0;switch(h.which){case 37:p=
-30;break;case 38:r=30;break;case 39:p=30;break;case 40:r=-30;break;case 33:r=90;break;case 32:case 34:r=-90;break;case 35:r=h.ctrlKey?-b.contentHeight:-b.containerHeight;break;case 36:r=h.ctrlKey?a.scrollTop:b.containerHeight;break;default:return}a.scrollTop-=r;a.scrollLeft+=p;m(a);(f=c(p,r))&&h.preventDefault()}})}var g=a("../../lib/helper"),f=a("../instances"),m=a("../update-geometry");d.exports=function(a){var d=f.get(a);b(a,d)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],
13:[function(a,d,h){function b(a,b){function c(c,d){var g=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===g&&0<d||g>=b.contentHeight-b.containerHeight&&0>d)return!b.settings.wheelPropagation}g=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===g&&0>c||g>=b.contentWidth-b.containerWidth&&0<c)return!b.settings.wheelPropagation}return!0}function d(h){if(g.env.isWebKit||!a.querySelector("select:focus")){var p,r=h.deltaX,s=-1*h.deltaY;p=(("undefined"==typeof r||"undefined"==typeof s)&&
(r=-1*h.wheelDeltaX/6,s=h.wheelDeltaY/6),h.deltaMode&&1===h.deltaMode&&(r*=10,s*=10),r!==r&&s!==s&&(r=0,s=h.wheelDelta),[r,s]);r=p[0];p=p[1];a:{if(s=a.querySelector("textarea:hover")){var q=s.scrollHeight-s.clientHeight;if(0<q&&!(0===s.scrollTop&&0<p||s.scrollTop===q&&0>p)){s=!0;break a}q=s.scrollLeft-s.clientWidth;if(0<q&&!(0===s.scrollLeft&&0>r||s.scrollLeft===q&&0<r)){s=!0;break a}}s=!1}s||(f=!1,b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(a.scrollTop=p?a.scrollTop-p*b.settings.wheelSpeed:
a.scrollTop+r*b.settings.wheelSpeed,f=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(a.scrollLeft=r?a.scrollLeft+r*b.settings.wheelSpeed:a.scrollLeft-p*b.settings.wheelSpeed,f=!0):(a.scrollTop-=p*b.settings.wheelSpeed,a.scrollLeft+=r*b.settings.wheelSpeed),m(a),f=f||c(r,p),f&&(h.stopPropagation(),h.preventDefault()))}}var f=!1;"undefined"!=typeof window.onwheel?b.event.bind(a,"wheel",d):"undefined"!=typeof window.onmousewheel&&b.event.bind(a,"mousewheel",d)}var g=a("../../lib/helper"),f=a("../instances"),
m=a("../update-geometry");d.exports=function(a){var d=f.get(a);b(a,d)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19}],14:[function(a,d,h){function b(a,b){b.event.bind(a,"scroll",function(){f(a)})}var g=a("../instances"),f=a("../update-geometry");d.exports=function(a){var d=g.get(a);b(a,d)}},{"../instances":18,"../update-geometry":19}],15:[function(a,d,h){function b(a,b){function c(){var a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";
return 0===a.toString().length?null:a.getRangeAt(0).commonAncestorContainer}function d(){y||(y=setInterval(function(){return f.get(a)?(a.scrollTop+=p.top,a.scrollLeft+=p.left,void m(a)):void clearInterval(y)},50))}function h(){y&&(clearInterval(y),y=null);g.stopScrolling(a)}var y=null,p={top:0,left:0},r=!1;b.event.bind(b.ownerDocument,"selectionchange",function(){a.contains(c())?r=!0:(r=!1,h())});b.event.bind(window,"mouseup",function(){r&&(r=!1,h())});b.event.bind(window,"mousemove",function(b){if(r){var c=
b.pageX;b=b.pageY;var f=a.offsetLeft+a.offsetWidth,l=a.offsetTop,m=a.offsetTop+a.offsetHeight;c<a.offsetLeft+3?(p.left=-5,g.startScrolling(a,"x")):c>f-3?(p.left=5,g.startScrolling(a,"x")):p.left=0;b<l+3?(p.top=5>l+3-b?-5:-20,g.startScrolling(a,"y")):b>m-3?(p.top=5>b-m+3?5:20,g.startScrolling(a,"y")):p.top=0;0===p.top&&0===p.left?h():d()}})}var g=a("../../lib/helper"),f=a("../instances"),m=a("../update-geometry");d.exports=function(a){var d=f.get(a);b(a,d)}},{"../../lib/helper":6,"../instances":18,
"../update-geometry":19}],16:[function(a,d,h){function b(a,b,d,c){var h,n;function y(){w=!0}function p(){w=!1}function r(a){return a.targetTouches&&1===a.targetTouches.length?!0:a.pointerType&&"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE?!0:!1}function s(a){if(r(a)){N=!0;var b=a.targetTouches?a.targetTouches[0]:a;u.pageX=b.pageX;u.pageY=b.pageY;K=(new Date).getTime();null!==v&&clearInterval(v);a.stopPropagation()}}function q(c){if(!w&&N&&r(c)){var d=c.targetTouches?c.targetTouches[0]:
c,g={pageX:d.pageX,pageY:d.pageY},d=g.pageX-u.pageX,l=g.pageY-u.pageY;a.scrollTop-=l;a.scrollLeft-=d;f(a);u=g;var g=(new Date).getTime(),p=g-K;0<p&&(h=d/p,n=l/p,K=g);a:{var g=a.scrollTop,p=a.scrollLeft,q=Math.abs(d),s=Math.abs(l);if(s>q){if(0>l&&g===b.contentHeight-b.containerHeight||0<l&&0===g){d=!b.settings.swipePropagation;break a}}else if(q>s&&(0>d&&p===b.contentWidth-b.containerWidth||0<d&&0===p)){d=!b.settings.swipePropagation;break a}d=!0}d&&(c.stopPropagation(),c.preventDefault())}}function C(){!w&&
N&&(N=!1,clearInterval(v),v=setInterval(function(){var b;g.get(a)?.01>Math.abs(h)&&.01>Math.abs(n)?b=void clearInterval(v):(b=30*h,a.scrollTop-=30*n,a.scrollLeft-=b,f(a),b=(h*=.8,void(n*=.8))):b=void clearInterval(v);return b},10))}var u={},K=0;n=h=void 0;var v=null,w=!1,N=!1;d&&(b.event.bind(window,"touchstart",y),b.event.bind(window,"touchend",p),b.event.bind(a,"touchstart",s),b.event.bind(a,"touchmove",q),b.event.bind(a,"touchend",C));c&&(window.PointerEvent?(b.event.bind(window,"pointerdown",
y),b.event.bind(window,"pointerup",p),b.event.bind(a,"pointerdown",s),b.event.bind(a,"pointermove",q),b.event.bind(a,"pointerup",C)):window.MSPointerEvent&&(b.event.bind(window,"MSPointerDown",y),b.event.bind(window,"MSPointerUp",p),b.event.bind(a,"MSPointerDown",s),b.event.bind(a,"MSPointerMove",q),b.event.bind(a,"MSPointerUp",C)))}var g=a("../instances"),f=a("../update-geometry");d.exports=function(a,d,f){var c=g.get(a);b(a,c,d,f)}},{"../instances":18,"../update-geometry":19}],17:[function(a,d,
h){var b=a("../lib/class"),g=a("../lib/helper"),f=a("./instances"),m=a("./update-geometry"),k=a("./handler/click-rail"),l=a("./handler/drag-scrollbar"),c=a("./handler/keyboard"),G=a("./handler/mouse-wheel"),n=a("./handler/native-scroll"),y=a("./handler/selection"),p=a("./handler/touch");d.exports=function(a,d){d="object"==typeof d?d:{};b.add(a,"ps-container");var h=f.add(a);h.settings=g.extend(h.settings,d);k(a);l(a);G(a);n(a);y(a);(g.env.supportsTouch||g.env.supportsIePointer)&&p(a,g.env.supportsTouch,
g.env.supportsIePointer);h.settings.useKeyboard&&c(a);m(a)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(a,d,h){function b(a){this.settings=c.clone(m);this.contentHeight=this.contentWidth=this.containerHeight=this.containerWidth=null;this.isRtl="rtl"===f.css(a,"direction");
var b=a.scrollLeft,d=null;this.negativeScrollAdjustment=(this.isNegativeScroll=(a.scrollLeft=-1,d=0>a.scrollLeft,a.scrollLeft=b,d))?a.scrollWidth-a.clientWidth:0;this.event=new k;this.ownerDocument=a.ownerDocument||document;this.scrollbarXRail=f.appendTo(f.e("div","ps-scrollbar-x-rail"),a);this.scrollbarX=f.appendTo(f.e("div","ps-scrollbar-x"),this.scrollbarXRail);this.scrollbarXLeft=this.scrollbarXWidth=this.scrollbarXActive=null;this.scrollbarXBottom=c.toInt(f.css(this.scrollbarXRail,"bottom"));
this.scrollbarXTop=(this.isScrollbarXUsingBottom=this.scrollbarXBottom===this.scrollbarXBottom)?null:c.toInt(f.css(this.scrollbarXRail,"top"));this.railBorderXWidth=c.toInt(f.css(this.scrollbarXRail,"borderLeftWidth"))+c.toInt(f.css(this.scrollbarXRail,"borderRightWidth"));f.css(this.scrollbarXRail,"display","block");this.railXMarginWidth=c.toInt(f.css(this.scrollbarXRail,"marginLeft"))+c.toInt(f.css(this.scrollbarXRail,"marginRight"));f.css(this.scrollbarXRail,"display","");this.railXRatio=this.railXWidth=
null;this.scrollbarYRail=f.appendTo(f.e("div","ps-scrollbar-y-rail"),a);this.scrollbarY=f.appendTo(f.e("div","ps-scrollbar-y"),this.scrollbarYRail);this.scrollbarYTop=this.scrollbarYHeight=this.scrollbarYActive=null;this.scrollbarYRight=c.toInt(f.css(this.scrollbarYRail,"right"));this.scrollbarYLeft=(this.isScrollbarYUsingRight=this.scrollbarYRight===this.scrollbarYRight)?null:c.toInt(f.css(this.scrollbarYRail,"left"));this.scrollbarYOuterWidth=this.isRtl?c.outerWidth(this.scrollbarY):null;this.railBorderYWidth=
c.toInt(f.css(this.scrollbarYRail,"borderTopWidth"))+c.toInt(f.css(this.scrollbarYRail,"borderBottomWidth"));f.css(this.scrollbarYRail,"display","block");this.railYMarginHeight=c.toInt(f.css(this.scrollbarYRail,"marginTop"))+c.toInt(f.css(this.scrollbarYRail,"marginBottom"));f.css(this.scrollbarYRail,"display","");this.railYRatio=this.railYHeight=null}function g(a){return"undefined"==typeof a.dataset?a.getAttribute("data-ps-id"):a.dataset.psId}var f=a("../lib/dom"),m=a("./default-setting"),k=a("../lib/event-manager"),
l=a("../lib/guid"),c=a("../lib/helper"),G={};h.add=function(a){var c=l();"undefined"==typeof a.dataset?a.setAttribute("data-ps-id",c):a.dataset.psId=c;return G[c]=new b(a),G[c]};h.remove=function(a){delete G[g(a)];"undefined"==typeof a.dataset?a.removeAttribute("data-ps-id"):delete a.dataset.psId};h.get=function(a){return G[g(a)]}},{"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(a,d,h){function b(a,b){return a.settings.minScrollbarLength&&
(b=Math.max(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=Math.min(b,a.settings.maxScrollbarLength)),b}var g=a("../lib/class"),f=a("../lib/dom"),m=a("../lib/helper"),k=a("./instances");d.exports=function(a){var c=k.get(a);c.containerWidth=a.clientWidth;c.containerHeight=a.clientHeight;c.contentWidth=a.scrollWidth;c.contentHeight=a.scrollHeight;a.contains(c.scrollbarXRail)||f.appendTo(c.scrollbarXRail,a);a.contains(c.scrollbarYRail)||f.appendTo(c.scrollbarYRail,a);!c.settings.suppressScrollX&&
c.containerWidth+c.settings.scrollXMarginOffset<c.contentWidth?(c.scrollbarXActive=!0,c.railXWidth=c.containerWidth-c.railXMarginWidth,c.railXRatio=c.containerWidth/c.railXWidth,c.scrollbarXWidth=b(c,m.toInt(c.railXWidth*c.containerWidth/c.contentWidth)),c.scrollbarXLeft=m.toInt((c.negativeScrollAdjustment+a.scrollLeft)*(c.railXWidth-c.scrollbarXWidth)/(c.contentWidth-c.containerWidth))):(c.scrollbarXActive=!1,c.scrollbarXWidth=0,c.scrollbarXLeft=0,a.scrollLeft=0);!c.settings.suppressScrollY&&c.containerHeight+
c.settings.scrollYMarginOffset<c.contentHeight?(c.scrollbarYActive=!0,c.railYHeight=c.containerHeight-c.railYMarginHeight,c.railYRatio=c.containerHeight/c.railYHeight,c.scrollbarYHeight=b(c,m.toInt(c.railYHeight*c.containerHeight/c.contentHeight)),c.scrollbarYTop=m.toInt(a.scrollTop*(c.railYHeight-c.scrollbarYHeight)/(c.contentHeight-c.containerHeight))):(c.scrollbarYActive=!1,c.scrollbarYHeight=0,c.scrollbarYTop=0,a.scrollTop=0);c.scrollbarXLeft>=c.railXWidth-c.scrollbarXWidth&&(c.scrollbarXLeft=
c.railXWidth-c.scrollbarXWidth);c.scrollbarYTop>=c.railYHeight-c.scrollbarYHeight&&(c.scrollbarYTop=c.railYHeight-c.scrollbarYHeight);var d={width:c.railXWidth};d.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+c.containerWidth-c.contentWidth:a.scrollLeft;c.isScrollbarXUsingBottom?d.bottom=c.scrollbarXBottom-a.scrollTop:d.top=c.scrollbarXTop+a.scrollTop;f.css(c.scrollbarXRail,d);d={top:a.scrollTop,height:c.railYHeight};c.isScrollbarYUsingRight?d.right=c.isRtl?c.contentWidth-(c.negativeScrollAdjustment+
a.scrollLeft)-c.scrollbarYRight-c.scrollbarYOuterWidth:c.scrollbarYRight-a.scrollLeft:d.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+2*c.containerWidth-c.contentWidth-c.scrollbarYLeft-c.scrollbarYOuterWidth:c.scrollbarYLeft+a.scrollLeft;f.css(c.scrollbarYRail,d);f.css(c.scrollbarX,{left:c.scrollbarXLeft,width:c.scrollbarXWidth-c.railBorderXWidth});f.css(c.scrollbarY,{top:c.scrollbarYTop,height:c.scrollbarYHeight-c.railBorderYWidth});g[c.scrollbarXActive?"add":"remove"](a,"ps-active-x");g[c.scrollbarYActive?
"add":"remove"](a,"ps-active-y")}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18}],20:[function(a,d,h){var b=a("../lib/dom"),g=a("../lib/helper"),f=a("./instances"),m=a("./update-geometry");d.exports=function(a){var d=f.get(a);d&&(d.negativeScrollAdjustment=d.isNegativeScroll?a.scrollWidth-a.clientWidth:0,b.css(d.scrollbarXRail,"display","block"),b.css(d.scrollbarYRail,"display","block"),d.railXMarginWidth=g.toInt(b.css(d.scrollbarXRail,"marginLeft"))+g.toInt(b.css(d.scrollbarXRail,
"marginRight")),d.railYMarginHeight=g.toInt(b.css(d.scrollbarYRail,"marginTop"))+g.toInt(b.css(d.scrollbarYRail,"marginBottom")),b.css(d.scrollbarXRail,"display","none"),b.css(d.scrollbarYRail,"display","none"),m(a),b.css(d.scrollbarXRail,"display",""),b.css(d.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19}]},{},[1]);$(document).ready(function(){function a(){$(".browse-widget li").removeClass("open");$(".browse-widget .sub-menu").slideUp(300).removeClass("open")}jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),
browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser);$(".bxslider.carousel").bxSlider({minSlides:5,maxSlides:5,slideWidth:196,slideMargin:0,controls:!0,nextText:"",prevText:"",useCSS:!1});$(".hero-fade").bxSlider({mode:"fade",captions:!1,pager:!1,controls:!1,auto:!0,pause:6E3});$(".pods").bxSlider({adaptiveHeight:!0,adaptiveHeightSpeed:300,mode:"fade",pager:!1,controls:!0,
auto:!0,pause:1E4,autoHover:!0});$(document).delegate('*[data-toggle="lightbox"]:not([data-gallery="navigateTo"])',"click",function(a){a.preventDefault();return $(this).ekkoLightbox({onShown:function(){if(window.console)return console.log("Checking our the events huh?")},onNavigate:function(a,b){if(window.console)return console.log("Navigating "+a+". Current item: "+b)}})});$(".tabs li").click(function(){$(".tabs li").removeClass("active");$(this).addClass("active");$(".pane").removeClass("active");
$("#"+$(this).data("id")).addClass("active")});$(".section-content").fitVids();$(".profile-info .read-more").popover().on("click",function(a){a.preventDefault()});$("[data-toggle='popover']").popover({trigger:"manual",html:!0,animation:!0}).on("mouseenter",function(){var a=this;$(this).popover("show");$(".popover").on("mouseleave",function(){$(a).popover("hide")})}).on("mouseleave",function(){var a=this;setTimeout(function(){$(".popover:hover").length||$(a).popover("hide")},500)});$(".single-feed-item .item-buttons a").tooltip();
$('[data-toggle="tooltip"]').tooltip();$('[data-tooltip-id="a-stats"]').tooltip({template:'<div class="tooltip a-stats-tooltip manage-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'});$(".dropdown").click(function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideToggle(200)});$(".track .row .play").click(function(){$(".track .row .overlay").removeClass("open");$(this).parent().addClass("open")});$(".track .row .plays").click(function(){$(".track .row .overlay").removeClass("open");
$(this).parents(".track").find(".overlay").addClass("open")});$(".trending-music .bx-prev").addClass("glyphicon glyphicon-chevron-left");$(".trending-music .bx-next").addClass("glyphicon glyphicon-chevron-right");var d=$(".album-upload-page form.well input.allow-downloads").parent(),h=$(".album-upload-page form.well input#bootstrap-released");d.css({"margin-bottom":0}).before('<h3 class="label-title">Downloads</h3>');h.before('<i class="date-picker-icon glyphicons calendar"></i>');$(".gt-ie8 .profile-header .background-image .inner").foggy({blurRadius:60,
opacity:.6,cssFilterSupport:!0});$("#radio-header").click(function(){ga("send","event",{eventCategory:"Internal Links",eventAction:"Nav - Radio",eventLabel:window.location.href})});$(".track.featured .artist-title a").click(function(){$info=$(this).parents(".track").find(".player_image");ga("send","event",{eventCategory:"Featured Music",eventAction:"Click",eventLabel:$info.data("artist")+" - "+$info.data("title")})});$(".track.featured .play").click(function(){$info=$(this).parents(".track").find(".player_image");
ga("send","event",{eventCategory:"Featured Music",eventAction:"Play",eventLabel:$info.data("artist")+" - "+$info.data("title")})});var b=$(".genre-menu .dropdown-menu");$(".genre-menu .dropdown-toggle").click(function(){b.toggleClass("open")});$(".close-trigger").click(function(){$(this).toggleClass("close-player close-search");$(".search-form-wrap, .listplayer-wrap").toggleClass("visible not-visible")});var g=$(".menu-trigger-wrap");$(".mega-menu-trigger");var f=$(".mega-menu");g.click(function(){$(this).toggleClass("active");
f.toggleClass("open")});$(".menu-trigger-wrap.perm-active").click(function(){g.removeClass("active")});$('#header [data-toggle="tooltip"]').tooltip();var m=$(".user-menu"),d=$(".logged-in");d.mouseenter(function(){m.addClass("open")});d.mouseleave(function(){m.removeClass("open")});$(".browse-widget .menu > li").click(function(){$(this).hasClass("open")?a():(a(),$(this).addClass("open"),$(this).find(".sub-menu").slideDown(300).addClass("open"))});$(document).on("click",".triple-dots-wrap",function(){$(".player-icons").fadeIn("fast")});
$(document).on("click",".close-icons",function(){$(".player-icons").fadeOut("fast")});-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$("form.site-search").submit(function(){if(""===$.trim($(".search").val()))return alert("You need to enter a keyword to search"),!1})});$(".dropdown-toggle").dropdown();
$(document).ready(function(){function a(a){g=$(this);var d=$(this),f=$(this).next("div.search-box");d.data("last_pressed_interval",setInterval(function(){var a=d.get(0),a=$(a),g=a.val().split(","),g=g[g.length-1],g=$.trim(g);""==a.val()||3>g.length||!(300<=(new Date).getTime()-a.data("last_pressed"))||a.data("ajax_fetched")||(b(g,"search_box",f),a.data("ajax_fetched",!0))},300))}function d(a){g=$(this);(a=$(this).data("last_pressed_interval"))&&clearInterval(a)}function h(a){g=$(this);if(38==a.keyCode){a.preventDefault();
var b=g.next("div.search-box").find("a.search-suggest");b&&0>=b.length||(f-=1,0>f&&(f=b.length-1),g.val(g.next("div.search-box").find("a.search-suggest:eq("+f+")").text()),g.next("div.search-box").find("div").removeClass("highlight"),g.next("div.search-box").find("div:eq("+f+")").addClass("highlight"),a.preventDefault())}else 40==a.keyCode?(a.preventDefault(),b=g.next("div.search-box").find("a.search-suggest"),b&&0>=b.length||(f+=1,b&&f>b.length-1&&(f=0),g.val(g.next("div.search-box").find("a.search-suggest:eq("+
f+")").text()),g.next("div.search-box").find("div").removeClass("highlight"),g.next("div.search-box").find("div:eq("+f+")").addClass("highlight"))):$(this).data("last_pressed",(new Date).getTime()).data("ajax_fetched",!1)}function b(a,b,d){$.ajax({type:"GET",url:"/search/autosuggest",data:{term:a},dataType:"json",success:function(a){if("search_box"==b){a=a.results;var g="",g=[],f=a.length,h=0;for(0===f&&g.push("<div>Hit Enter to Search Audiomack</div>");h<f;)a[h]&&(1===h%2?g.push(['<div class="alt"><a href="#" class="search-suggest">',
a[h],"</a></div>"].join("")):g.push(['<div><a href="#" class="search-suggest">',a[h],"</a></div>"].join(""))),h++;g=g.join("");d.html(g).show()}}})}var g=null,f=-1;$(".search-autosuggest").each(function(b,g){$(g).bind("focus",a).bind("blur",d).bind("keydown",h);$("body").click(function(a){$("div.search-box").hide()})});$("body").delegate("a.search-suggest","click",function(a){g.val($(this).text());g.parents("form:first").submit()})});
$(function(){$(".single-feed-item .featuring").succinct({size:520});$("#scrollable").perfectScrollbar()});$("a.download").unbind("click");$("a.download").on("click",function(a){var d=$(this).data("url");"yes"==$(this).data("followDownload")?(a.preventDefault(),window.location.href=d+"?follow"):(ga("send","event",{eventCategory:"Downloads",eventAction:$(this).attr("href").split("?")[0],eventLabel:window.location.href}),setTimeout(function(){recordDl(d)},250))});
function numberFormat(a,d){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",").toFixed(d)}function intToHumanReadable(a){1E3>a||(a=1E4>a?numberFormat(a/1E3,2)+"K":1E5>a?numberFormat(a/1E3,1)+"K":1E6>a?numberFormat(a/1E3,0)+"K":1E7>a?numberFormat(a/1E6,2)+"M":1E8>a?numberFormat(a/1E6,1)+"M":numberFormat(a/1E6,0)+"M");return a}
$(".track-interaction a.interaction.plays").off().on("click",function(a){var d=$(this);$(".stat-count",this).text(function(a,b){var g=d.data("playsRaw")+1;d.data("playsRaw",g);return intToHumanReadable(g)})});$(".track-interaction a.interaction.fav").off().on("click",function(a){var d=$(this);$(".stat-count",this).text(function(a,b){var g=d.hasClass("active")?d.data("favorites")-1:d.data("favorites")+1;d.data("favorites",g);return intToHumanReadable(g)})});
$(".track-interaction a.interaction.repost").off().on("click",function(a){var d=$(this);$(".stat-count",this).text(function(a,b){var g=d.hasClass("active")?d.data("reposts")-1:d.data("reposts")+1;d.data("reposts",g);return intToHumanReadable(g)})});$(document).on("click",".launch_login_modal",function(a){a.preventDefault();a.stopPropagation();if(!audiomack.logged_in){a=!1;var d=0;if(0==$("#login_response .modal-body .container").length)var h='<div class="modal am-modal-clean two-col-modal" id="login_response" tabindex="-1" role="modal" data-backdrop="true" aria-labelledby="Create Account?"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">Sign Up or Login</h4></div><div class="modal-body group"></div></div></div></div>';
a=void 0!=$(this).data("ref_url")?$(this).data("ref_url"):"";action=$(this).data("action");d=$(this).data("music_id");$.isNumeric(d)||"favorite"!=action&&"repost"!=action||(d=d.replace(/[^0-9]/gi,""));$.ajax({url:"/account/create/modal",data:{immediate_action:action,music_id:d,ref_url:a},cache:!1,success:function(a){0==$("#login_response .modal-body .container").length&&($(h).appendTo("body"),$("#login_response .modal-body").html(a));$("#login_response").modal("show")},type:"GET"})}});$(document).on("click",".add-to-playlist",function(a){audiomack.logged_in&&(a.preventDefault(),a="/manage/playlists/add-to-playlist/"+$(this).data("id"),$.ajax({url:a,cache:!1,success:function(a){0==$("#playlistModal").length&&$('<div class="modal am-modal-clean playlist-modal" id="playlistModal" tabindex="-1" role="dialog" aria-labelledby="playlistModalLabel" aria-hidden="true"></div>').appendTo("body");$("#playlistModal").html(a);$("#playlistModal").modal("show")},type:"GET"}))});
$(document).on("click","#listPlayerPlaylist",function(a){a.preventDefault();if(audiomack.logged_in){var d="/manage/playlists/add-to-playlist/"+$(this).data("id").replace(/[^0-9]/gi,"");$.ajax({url:d,cache:!1,success:function(a){0==$("#playlistModal").length&&$('<div class="modal am-modal-clean playlist-modal" id="playlistModal" tabindex="-1" role="dialog" aria-labelledby="playlistModalLabel" aria-hidden="true"></div>').appendTo("body");$("#playlistModal").html(a);$("#playlistModal").modal("show")},
type:"GET"})}a.stopPropagation()});$(document).on("click","a.repost",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this),h=$(this).data("id");"string"==typeof h&&h.replace(/[^0-9]/gi,"");var b=$(this).attr("href");$.ajax({url:b,cache:!1,success:function(a){d.toggleClass("active");"Repost OK"===a&&trackEvent("reup",h,audiomack.music_token)}})}a.stopPropagation()});
$(document).on("click","span.repost",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this),h=$(this).data("id");"string"==typeof h&&h.replace(/[^0-9]/gi,"");var b=$(this).attr("href");$.ajax({url:b,cache:!1,success:function(a){d.toggleClass("active");"Repost OK"===a&&trackEvent("reup",h,audiomack.music_token)}})}a.stopPropagation()});
$(document).on("click",".track-interactions a.fav-button",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this),h=$(".player-favorite"),b=d.data("id").toString();$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){a.is_favorite?(trackEvent("fav",b.replace("music-",""),audiomack.music_token),d.attr("title","Un-Favorite"),d.addClass("unfavorite"),d.addClass("active"),h.data("id")==b&&$(h).addClass("active"),$(".player_image[data-id="+b+"]").data("favorite",!0)):(d.attr("title",
"Favorite"),d.removeClass("unfavorite"),d.removeClass("active"),$(".player-favorite[data-id="+b+"]").removeClass("active"),h.data("id")==b&&$(h).removeClass("active"),$(".player_image[data-id="+b+"]").data("favorite",!1))}})}});
$(document).on("click","a.fav",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this),h=$(".player-favorite"),b=d.data("id");$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){a.is_favorite?(b.match(/^playlist\-/)?trackPlaylistEvent("fav",b.replace("playlist-",""),audiomack.music_token):trackEvent("fav",b.replace("music-",""),audiomack.music_token),d.attr("title","Un-Favorite"),d.addClass("active"),h.data("id")==b&&$(h).addClass("active"),$(".player_image[data-id="+b+"]").data("favorite",
!0)):(d.attr("title","Favorite"),d.removeClass("active"),$(".player-favorite[data-id="+b+"]").removeClass("active"),h.data("id")==b&&$(h).removeClass("active"),$(".player_image[data-id="+b+"]").data("favorite",!1))}})}});
$(document).on("click","a.favorite",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this),h=d.data("id");$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){a.is_favorite?(d.attr("title","Un-Favorite"),d.addClass("active"),$(".fav[data-id="+h+"]").addClass("active"),$(".player_image[data-id="+h+"]").data("favorite",!0),trackEvent("fav",h.replace("music-",""),audiomack.music_token)):(d.attr("title","Favorite"),d.removeClass("active"),$(".fav[data-id="+h+"]").removeClass("active"),
$(".player_image[data-id="+h+"]").data("favorite",!1))}})}});$(document).on("click",".dots-overlay .mobile-fav",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this);$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){a.is_favorite?(d.html("Un-Favorite this "+a.type),d.attr("title","Un-Favorite"),d.addClass("active"),trackEvent("fav",d.data("music_id").replace("music-",""),audiomack.music_token)):(d.html("Favorite this "+a.type),d.attr("title","Favorite"),d.removeClass("active"))}})}});
function intToHumanReadable(a){1E3>a||(a=1E4>a?numberFormat(a/1E3,2)+"K":1E5>a?numberFormat(a/1E3,1)+"K":1E6>a?numberFormat(a/1E3,0)+"K":1E7>a?numberFormat(a/1E6,2)+"M":1E8>a?numberFormat(a/1E6,1)+"M":numberFormat(a/1E6,0)+"M");return a}
$(document).on("click",".stats-overlay .mobile-fav",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this);$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){var b;a.is_favorite?(d.addClass("active"),trackEvent("fav",d.data("music_id"),audiomack.music_token),b=d.data("favs")+1):(d.removeClass("active"),b=d.data("favs")-1);$(".stat-count",d).text(function(a,f){d.data("favs",b);return"("+intToHumanReadable(b)+")"})}})}});
$(document).on("click",".stats-overlay .mobile-reup",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this);$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){var b;d.toggleClass("active");"Repost OK"===a?(trackEvent("reup",d.data("music_id"),audiomack.music_token),b=d.data("reups")+1):b=d.data("reups")-1;$(".stat-count",d).text(function(a,f){d.data("reups",b);return"("+intToHumanReadable(b)+")"})}})}});
$(document).on("click",".song-actions .favorite-song  a.mobile-fav",function(a){a.preventDefault();if(audiomack.logged_in){var d=$(this);$.ajax({url:d.attr("href"),data:{ajax:!0},success:function(a){a.is_favorite?(d.attr("title","Un-Favorite"),d.find("i").removeClass("star-empty"),d.find("i").addClass("star")):(d.attr("title","Favorite"),d.find("i").removeClass("star"),d.find("i").addClass("star-empty"))}})}});$(function(){$(".follow-artist").on("click",function(a){a.preventDefault();var d=$(this);audiomack.logged_in&&$.ajax({url:$(this).attr("href"),data:{ajax:!0},success:function(a){d.hasClass("follow")?(d.removeClass("follow").addClass("unfollow"),d.find("span").html("Unfollow This User")):(d.removeClass("unfollow").addClass("follow"),d.find("span").html("Follow This User"))},error:function(a,b,d){console.log("Could not favorite: "+b)}})});$(document).on("click",".feed-follow-artist",function(a){a.preventDefault();
var d=$(this),h=$(this).attr("href").replace(/\/artist\//,"").replace(/\/follow$/,"");audiomack.logged_in&&$.ajax({url:$(this).attr("href"),data:{ajax:!0},success:function(a){d.hasClass("follow")?(d.removeClass("follow").addClass("unfollow"),d.text("Following"),$(".follow-artist-"+h).each(function(a){$(this).attr("data-content",$(this).data("content").replace(/Follow/g,"Following").replace(/ follow /g," unfollow "))})):(d.removeClass("unfollow").addClass("follow"),d.text("Follow"),$(".follow-artist-"+
h).each(function(a){$(this).attr("data-content",$(this).data("content").replace(/Following/g,"Follow").replace(/ unfollow /g," follow "))}))},error:function(a,d,f){console.log("Could not favorite: "+d)}})})});/*



 SoundManager 2: JavaScript Sound for the Web
 ----------------------------------------------
 http://schillmania.com/projects/soundmanager2/

 Copyright (c) 2007, Scott Schiller. All rights reserved.
 Code provided under the BSD License:
 http://schillmania.com/projects/soundmanager2/license.txt

 V2.97a.20140901
*/
(function(a,d){function h(b,f){function h(a){return c.preferFlash&&ba&&!c.ignoreFlash&&c.flash[a]!==d&&c.flash[a]}function k(a){return function(b){var d=this._s;d&&d._a?b=a.call(this,b):(d&&d.id?c._wD(d.id+": Ignoring "+b.type):c._wD(y+"Ignoring "+b.type),b=null);return b}}this.setupOptions={url:b||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1E3,
wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,
usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus",
"audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=f||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20140901";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};
this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var l,c=this,G=null,n=null,y="HTML5::",
p,r=navigator.userAgent,s=a.location.href.toString(),q=document,C,u,K,v,w=[],N=!0,L,Q=!1,U=!1,B=!1,D=!1,M=!1,x,la=0,H,A,O,S,X,R,da,T,Ca,ka,oa,V,W,pa,qa,Y,ua,ea,ma,fa,t,E,ra,Z=["log","info","warn","error"],sa,Oa,ab,va=null,Pa=null,z,Qa,ta,bb,Da,Ea,ha,F,wa=!1,Ra=!1,cb,db,eb,Fa=0,xa=null,Ga,na=[],ya,P=null,fb,Ha,za,ia,Ia,Sa,gb,J,hb=Array.prototype.slice,aa=!1,Ta,ba,Ua,ib,ca,jb,Va,Ja,kb=0,Ka=r.match(/(ipad|iphone|ipod)/i),lb=r.match(/android/i),ja=r.match(/msie/i),rb=r.match(/webkit/i),La=r.match(/safari/i)&&
!r.match(/chrome/i),Wa=r.match(/opera/i),Xa=r.match(/(mobile|pre\/|xoom)/i)||Ka||lb,Ya=!s.match(/usehtml5audio/i)&&!s.match(/sm2\-ignorebadua/i)&&La&&!r.match(/silk/i)&&r.match(/OS X 10_6_([3-7])/i),Aa=a.console!==d&&console.log!==d,Za=q.hasFocus!==d?q.hasFocus():null,Ma=La&&(q.hasFocus===d||!q.hasFocus()),mb=!Ma,nb=/(mp3|mp4|mpa|m4a|m4b)/i,Ba=q.location?q.location.protocol.match(/http/i):null,ob=Ba?"":"http://",pb=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,
qb="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),sb=RegExp("\\.("+qb.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ba;var $a;try{$a=Audio!==d&&(Wa&&opera!==d&&10>opera.version()?new Audio(null):new Audio).canPlayType!==d}catch(tb){$a=!1}this.hasHTML5=$a;this.setup=function(a){var b=!c.url;a!==d&&B&&P&&c.ok()&&(a.flashVersion!==d||a.url!==d||a.html5Test!==d)&&ha(z("setupLate"));O(a);a&&(b&&ea&&a.url!==d&&c.beginDelayedInit(),
!ea&&a.url!==d&&"complete"===q.readyState&&setTimeout(Y,1));return c};this.supported=this.ok=function(){return P?B&&!D:c.useHTML5Audio&&c.hasHTML5};this.getMovie=function(b){return p(b)||q[b]||a[b]};this.createSound=function(a,b){function g(){f=Da(f);c.sounds[f.id]=new l(f);c.soundIDs.push(f.id);return c.sounds[f.id]}var e,f;e=null;e="soundManager.createSound(): "+z(B?"notOK":"notReady");if(!B||!c.ok())return ha(e),!1;b!==d&&(a={id:a,url:b});f=A(a);f.url=Ga(f.url);void 0===f.id&&(f.id=c.setupOptions.idPrefix+
kb++);f.id.toString().charAt(0).match(/^[0-9]$/)&&c._wD("soundManager.createSound(): "+z("badID",f.id),2);c._wD("soundManager.createSound(): "+f.id+(f.url?" ("+f.url+")":""),1);if(F(f.id,!0))return c._wD("soundManager.createSound(): "+f.id+" exists",1),c.sounds[f.id];if(Ha(f))e=g(),c._wD(f.id+": Using HTML5"),e._setup_html5(f);else{if(c.html5Only)return c._wD(f.id+": No HTML5 support for this sound, and no Flash. Exiting."),g();if(c.html5.usingFlash&&f.url&&f.url.match(/data\:/i))return c._wD(f.id+
": data: URIs not supported via Flash. Exiting."),g();8<v&&(null===f.isMovieStar&&(f.isMovieStar=!!(f.serverURL||f.type&&f.type.match(pb)||f.url&&f.url.match(sb))),f.isMovieStar&&(c._wD("soundManager.createSound(): using MovieStar handling"),1<f.loops&&x("noNSLoop")));f=Ea(f,"soundManager.createSound(): ");e=g();8===v?n._createSound(f.id,f.loops||1,f.usePolicyFile):(n._createSound(f.id,f.url,f.usePeakData,f.useWaveformData,f.useEQData,f.isMovieStar,f.isMovieStar?f.bufferTime:!1,f.loops||1,f.serverURL,
f.duration||null,f.autoPlay,!0,f.autoLoad,f.usePolicyFile),f.serverURL||(e.connected=!0,f.onconnect&&f.onconnect.apply(e)));!f.serverURL&&(f.autoLoad||f.autoPlay)&&e.load(f)}!f.serverURL&&f.autoPlay&&e.play();return e};this.destroySound=function(a,b){if(!F(a))return!1;var d=c.sounds[a],e;d._iO={};d.stop();d.unload();for(e=0;e<c.soundIDs.length;e++)if(c.soundIDs[e]===a){c.soundIDs.splice(e,1);break}b||d.destruct(!0);delete c.sounds[a];return!0};this.load=function(a,b){return F(a)?c.sounds[a].load(b):
!1};this.unload=function(a){return F(a)?c.sounds[a].unload():!1};this.onposition=this.onPosition=function(a,b,d,e){return F(a)?c.sounds[a].onposition(b,d,e):!1};this.clearOnPosition=function(a,b,d){return F(a)?c.sounds[a].clearOnPosition(b,d):!1};this.start=this.play=function(a,b){var d=null,e=b&&!(b instanceof Object);if(!B||!c.ok())return ha("soundManager.play(): "+z(B?"notOK":"notReady")),!1;if(F(a,e))e&&(b={url:b});else{if(!e)return!1;e&&(b={url:b});b&&b.url&&(c._wD('soundManager.play(): Attempting to create "'+
a+'"',1),b.id=a,d=c.createSound(b).play())}null===d&&(d=c.sounds[a].play(b));return d};this.setPosition=function(a,b){return F(a)?c.sounds[a].setPosition(b):!1};this.stop=function(a){if(!F(a))return!1;c._wD("soundManager.stop("+a+")",1);return c.sounds[a].stop()};this.stopAll=function(){var a;c._wD("soundManager.stopAll()",1);for(a in c.sounds)c.sounds.hasOwnProperty(a)&&c.sounds[a].stop()};this.pause=function(a){return F(a)?c.sounds[a].pause():!1};this.pauseAll=function(){var a;for(a=c.soundIDs.length-
1;0<=a;a--)c.sounds[c.soundIDs[a]].pause()};this.resume=function(a){return F(a)?c.sounds[a].resume():!1};this.resumeAll=function(){var a;for(a=c.soundIDs.length-1;0<=a;a--)c.sounds[c.soundIDs[a]].resume()};this.togglePause=function(a){return F(a)?c.sounds[a].togglePause():!1};this.setPan=function(a,b){return F(a)?c.sounds[a].setPan(b):!1};this.setVolume=function(a,b){return F(a)?c.sounds[a].setVolume(b):!1};this.mute=function(a){var b=0;a instanceof String&&(a=null);if(a){if(!F(a))return!1;c._wD('soundManager.mute(): Muting "'+
a+'"');return c.sounds[a].mute()}c._wD("soundManager.mute(): Muting all sounds");for(b=c.soundIDs.length-1;0<=b;b--)c.sounds[c.soundIDs[b]].mute();return c.muted=!0};this.muteAll=function(){c.mute()};this.unmute=function(a){a instanceof String&&(a=null);if(a){if(!F(a))return!1;c._wD('soundManager.unmute(): Unmuting "'+a+'"');return c.sounds[a].unmute()}c._wD("soundManager.unmute(): Unmuting all sounds");for(a=c.soundIDs.length-1;0<=a;a--)c.sounds[c.soundIDs[a]].unmute();c.muted=!1;return!0};this.unmuteAll=
function(){c.unmute()};this.toggleMute=function(a){return F(a)?c.sounds[a].toggleMute():!1};this.getMemoryUse=function(){var a=0;n&&8!==v&&(a=parseInt(n._getMemoryUse(),10));return a};this.disable=function(b){var f;b===d&&(b=!1);if(D)return!1;D=!0;x("shutdown",1);for(f=c.soundIDs.length-1;0<=f;f--)sa(c.sounds[c.soundIDs[f]]);H(b);J.remove(a,"load",da);return!0};this.canPlayMIME=function(a){var b;c.hasHTML5&&(b=za({type:a}));!b&&P&&(b=a&&c.ok()?!!(8<v&&a.match(pb)||a.match(c.mimePattern)):null);return b};
this.canPlayURL=function(a){var b;c.hasHTML5&&(b=za({url:a}));!b&&P&&(b=a&&c.ok()?!!a.match(c.filePattern):null);return b};this.canPlayLink=function(a){return a.type!==d&&a.type&&c.canPlayMIME(a.type)?!0:c.canPlayURL(a.href)};this.getSoundById=function(a,b){if(!a)return null;var d=c.sounds[a];d||b||c._wD('soundManager.getSoundById(): Sound "'+a+'" not found.',2);return d};this.onready=function(b,d){if("function"===typeof b)B&&c._wD(z("queue","onready")),d||(d=a),X("onready",b,d),R();else throw z("needFunction",
"onready");return!0};this.ontimeout=function(b,d){if("function"===typeof b)B&&c._wD(z("queue","ontimeout")),d||(d=a),X("ontimeout",b,d),R({type:"ontimeout"});else throw z("needFunction","ontimeout");return!0};this._writeDebug=function(a,b){var f,e;if(!c.debugMode)return!1;if(Aa&&c.useConsole){if(b&&"object"===typeof b)console.log(a,b);else if(Z[b]!==d)console[Z[b]](a);else console.log(a);if(c.consoleOnly)return!0}f=p("soundmanager-debug");if(!f)return!1;e=q.createElement("div");0===++la%2&&(e.className=
"sm2-alt");b=b===d?0:parseInt(b,10);e.appendChild(q.createTextNode(a));b&&(2<=b&&(e.style.fontWeight="bold"),3===b&&(e.style.color="#ff3333"));f.insertBefore(e,f.firstChild);return!0};-1!==s.indexOf("sm2-debug=alert")&&(this._writeDebug=function(b){a.alert(b)});this._wD=this._writeDebug;this._debug=function(){var a,b;x("currentObj",1);a=0;for(b=c.soundIDs.length;a<b;a++)c.sounds[c.soundIDs[a]]._debug()};this.reboot=function(b,d){c.soundIDs.length&&c._wD("Destroying "+c.soundIDs.length+" SMSound object"+
(1!==c.soundIDs.length?"s":"")+"...");var f,e,g;for(f=c.soundIDs.length-1;0<=f;f--)c.sounds[c.soundIDs[f]].destruct();if(n)try{ja&&(Pa=n.innerHTML),va=n.parentNode.removeChild(n)}catch(h){x("badRemove",2)}Pa=va=P=n=null;c.enabled=ea=B=wa=Ra=Q=U=D=aa=c.swfLoaded=!1;c.soundIDs=[];c.sounds={};kb=0;if(b)w=[];else for(f in w)if(w.hasOwnProperty(f))for(e=0,g=w[f].length;e<g;e++)w[f][e].fired=!1;d||c._wD("soundManager: Rebooting...");c.html5={usingFlash:null};c.flash={};c.html5Only=!1;c.ignoreFlash=!1;a.setTimeout(function(){qa();
d||c.beginDelayedInit()},20);return c};this.reset=function(){x("reset");return c.reboot(!0,!0)};this.getMoviePercent=function(){return n&&"PercentLoaded"in n?n.PercentLoaded():null};this.beginDelayedInit=function(){M=!0;Y();setTimeout(function(){if(Ra)return!1;fa();pa();return Ra=!0},20);T()};this.destruct=function(){c._wD("soundManager.destruct()");c.disable(!0)};l=function(a){var b,f,e=this,g,h,k,l,E,p,m=!1,q=[],Z=0,r,ra,s=null,sa;f=b=null;this.sID=this.id=a.id;this.url=a.url;this._iO=this.instanceOptions=
this.options=A(a);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;sa=this.url?!1:!0;this.id3={};this._debug=function(){c._wD(e.id+": Merged options:",e.options)};this.load=function(a){var b=null,f;a!==d?e._iO=A(a,e.options):(a=e.options,e._iO=a,s&&s!==e.url&&(x("manURL"),e._iO.url=e.url,e.url=null));e._iO.url||(e._iO.url=e.url);e._iO.url=Ga(e._iO.url);f=e.instanceOptions=e._iO;c._wD(e.id+": load ("+f.url+")");if(!f.url&&!e.url)return c._wD(e.id+": load(): url is unassigned. Exiting.",
2),e;e.isHTML5||8!==v||e.url||f.autoPlay||c._wD(e.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1);if(f.url===e.url&&0!==e.readyState&&2!==e.readyState)return x("onURL",1),3===e.readyState&&f.onload&&Ja(e,function(){f.onload.apply(e,[!!e.duration])}),e;e.loaded=!1;e.readyState=1;e.playState=0;e.id3={};if(Ha(f))b=e._setup_html5(f),b._called_load?c._wD(e.id+": Ignoring request to load again"):(e._html5_canplay=!1,e.url!==f.url&&(c._wD(x("manURL")+": "+f.url),e._a.src=f.url,
e.setPosition(0)),e._a.autobuffer="auto",e._a.preload="auto",e._a._called_load=!0);else{if(c.html5Only)return c._wD(e.id+": No flash support. Exiting."),e;if(e._iO.url&&e._iO.url.match(/data\:/i))return c._wD(e.id+": data: URIs not supported via Flash. Exiting."),e;try{e.isHTML5=!1,e._iO=Ea(Da(f)),e._iO.autoPlay&&(e._iO.position||e._iO.from)&&(c._wD(e.id+": Disabling autoPlay because of non-zero offset case"),e._iO.autoPlay=!1),f=e._iO,8===v?n._load(e.id,f.url,f.stream,f.autoPlay,f.usePolicyFile):
n._load(e.id,f.url,!!f.stream,!!f.autoPlay,f.loops||1,!!f.autoLoad,f.usePolicyFile)}catch(g){x("smError",2),L("onload",!1),t({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}e.url=f.url;return e};this.unload=function(){0!==e.readyState&&(c._wD(e.id+": unload()"),e.isHTML5?(l(),e._a&&(e._a.pause(),s=Ia(e._a))):8===v?n._unload(e.id,"about:blank"):n._unload(e.id),g());return e};this.destruct=function(a){c._wD(e.id+": Destruct");e.isHTML5?(l(),e._a&&(e._a.pause(),Ia(e._a),aa||k(),e._a._s=null,e._a=null)):
(e._iO.onfailure=null,n._destroySound(e.id));a||c.destroySound(e.id,!0)};this.start=this.play=function(a,b){var f,g,I,h,Na,t=!0,t=null;f=e.id+": play(): ";b=b===d?!0:b;a||(a={});e.url&&(e._iO.url=e.url);e._iO=A(e._iO,e.options);e._iO=A(a,e._iO);e._iO.url=Ga(e._iO.url);e.instanceOptions=e._iO;if(!e.isHTML5&&e._iO.serverURL&&!e.connected)return e.getAutoPlay()||(c._wD(f+" Netstream not connected yet - setting autoPlay"),e.setAutoPlay(!0)),e;Ha(e._iO)&&(e._setup_html5(e._iO),E());1===e.playState&&!e.paused&&
((g=e._iO.multiShot)?c._wD(f+"Already playing (multi-shot)",1):(c._wD(f+"Already playing (one-shot)",1),e.isHTML5&&e.setPosition(e._iO.position),t=e));if(null!==t)return t;a.url&&a.url!==e.url&&(e.readyState||e.isHTML5||8!==v||!sa?e.load(e._iO):sa=!1);e.loaded?c._wD(f.substr(0,f.lastIndexOf(":"))):0===e.readyState?(c._wD(f+"Attempting to load"),e.isHTML5||c.html5Only?e.isHTML5?e.load(e._iO):(c._wD(f+"Unsupported type. Exiting."),t=e):(e._iO.autoPlay=!0,e.load(e._iO)),e.instanceOptions=e._iO):2===
e.readyState?(c._wD(f+"Could not load - exiting",2),t=e):c._wD(f+"Loading - attempting to play...");if(null!==t)return t;!e.isHTML5&&9===v&&0<e.position&&e.position===e.duration&&(c._wD(f+"Sound at end, resetting to position:0"),a.position=0);if(e.paused&&0<=e.position&&(!e._iO.serverURL||0<e.position))c._wD(f+"Resuming from paused state",1),e.resume();else{e._iO=A(a,e._iO);if((!e.isHTML5&&null!==e._iO.position&&0<e._iO.position||null!==e._iO.from&&0<e._iO.from||null!==e._iO.to)&&0===e.instanceCount&&
0===e.playState&&!e._iO.serverURL){g=function(){e._iO=A(a,e._iO);e.play(e._iO)};e.isHTML5&&!e._html5_canplay?(c._wD(f+"Beginning load for non-zero offset case"),e.load({_oncanplay:g}),t=!1):e.isHTML5||e.loaded||e.readyState&&2===e.readyState||(c._wD(f+"Preloading for non-zero offset case"),e.load({onload:g}),t=!1);if(null!==t)return t;e._iO=ra()}(!e.instanceCount||e._iO.multiShotEvents||e.isHTML5&&e._iO.multiShot&&!aa||!e.isHTML5&&8<v&&!e.getAutoPlay())&&e.instanceCount++;e._iO.onposition&&0===e.playState&&
p(e);e.playState=1;e.paused=!1;e.position=e._iO.position===d||isNaN(e._iO.position)?0:e._iO.position;e.isHTML5||(e._iO=Ea(Da(e._iO)));e._iO.onplay&&b&&(e._iO.onplay.apply(e),m=!0);e.setVolume(e._iO.volume,!0);e.setPan(e._iO.pan,!0);e.isHTML5?2>e.instanceCount?(E(),f=e._setup_html5(),e.setPosition(e._iO.position),f.play()):(c._wD(e.id+": Cloning Audio() for instance #"+e.instanceCount+"..."),I=new Audio(e._iO.url),h=function(){J.remove(I,"ended",h);e._onfinish(e);Ia(I);I=null},Na=function(){J.remove(I,
"canplay",Na);try{I.currentTime=e._iO.position/1E3}catch(a){ha(e.id+": multiShot play() failed to apply position of "+e._iO.position/1E3)}I.play()},J.add(I,"ended",h),void 0!==e._iO.volume&&(I.volume=Math.max(0,Math.min(1,e._iO.volume/100))),e.muted&&(I.muted=!0),e._iO.position?J.add(I,"canplay",Na):I.play()):(t=n._start(e.id,e._iO.loops||1,9===v?e.position:e.position/1E3,e._iO.multiShot||!1),9===v&&!t&&(c._wD(f+"No sound hardware, or 32-sound ceiling hit",2),e._iO.onplayerror&&e._iO.onplayerror.apply(e)))}return e};
this.stop=function(a){var b=e._iO;1===e.playState&&(c._wD(e.id+": stop()"),e._onbufferchange(0),e._resetOnPosition(0),e.paused=!1,e.isHTML5||(e.playState=0),r(),b.to&&e.clearOnPosition(b.to),e.isHTML5?e._a&&(a=e.position,e.setPosition(0),e.position=a,e._a.pause(),e.playState=0,e._onTimer(),l()):(n._stop(e.id,a),b.serverURL&&e.unload()),e.instanceCount=0,e._iO={},b.onstop&&b.onstop.apply(e));return e};this.setAutoPlay=function(a){c._wD(e.id+": Autoplay turned "+(a?"on":"off"));e._iO.autoPlay=a;e.isHTML5||
(n._setAutoPlay(e.id,a),a&&!e.instanceCount&&1===e.readyState&&(e.instanceCount++,c._wD(e.id+": Incremented instance count to "+e.instanceCount)))};this.getAutoPlay=function(){return e._iO.autoPlay};this.setPosition=function(a){a===d&&(a=0);var b=e.isHTML5?Math.max(a,0):Math.min(e.duration||e._iO.duration,Math.max(a,0));e.position=b;a=e.position/1E3;e._resetOnPosition(e.position);e._iO.position=b;if(e.isHTML5){if(e._a){if(e._html5_canplay){if(e._a.currentTime!==a){c._wD(e.id+": setPosition("+a+")");
try{e._a.currentTime=a,(0===e.playState||e.paused)&&e._a.pause()}catch(f){c._wD(e.id+": setPosition("+a+") failed: "+f.message,2)}}}else if(a)return c._wD(e.id+": setPosition("+a+"): Cannot seek yet, sound not ready",2),e;e.paused&&e._onTimer(!0)}}else a=9===v?e.position:a,e.readyState&&2!==e.readyState&&n._setPosition(e.id,a,e.paused||!e.playState,e._iO.multiShot);return e};this.pause=function(a){if(e.paused||0===e.playState&&1!==e.readyState)return e;c._wD(e.id+": pause()");e.paused=!0;e.isHTML5?
(e._setup_html5().pause(),l()):(a||a===d)&&n._pause(e.id,e._iO.multiShot);e._iO.onpause&&e._iO.onpause.apply(e);return e};this.resume=function(){var a=e._iO;if(!e.paused)return e;c._wD(e.id+": resume()");e.paused=!1;e.playState=1;e.isHTML5?(e._setup_html5().play(),E()):(a.isMovieStar&&!a.serverURL&&e.setPosition(e.position),n._pause(e.id,a.multiShot));!m&&a.onplay?(a.onplay.apply(e),m=!0):a.onresume&&a.onresume.apply(e);return e};this.togglePause=function(){c._wD(e.id+": togglePause()");if(0===e.playState)return e.play({position:9!==
v||e.isHTML5?e.position/1E3:e.position}),e;e.paused?e.resume():e.pause();return e};this.setPan=function(a,b){a===d&&(a=0);b===d&&(b=!1);e.isHTML5||n._setPan(e.id,a);e._iO.pan=a;b||(e.pan=a,e.options.pan=a);return e};this.setVolume=function(a,b){a===d&&(a=100);b===d&&(b=!1);e.isHTML5?e._a&&(c.muted&&!e.muted&&(e.muted=!0,e._a.muted=!0),e._a.volume=Math.max(0,Math.min(1,a/100))):n._setVolume(e.id,c.muted&&!e.muted||e.muted?0:a);e._iO.volume=a;b||(e.volume=a,e.options.volume=a);return e};this.mute=function(){e.muted=
!0;e.isHTML5?e._a&&(e._a.muted=!0):n._setVolume(e.id,0);return e};this.unmute=function(){e.muted=!1;var a=e._iO.volume!==d;e.isHTML5?e._a&&(e._a.muted=!1):n._setVolume(e.id,a?e._iO.volume:e.options.volume);return e};this.toggleMute=function(){return e.muted?e.unmute():e.mute()};this.onposition=this.onPosition=function(a,b,c){q.push({position:parseInt(a,10),method:b,scope:c!==d?c:e,fired:!1});return e};this.clearOnPosition=function(a,b){var c;a=parseInt(a,10);if(isNaN(a))return!1;for(c=0;c<q.length;c++)a!==
q[c].position||b&&b!==q[c].method||(q[c].fired&&Z--,q.splice(c,1))};this._processOnPosition=function(){var a,b;a=q.length;if(!a||!e.playState||Z>=a)return!1;for(a-=1;0<=a;a--)b=q[a],!b.fired&&e.position>=b.position&&(b.fired=!0,Z++,b.method.apply(b.scope,[b.position]));return!0};this._resetOnPosition=function(a){var b,c;b=q.length;if(!b)return!1;for(b-=1;0<=b;b--)c=q[b],c.fired&&a<=c.position&&(c.fired=!1,Z--);return!0};ra=function(){var a=e._iO,b=a.from,d=a.to,f,g;g=function(){c._wD(e.id+': "To" time of '+
d+" reached.");e.clearOnPosition(d,g);e.stop()};f=function(){c._wD(e.id+': Playing "from" '+b);if(null!==d&&!isNaN(d))e.onPosition(d,g)};null!==b&&!isNaN(b)&&(a.position=b,a.multiShot=!1,f());return a};p=function(){var a,b=e._iO.onposition;if(b)for(a in b)if(b.hasOwnProperty(a))e.onPosition(parseInt(a,10),b[a])};r=function(){var a,b=e._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&e.clearOnPosition(parseInt(a,10))};E=function(){e.isHTML5&&cb(e)};l=function(){e.isHTML5&&db(e)};g=function(a){a||
(q=[],Z=0);m=!1;e._hasTimer=null;e._a=null;e._html5_canplay=!1;e.bytesLoaded=null;e.bytesTotal=null;e.duration=e._iO&&e._iO.duration?e._iO.duration:null;e.durationEstimate=null;e.buffered=[];e.eqData=[];e.eqData.left=[];e.eqData.right=[];e.failures=0;e.isBuffering=!1;e.instanceOptions={};e.instanceCount=0;e.loaded=!1;e.metadata={};e.readyState=0;e.muted=!1;e.paused=!1;e.peakData={left:0,right:0};e.waveformData={left:[],right:[]};e.playState=0;e.position=null;e.id3={}};g();this._onTimer=function(a){var c,
d=!1,g={};if(e._hasTimer||a)return e._a&&(a||(0<e.playState||1===e.readyState)&&!e.paused)&&(c=e._get_html5_duration(),c!==b&&(b=c,e.duration=c,d=!0),e.durationEstimate=e.duration,c=1E3*e._a.currentTime||0,c!==f&&(f=c,d=!0),(d||a)&&e._whileplaying(c,g,g,g,g)),d};this._get_html5_duration=function(){var a=e._iO;return(a=e._a&&e._a.duration?1E3*e._a.duration:a&&a.duration?a.duration:null)&&!isNaN(a)&&Infinity!==a?a:null};this._apply_loop=function(a,b){!a.loop&&1<b&&c._wD("Note: Native HTML5 looping is infinite.",
1);a.loop=1<b?"loop":""};this._setup_html5=function(a){a=A(e._iO,a);var b=aa?G:e._a,c=decodeURI(a.url),d;aa?c===decodeURI(Ta)&&(d=!0):c===decodeURI(s)&&(d=!0);if(b){if(b._s)if(aa)b._s&&b._s.playState&&!d&&b._s.stop();else if(!aa&&c===decodeURI(s))return e._apply_loop(b,a.loops),b;d||(s&&g(!1),b.src=a.url,Ta=s=e.url=a.url,b._called_load=!1)}else a.autoLoad||a.autoPlay?(e._a=new Audio(a.url),e._a.load()):e._a=Wa&&10>opera.version()?new Audio(null):new Audio,b=e._a,b._called_load=!1,aa&&(G=b);e.isHTML5=
!0;e._a=b;b._s=e;h();e._apply_loop(b,a.loops);a.autoLoad||a.autoPlay?e.load():(b.autobuffer=!1,b.preload="auto");return b};h=function(){if(e._a._added_events)return!1;var a;e._a._added_events=!0;for(a in ca)ca.hasOwnProperty(a)&&e._a&&e._a.addEventListener(a,ca[a],!1);return!0};k=function(){var a;c._wD(e.id+": Removing event listeners");e._a._added_events=!1;for(a in ca)ca.hasOwnProperty(a)&&e._a&&e._a.removeEventListener(a,ca[a],!1)};this._onload=function(a){var b=!!a||!e.isHTML5&&8===v&&e.duration;
a=e.id+": ";c._wD(a+(b?"onload()":"Failed to load / invalid sound?"+(e.duration?" -":" Zero-length duration reported.")+" ("+e.url+")"),b?1:2);b||e.isHTML5||(!0===c.sandbox.noRemote&&c._wD(a+z("noNet"),1),!0!==c.sandbox.noLocal||c._wD(a+z("noLocal"),1));e.loaded=b;e.readyState=b?3:2;e._onbufferchange(0);e._iO.onload&&Ja(e,function(){e._iO.onload.apply(e,[b])});return!0};this._onbufferchange=function(a){if(0===e.playState||a&&e.isBuffering||!a&&!e.isBuffering)return!1;e.isBuffering=1===a;e._iO.onbufferchange&&
(c._wD(e.id+": Buffer state change: "+a),e._iO.onbufferchange.apply(e,[a]));return!0};this._onsuspend=function(){e._iO.onsuspend&&(c._wD(e.id+": Playback suspended"),e._iO.onsuspend.apply(e));return!0};this._onfailure=function(a,b,d){e.failures++;c._wD(e.id+": Failure ("+e.failures+"): "+a);if(e._iO.onfailure&&1===e.failures)e._iO.onfailure(a,b,d);else c._wD(e.id+": Ignoring failure")};this._onwarning=function(a,b,c){if(e._iO.onwarning)e._iO.onwarning(a,b,c)};this._onfinish=function(){var a=e._iO.onfinish;
e._onbufferchange(0);e._resetOnPosition(0);e.instanceCount&&(e.instanceCount--,e.instanceCount||(r(),e.playState=0,e.paused=!1,e.instanceCount=0,e.instanceOptions={},e._iO={},l(),e.isHTML5&&(e.position=0)),(!e.instanceCount||e._iO.multiShotEvents)&&a)&&(c._wD(e.id+": onfinish()"),Ja(e,function(){a.apply(e)}))};this._whileloading=function(a,b,c,d){var f=e._iO;e.bytesLoaded=a;e.bytesTotal=b;e.duration=Math.floor(c);e.bufferLength=d;e.durationEstimate=e.isHTML5||f.isMovieStar?e.duration:f.duration?e.duration>
f.duration?e.duration:f.duration:parseInt(e.bytesTotal/e.bytesLoaded*e.duration,10);e.isHTML5||(e.buffered=[{start:0,end:e.duration}]);(3!==e.readyState||e.isHTML5)&&f.whileloading&&f.whileloading.apply(e)};this._whileplaying=function(a,b,c,f,g){var I=e._iO;if(isNaN(a)||null===a)return!1;e.position=Math.max(0,a);e._processOnPosition();!e.isHTML5&&8<v&&(I.usePeakData&&b!==d&&b&&(e.peakData={left:b.leftPeak,right:b.rightPeak}),I.useWaveformData&&c!==d&&c&&(e.waveformData={left:c.split(","),right:f.split(",")}),
I.useEQData&&g!==d&&g&&g.leftEQ&&(a=g.leftEQ.split(","),e.eqData=a,e.eqData.left=a,g.rightEQ!==d&&g.rightEQ&&(e.eqData.right=g.rightEQ.split(","))));1===e.playState&&(!e.isHTML5&&8===v&&!e.position&&e.isBuffering&&e._onbufferchange(0),I.whileplaying&&I.whileplaying.apply(e));return!0};this._oncaptiondata=function(a){c._wD(e.id+": Caption data received.");e.captiondata=a;e._iO.oncaptiondata&&e._iO.oncaptiondata.apply(e,[a])};this._onmetadata=function(a,b){c._wD(e.id+": Metadata received.");var d={},
f,g;f=0;for(g=a.length;f<g;f++)d[a[f]]=b[f];e.metadata=d;console.log("updated metadata",e.metadata);e._iO.onmetadata&&e._iO.onmetadata.call(e,e.metadata)};this._onid3=function(a,b){c._wD(e.id+": ID3 data received.");var d=[],f,g;f=0;for(g=a.length;f<g;f++)d[a[f]]=b[f];e.id3=A(e.id3,d);e._iO.onid3&&e._iO.onid3.apply(e)};this._onconnect=function(a){a=1===a;c._wD(e.id+": "+(a?"Connected.":"Failed to connect? - "+e.url),a?1:2);if(e.connected=a)e.failures=0,F(e.id)&&(e.getAutoPlay()?e.play(d,e.getAutoPlay()):
e._iO.autoLoad&&e.load()),e._iO.onconnect&&e._iO.onconnect.apply(e,[a])};this._ondataerror=function(a){0<e.playState&&(c._wD(e.id+": Data error: "+a),e._iO.ondataerror&&e._iO.ondataerror.apply(e))};this._debug()};ma=function(){return q.body||q.getElementsByTagName("div")[0]};p=function(a){return q.getElementById(a)};A=function(a,b){var f=a||{},e,g;e=b===d?c.defaultOptions:b;for(g in e)e.hasOwnProperty(g)&&f[g]===d&&(f[g]="object"!==typeof e[g]||null===e[g]?e[g]:A(f[g],e[g]));return f};Ja=function(b,
c){b.isHTML5||8!==v?c():a.setTimeout(c,0)};S={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};O=function(a,b){var f,e=!0,g=b!==d,h=c.setupOptions;if(a===d){e=[];for(f in h)h.hasOwnProperty(f)&&e.push(f);for(f in S)S.hasOwnProperty(f)&&("object"===typeof c[f]?e.push(f+": {...}"):c[f]instanceof Function?e.push(f+": function() {...}"):e.push(f));c._wD(z("setup",e.join(", ")));return!1}for(f in a)if(a.hasOwnProperty(f))if("object"!==typeof a[f]||null===a[f]||a[f]instanceof Array||
a[f]instanceof RegExp)g&&S[b]!==d?c[b][f]=a[f]:h[f]!==d?(c.setupOptions[f]=a[f],c[f]=a[f]):S[f]===d?(ha(z(c[f]===d?"setupUndef":"setupError",f),2),e=!1):c[f]instanceof Function?c[f].apply(c,a[f]instanceof Array?a[f]:[a[f]]):c[f]=a[f];else if(S[f]===d)ha(z(c[f]===d?"setupUndef":"setupError",f),2),e=!1;else return O(a[f],f);return e};J=function(){function b(a){a=hb.call(a);var c=a.length;d?(a[1]="on"+a[1],3<c&&a.pop()):3===c&&a.push(!1);return a}function c(a,b){var f=a.shift(),g=[e[b]];if(d)f[g](a[0],
a[1]);else f[g].apply(f,a)}var d=a.attachEvent,e={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}();ca={abort:k(function(){c._wD(this._s.id+": abort")}),canplay:k(function(){var a=this._s,b;if(a._html5_canplay)return!0;a._html5_canplay=!0;c._wD(a.id+": canplay");a._onbufferchange(0);b=a._iO.position===d||isNaN(a._iO.position)?null:a._iO.position/1E3;if(this.currentTime!==
b){c._wD(a.id+": canplay: Setting position to "+b);try{this.currentTime=b}catch(f){c._wD(a.id+": canplay: Setting position of "+b+" failed: "+f.message,2)}}a._iO._oncanplay&&a._iO._oncanplay()}),canplaythrough:k(function(){var a=this._s;a.loaded||(a._onbufferchange(0),a._whileloading(a.bytesLoaded,a.bytesTotal,a._get_html5_duration()),a._onload(!0))}),durationchange:k(function(){var a=this._s,b;b=a._get_html5_duration();!isNaN(b)&&b!==a.duration&&(c._wD(this._s.id+": durationchange ("+b+")"+(a.duration?
", previously "+a.duration:"")),a.durationEstimate=a.duration=b)}),ended:k(function(){var a=this._s;c._wD(a.id+": ended");a._onfinish()}),error:k(function(){c._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(!1)}),loadeddata:k(function(){var a=this._s;c._wD(a.id+": loadeddata");a._loaded||La||(a.duration=a._get_html5_duration())}),loadedmetadata:k(function(){c._wD(this._s.id+": loadedmetadata")}),loadstart:k(function(){c._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),
play:k(function(){this._s._onbufferchange(0)}),playing:k(function(){c._wD(this._s.id+": playing "+String.fromCharCode(9835));this._s._onbufferchange(0)}),progress:k(function(a){var b=this._s,d,e,f,g="progress"===a.type,h=a.target.buffered,t=a.loaded||0,k=a.total||1;b.buffered=[];if(h&&h.length){d=0;for(e=h.length;d<e;d++)b.buffered.push({start:1E3*h.start(d),end:1E3*h.end(d)});d=1E3*(h.end(0)-h.start(0));t=Math.min(1,d/(1E3*a.target.duration));if(g&&1<h.length){f=[];e=h.length;for(d=0;d<e;d++)f.push(1E3*
a.target.buffered.start(d)+"-"+1E3*a.target.buffered.end(d));c._wD(this._s.id+": progress, timeRanges: "+f.join(", "))}g&&!isNaN(t)&&c._wD(this._s.id+": progress, "+Math.floor(100*t)+"% loaded")}isNaN(t)||(b._whileloading(t,k,b._get_html5_duration()),t&&k&&t===k&&ca.canplaythrough.call(this,a))}),ratechange:k(function(){c._wD(this._s.id+": ratechange")}),suspend:k(function(a){var b=this._s;c._wD(this._s.id+": suspend");ca.progress.call(this,a);b._onsuspend()}),stalled:k(function(){c._wD(this._s.id+
": stalled")}),timeupdate:k(function(){this._s._onTimer()}),waiting:k(function(){var a=this._s;c._wD(this._s.id+": waiting");a._onbufferchange(1)})};Ha=function(a){return a&&(a.type||a.url||a.serverURL)?a.serverURL||a.type&&h(a.type)?!1:a.type?za({type:a.type}):za({url:a.url})||c.html5Only||a.url.match(/data\:/i):!1};Ia=function(a){var b;a&&(b=La?"about:blank":c.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",
a.src=b,void 0!==a._called_unload&&(a._called_load=!1));aa&&(Ta=null);return b};za=function(a){if(!c.useHTML5Audio||!c.hasHTML5)return!1;var b=a.url||null;a=a.type||null;var f=c.audioFormats,e;if(a&&c.html5[a]!==d)return c.html5[a]&&!h(a);if(!ia){ia=[];for(e in f)f.hasOwnProperty(e)&&(ia.push(e),f[e].related&&(ia=ia.concat(f[e].related)));ia=RegExp("\\.("+ia.join("|")+")(\\?.*)?$","i")}(e=b?b.toLowerCase().match(ia):null)&&e.length?e=e[1]:a&&(b=a.indexOf(";"),e=(-1!==b?a.substr(0,b):a).substr(6));
e&&c.html5[e]!==d?b=c.html5[e]&&!h(e):(a="audio/"+e,b=c.html5.canPlayType({type:a}),b=(c.html5[e]=b)&&c.html5[a]&&!h(a));return b};gb=function(){function a(d){var e,f=e=!1;if(!b||"function"!==typeof b.canPlayType)return e;if(d instanceof Array){t=0;for(e=d.length;t<e;t++)if(c.html5[d[t]]||b.canPlayType(d[t]).match(c.html5Test))f=!0,c.html5[d[t]]=!0,c.flash[d[t]]=!!d[t].match(nb);e=f}else d=b&&"function"===typeof b.canPlayType?b.canPlayType(d):!1,e=!(!d||!d.match(c.html5Test));return e}if(!c.useHTML5Audio||
!c.hasHTML5)return P=c.html5.usingFlash=!0,!1;var b=Audio!==d?Wa&&10>opera.version()?new Audio(null):new Audio:null,f,e,g={},h,t;h=c.audioFormats;for(f in h)if(h.hasOwnProperty(f)&&(e="audio/"+f,g[f]=a(h[f].type),g[e]=g[f],f.match(nb)?(c.flash[f]=!0,c.flash[e]=!0):(c.flash[f]=!1,c.flash[e]=!1),h[f]&&h[f].related))for(t=h[f].related.length-1;0<=t;t--)g["audio/"+h[f].related[t]]=g[f],c.html5[h[f].related[t]]=g[f],c.flash[h[f].related[t]]=g[f];g.canPlayType=b?a:null;c.html5=A(c.html5,g);c.html5.usingFlash=
fb();P=c.html5.usingFlash;return!0};W={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+
q.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",
badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",
badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',
as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",
setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",
globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};z=function(){var a,b,c,d;a=hb.call(arguments);b=a.shift();if((d=W&&W[b]?W[b]:"")&&a&&a.length)for(b=0,c=a.length;b<c;b++)d=d.replace("%s",a[b]);return d};Da=function(a){8===v&&1<a.loops&&a.stream&&(x("as2loop"),a.stream=!1);return a};Ea=function(a,b){a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(c._wD((b||"")+z("policy")),a.usePolicyFile=!0);return a};ha=function(a){Aa&&console.warn!==d?console.warn(a):
c._wD(a)};C=function(){return!1};sa=function(a){for(var b in a)a.hasOwnProperty(b)&&"function"===typeof a[b]&&(a[b]=C)};Oa=function(a){a===d&&(a=!1);(D||a)&&c.disable(a)};ab=function(a){if(a)if(a.match(/\.swf(\?.*)?$/i)){if(a.substr(a.toLowerCase().lastIndexOf(".swf?")+4))return a}else a.lastIndexOf("/")!==a.length-1&&(a+="/");a=(a&&-1!==a.lastIndexOf("/")?a.substr(0,a.lastIndexOf("/")+1):"./")+c.movieURL;c.noSWFCache&&(a+="?ts="+(new Date).getTime());return a};oa=function(){v=parseInt(c.flashVersion,
10);8!==v&&9!==v&&(c._wD(z("badFV",v,8)),c.flashVersion=v=8);var a=c.debugMode||c.debugFlash?"_debug.swf":".swf";c.useHTML5Audio&&!c.html5Only&&c.audioFormats.mp4.required&&9>v&&(c._wD(z("needfl9")),c.flashVersion=v=9);c.version=c.versionNumber+(c.html5Only?" (HTML5-only mode)":9===v?" (AS3/Flash 9)":" (AS2/Flash 8)");8<v?(c.defaultOptions=A(c.defaultOptions,c.flash9Options),c.features.buffering=!0,c.defaultOptions=A(c.defaultOptions,c.movieStarOptions),c.filePatterns.flash9=RegExp("\\.(mp3|"+qb.join("|")+
")(\\?.*)?$","i"),c.features.movieStar=!0):c.features.movieStar=!1;c.filePattern=c.filePatterns[8!==v?"flash9":"flash8"];c.movieURL=(8===v?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a);c.features.peakData=c.features.waveformData=c.features.eqData=8<v};E=function(a,b){if(!n)return!1;n._setPolling(a,b)};ra=function(){c.debugURLParam.test(s)&&(c.debugMode=!0);if(p(c.debugID))return!1;var a,b,d,e;if(!(!c.debugMode||p(c.debugID)||Aa&&c.useConsole&&c.consoleOnly)){a=q.createElement("div");
a.id=c.debugID+"-toggle";b={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};a.appendChild(q.createTextNode("-"));a.onclick=bb;a.title="Toggle SM2 debug console";r.match(/msie 6/i)&&(a.style.position="absolute",a.style.cursor="hand");for(e in b)b.hasOwnProperty(e)&&(a.style[e]=b[e]);b=q.createElement("div");b.id=c.debugID;b.style.display=c.debugMode?
"block":"none";if(c.debugMode&&!p(a.id)){try{d=ma(),d.appendChild(a)}catch(f){throw Error(z("domError")+" \n"+f.toString());}d.appendChild(b)}}};F=this.getSoundById;x=function(a,b){return a?c._wD(z(a),b):""};bb=function(){var a=p(c.debugID),b=p(c.debugID+"-toggle");if(!a)return!1;N?(b.innerHTML="+",a.style.display="none"):(b.innerHTML="-",a.style.display="block");N=!N};L=function(b,c,f){if(a.sm2Debugger!==d)try{sm2Debugger.handleEvent(b,c,f)}catch(e){return!1}return!0};ta=function(){var a=[];c.debugMode&&
a.push("sm2_debug");c.debugFlash&&a.push("flash_debug");c.useHighPerformance&&a.push("high_performance");return a.join(" ")};Qa=function(){var a=z("fbHandler"),b=c.getMoviePercent(),d={type:"FLASHBLOCK"};if(c.html5Only)return!1;c.ok()?(c.didFlashBlock&&c._wD(a+": Unblocked"),c.oMC&&(c.oMC.className=[ta(),"movieContainer","swf_loaded"+(c.didFlashBlock?" swf_unblocked":"")].join(" "))):(P&&(c.oMC.className=ta()+" movieContainer "+(null===b?"swf_timedout":"swf_error"),c._wD(a+": "+z("fbTimeout")+(b?
" ("+z("fbLoaded")+")":""))),c.didFlashBlock=!0,R({type:"ontimeout",ignoreInit:!0,error:d}),t(d))};X=function(a,b,c){w[a]===d&&(w[a]=[]);w[a].push({method:b,scope:c||null,fired:!1})};R=function(a){a||(a={type:c.ok()?"onready":"ontimeout"});if(!B&&a&&!a.ignoreInit||"ontimeout"===a.type&&(c.ok()||D&&!a.ignoreInit))return!1;var b={success:a&&a.ignoreInit?c.ok():!D},d=a&&a.type?w[a.type]||[]:[],e=[],f,b=[b],g=P&&!c.ok();a.error&&(b[0].error=a.error);a=0;for(f=d.length;a<f;a++)!0!==d[a].fired&&e.push(d[a]);
if(e.length)for(a=0,f=e.length;a<f;a++)e[a].scope?e[a].method.apply(e[a].scope,b):e[a].method.apply(this,b),g||(e[a].fired=!0);return!0};da=function(){a.setTimeout(function(){c.useFlashBlock&&Qa();R();"function"===typeof c.onload&&(x("onload",1),c.onload.apply(a),x("onloadOK",1));c.waitForWindowLoad&&J.add(a,"load",da)},1)};Ua=function(){if(ba!==d)return ba;var b=!1,c=navigator,f=c.plugins,e,g=a.ActiveXObject;if(f&&f.length)(c=c.mimeTypes)&&c["application/x-shockwave-flash"]&&c["application/x-shockwave-flash"].enabledPlugin&&
c["application/x-shockwave-flash"].enabledPlugin.description&&(b=!0);else if(g!==d&&!r.match(/MSAppHost/i)){try{e=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){e=null}b=!!e}return ba=b};fb=function(){var a,b,d=c.audioFormats;Ka&&r.match(/os (1|2|3_0|3_1)\s/i)?(c.hasHTML5=!1,c.html5Only=!0,c.oMC&&(c.oMC.style.display="none")):c.useHTML5Audio&&(c.html5&&c.html5.canPlayType||(c._wD("SoundManager: No HTML5 Audio() support detected."),c.hasHTML5=!1),Ya&&c._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+
(ba?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1));if(c.useHTML5Audio&&c.hasHTML5)for(b in ya=!0,d)d.hasOwnProperty(b)&&d[b].required&&(c.html5.canPlayType(d[b].type)?c.preferFlash&&(c.flash[b]||c.flash[d[b].type])&&(a=!0):(ya=!1,a=!0));c.ignoreFlash&&(a=!1,ya=!0);c.html5Only=c.hasHTML5&&c.useHTML5Audio&&!a;return!c.html5Only};Ga=function(a){var b,d,e=0;if(a instanceof Array){b=0;for(d=a.length;b<d;b++)if(a[b]instanceof Object){if(c.canPlayMIME(a[b].type)){e=
b;break}}else if(c.canPlayURL(a[b])){e=b;break}a[e].url&&(a[e]=a[e].url);a=a[e]}return a};cb=function(a){a._hasTimer||(a._hasTimer=!0,!Xa&&c.html5PollingInterval&&(null===xa&&0===Fa&&(xa=setInterval(eb,c.html5PollingInterval)),Fa++))};db=function(a){a._hasTimer&&(a._hasTimer=!1,!Xa&&c.html5PollingInterval&&Fa--)};eb=function(){var a;if(null!==xa&&!Fa)return clearInterval(xa),xa=null,!1;for(a=c.soundIDs.length-1;0<=a;a--)c.sounds[c.soundIDs[a]].isHTML5&&c.sounds[c.soundIDs[a]]._hasTimer&&c.sounds[c.soundIDs[a]]._onTimer()};
t=function(b){b=b!==d?b:{};"function"===typeof c.onerror&&c.onerror.apply(a,[{type:b.type!==d?b.type:null}]);b.fatal!==d&&b.fatal&&c.disable()};ib=function(){if(!Ya||!Ua())return!1;var a=c.audioFormats,b,d;for(d in a)if(a.hasOwnProperty(d)&&("mp3"===d||"mp4"===d)&&(c._wD("soundManager: Using flash fallback for "+d+" format"),c.html5[d]=!1,a[d]&&a[d].related))for(b=a[d].related.length-1;0<=b;b--)c.html5[a[d].related[b]]=!1};this._setSandboxType=function(a){var b=c.sandbox;b.type=a;b.description=b.types[b.types[a]!==
d?a:"unknown"];"localWithFile"===b.type?(b.noRemote=!0,b.noLocal=!1,x("secNote",2)):"localWithNetwork"===b.type?(b.noRemote=!1,b.noLocal=!0):"localTrusted"===b.type&&(b.noRemote=!1,b.noLocal=!1)};this._externalInterfaceOK=function(a){if(c.swfLoaded)return!1;var b;L("swf",!0);L("flashtojs",!0);c.swfLoaded=!0;Ma=!1;Ya&&ib();if(!a||a.replace(/\+dev/i,"")!==c.versionNumber.replace(/\+dev/i,""))return b='soundManager: Fatal: JavaScript file build "'+c.versionNumber+'" does not match Flash SWF build "'+
a+'" at '+c.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(b);},0),!1;setTimeout(K,ja?100:1)};fa=function(a,b){function f(){var a=[],b,d=[];b="SoundManager "+c.version+(!c.html5Only&&c.useHTML5Audio?c.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");c.html5Only?c.html5PollingInterval&&a.push("html5PollingInterval ("+c.html5PollingInterval+"ms)"):(c.preferFlash&&a.push("preferFlash"),c.useHighPerformance&&a.push("useHighPerformance"),c.flashPollingInterval&&a.push("flashPollingInterval ("+
c.flashPollingInterval+"ms)"),c.html5PollingInterval&&a.push("html5PollingInterval ("+c.html5PollingInterval+"ms)"),c.wmode&&a.push("wmode ("+c.wmode+")"),c.debugFlash&&a.push("debugFlash"),c.useFlashBlock&&a.push("flashBlock"));a.length&&(d=d.concat([a.join(" + ")]));c._wD(b+(d.length?" + "+d.join(", "):""),1);jb()}function e(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(Q&&U)return!1;if(c.html5Only)return oa(),f(),c.oMC=p(c.movieID),K(),U=Q=!0,!1;var g=b||c.url,h=c.altURL||g,t=ma(),k=ta(),
l=null,l=q.getElementsByTagName("html")[0],E,n,m,l=l&&l.dir&&l.dir.match(/rtl/i);a=a===d?c.id:a;oa();c.url=ab(Ba?g:h);b=c.url;c.wmode=!c.wmode&&c.useHighPerformance?"transparent":c.wmode;null!==c.wmode&&(r.match(/msie 8/i)||!ja&&!c.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(na.push(W.spcWmode),c.wmode=null);t={name:a,id:a,src:b,quality:"high",allowScriptAccess:c.allowScriptAccess,bgcolor:c.bgColor,pluginspage:ob+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",
type:"application/x-shockwave-flash",wmode:c.wmode,hasPriority:"true"};c.debugFlash&&(t.FlashVars="debug=1");c.wmode||delete t.wmode;if(ja)g=q.createElement("div"),n=['<object id="'+a+'" data="'+b+'" type="'+t.type+'" title="'+t.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ob+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',e("movie",b),e("AllowScriptAccess",c.allowScriptAccess),e("quality",t.quality),c.wmode?e("wmode",c.wmode):"",e("bgcolor",
c.bgColor),e("hasPriority","true"),c.debugFlash?e("FlashVars",t.FlashVars):"","</object>"].join("");else for(E in g=q.createElement("embed"),t)t.hasOwnProperty(E)&&g.setAttribute(E,t[E]);ra();k=ta();if(t=ma())if(c.oMC=p(c.movieID)||q.createElement("div"),c.oMC.id)m=c.oMC.className,c.oMC.className=(m?m+" ":"movieContainer")+(k?" "+k:""),c.oMC.appendChild(g),ja&&(E=c.oMC.appendChild(q.createElement("div")),E.className="sm2-object-box",E.innerHTML=n),U=!0;else{c.oMC.id=c.movieID;c.oMC.className="movieContainer "+
k;E=k=null;c.useFlashBlock||(c.useHighPerformance?k={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(k={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},l&&(k.left=Math.abs(parseInt(k.left,10))+"px")));rb&&(c.oMC.style.zIndex=1E4);if(!c.debugFlash)for(m in k)k.hasOwnProperty(m)&&(c.oMC.style[m]=k[m]);try{ja||c.oMC.appendChild(g),t.appendChild(c.oMC),ja&&(E=c.oMC.appendChild(q.createElement("div")),E.className="sm2-object-box",E.innerHTML=
n),U=!0}catch(Z){throw Error(z("domError")+" \n"+Z.toString());}}Q=!0;f();return!0};pa=function(){if(c.html5Only)return fa(),!1;if(n)return!1;if(!c.url)return x("noURL"),!1;(n=c.getMovie(c.id))||(va?(ja?c.oMC.innerHTML=Pa:c.oMC.appendChild(va),va=null,Q=!0):fa(c.id,c.url),n=c.getMovie(c.id));"function"===typeof c.oninitmovie&&setTimeout(c.oninitmovie,1);Va();return!0};T=function(){setTimeout(Ca,1E3)};ka=function(){a.setTimeout(function(){ha("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");
c.setup({preferFlash:!1}).reboot();c.didFlashBlock=!0;c.beginDelayedInit()},1)};Ca=function(){var b,d=!1;if(!c.url||wa)return!1;wa=!0;J.remove(a,"load",T);if(ba&&Ma&&!Za)return x("waitFocus"),!1;B||(b=c.getMoviePercent(),0<b&&100>b&&(d=!0));setTimeout(function(){b=c.getMoviePercent();if(d)return wa=!1,c._wD(z("waitSWF")),a.setTimeout(T,1),!1;B||(c._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===b?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+
(c.debugFlash?" "+z("checkSWF"):""),2),!Ba&&b&&(x("localFail",2),c.debugFlash||x("tryDebug",2)),0===b&&c._wD(z("swf404",c.url),1),L("flashtojs",!1,": Timed out"+Ba?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"));!B&&mb&&(null===b?c.useFlashBlock||0===c.flashLoadTimeout?(c.useFlashBlock&&Qa(),x("waitForever")):!c.useFlashBlock&&ya?ka():(x("waitForever"),R({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===c.flashLoadTimeout?x("waitForever"):!c.useFlashBlock&&
ya?ka():Oa(!0))},c.flashLoadTimeout)};V=function(){if(Za||!Ma)return J.remove(a,"focus",V),!0;Za=mb=!0;x("gotFocus");wa=!1;T();J.remove(a,"focus",V);return!0};Va=function(){na.length&&(c._wD("SoundManager 2: "+na.join(" "),1),na=[])};jb=function(){Va();var a,b=[];if(c.useHTML5Audio&&c.hasHTML5){for(a in c.audioFormats)c.audioFormats.hasOwnProperty(a)&&b.push(a+" = "+c.html5[a]+(!c.html5[a]&&P&&c.flash[a]?" (using flash)":c.preferFlash&&c.flash[a]&&P?" (preferring flash)":c.html5[a]?"":" ("+(c.audioFormats[a].required?
"required, ":"")+"and no flash support)"));c._wD("SoundManager 2 HTML5 support: "+b.join(", "),1)}};H=function(b){if(B)return!1;if(c.html5Only)return x("sm2Loaded",1),B=!0,da(),L("onload",!0),!0;var d=!0,f;c.useFlashBlock&&c.flashLoadTimeout&&!c.getMoviePercent()||(B=!0);f={type:!ba&&P?"NO_FLASH":"INIT_TIMEOUT"};c._wD("SoundManager 2 "+(D?"failed to load":"loaded")+" ("+(D?"Flash security/load error":"OK")+") "+String.fromCharCode(D?10006:10003),D?2:1);D||b?(c.useFlashBlock&&c.oMC&&(c.oMC.className=
ta()+" "+(null===c.getMoviePercent()?"swf_timedout":"swf_error")),R({type:"ontimeout",error:f,ignoreInit:!0}),L("onload",!1),t(f),d=!1):L("onload",!0);D||(c.waitForWindowLoad&&!M?(x("waitOnload"),J.add(a,"load",da)):(c.waitForWindowLoad&&M&&x("docLoaded"),da()));return d};u=function(){var a,b=c.setupOptions;for(a in b)b.hasOwnProperty(a)&&(c[a]===d?c[a]=b[a]:c[a]!==b[a]&&(c.setupOptions[a]=c[a]))};K=function(){if(B)return x("didInit"),!1;if(c.html5Only)return B||(J.remove(a,"load",c.beginDelayedInit),
c.enabled=!0,H()),!0;pa();try{n._externalInterfaceTest(!1),E(!0,c.flashPollingInterval||(c.useHighPerformance?10:50)),c.debugMode||n._disableDebug(),c.enabled=!0,L("jstoflash",!0),c.html5Only||J.add(a,"unload",C)}catch(b){return c._wD("js/flash exception: "+b.toString()),L("jstoflash",!1),t({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),Oa(!0),H(),!1}H();J.remove(a,"load",c.beginDelayedInit);return!0};Y=function(){if(ea)return!1;ea=!0;u();ra();var a=null,a=null,b=s.toLowerCase();-1!==b.indexOf("sm2-usehtml5audio=")&&
(a="1"===b.charAt(b.indexOf("sm2-usehtml5audio=")+18),Aa&&console.log((a?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),c.setup({useHTML5Audio:a}));-1!==b.indexOf("sm2-preferflash=")&&(a="1"===b.charAt(b.indexOf("sm2-preferflash=")+16),Aa&&console.log((a?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),c.setup({preferFlash:a}));!ba&&c.hasHTML5&&(c._wD("SoundManager 2: No Flash detected"+(c.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),c.setup({useHTML5Audio:!0,
preferFlash:!1}));gb();!ba&&P&&(na.push(W.needFlash),c.setup({flashLoadTimeout:1}));q.removeEventListener&&q.removeEventListener("DOMContentLoaded",Y,!1);pa();return!0};Sa=function(){"complete"===q.readyState&&(Y(),q.detachEvent("onreadystatechange",Sa));return!0};ua=function(){M=!0;Y();J.remove(a,"load",ua)};qa=function(){Xa&&((!c.setupOptions.useHTML5Audio||c.setupOptions.preferFlash)&&na.push(W.mobileUA),c.setupOptions.useHTML5Audio=!0,c.setupOptions.preferFlash=!1,Ka||lb&&!r.match(/android\s2\.3/i))&&
(na.push(W.globalHTML5),Ka&&(c.ignoreFlash=!0),aa=!0)};qa();Ua();J.add(a,"focus",V);J.add(a,"load",T);J.add(a,"load",ua);q.addEventListener?q.addEventListener("DOMContentLoaded",Y,!1):q.attachEvent?q.attachEvent("onreadystatechange",Sa):(L("onload",!1),t({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!a||!a.document)throw Error("SoundManager requires a browser with window and document objects.");var b=null;void 0!==a.SM2_DEFER&&SM2_DEFER||(b=new h);"object"===typeof module&&module&&"object"===typeof module.exports?
(a.soundManager=b,module.exports.SoundManager=h,module.exports.soundManager=b):"function"===typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:h,soundManager:b}}):(a.SoundManager=h,a.soundManager=b)})(window);(function(){for(var a,d=function(){},h="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),b=h.length,g=window.console=window.console||{};b--;)a=h[b],g[a]||(g[a]=d)})();function library(a){$(function(){a.init&&a.init()});return a}
var isMobilePlayer=!1,embedFetched=!1,music_url=null,soundcloudTrack=library(function(a){return{init:function(){},flagDeadTrack:function(d){a.post("/api/music/unplayable",{id:d})}}}(jQuery)),audiomackPlayer=library(function(a,d){var h,b,g,f,m,k,l,c,G,n,y,p,r,s=[],q,C,u,K=!1,v=0,w,N=0,L=!1,Q=0,U=!1,B=!1,D,M=!0,x=[],la,H=null,A=[],O=0,S,X=function(){return G.match(/iPad/i)||G.match(/iPhone/i)||G.match(/iPod/i)},R=function(){u=a("div[for="+q+"] .song");0<u.length&&(s=[],u.each(function(){s.push({image:f,
title:b+" - "+a("a",this).text(),sources:[{file:a("a",this).data("url"),label:a("a",this).data("url"),type:"mp3"}]})}))},da=function(){u=a(".track .row");C=a("#listplayer");0===u.length&&(u=a(".track"));if(0<u.length&&"undefined"!=typeof C&&C.length)if(s=[],u.each(function(){var b=a("a",this).data("url")||a("a",this).attr("href");if(b.match(/^\/album\//)){var c=a("div[for='"+a("a",this).data("id")+"'] .song");c.length&&c.each(function(){s.push({title:a("a",this).text(),sources:[{file:b,label:b,type:"mp3"}]})})}else{var c=
"/api/music/url"+b,d=a("img",this).attr("alt");s.push({image:"",title:d,id:a("a",this).data("id"),sources:[{file:c,label:c,type:"mp3"}]})}}),isMobilePlayer){a("#"+q).replaceWith(a('<div class="mobile-player">   <div class="mobile-player-inner">       <span class="prev-track fa fa-fast-backward"></span>        <span id="play-button" class="playlist"><i class="fa fa-play icon"></i><span class="loading-icon song-loader"><span class="circle circle-1"></span><span class="circle circle-2"></span><span class="circle circle-3"></span></span></span>        <span class="next-track fa fa-fast-forward"></span>        <div class="player-title">            <span class="artist"><a href=""  ></a></span>            <span class="song-title"><a href="" ></a></span>        </div>        <div class="dots">&#8226;&#8226;&#8226;</div>   </div>   <div class="dots-overlay">       <ul>           <li>               <span class="glyphicons star"></span>               <a href="#" class="player-favorite mobile-fav launch_login_modal" data-id="" id="listPlayerFavorite" data-action="favorite" data-music_id=""></a>           </li>           <li>               <span class="glyphicons plus"></span>               <a href="#playlistModal" role="button" class="launch_login_modal" data-toggle="modal" data-id="" href="#" id="listPlayerPlaylist" data-action="playlist" data-music_id="">Add to Playlist</a>           </li>           <li>              <span class="glyphicons retweet repost"></span>              <a href="" role="button" class="launch_login_modal" data-id="" id="listPlayerRepost" data-action="repost" data-music_id="">Re-up</a>           </li>           <li class="via-soundcloud">               <span class="glyphicons music"></span>               <a href="" target="_blank" rel="nofollow">via SoundCloud</a>           </li>       </ul>   </div>   <div class="mobile-time">       <div class="elapsed">00:00</div>       <div class="duration">00:00</div>   </div></div>').attr("id",
q));mobilePlayer();a("li > a.player-share").click(function(b){b.preventDefault();a(this).hide();a(this).next("div.addthis_responsive_sharing").css("height","30px").css("margin-top","-10px").show()});var b=!1;a("div.dots").click(function(c){c.preventDefault();b?(a("div.dots-overlay").hide(),a("li > div.addthis_responsive_sharing").hide(),b=!1):(a("li > a.player-share").show(),a("div.dots-overlay").show(),b=!0)})}else a("#"+q).replaceWith(a('<div id="wrap"">   <div class="pborder">       <div class="pwrap zzzzzz">            <div class="player-left">                    <span class="prev-track glyphicon glyphicon-fast-backward"></span>                    <span id="play-button" class="playlist"><i class="glyphicon glyphicon-play icon"></i><span class="loading-icon song-loader"><span class="circle circle-1"></span><span class="circle circle-2"></span><span class="circle circle-3"></span></span></span>                    <span class="next-track glyphicon glyphicon-fast-forward"></span>            </div>            <div class="player-right">                <div class="player-header">                    <div class="player-title">                           <span class="artist"><a href="" target="_blank" ></a></span>                           <span class="song-title"><a href="" target="_blank" ></a></span>                    </div>                    <div class="player-icons">  \t\t\t\t\t\t<div class="inner">                        <a class="scloud-icon ext-icon player-icon" href="<?=$this->song->stream_url;?>" target="_blank">                              <i class="fa fa-soundcloud"></i></a>                        <a data-toggle="tooltip" data-placement="left" class="player-icon download-song" title="Download" href="">                             <span class="glyphicon glyphicon-save"></span>                        </a>                        <a data-placement="left" class="player-embed player-icon" title="Embed" href="#embed" id="itsembed" data-toggle="modal" onClick="ga(\'send\', \'event\', { eventCategory: \'Embed\', eventAction: $(this).attr(\'href\').split(\'?\')[0], eventLabel: window.location.href});">                            <span class="glyphicons embed_close"></span>                        </a>                        <a data-toggle="tooltip" data-placement="left" href="" data-id="" id="listPlayerFavorite" title="Favorite" class="launch_login_modal player-favorite player-icon favorite ">                            <span class="glyphicon glyphicon-star"></span>                        </a>                        <a data-placement="left" title="Playlist" href="#" id="listPlayerPlaylist"  data-id="" class="player-icon launch_login_modal">                            <span class="glyphicon glyphicon-plus"></span>                        </a>                        <a data-placement="left" title="Re-Up" href="" id="listPlayerRepost" data-id="" data-action="repost" data-music_id="" class="player-icon launch_login_modal">                            <span class="glyphicons retweet repost"></span>                        </a>\t\t\t\t\t\t <span class="trigger close-icons"><i class="fa fa-times"></i></span>\t\t\t\t\t\t</div>                    </div>                </div>\t\t\t\t<div class="player-song-stats">\t\t\t\t\t<span class="song-plays glyphicon glyphicon-play"></span><span class="song-plays-stat"></span><span class="divider"></span>\t\t\t\t\t<span class="song-favorites glyphicon glyphicon-star"></span><span class="song-favorites-stat"></span><span class="divider"></span>\t\t\t\t</div>\t\t\t\t<div class="player-outer group">                <div class="player-jwplayer">                    <div class="elapsed">00:00</div>\t\t\t\t\t <div class="slider-outer group">                     \t<div class="slider">                        \t<span class="progress"></span>                        \t<div class="waveform" data-color="" data-duration="" data-waveform=""></div>\t\t\t\t\t\t \t<div class="white-border"></div>                    \t</div>\t\t\t\t\t </div>                    <div class="duration">00:00</div>                </div>\t\t\t</div>            </div>            <a class="scloud-icon main-scloud-icon ext-icon player-icon" href="<?=$this->song->stream_url;?>" target="_blank">            <i class="fa fa-soundcloud"></i></a>           <div class="triple-dots-wrap"><span class="dots"></div></div>       </div>   </div></div>').attr("id",
q)),a(".player-icon").tooltip(),embedFetched=!1,a(".pwrap.zzzzzz").find("a.player-embed.player-icon").on("click",function(b){embedFetched||(b.stopPropagation(),b=a(this).data("music_id"),a.ajax({url:"/embed4/modal",type:"GET",cache:!1,data:{music_id:b},dataType:"html",async:!1,success:function(b){a("#embed-modal-container").remove();a("body").append('<div id="embed-modal-container">'+b+"</div>");embedFetched=!0;setTimeout(function(){a("#itsembed").click()},500)}}))})};a(window).resize(function(){(a("#wrap").hasClass("embed")||
a(".pwrap").hasClass("zzzzzz"))&&T()});var T=function(b,c,d){if(!K){K=!0;k&&"function"===typeof google.ima.AdDisplayContainer&&a("#play-button").css("visibility","visible");"undefined"==typeof c&&a("div.waveform").data("color");"undefined"==typeof d&&(d=a("div.waveform").data("duration"));"undefined"==typeof b&&(b=a("div.waveform").data("waveform"));c=3;var f=!1;a("#wrap").hasClass("embed")&&(f=!0);f&&("none"==a("div.player-song-stats").css("display")?a("div.player-jwplayer").css("width",a("div.player-right").width()-
84-20):a("div.player-jwplayer").css("width",a("div.player-right").width()-a("div.player-song-stats").width()-84-20));var g=a("div.slider").width();g||(g=730);a("div.waveform").html("").css("width",g).css("height",30);if("string"==typeof b&&b)a("div.waveform").css("background-image","url("+b+")").toggleClass("scloud-img",!0);else{a("div.waveform").css("background-image","none").toggleClass("scloud-img",!1);f=1;if(0<d){for(;.95>d*c/g&&8>c;)c++;f=d/(Math.floor(g/c)+1);1>f&&(f=1)}for(var h=0,l=0,m=0;m<
d;m++)h+=b[m],b[m]>l&&(l=b[m]);for(var g=100/30,l=Math.floor(100/l),n="",p=[],q=0,r=0,s=0;s<d;s++)if(q+=1,p.push(b[s]),q>=f){for(m=h=0;m<p.length;m++)h+=p[m];h=Math.ceil(h/p.length);if(isNaN(h)||0===h)h=1;n=n+'<span style="left:'+r+"px;width:"+(c-1)+"px;height:"+l/g*h+'px;"></span>';r+=c;q-=f;p=[]}a("div.waveform").html(n)}K=!1}},Ca=function(){if(!K){K=!0;var b=a("div.waveform").data("color"),c=a("div.waveform").data("background-color"),d=a("div.slider > span.progress").width();b||(b="ffa200");c||
(c="999");d||(d=1);a("div.waveform > span").each(function(){parseInt(a(this).css("left").replace("px",""),10)<d?a(this).css("background","#"+b):a(this).css("background","#"+c)});K=!1}},ka=function(b){if(-1!=b&&"undefined"!=typeof b){var c=parseInt(b,10);b=Math.floor(c/60);c-=60*b;10>b&&(b="0"+b);10>c&&(c="0"+c);b=b+":"+c;a("div.duration").html(b)}},oa=function(){a("#video-ad_wrapper").length&&a("#video-ad_wrapper").hide();G.match(/Android/i)&&a("#video-ad").hide();a("#wrap").show();a("#listplayer-video-ad").css({height:"1px",
bottom:"0"});a("#standard-video-ad").css({height:"1px",top:-1E4});0<a("#listplayer-video-ad").length&&a("#video-ad-message").hide()},V=function(a){var b=a.getAd();music_url||(music_url=window.location.pathname);switch(a.type){case google.ima.AdEvent.Type.LOADED:trackAdPlay("loaded",music_url);console.log("LOADED");console.log("Ad ID: "+b.getAdId());console.log("Ad system: "+b.getAdSystem());console.log("Content type: "+b.getContentType());console.log("Title: "+b.getTitle());console.log("Description: "+
b.getDescription());Y();break;case google.ima.AdEvent.Type.STARTED:trackAdPlay("started",music_url);console.log("STARTED");N++;(a=w.match(/\/api\/music\/url\/((?:album)\/[^\/]+\/[^\/\?]+)(?:\/[0-9]+)?/))&&x.push(a[1]);la=new Date;break;case google.ima.AdEvent.Type.COMPLETE:trackAdPlay("completed",music_url);console.log("COMPLETE");b.isLinear()&&clearInterval(void 0);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:console.log("ALL_ADS_COMPLETED");if(0===N){trackAdPlay("error",music_url);console.log("Couldn't play any ads");
O++;if("undefined"!==typeof A[O])H=A[O];else{console.log("Reached end of VAST chain");break}console.log("New VAST tag: "+H);Y();fa();L=!0;Q++}break;case google.ima.AdEvent.Type.SKIPPED:trackAdPlay("skipped",music_url);console.log("SKIPPED");break;case google.ima.AdEvent.Type.USER_CLOSE:console.log("USER_CLOSE")}},W=function(a){w&&(music_url=w.match(/\/api\/music\/url\/((?:song|album)\/[^\/]+\/[^\/\?]+(?:\/[0-9]+)?)/)[1]);music_url||(music_url=window.location.pathname);trackAdPlay("error",music_url);
console.log("ad error: "+a.getError().getMessage());L=!0;Q++;O++;"undefined"!==typeof A[O]?(H=A[O],console.log("New VAST tag: "+H),fa()):(console.log("Reached end of VAST chain"),p.destroy(),oa(),d.getSoundById(q)&&d.getSoundById(q).play())},pa=function(){console.log("prerollPlays: "+N+" adErrorCount: "+Q);0===N&&Q<A.length?console.log("Showing fallback ad"):(oa(),d.getSoundById(q)&&d.getSoundById(q).play())},qa=function(){var a=!1;k&&"no"!=k&&(a=!0);var b=w.match(/\/api\/music\/url\/((?:album)\/[^\/]+\/[^\/\?]+)(?:\/[0-9]+)?/);
b&&-1<x.indexOf(b[1])&&(a=!1);la&&(b=(new Date).getTime(),6>Math.floor((b-la.getTime())/6E4)&&(console.log("Showed advert less than 6 minutes ago"),a=!1));return a},Y=function(){if(isMobilePlayer)a("#listplayer-video-ad").length?X()||(a("#listplayer-video-ad").css({height:"260px"}),a("#video-ad").show()):X()||(a("#standard-video-ad").css({height:"260px",top:"auto",bottom:0}),a("#video-ad").show());else if(a("#listplayer-video-ad").length)a("#listplayer-video-ad").css({height:"486px"}),a("#video-ad").show(),
a("#video-ad-message").show();else{var b=486;486>a(window).height()&&(b=a(window).height());a("#standard-video-ad").css({height:b+"px",top:0});a("#video-ad_wrapper").css("padding-bottom","10px");a("#video-ad").show();a("#wrap").hide()}},ua=function(){},ea=function(){return"https://googleads.g.doubleclick.net/pagead/ads?ad_type=video&client=ca-video-pub-3858157454086512&description_url=https%3A%2F%2Fwww.audiomack.com&videoad_start_delay=0&hl=en&max_ad_duration=30000"},ma=function(){return"https://ad4.liverail.com/?LR_PUBLISHER_ID=138009&LR_SCHEMA=vast2-vpaid&LR_AUTOPLAY=1"},
fa=function(){var a=new google.ima.AdsRequest;a.adTagUrl=H;a.linearAdSlotWidth=980;a.linearAdSlotHeight=460;a.nonLinearAdSlotWidth=980;a.nonLinearAdSlotHeight=460;y.requestAds(a)};return{init:function(){d.setup({url:"/cap/swf/",preferFlash:!1,onready:this.initPlayers,debugMode:!0});G=navigator.userAgent||navigator.vendor||window.opera;O=0;A="function"==typeof cmnvideotagdefault&&"https:"!=window.location.protocol?[cmnvideotagdefault(),ma(),ea()]:[ma(),ea()];H=A[O];console.log("Setting VAST tag to "+
H)},initPlayers:function(){a("div.am-jwplayer").each(function(){audiomackPlayer.initPlayer(a(this))})},initPlayer:function(d){0!==a(".player-icon").length&&a(".player-icon").tooltip();d.data("firstColor");d.data("secondColor");d.data("bgColor");h=d.data("title");b=d.data("performer");d.data("count");d.data("countLink");d.data("rank");d.data("rankLink");g=d.data("url");d.data("canDownload");d.data("embed");d.data("buyLink");f=d.data("artUrl");m=d.data("src");k=d.data("preroll");l=d.data("uploader");
c=d.data("height");U=d.data("promoKey");B=d.data("isPlaylist");D=d.data("playlistId");c||(c=30);"object"==typeof CMNUNT&&(c=60);s=[{image:f,title:b+" - "+h,sources:[{file:"/api/music/url"+g,label:"/api/music/url"+g,type:"mp3"}]}];T();q=d.attr("id");R();da();0===s.length?console.log("Could not read any tracks from the DOM"):w=s[0].sources[0].file;this.bindEvents(q)},bindEvents:function(b){a("#play-button").click(function(c,f){if(void 0!==p&&-1<p.getRemainingTime())console.log("Video ad playing, not playing music");
else{audiomack.keytoplay||(audiomack.keytoplay=!0);a(this).addClass("pulse");if(d.getSoundById(b))d.getSoundById(b).playState&&!d.getSoundById(b).paused?(isMobilePlayer?(a(this).find(".icon").removeClass("fa-pause").addClass("fa-play"),a(".profile-image .play .fa").removeClass("fa-pause").addClass("fa-play")):a(this).find(".icon").removeClass("glyphicon-pause").addClass("glyphicon-play"),d.getSoundById(b).pause()):(isMobilePlayer?(a(this).find(".icon").removeClass("fa-play").addClass("fa-pause"),
a(".profile-image .play .fa").removeClass("fa-play").addClass("fa-pause")):a(this).find(".icon").removeClass("glyphicon-play").addClass("glyphicon-pause"),d.getSoundById(b).play());else{M=!0;music_url=w.match(/\/api\/music\/url\/((?:song|album)\/[^\/]+\/[^\/\?]+(?:\/[0-9]+)?)/)[1];"undefined"!=typeof f&&"undefined"!=typeof f.autoplay?M=f.autoplay:qa()&&(M=audiomackPlayer.playAd());0<u.length&&0===a("div[for="+b+"] .song.play").length&&a(u[0]).toggleClass("play",!0);d.createSound({id:"testsound",url:"undefined"===
typeof cdnEndpoint?"/point1sec.mp3":cdnEndpoint+"/point1sec.mp3",multiShot:!1,stream:!0,autoLoad:!0});a("#wrap").length&&a("#wrap").hasClass("embed");audiomackPlayer.asyncLoadTrack(b,w,a(this),M);var g=w.match(/\/api\/music\/url\/((?:song|album)\/[^\/]+\/[^\/\?]+(?:\/[0-9]+)?)/)[1];trackEvent("play",g,audiomack.music_token);U&&trackPromoEvent("play",g,audiomack.music_token,U);B&&trackPlaylistEvent("play",D,audiomack.music_token);ga("send","event",{eventCategory:"Music",eventAction:"Play",eventLabel:g})}return!1}});
a("div.slider").click(function(c){c=c.pageX-a(this).offset().left+a(window).scrollLeft();var f=d.getSoundById(b).duration,g=a("div.slider").width();c=parseInt(c/g*f,10);d.getSoundById(b).setPosition(c)});u=a("div[for="+b+"] .song");0<u.length&&a(u).click(audiomackPlayer.playSong);a(".song > div.download-song > a").click(function(a){a.stopPropagation()});a(".song > div.favorite-song > a").click(function(a){a.stopPropagation()});a(".song > div.playlist-song > a").click(function(a){a.stopPropagation()});
a("span.next-track").click(function(b,c){b.preventDefault();var d;if(w.match(/\/api\/music\/url\/album/)||a(this).prev("span").hasClass("playlist")){if((d=a(".song.play").next(".song"))&&0!==d.length||(d=a(".song.play").parent(".song-wrap").next(".song-wrap").find(".song")),!d||0===d.length)if(a(".track .row a.playing").length)d=a(".track .row a.playing").closest(".track").nextAll(".track").length?a(".track .row a.playing").closest(".track").nextAll(".track:not(.str-adunit)").first().find(".overlay a.play"):
a(".feed:eq(0) .track:eq(0)").find("a.play");else if(a(".track a.playing").closest(".track").nextAll(".track").length)d=a(".track a.playing").closest(".track").nextAll(".track:not(.str-adunit)").first().find("a.play");else{if(a(".song.play").length)return;d=a(".song").first()}}else d=isMobilePlayer?a(".track a.playing").closest(".track").nextAll(".track").first().find("a.play"):a(".track .row a.playing").closest(".track").nextAll(".track").first().find("a.play");d.trigger("click");c||"function"!=
typeof writeCaptureRefresh||(d=a("#cmn_ad_tag_head"),d.css("min-height",d.height()),d=a(".boxad:eq(0)"),d.css("min-height",d.height()),d=a(".160adunit-songs:eq(0)"),d.css("min-height",d.height()),writeCaptureRefresh())});a("span.prev-track").click(function(b,c){b.preventDefault();var d;w.match(/\/api\/music\/url\/album/)||a(this).next("span").hasClass("playlist")?((d=a(".song.play").prev(".song"))&&0!==d.length||(d=a(".song.play").parent(".song-wrap").prev(".song-wrap").find(".song")),d&&0!==d.length||
(d=a(".track .row a.playing").length?a(".track .row a.playing").closest(".track").prevAll(".track").length?a(".track .row a.playing").closest(".track").prevAll(".track:not(.str-adunit)").first().find(".overlay a.play"):a(".feed:eq(0) .track:eq(0)").find("a.play"):a(".track a.playing").closest(".track").prevAll(".track").length?a(".track a.playing").closest(".track").prevAll(".track:not(.str-adunit)").first().find("a.play"):a(".song").last())):d=isMobilePlayer?a(".track a.playing").closest(".track").prevAll(".track").first().find("a.play"):
a(".track .row a.playing").closest(".track").prevAll(".track").first().find("a.play");d.trigger("click");c||"function"!=typeof writeCaptureRefresh||(d=a("#cmn_ad_tag_head"),d.css("min-height",d.height()),d=a(".boxad:eq(0)"),d.css("min-height",d.height()),d=a(".160adunit-songs:eq(0)"),d.css("min-height",d.height()),writeCaptureRefresh())});if(!u.length){if(isMobilePlayer)u=a(".track"),0<u.length&&"undefined"!=typeof C&&C.length&&(a("div.feed-section").on("click","a.play",audiomackPlayer.playListSong),
a(".feed-section .feed-item .feed-image a").click(function(b){b.preventDefault();a(b.target).is(".play")||(a(this).find(".play").trigger("click"),b.stopPropagation())}));else if(u=a(".track"),0<u.length&&"undefined"!=typeof C&&C.length)a("div.feed").on("click","a.play",audiomackPlayer.playListSong);a(".plwrapper .song").length&&a(".plwrapper .song").click(audiomackPlayer.playChartAlbumSong)}a(".profile-image .play").click(function(b){b.preventDefault();b.stopPropagation();a("#play-button").trigger("click")});
a(".music-main .play-button").click(function(b){b.preventDefault();b.stopPropagation();a("#play-button").trigger("click")})},getSignedUrl:function(b){var c="";b.match(/\/api\/music\/url\//)&&a.ajax({url:b,type:"GET",cache:!1,dataType:"json",async:!1,error:function(b,c,d){b=a.parseJSON(b.responseText);b.message?alert(b.message):alert(d)},success:function(a){b=a.url;a.error&&(c=a.error)}});return""===c?b:!1},loadSongData:function(b){var c=b.data("plays"),d=b.data("favorites"),f=b.data("artist"),g=b.data("title"),
h=b.data("soundcloud"),k=b.data("duration"),l=b.data("color"),m=b.data("waveform"),n=b.data("is-favorite"),p=b.data("favorite-url");b=b.data("track");"undefined"!=typeof c&&a("span.song-plays-stat").html(c);"undefined"!=typeof d&&a("span.song-favorites-stat").html(d);"undefined"!=typeof f&&a("span.artist a").text(f);"undefined"!=typeof g&&(isMobilePlayer||a("a#song-title-link").text(g));"undefined"!=typeof k&&""!==k&&ka(k);"undefined"!=typeof n&&("1"==n?(a("a.player-favorite").attr("title","Un-Favorite").tooltip("hide").attr("data-original-title",
"Un-Favorite").tooltip("fixTitle").tooltip("show"),a("a.player-favorite").addClass("active").blur()):(a("a.player-favorite").attr("title","Favorite").tooltip("hide").attr("data-original-title","Favorite").tooltip("fixTitle").tooltip("show"),a("a.player-favorite").removeClass("active").blur()));"undefined"!=typeof p&&a("a.player-favorite").attr("href",p);"undefined"!=typeof b&&a("a.player-favorite").data("track",b);"undefined"!=typeof h&&(isMobilePlayer?"0"==h?(a("span.via-soundcloud a").attr("href",
""),a("span.via-soundcloud a").html("")):(a("span.via-soundcloud a").attr("href",h),a("span.via-soundcloud a").html("via Soundcloud")):"0"==h?(a("a.scloud-icon").attr("href",""),a("a.scloud-icon").hide(),a("div.player-jwplayer").css("width","")):(a("div.player-jwplayer").addClass("play-start"),a("a.scloud-icon").attr("href",h),a("a.scloud-icon").show()));"undefined"!=typeof m&&T(m,l,k)},playSong:function(b){b.stopPropagation();b.preventDefault();q=a(this).parents("#playlist").attr("for");u=a("div[for="+
q+"] .song");0<u.length&&0===a("div[for="+q+"] .song.play").length&&a(u[0]).toggleClass("play",!0);m=a(this).find("div.title").find("a").data("url");k=a(this).find("div.title").find("a").data("preroll");l=a(this).find("div.title").find("a").data("uploader");m&&(w=m,d.getSoundById(q)&&d.destroySound(q),a("#play-button").triggerHandler("click"),a(this).parents("#playlist").find(".song").removeClass("play"),a(this).addClass("play"),a(".plwrapper").animate({scrollTop:a(this).offset().top-a(".plwrapper").offset().top+
a(".plwrapper").scrollTop()}),audiomackPlayer.loadSongData(a(this)))},playListSong:function(b){b.preventDefault();b.stopPropagation();if(void 0!==p&&-1<p.getRemainingTime())console.log("@playListSong video ad already playing");else{d.createSound({id:"testsound",url:"undefined"===typeof cdnEndpoint?"/point1sec.mp3":cdnEndpoint+"/point1sec.mp3",multiShot:!1,stream:!0,autoLoad:!0});var c=!1;a(".single-feed-item .play").toggleClass("playing",!1);a(".feed-item .play").toggleClass("playing",!1);a(".track-content .play").toggleClass("playing",
!1);a(".plwrapper .song").toggleClass("play",!1);a(this).toggleClass("playing",!0);var f=a("a",a(this).parent()).data("url")||a(this).parent().data("url")||a(this).attr("href");if(void 0!==f){w="/api/music/url"+f;var g=a("a",a(this).parent()).data("artist")||a(this).parent().data("artist"),h=a("a",a(this).parent()).data("title")||a(this).parent().data("title"),m=a("a",a(this).parent()).data("id")||a(this).parent().data("id"),n=a("a",a(this).parent()).data("favorite")||a(this).parent().data("favorite"),
r=a("a",a(this).parent()).data("repost")||a(this).parent().data("repost");k=a("a",a(this).parent()).data("preroll")||a(this).parent().data("preroll");l=a("a",a(this).parent()).data("uploader")||a(this).parent().data("uploader");var s=a("a",a(this).parent()).data("plays"),z=a("a",a(this).parent()).data("favorites"),c=qa()?audiomackPlayer.playAd():!0,u="song";f.match(/^\/album\//)?(u="album",w+="/0",a("div[class='song']").removeClass("play"),a("a[data-url*='"+w+"']",a(this).closest(".track")).closest(".song").addClass("play"),
h=isMobilePlayer?a("a[data-url*='"+w+"']").text().replace(g+" - ",""):h+" - "+a("a[data-url*='"+w+"']").text().replace(g+" - ","")):f.match(/^\/playlist\//)&&(u="playlist");C.show();C.load("/api/music/player"+f,function(){d.getSoundById(q)&&d.destroySound(q);audiomackPlayer.initPlayers();a("#play-button").triggerHandler("click",{autoplay:c});a("#listplayer").show();a("#listplayer .pinfo").attr({href:f,target:"_blank"});a("#listplayer .favorite").attr({href:f+"/favorite"});a("#listPlayerRepost").attr({href:f+
"/repost"});a("#listPlayerRepost").data("id",m);a("#listPlayerRepost").data("music_id",m);a(".player-title a").attr({href:f});a("#listplayer").find("span.artist a").text(g).html();a("#listplayer").find("span.song-title a").text(h).html();a(".player-icons").css("display","flex").hide();a(".close-trigger").removeClass("inactive").addClass("activated");a("#listplayer .song-plays-stat").text(s);a("#listplayer .song-favorites-stat").text(z);a(".listplayer-wrap").hasClass("not-visible")&&a(".listplayer-wrap").removeClass("not-visible").addClass("visible");
a(".search-form-wrap").hasClass("visible")&&a(".search-form-wrap").removeClass("visible").addClass("not-visible");a(".trigger").hasClass("close-search")&&a(".trigger").removeClass("close-search").addClass("close-player");a("#listplayer #listPlayerFavorite").data("id",m);a("#listplayer #listPlayerFavorite").data("music_id",m);a("#listplayer #listPlayerPlaylist").data("id",m);a("#listplayer #listPlayerPlaylist").data("music_id",m);n?a("#listplayer #listPlayerFavorite").addClass("active"):a("#listplayer #listPlayerFavorite").removeClass("active");
r?a("#listplayer #listPlayerRepost").addClass("active"):a("#listplayer #listPlayerRepost").removeClass("active");isMobilePlayer&&(n?a("#listPlayerFavorite").html("Un-Favorite this "+u):a("#listPlayerFavorite").html("Favorite this "+u),a("#listplayer").find("a.player-favorite").attr("href",f+"/favorite"));a(".unit").css("bottom","100px")})}}},playChartAlbumSong:function(b){b.preventDefault();b.stopPropagation();if(b=a(this).find("div.title").find("a").data("url"))w=b,d.getSoundById(q)&&d.destroySound(q),
a("#play-button").triggerHandler("click"),a(".song").removeClass("play"),a(this).addClass("play"),a(this).data("title",a(this).find("div.title").find("a").data("title")),audiomackPlayer.loadSongData(a(this))},playAd:function(){M=!1;if(a("#video-ad").length){if(null===H){console.log("no vast tag assigned");return}n=document.getElementById("video-ad-content");X()&&(console.log("Adding custom event handler for iOS native player"),n.addEventListener("webkitendfullscreen",ua,!1));google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);
r=new google.ima.AdDisplayContainer(document.getElementById("video-ad"));r.initialize();y=new google.ima.AdsLoader(r);y.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(b){p=b.getAdsManager(n);p.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,W);p.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,pa);p.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,V);p.addEventListener(google.ima.AdEvent.Type.LOADED,V);p.addEventListener(google.ima.AdEvent.Type.STARTED,
V);p.addEventListener(google.ima.AdEvent.Type.COMPLETE,V);p.addEventListener(google.ima.AdEvent.Type.LOG,V);p.addEventListener(google.ima.AdEvent.Type.SKIPPED,V);try{b=980;var c=460;C.length&&(b=a(window).width());G.match(/Android/i)&&(b=a(window).width(),c=260);a(window).width()<b&&(b=a(window).width());a(window).height()<c&&(c=a(window).height());p.init(b,c,google.ima.ViewMode.NORMAL);p.start()}catch(d){console.log("ad error")}},!1);y.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,W,!1);
n.onended=function(){console.log("content video complete, play any post-roll ads");y.contentComplete()};fa();music_url=w.match(/\/api\/music\/url\/((?:song|album)\/[^\/]+\/[^\/\?]+(?:\/[0-9]+)?)/)[1];trackAdPlay("requested",music_url);ga("send","event",{eventCategory:"Preroll Video Ads",eventAction:"Ad Attempted",eventLabel:l,eventValue:1})}else M=!0;return M},asyncLoadTrack:function(b,c,d,f){var g="";c.match(/\/api\/music\/url\//)&&a.ajax({url:c,type:"GET",cache:!1,dataType:"json",data:{extended:1},
async:!0,error:function(b,c,d){b=a.parseJSON(b.responseText);b.message?alert(b.message):alert(d)},success:function(h){var k=h.url,l=h.id;h.error&&(g=h.error,console.log("error: "+g));k.match(/^https?:\/\/(www\.)?soundcloud\.com/)?a.ajax({url:"https://api.soundcloud.com/resolve?url="+k+"&format=json&consumer_key=e8d4a4460406f85186559062901c8a33&callback=?",dataType:"jsonp",timeout:5E3,success:function(a){if(a.streamable){var g=a.stream_url,g=-1==a.stream_url.indexOf("secret_token")?g+"?":g+"&";h.soundcloud=
a.permalink_url;if("undefined"==typeof h.volume_data||0==h.volume_data.length)h.volume_data=a.waveform_url;audiomackPlayer.loadTrack(b,c,d,f,h,g+"consumer_key=e8d4a4460406f85186559062901c8a33")}},error:function(a,b,c){S.flagDeadTrack(l)}}):audiomackPlayer.loadTrack(b,c,d,f,h,k)}})},loadTrack:function(b,c,f,g,h,k){a(".icon").addClass("hidden");a(".song-loader").addClass("active");L&&(g=!0);embedFetched=!1;d.createSound({id:b,url:k,onload:function(){3==this.readyState&&(a(".song-loader").removeClass("active"),
a(".icon").removeClass("hidden"),ll("tagEvent","Song Summary",{title:h.title,artist:h.artist,uploader:h.uploader,genre:h.genre}))},onbufferchange:function(){d._writeDebug("Buffering "+(this.isBuffering?"started":"stopped")+".")},onpause:function(){},onfinish:function(){a(".next-track").trigger("click",[!0])},onplay:function(){},onresume:function(){},whileplaying:function(){var b=Math.round(this.position/1E3);0===v&&ka(this.duration/1E3);if(0===b||b!=v){var c=this.position/1E3,d=this.duration/1E3;
0!==d&&""!==d&&void 0!==d||!a("div.waveform").data("duration")||(d=a("div.waveform").data("duration"));c=c/d*100;100<c&&(c=100);0>c&&(c=0);a("div.slider > .progress").css("width",c+"%");Ca();c=this.position/1E3;if("undefined"==typeof c||0>c)c=0;d=parseInt(c,10);c=Math.floor(d/60);d-=60*c;10>c&&(c="0"+c);10>d&&(d="0"+d);c=c+":"+d;a("div.elapsed").html(c);ka(this.duration/1E3);v=b}},multiShot:!1,stream:!0,autoLoad:!0,autoPlay:!1});d.getSoundById(b).playState&&!d.getSoundById(b).paused?(isMobilePlayer?
(f.find(".icon").removeClass("fa-pause").addClass("fa-play"),a(".profile-image .play .fa").removeClass("fa-pause").addClass("fa-play")):f.find(".icon").removeClass("glyphicon-pause").addClass("glyphicon-play"),g&&d.getSoundById(b).pause()):(isMobilePlayer?(f.find(".icon").removeClass("fa-play").addClass("fa-pause"),a(".profile-image .play .fa").removeClass("fa-play").addClass("fa-pause")):f.find(".icon").removeClass("glyphicon-play").addClass("glyphicon-pause"),g&&d.getSoundById(b).play());if(a("#listplayer").length){var l=
a("#listplayer").find("#listPlayerPlaylist");l&&l.data("id","music-"+h.id);a("#listplayer").find("span.artist a").html(h.artist);isMobilePlayer?(b=h.title.replace(h.album_title+" - ",""),a("#listplayer").find("span.song-title a").html(b)):a("#listplayer").find("span.song-title a").html(h.title);a("#listplayer").find("div.waveform").data("duration",h.duration);a("#listplayer").find("div.waveform").data("waveform",h.volume_data);h.album_id?a("#listplayer").find("a.player-embed.player-icon").data("music_id",
h.album_id):a("#listplayer").find("a.player-embed.player-icon").data("music_id",h.id);a("#listplayer").find("a.player-icon.download-song").hide();h.download_link?(a("#listplayer").find("a.player-icon.download-song").attr("href",h.download_link).attr("target","_self").click(function(){ga("send","event",{eventCategory:"Downloads",eventAction:a(this).attr("href").split("?")[0],eventLabel:window.location.href});setTimeout(function(){trackEvent("dl",h.id,h.token)},250)}).attr("title","Download").show(),
a("#listplayer").find("a.player-icon.download-song > span.glyphicon").removeClass("glyphicon-shopping-cart").addClass("glyphicon-save")):a("#listplayer").find("a.player-icon.download-song").attr("href","#").attr("target","_self").click(function(a){a.preventDefault()}).attr("title","");h.buy_link&&(a("#listplayer").find("a.player-icon.download-song").attr("href",h.buy_link).attr("target","_blank").attr("title","Buy Song").attr("data-original-title","Buy Song").click(function(){ga("send","event",{eventCategory:"Buy Link",
eventAction:a(this).attr("href").split("?")[0],eventLabel:window.location.href})}).show(),a("#listplayer").find("a.player-icon.download-song > span.glyphicon").removeClass("glyphicon-save").addClass("glyphicon-shopping-cart"));(l=a("div.waveform").data("color"))||(l="ffa200")}else isMobilePlayer&&(b=h.title.replace(h.album_title+" - ",""),a("div.mobile-player").find("span.song-title a").html(b));T(h.volume_data,l,h.duration);isMobilePlayer?"undefined"==typeof h.soundcloud?(a(".via-soundcloud a").attr("href",
""),a(".via-soundcloud a").html(""),a(".via-soundcloud").hide()):(a(".via-soundcloud a").attr("href",h.soundcloud),a(".via-soundcloud a").html("via Soundcloud"),a(".via-soundcloud").show()):"undefined"==typeof h.soundcloud?(a("a.scloud-icon").attr("href",""),a("a.scloud-icon").hide(),a("div.player-jwplayer").css("width","")):(a("div.player-jwplayer").css("width","100%").addClass("play-start"),a("a.scloud-icon").attr("href",h.soundcloud),a("a.scloud-icon").show())},getVastTag:function(){return H},
setVastTag:function(a){H=a},setSoundCloudTrack:function(a){S=a}}}(jQuery,soundManager));audiomackPlayer.setSoundCloudTrack(soundcloudTrack);function mobilePlayer(){isMobilePlayer=!0;$(".mobile-player-initial").appendTo(".content-inner").toggleClass("mobile-player-initial").toggleClass("mobile-player")}function trackEvent(a,d,h,b){$.ajax({url:"/stats",data:{s:a,m:d,t:h,tn:b},type:"POST"})}function trackAdPlay(a,d){$.ajax({url:"/api/ad",data:{s:a,m:d},type:"POST"})}
function trackPlaylistEvent(a,d,h,b){$.ajax({url:"/stats/playlist",data:{s:a,m:d,t:h,tn:b},type:"POST"})}function trackPromoEvent(a,d,h,b){$.ajax({url:"/stats/promo",data:{s:a,m:d,t:h,p:b},type:"POST"})}function scrollToElement(a,d,h){d="undefined"!=typeof d?d:1E3;h="undefined"!=typeof h?h:0;a=$(a).offset().top+h;$("html, body").animate({scrollTop:a},d)}function getCurrentTS(){return Math.floor((new Date).getTime()/1E3)}function recordDl(a){a&&trackEvent("dl",a,audiomack.music_token)}
function recordPromoDl(a,d){a&&d&&trackPromoEvent("dl",a,audiomack.music_token,d)};
