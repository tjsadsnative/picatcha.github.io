'use strict';(function(){var a=function(){if(window.localStorage&&"setItem"in window.localStorage)try{this.isAvailable=!0,this.localStorage=window.localStorage,this.localStorage.setItem("tvlocalstorage.available","true")}catch(a){delete this.isAvailable,delete this.localStorage}this._updateLength()};a.prototype.length=0;a.prototype.isAvailable=!1;a.prototype.localStorage={"tvlocalstorage.available":"false"};a.prototype._updateLength=function(){if(this.isAvailable)this.length=this.localStorage.length;
else{var a=0,c;for(c in this.localStorage)this.localStorage.hasOwnProperty(c)&&a++;this.length=a}};a.prototype.key=function(a){return this.isAvailable?this.localStorage.key(a):this[Object.keys(this.localStorage)[a]]};a.prototype.getItem=function(a){return this.isAvailable?this.localStorage.getItem(a):this.localStorage[a]};a.prototype.setItem=function(a,c){this.isAvailable?this.localStorage.setItem(a,c):this.localStorage[a]=c;this._updateLength()};a.prototype.removeItem=function(a){this.isAvailable?
this.localStorage.removeItem(a):delete this.localStorage[a];this._updateLength()};a.prototype.clear=function(){this.isAvailable?this.localStorage.clear():this.localStorage={};this._updateLength()};window.TVLocalStorage=new a})();
svgAsset.register({"FXCMLogo-source":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2083 1043" preserveAspectRatio="xMidYMid"><path d="M1605.536 591.944V471.92c0-11.572-10.316-21.268-23.262-22.368-.676 0-1.506-.147-2.32-.147h-13.907c-2.345 0-4.673.42-6.88.952v141.587h-51.45v-37.848h-.13V450.1c-2.215-.548-4.552-.825-6.888-.825h-14.17c-14.304 0-25.996 10.08-25.996 22.366v82.456h-.13v37.848h-52.566V457.577c0-27.915 17.058-50.707 37.983-50.707H1619.02c20.9 0 37.966 22.792 37.966 50.707v134.367h-51.45zm-259.374-1.398h-118.468c-19.67 0-35.898-16.286-35.898-36.03v-111.32c0-19.888 16.227-36.048 35.898-36.048h118.468c19.8 0 35.882 16.16 35.882 36.047v24.168h-44.423c-1.367-9.107-8.947-16.287-18.026-16.287h-60.25c-10.05 0-18.297 8.703-18.297 19.188v59.246c0 10.5 8.248 19.205 18.296 19.205h60.25c10.056 0 18.15-8.704 18.15-19.205v-1.805h44.3v26.812c0 19.743-16.08 36.03-35.88 36.03zm-215.623-.277l-44.168-65.72-45.262 65.72-53.37.702 62.986-93.638-62.987-90.607h55.304l43.882 63.83 43.478-63.41h52.68l-62.04 90.334 63.424 92.79h-53.93zM895.484 450.1c-17.457 0-35.475-1.67-44.973 3.326-7.304 3.857-6.88 13.386-6.47 23.89l122.03-.678v44.733l-120.787-.146-.558 70.72-53.933-.13v-139.49c0-14.527 4.266-24.166 10.332-31.64 6.037-7.46 13.756-12.563 27.92-13.388 34.257-1.672 103.45-.148 137.576-.148l-.138 42.952c-20.64 0-47.607.147-71 0zM580.992 686.003h-1.372c-56.404 0-106.62-28.316-137.027-71.415l129.183-148.896v119.894H733.01c-25.864 58.568-84.332 99.845-152.018 100.417zm8.256-232.172h-8.256l-156.98.42c25.046-61.607 85.448-105.24 155.608-105.24h1.372c57.65.404 108.412 30.37 138.265 75.402L589.247 568.05V453.83z" class="cls-1"/></svg>',FXCMLogo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1432 536" preserveAspectRatio="xMidYMid" style="fill: #154B94;"><path d="M1281.524 341.94V221.918c0-11.572-10.316-21.268-23.262-22.368-.676 0-1.506-.148-2.32-.148h-13.907c-2.345 0-4.673.42-6.88.952V341.94h-51.45v-37.847h-.13V200.097c-2.215-.548-4.552-.825-6.888-.825h-14.17c-14.304 0-25.996 10.08-25.996 22.366v82.456h-.13v37.848h-52.565V207.574c0-27.915 17.058-50.707 37.983-50.707h173.2c20.9 0 37.966 22.792 37.966 50.707V341.94h-51.45zm-259.374-1.397H903.682c-19.67 0-35.898-16.286-35.898-36.03v-111.32c0-19.888 16.227-36.048 35.898-36.048h118.468c19.8 0 35.882 16.16 35.882 36.047v24.168h-44.423c-1.368-9.107-8.948-16.287-18.027-16.287h-60.25c-10.05 0-18.297 8.703-18.297 19.188v59.247c0 10.5 8.248 19.205 18.296 19.205h60.25c10.056 0 18.15-8.704 18.15-19.205v-1.805h44.3v26.812c0 19.743-16.08 36.03-35.88 36.03zm-215.623-.277l-44.168-65.72-45.263 65.72-53.37.702 62.986-93.638-62.987-90.607h55.304l43.882 63.83 43.478-63.41h52.68l-62.04 90.334 63.424 92.79h-53.93zm-235.055-140.17c-17.457 0-35.475-1.67-44.973 3.327-7.305 3.857-6.88 13.386-6.47 23.89l122.03-.678v44.733l-120.788-.146-.558 70.72-53.933-.13v-139.49c0-14.527 4.267-24.166 10.333-31.64 6.037-7.46 13.756-12.563 27.92-13.388 34.257-1.672 103.45-.148 137.576-.148l-.14 42.952c-20.64 0-47.606.147-71 0zM256.98 436h-1.372c-56.404 0-106.62-28.316-137.027-71.415L247.765 215.69v119.893h161.234C383.134 394.15 324.666 435.428 256.98 436zm8.256-232.172h-8.256l-156.98.42c25.046-61.607 85.448-105.24 155.608-105.24h1.372c57.65.404 108.412 30.37 138.265 75.402l-130.01 143.637v-114.22z" class="cls-1"/></svg>',
MOEXLogo1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 272.14624 99.683876" width="272.146" height="99.684"><defs><clipPath id="a"><path d="M0 79.747h217.717V0H0v79.747z"/></clipPath></defs><g><g><g clip-path="url(#a)" transform="matrix(1.25 0 0 -1.25 0 99.684)"><g><path fill="#e31f25" fill-rule="evenodd" d="M77.25 61.86c-2.15-2.597-3.01-6.323-2.954-10.732 1.593-.5 2.75-1.988 2.75-3.746 0-1.47-.81-2.753-2.01-3.425l.004-.016c1.338-9.528-.616-14.418-2.63-16.46-4.918-.134-7.5 1.917-7.745 6.156 3.116.852 4.455 2.167 5.673 4.064.98 1.526 1.306 3.61 1.428 5.997-1.5.552-2.57 1.994-2.57 3.685 0 1.76 1.157 3.247 2.75 3.747.205 3.987.885 8.102 3.437 11.546l-1.33.58c-.53.23-.77.846-.54 1.374.11.25.306.436.54.538l33.214 14.493c.276.12.576.112.833 0l33.215-14.49c.527-.23.77-.846.54-1.374-.11-.25-.307-.437-.54-.538L108.17 48.715c-.278-.12-.578-.112-.834 0L77.25 61.86zm55.4-4.254V45.288c0-4.278-10.652-10.523-23.79-10.523-13.14 0-23.793 6.245-23.793 10.523v11.37l22.27-10.12c.255-.11.555-.12.832 0l24.48 11.068z"/></g><g><path fill="#fff" d="M94.764 65.912l12.987 5.32c.693.284 1.485-.047 1.77-.74.09-.218.117-.447.092-.667h.002l-.27-4.165 11.71-.295c.54.014 1.06-.298 1.283-.825.293-.69-.028-1.485-.717-1.778l-14.146-6.043c-.223-.107-.666-.12-.93-.09-.744.085-1.28.76-1.194 1.503l.754 4.9-10.857.272c-.747.017-1.34.638-1.322 1.386.012.555.357 1.023.84 1.222zm11.962 2.36l-6.417-2.63 6.104.09.312 2.54zm2.448-4.947l-.456-3.127 7.708 3.18-7.252-.053z"/></g><g><path fill="#2b2b2a" fill-rule="evenodd" d="M4.855 6.075H1.22v15.187c0 .2-.062.353-.187.46-.124.108-.27.162-.436.162-.165 0-.307-.058-.423-.174-.116-.116-.174-.266-.174-.448V5.452c0-.398.2-.597.597-.597h9.735c.398 0 .597.2.597.598v15.81c0 .198-.06.352-.175.46-.116.107-.257.16-.423.16-.166 0-.312-.057-.436-.173-.124-.116-.187-.266-.187-.448V6.075H6.05v15.187c0 .2-.058.353-.175.46-.116.108-.257.162-.423.162-.166 0-.307-.058-.423-.174-.117-.116-.175-.266-.175-.448V6.075zm11.9 5.75l3.76 4.11c.116.115.174.256.174.422 0 .166-.063.31-.188.436-.124.124-.27.187-.435.187-.133 0-.283-.067-.45-.2l-5.028-5.552v5.18c0 .198-.063.347-.188.447-.124.1-.26.15-.41.15-.415 0-.623-.2-.623-.598V5.453c0-.183.062-.328.186-.436.125-.108.27-.162.436-.162.166 0 .307.05.423.15.116.1.174.248.174.448V9.41l1.32 1.47 3.634-5.75c.116-.184.282-.275.498-.275.166 0 .31.058.435.174.124.115.187.257.187.423 0 .115-.033.232-.1.348l-3.81 6.026zm13.643-4.53v7.294c0 .33-.062.643-.186.933-.125.29-.3.548-.523.772-.225.224-.482.398-.773.523-.29.124-.61.186-.958.186h-2.44c-.35 0-.67-.062-.96-.186-.29-.125-.544-.3-.76-.523-.215-.224-.385-.48-.51-.772-.124-.29-.186-.602-.186-.934V7.294c0-.697.228-1.278.684-1.743.457-.465 1.034-.697 1.73-.697h2.44c.697 0 1.278.232 1.743.697.466.465.698 1.046.698 1.743m-1.22 0c0-.35-.115-.64-.348-.872-.233-.232-.523-.348-.87-.348h-2.44c-.333 0-.615.116-.848.348-.232.233-.348.523-.348.872v7.294c0 .33.116.613.348.846.233.233.515.348.847.348h2.44c.347 0 .637-.115.87-.348.233-.233.348-.515.348-.847V7.294zm10.955-1.842v10.954c0 .398-.208.597-.622.597h-3.634c-.333 0-.532-.157-.598-.473l-2.44-10.928v-.15c0-.182.063-.327.187-.435.124-.108.27-.162.435-.162.316 0 .507.158.573.473l2.315 10.456h2.565V5.454c0-.184.062-.33.187-.437.124-.108.26-.162.41-.162.415 0 .623.2.623.598m8.514 1.842c0-.35-.116-.64-.348-.872-.234-.232-.524-.348-.872-.348h-2.44c-.332 0-.614.116-.847.348-.23.233-.347.523-.347.872v7.294c0 .33.116.613.348.846.234.233.516.348.848.348h3.66v-8.49zm2.042-1.27c-.25.083-.45.245-.6.486-.148.24-.223.503-.223.785v9.112c0 .398-.207.597-.622.597h-4.257c-.35 0-.668-.062-.96-.186-.29-.125-.543-.3-.758-.523-.216-.224-.386-.48-.51-.772-.125-.29-.187-.602-.187-.934V7.294c0-.697.228-1.278.684-1.743.457-.465 1.034-.697 1.73-.697h2.44c.73 0 1.337.274 1.818.82.183-.215.348-.372.498-.472.25-.2.44-.315.573-.348.05-.017.124-.025.223-.025.165 0 .307.062.422.187.117.124.175.27.175.436 0 .282-.15.473-.448.572m19.84-.572v15.81c0 .214-.053.39-.16.52-.11.134-.237.2-.387.2-.232 0-.423-.132-.572-.398l-4.356-7.045-4.332 7.045c-.166.266-.357.4-.573.4-.15 0-.28-.068-.387-.2-.107-.133-.16-.308-.16-.523V5.452c0-.182.057-.327.173-.435.116-.108.257-.162.423-.162.414 0 .622.2.622.598v13.642l3.71-6.05c.148-.248.323-.373.522-.373.2 0 .373.125.522.374l3.735 6.075V5.454c0-.183.063-.328.188-.436.124-.108.27-.162.436-.162.398 0 .597.2.597.598m9.736 1.842v7.294c0 .33-.063.643-.187.933-.126.29-.3.548-.524.772-.224.224-.48.398-.772.523-.29.124-.61.186-.958.186h-2.44c-.35 0-.668-.062-.96-.186-.29-.125-.542-.3-.758-.523-.215-.224-.386-.48-.51-.772-.125-.29-.187-.602-.187-.934V7.294c0-.697.23-1.278.686-1.743.456-.465 1.033-.697 1.73-.697h2.44c.697 0 1.278.232 1.742.697.465.465.698 1.046.698 1.743m-1.22 0c0-.35-.116-.64-.35-.872-.232-.232-.522-.348-.87-.348h-2.44c-.332 0-.614.116-.847.348-.233.233-.35.523-.35.872v7.294c0 .33.117.613.35.846.232.233.514.348.846.348h2.44c.348 0 .638-.115.87-.348.234-.233.35-.515.35-.847V7.294zm10.332-2.44c.2 0 .352.062.46.187.108.124.162.26.162.41 0 .415-.207.623-.622.623H85.12c-.332 0-.614.116-.846.348-.233.233-.35.523-.35.872v7.294c0 .33.117.613.35.846.232.233.514.348.846.348h4.258c.2 0 .352.063.46.187.108.125.162.27.162.437 0 .398-.207.597-.622.597H85.12c-.348 0-.668-.062-.958-.186-.29-.125-.544-.3-.76-.523-.215-.224-.385-.48-.51-.772-.124-.29-.187-.602-.187-.934V7.294c0-.697.228-1.278.685-1.743.456-.465 1.033-.697 1.73-.697h4.258zm6.448 6.97l3.76 4.11c.115.115.173.256.173.422 0 .166-.063.31-.188.436-.124.124-.27.187-.435.187-.133 0-.282-.067-.448-.2l-5.03-5.552v5.18c0 .198-.063.347-.187.447-.124.1-.262.15-.41.15-.416 0-.623-.2-.623-.598V5.453c0-.183.062-.328.186-.436.125-.108.27-.162.436-.162.166 0 .307.05.423.15.117.1.175.248.175.448V9.41l1.32 1.47 3.634-5.75c.116-.184.282-.275.498-.275.166 0 .31.058.436.174.124.115.186.257.186.423 0 .115-.033.232-.1.348l-3.808 6.026zm13.643-4.53v7.294c0 .33-.063.643-.188.933-.124.29-.3.548-.523.772-.225.224-.482.398-.773.523-.29.124-.61.186-.958.186h-2.44c-.35 0-.67-.062-.96-.186-.29-.125-.543-.3-.758-.523-.216-.224-.387-.48-.51-.772-.125-.29-.188-.602-.188-.934V7.294c0-.697.228-1.278.685-1.743.455-.465 1.032-.697 1.73-.697h2.44c.696 0 1.277.232 1.742.697.465.465.697 1.046.697 1.743m-1.22 0c0-.35-.117-.64-.35-.872-.232-.232-.522-.348-.87-.348h-2.44c-.333 0-.615.116-.847.348-.233.233-.35.523-.35.872v7.294c0 .33.117.613.35.846.232.233.514.348.846.348h2.44c.348 0 .638-.115.87-.348.233-.233.35-.515.35-.847V7.294zm4.88 9.71v2.44c0 .398.115.7.347.908.233.208.515.31.847.31.348 0 .64-.107.87-.322.233-.215.35-.514.35-.896 0-.332-.15-.63-.45-.896-.28-.282-.63-.58-1.044-.896-.133-.117-.274-.225-.423-.324-.15-.1-.316-.208-.498-.324m4.853-9.71c0-.33-.12-.617-.36-.858-.24-.24-.528-.36-.86-.36h-2.415c-.348 0-.638.115-.87.347-.233.233-.35.523-.35.872v7.294c0 .33.117.613.35.846.232.233.522.348.87.348h2.416c.348 0 .638-.115.87-.348.233-.233.35-.515.35-.847V7.294zm-2.888 9.71c.083.084.175.158.274.224.1.067.198.14.298.225.3.25.48.406.548.473.216.265.365.53.448.796.066.15.1.39.1.722 0 .764-.258 1.37-.773 1.818-.446.398-1.003.597-1.666.597-.648 0-1.203-.2-1.668-.598-.498-.448-.747-1.054-.747-1.818V7.294c0-.33.06-.642.185-.933.125-.29.3-.546.523-.77.224-.225.482-.403.772-.536.29-.132.61-.2.958-.2h2.416c.348 0 .667.068.958.2.29.133.548.31.772.535.224.224.398.48.523.77.124.292.186.603.186.935v7.294c0 .33-.062.643-.186.933-.125.29-.3.548-.523.772-.224.224-.48.398-.772.523-.29.124-.61.186-.958.186h-1.67zm13.22-12.15c.2 0 .353.063.46.188.11.124.163.26.163.41 0 .415-.208.623-.623.623h-4.257c-.332 0-.614.116-.846.348-.233.233-.35.523-.35.872v7.294c0 .33.117.613.35.846.232.233.514.348.846.348h4.257c.2 0 .353.063.46.187.11.125.163.27.163.437 0 .398-.208.597-.623.597h-4.257c-.348 0-.668-.062-.958-.186-.29-.125-.544-.3-.76-.523-.216-.224-.386-.48-.51-.772-.124-.29-.187-.602-.187-.934V7.294c0-.697.228-1.278.685-1.743.456-.465 1.033-.697 1.73-.697h4.257zm6.448 6.972l3.76 4.108c.116.116.174.257.174.423 0 .166-.062.31-.187.436-.124.124-.27.187-.435.187-.133 0-.282-.067-.448-.2l-5.03-5.552v5.18c0 .198-.062.347-.186.447-.124.1-.26.15-.41.15-.415 0-.622-.2-.622-.598V5.453c0-.183.062-.328.186-.436.125-.108.27-.162.436-.162.166 0 .307.05.423.15.117.1.175.248.175.448V9.41l1.32 1.47 3.634-5.75c.116-.184.282-.275.498-.275.166 0 .31.058.435.174.125.115.187.257.187.423 0 .115-.033.232-.1.348l-3.81 6.026zm13.643-4.53v7.293c0 .33-.062.643-.186.933-.124.29-.3.548-.523.772-.224.224-.48.398-.772.523-.29.124-.61.186-.958.186h-2.44c-.348 0-.668-.062-.958-.186-.292-.125-.545-.3-.76-.523-.217-.224-.387-.48-.51-.772-.126-.29-.188-.602-.188-.934V7.294c0-.697.228-1.278.685-1.743.456-.465 1.033-.697 1.73-.697h2.44c.697 0 1.278.232 1.742.697.464.465.696 1.046.696 1.743m-1.22 0c0-.35-.115-.64-.348-.872-.232-.232-.523-.348-.87-.348h-2.44c-.333 0-.615.116-.848.348-.232.233-.348.523-.348.872v7.294c0 .33.116.613.348.846.233.233.515.348.847.348h2.44c.348 0 .64-.115.87-.348.234-.233.35-.515.35-.847V7.294zm8.515 13.37c.184 0 .33.057.437.173.108.117.162.258.162.424 0 .414-.2.622-.6.622h-2.414c-.2 0-.348-.062-.448-.187-.1-.125-.15-.27-.15-.435 0-.166.055-.307.163-.424.11-.116.254-.174.436-.174h2.415zm2.44-15.212v10.954c0 .2-.06.348-.186.448-.124.1-.27.15-.435.15-.167 0-.308-.055-.424-.163-.117-.108-.175-.253-.175-.435V6.075h-3.634c-.348 0-.64.116-.87.348-.233.233-.35.523-.35.872v9.112c0 .2-.062.348-.187.448-.125.1-.27.15-.436.15-.166 0-.307-.055-.423-.163-.115-.108-.173-.253-.173-.435V7.295c0-.332.062-.643.186-.934.125-.29.3-.546.523-.77.224-.225.48-.403.772-.536.29-.132.61-.2.958-.2h4.233c.414 0 .62.2.62.6m10.955.62v7.27h3.635c.697 0 1.278-.228 1.743-.684.465-.456.697-1.033.697-1.73V8.49c0-.698-.232-1.274-.697-1.73-.465-.457-1.046-.685-1.743-.685h-3.635zm0 8.49v6.1h6.075c.2 0 .35.058.448.174.1.117.15.258.15.424 0 .414-.2.622-.598.622h-6.697c-.398 0-.598-.208-.598-.622V5.452c0-.398.2-.597.598-.597h4.257c1.013 0 1.876.357 2.59 1.07.713.714 1.07 1.57 1.07 2.565v2.44c0 1.012-.357 1.867-1.07 2.564-.714.714-1.577 1.07-2.59 1.07h-3.635zm17.004-9.11v10.953c0 .2-.063.348-.187.448-.125.1-.27.15-.436.15-.166 0-.307-.055-.423-.163-.117-.108-.175-.253-.175-.435V6.075h-3.66c-.332 0-.614.116-.847.348-.232.233-.348.523-.348.872v9.112c0 .2-.062.348-.187.448-.124.1-.27.15-.436.15-.166 0-.307-.055-.423-.163-.117-.108-.175-.253-.175-.435V7.295c0-.697.228-1.278.684-1.743.456-.465 1.032-.697 1.73-.697h4.257c.415 0 .622.2.622.598m3.66.597v9.734h3.66c.33 0 .613-.115.845-.348.233-.233.35-.515.35-.847V7.294c0-.332-.117-.623-.35-.872-.232-.248-.514-.373-.846-.373h-3.66zm0-1.195h3.66c.33 0 .642.062.932.187.29.124.548.3.772.523.224.223.4.48.523.77.124.292.187.61.187.96v7.294c0 .33-.063.643-.187.933-.124.29-.3.548-.523.772-.224.224-.48.398-.772.523-.29.124-.6.186-.933.186h-4.283c-.4 0-.598-.2-.598-.597V.597c0-.198.057-.348.174-.448.116-.1.257-.15.423-.15.415 0 .622.2.622.598v4.257zM203.7 12v4.407c0 .2-.06.348-.186.448-.124.1-.26.15-.41.15-.415 0-.623-.2-.623-.598V12.05l-3.06 4.705c-.134.183-.3.274-.5.274-.165 0-.314-.063-.447-.188-.133-.124-.2-.27-.2-.435 0-.133.042-.25.125-.35l3.336-5.127-3.336-5.13c-.083-.13-.124-.248-.124-.347 0-.166.066-.308.2-.424.132-.117.28-.175.447-.175.216 0 .383.09.5.274l3.06 4.704v-4.38c0-.184.063-.33.188-.437.124-.108.27-.162.436-.162.166 0 .307.05.423.15.116.1.174.248.174.448V9.86l3.188-4.73c.133-.184.29-.275.473-.275.167 0 .312.058.437.174.124.115.186.257.186.423 0 .05-.004.108-.012.173-.007.067-.037.125-.086.175l-3.46 5.13 3.46 5.128c.066.117.1.233.1.35 0 .164-.063.306-.187.422-.125.116-.262.174-.41.174-.217 0-.383-.083-.5-.25L203.702 12zm14.018-6.547v10.954c0 .2-.063.348-.187.448-.124.1-.27.15-.435.15-.166 0-.307-.055-.423-.163-.116-.108-.175-.253-.175-.435V6.075h-3.66c-.33 0-.613.116-.845.348-.233.233-.35.523-.35.872v9.112c0 .2-.06.348-.186.448-.124.1-.27.15-.436.15-.165 0-.307-.055-.423-.163-.116-.108-.174-.253-.174-.435V7.295c0-.697.228-1.278.685-1.743.456-.465 1.033-.697 1.73-.697h4.257c.415 0 .623.2.623.598"/></g></g></g></g></svg>',
MOEXLogo2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 714.5831 123.43025" width="714.583" height="123.43"><defs><clipPath id="a"><path d="M0 595.28h841.89V0H0v595.28z"/></clipPath></defs><g><g><g clip-path="url(#a)" transform="matrix(1.25 0 0 -1.25 -163.576 273.356)"><g><path fill="#494090" d="M209.902 158.69l-4.843-.62-5.052-17.01-3.665-2.23 5.053 1.585 6.525 16.418 1.982 1.858z"/></g><g><path fill="#726aae" d="M211.197 160.142l-5.738-.722-.457-1.592 4.656.59 1.537 1.724z"/></g><g><path fill="#8d3472" d="M174.18 157.547l7.17 4.562 7.495-3.062-8.58-9.883-10.526-4.406 4.44 12.787z"/></g><g><path fill="#6e326a" d="M144.102 128.463l3.353-7.857h3.73v3.075l-7.083 4.783z"/></g><g><path fill="#8c316d" d="M142.86 173.407l-11.184-12.238 1.822-4.307 4.86 2.92 4.502 13.624z"/></g><g><path fill="#68336a" d="M226.98 202.556l3.25-3.88-1.257-.92-3.356.42-4.596 2.89 5.96 1.49z"/></g><g><path fill="#3f3576" d="M312.898 180.39l4.73 2.04 22.82-10.01 11.033-9.262 6.95-10.74-4.834.845-9.603 6.003 1.005 5.486-6.136 5.273-21.107 9.27-3.038-1.358-1.82 2.453z"/></g><g><path fill="#8c316d" d="M208.014 217.33l-.62-7.325 1.367-7.31 4.86-3.934 13.567 3.43 4.838.54 1.985 4.285-7.692 4.306-1.738 2.25-.846.93-6.452 4.185s-.36-1.012-.88-2.45l-8.388 1.096z"/></g><g><path fill="#6e326a" d="M208.014 217.33l.825-14.6 4.857-3.93-2.697-.784-5.137 2.688.512 3.393-16.444 5.547-6.35-5.183-.585 5.607 1.846 2.988 23.174 4.276z"/></g><g><path fill="#7d3773" d="M211 198.016l-1.093-6.884 14.81-15.526-23.345 4.228 4.53 21.263 5.098-3.08z"/></g><g><path fill="#68336a" d="M231.685 208.333l.64-2.863-.85-2.775.63.034 1.982 4.285-2.402 1.318z"/></g><g><path fill="#933f7a" d="M224.43 213.76l-2.694-4.554 10.185-1.916-.236 1.047-5.29 2.985-1.965 2.44z"/></g><g><path fill="#68336a" d="M224.435 213.7l-4.24-5.367h6.163l-1.923 5.366z"/></g><g><path fill="#462846" d="M221.988 209.23l2.577 2.426-.21-2.624-2.367.197z"/></g><g><path fill="#6e326a" d="M210.43 194.894l35.916-2.28-9.218-8.555-12.662-2.674-6.43 1.11-8.31 8.567.703 3.83z"/></g><g><path fill="#7d3773" d="M216.427 182.66l3.756-3.54 3.785-.477 11.466 3.852 2.068 1.844-12.972-2.45-8.103.77z"/></g><g><path fill="#a92f72" d="M201.816 179.95l-.485-2.39 11.683-10.483 16.49-7.06.7.427 2.575-1.994 6.835 1.35-2.7 5.812-12.416 10.217-22.68 4.12z"/></g><g><path fill="#8d3472" d="M201.816 179.95l11.197-12.873 16.49-7.06-2.26-1.404-19.095 5.732-7.345 10.086-8.264-11.905-3.926-3.706-7.444 3.332 20.646 17.798z"/></g><g><path fill="#a92f72" d="M150.203 177.882l17.315 1.33 24.957.746-22.728-18.066.584-6.798-27.406 19.696 7.28 3.092z"/></g><g><path fill="#8d3472" d="M142.924 174.79l-5.13-15.33 11.307-21.035-1.458 9.672-4.718 26.693z"/></g><g><path fill="#7d3773" d="M191.004 179.895l-21.257-18.004-.004-6.353 4.5 1.513 7.108 5.06 20.466 17.84-10.812-.054z"/></g><g><path fill="#a92f72" d="M170.052 155.653l-.312-10.895-5.27-7.613 2.32-6.887 2.212-3.68 4.33-2.898v-3.075h-7.65l-7.835 11.903-8.77 5.922-1.84 10.53 22.815 6.693z"/></g><g><path fill="#6e326a" d="M137.794 159.46l-6.934-19.117 1.94-13.712 2.887-6.024 9.842 6.118-1.36 2.992 1.497 4.943 3.433 3.765-11.306 21.035z"/></g><g><path fill="#6e326a" d="M149.1 138.425l5.287-11.942 5.602-5.877h5.69l-7.832 11.903-8.747 5.915z"/></g><g><path fill="#8d3472" d="M135.688 120.606h12.63l-3.307 7.22-9.323-7.22z"/></g><g><path fill="#3f3576" d="M239.452 159.98l-9.616-14.848-1.334-.215.396-2.153 1.304-1.474-3.067-4.26-11.61 15.52-5.623-.45-1.42-.183-6.402-12.923-5.354-1.22-.383 1.056 5.122 1.8 6.332 16.234 5.7 5.88 14.073-3.893 2.632 1.595 2.576-1.994 6.463 1.456.212.074z"/></g><g><path fill="#3f3576" d="M215.153 142.96l8.316-9.057 5.7.275-3.804 5.335-10.213 3.446z"/></g><g><path fill="#494090" d="M209.902 152.1l2.42-8.378 14.256-5.955-10.856 15.074-5.82-.74z"/></g><g><path fill="#3b316c" d="M226.58 137.767l2.59-3.59 3.05 4.828-2.017 2.285-3.624-3.523z"/></g><g><path fill="#948fc4" d="M249.792 195.84l-23.34-21.626 6.746-5.727 34.168 12.088.68 17.494-18.254-2.23z"/></g><g><path fill="#494090" d="M267.366 180.575l34.992-7.65 11.297 7.782-12.166 1.114-34.124-1.245z"/></g><g><path fill="#726aae" d="M301.623 173.753l5.55-13.827h17.443l-10.96 20.78-12.033-6.953z"/></g><g><path fill="#8e89bb" d="M244.644 164.923l-2.425-4.943 8.046-.054-5.622 4.997z"/></g><g><path fill="#3f3576" d="M302.398 146.683l8.194.375 14.023 12.868-9.515-15.628-4.446-5.276 6.177-3.603-3.682-9.16-6.464 1.92 2.555 5.39 1.843 1.058-9.574 4.637.888 7.418z"/></g><g><path fill="#726aae" d="M306.714 128.27l6.465-1.923-2.268-5.74H299.76l2.928 5.84 4.026 1.822z"/></g><g><path fill="#3f3576" d="M315.025 178.068l24.084-25.783 2.59-15.32 7.713-5.615 2.07-10.745h-8.194l.634 7.345-29.876 16.87 10.567 15.105-9.59 18.143z"/></g><g><path fill="#726aae" d="M343.924 127.95l7.435-7.345h-10.93l3.494 7.345z"/></g><g><path fill="#494090" d="M305.512 159.533l-3.104-13.472h8.065l14.142 13.866H307.17l-1.658-.393z"/></g><g><path fill="#494090" d="M279.15 146.06h14.814l.528 14.724-54.592.042-11.398-15.908 17.04-5.93 10.29-.565 10.28-10.79-3.406-7.027h9.385l-3.112 5.155-.973 7.185-1.847 4.937.025-.002 12.967 8.182z"/></g><g><path fill="#3f3576" d="M266.158 137.882l7.928-10.96-1.994-6.316-5.98 7.027.046 10.25z"/></g><g><path fill="#726aae" d="M242.22 160l-4.53-8.79-.143-16.55 15.384-5.953 6.733 1.485-2.667 7.023-3.99-2.984-7.998 3.133 3.373 9.93 9.33 13.047-15.49-.34z"/></g><g><path fill="#3b316c" d="M219.353 143.25l.415 3.972 2.68-3.72-3.095-.253z"/></g><g><path fill="#8d3472" d="M169.743 155.536l-.004-10.777 4.75 12.476-4.747-1.7z"/></g><g><path fill="#d27cb2" d="M184.84 213.055l-7.274-11.776-25.508-22.636-9.134-3.854 1.726 4.82 13.805 12.354 13.197 8.315 4.765 2.122 8.424 10.653z"/></g><g><path fill="#933f7a" d="M183.42 202.99l-16.855-24.315 24.02.826 8.277.073 2.953.377 4.49 23.04H183.42z"/></g><g><path fill="#b64282" d="M183.367 210.69l.212-6.23 6.35 5.183 16.564-5.287-.217-1.46-22.816-.218-16.544-23.994-17.165-1.023 2.308.983 25.508 22.635 5.8 9.41z"/></g><g><path fill="#b4568e" d="M142.924 174.79l26.82-19.254-22.383-7.457-4.436 26.71z"/></g><g><path fill="#726aae" d="M293.87 159.926V137.21l15.416-3.605 2.155.943-9.817 4.733 5.55 20.646H293.87z"/></g><g><path fill="#726aae" d="M244.644 164.923l-2.453-4.997-2.95-.02-2.514 5.867-3.528 2.714 5.23 1.954 6.217-5.517z"/></g><g><path fill="#948fc4" d="M244.644 164.923l5.622-4.997h-8.074l2.453 4.997z"/></g><g><path fill="#726aae" d="M268.045 198.07l-.68-17.495 46.29.132-22.326 6.797-23.285 10.565z"/></g><g><path fill="#b9b5da" d="M238.428 170.44l11.84-10.515h56.904l-5.55 13.828-34.256 6.822-28.938-10.135z"/></g><g><path fill="#726aae" d="M343.924 127.95l-2.25-1.63-2.856-5.715h5.09l.016 7.345z"/></g><g><path fill="#494090" d="M266.113 127.633l-1.728-1.374-2.33-5.654h4.192l-.134 7.027z"/></g><g><path fill="#726aae" d="M385.99 137.444c3.542 0 5.617 2.263 5.617 5.76 0 3.442-2.075 5.662-5.523 5.662h-5.806v-11.422h5.712zm-11.802 16.66h12.935c6.278 0 10.67-4.385 10.67-10.9 0-6.517-4.392-11.048-10.67-11.048h-6.845v-11.564h-6.09v33.512z"/></g><g><path fill="#726aae" d="M415.267 138.39c3.255 0 5.283 2.024 5.283 5.332 0 2.124-.8 3.82-2.643 4.58-.848.377-1.84.565-3.68.565h-4.44V138.39h5.48zM403.7 154.104h11.046c3.304 0 4.91-.28 6.324-.896 3.447-1.42 5.667-4.627 5.667-9.158 0-3.967-2.078-7.74-5.62-9.16v-.092s.425-.518 1.087-1.746l6.892-12.46h-6.845l-6.607 12.505h-5.855v-12.507h-6.09v33.512z"/></g><g><path fill="#726aae" d="M449.92 125.596c6.422 0 11.048 5.19 11.048 11.988 0 6.514-4.626 11.52-11.048 11.52-6.42 0-11.045-5.006-11.045-11.52 0-6.798 4.626-11.988 11.045-11.988m0 29.078c10.15 0 17.326-7.507 17.326-17.09 0-9.865-7.175-17.558-17.326-17.558-10.15 0-17.323 7.693-17.323 17.558 0 9.583 7.174 17.09 17.323 17.09"/></g><g><path fill="#373535" d="M476.764 122.6c0 11.52 16.842 13.017 16.842 21.878 0 3.595-2.705 6.298-6.81 6.298-3.08 0-5.786-1.913-7.374-4.476l-2.377 1.632c1.82 3.313 5.504 5.925 9.936 5.925 6.205 0 9.985-4.058 9.985-9.192 0-11.008-16.562-12.548-16.655-21.273h17.17v-2.89H476.95c-.093.744-.188 1.444-.188 2.097"/></g><g><path fill="#373535" d="M521.913 136.92c0 7.793-1.724 13.855-7.977 13.855-6.204 0-7.932-6.062-7.932-13.856 0-7.885 1.728-13.947 7.932-13.947 6.253 0 7.977 6.063 7.977 13.946m-19.268 0c0 9.425 2.8 16.936 11.29 16.936 8.538 0 11.337-7.51 11.337-16.937 0-9.47-2.8-16.98-11.336-16.98-8.49 0-11.29 7.51-11.29 16.98"/></g><g><path fill="#373535" d="M531.01 123.392h7.367v24.072c0 .937.048 1.822.048 1.822h-.095s-.327-.654-1.633-1.96l-3.5-3.453-2.05 2.055 7.418 7.367h2.984v-29.903h7.23v-2.89h-17.77v2.89z"/></g><g><path fill="#373535" d="M555.306 126.844c1.26-1.817 3.685-3.778 7.368-3.778 4.528 0 8.166 3.172 8.166 7.65 0 4.48-3.594 7.745-8.304 7.745-2.006 0-4.34-.697-5.97-1.817l-2.055.745 1.775 15.907h15.86v-2.892H559.13l-.977-8.397c-.14-1.164-.28-1.865-.28-1.865h.093c.886.56 3.03 1.262 4.944 1.262 6.578 0 11.288-4.81 11.288-10.685 0-6.067-4.99-10.775-11.38-10.775-3.78 0-7.42 1.677-9.612 4.618l2.1 2.284z"/></g><path fill="#373535" d="M374.168 194.43h3.214v-32.77h-3.214v32.77z"/><g><path fill="#373535" d="M389.13 194.43h3.123l16.732-23.586c1.12-1.63 2.704-4.427 2.704-4.427h.094s-.282 2.702-.282 4.427v23.586h3.217v-32.77h-3.125l-16.733 23.587c-1.118 1.632-2.705 4.428-2.705 4.428h-.09s.278-2.702.278-4.428V161.66h-3.215v32.77z"/></g><g><path fill="#373535" d="M422.01 194.43h3.45l9.087-24.89c.56-1.678 1.26-4.196 1.26-4.196h.092s.652 2.518 1.26 4.196l9.087 24.89h3.45l-12.12-32.77h-3.45l-12.118 32.77z"/></g><g><path fill="#373535" d="M457.408 194.43h18.412v-2.893h-15.196v-11.93h12.446v-2.89h-12.446v-12.165h16.08v-2.89H457.41v32.768z"/></g><g><path fill="#373535" d="M483.755 167.767c2.052-2.003 5.22-3.587 8.483-3.587 3.868 0 6.62 2.19 6.62 5.59 0 8.254-16.316 6.297-16.316 16.455 0 5.36 4.522 8.765 10.3 8.765 3.08 0 6.434-1.073 8.672-3.17l-1.586-2.704c-1.77 1.678-4.613 2.796-7.225 2.796-3.728 0-6.85-2.052-6.85-5.5 0-7.876 16.312-5.78 16.312-16.312 0-5.035-3.68-8.996-10.02-8.996-3.776 0-7.598 1.49-10.3 4.193l1.91 2.47z"/></g><g><path fill="#373535" d="M516.892 191.537h-11.747v2.893h26.757v-2.893h-11.795V161.66h-3.215v29.877z"/></g><g><path fill="#373535" d="M558.4 164.555c3.965 0 6.436 2.474 6.436 6.393 0 3.92-2.658 6.484-6.482 6.484h-8.35v-12.877h8.395zm-.42 15.676c3.312 0 5.553 2.337 5.553 5.74 0 3.358-2.148 5.6-5.648 5.6h-7.882v-11.34h7.977zm-11.196 14.23h11.196c5.133 0 8.863-3.125 8.863-8.258 0-3.402-1.63-5.876-4.15-7.136v-.093c3.357-.934 5.505-4.198 5.505-8.118 0-5.83-4.34-9.19-9.844-9.19h-11.57v32.796z"/></g><g><path fill="#373535" d="M593.068 174.914l-4.29 11.897c-.562 1.54-1.26 4.29-1.26 4.29h-.095s-.7-2.75-1.26-4.29l-4.338-11.896h11.243zm-7.326 19.547h3.453l12.037-32.796h-3.406l-3.78 10.45h-13.2l-3.735-10.45h-3.404l12.036 32.797z"/></g><g><path fill="#373535" d="M602.498 194.46v-2.89h11.756v-29.906h3.22v29.905l22.412-.002v-29.904h3.217v29.904h11.805v2.893h-52.41z"/></g><g><path fill="#373535" d="M661.15 194.46h3.22v-29.905h15.207v-2.89H661.15v32.796z"/></g><g><path fill="#373535" d="M683.212 194.46h18.428v-2.892h-15.208v-11.94h12.455v-2.894h-12.455v-12.18h16.095v-2.89h-19.315v32.797z"/></g></g></g></g></svg>',
MOEXLogo3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 528 133" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Slice 1</title><defs><path d="M19.162 10.954l-7.943 7.94L.365 8.044 8.31.1l10.852 10.854" id="a"/><path d="M.22 8.895L8.16.955l10.853 10.85-7.942 7.943L.22 8.895" id="c"/></defs><g fill="none" fill-rule="evenodd"><path fill="#1A1918" d="M190.877 40.828L180.585 55.66l-10.23-14.832v19.857h-6.357V28.6h4.964l11.623 16.406L192.33 28.6h4.904v32.085h-6.357V40.828m28.755-6.72c-1.412 0-2.735.263-3.965.787-1.232.525-2.3 1.252-3.21 2.18-.907.93-1.614 2.038-2.118 3.33-.506 1.292-.758 2.724-.758 4.298 0 1.574.252 3.007.756 4.298.503 1.294 1.21 2.414 2.118 3.36.908.95 1.977 1.678 3.21 2.18 1.23.507 2.552.758 3.964.758 1.453 0 2.795-.26 4.025-.787 1.23-.523 2.3-1.25 3.21-2.18.907-.926 1.612-2.036 2.118-3.33.504-1.29.758-2.722.758-4.296 0-1.574-.253-3.006-.757-4.298-.506-1.292-1.21-2.4-2.12-3.33-.907-.928-1.977-1.655-3.208-2.18-1.23-.524-2.572-.787-4.025-.787zm0 27.365c-2.38 0-4.58-.424-6.598-1.272-2.02-.846-3.775-2.005-5.27-3.48-1.493-1.472-2.655-3.24-3.482-5.296-.827-2.058-1.24-4.3-1.24-6.72 0-2.422.413-4.662 1.24-6.72s1.99-3.823 3.483-5.298c1.494-1.472 3.25-2.633 5.27-3.48 2.017-.848 4.216-1.272 6.597-1.272 2.38 0 4.592.424 6.63 1.27 2.036.85 3.792 2.01 5.266 3.482 1.473 1.475 2.633 3.24 3.48 5.298.848 2.058 1.272 4.298 1.272 6.72 0 2.42-.424 4.662-1.27 6.72-.85 2.058-2.01 3.824-3.482 5.297-1.474 1.475-3.23 2.634-5.267 3.48-2.035.85-4.246 1.274-6.627 1.274zm52.548-8.9c-.726 1.413-1.595 2.664-2.603 3.754-1.01 1.09-2.058 1.998-3.148 2.724-1.334.89-2.707 1.515-4.12 1.88-1.412.362-2.986.544-4.72.544-2.22 0-4.37-.333-6.447-1-2.08-.666-3.987-1.886-5.723-3.662-1.29-1.29-2.38-2.955-3.267-4.994-.888-2.037-1.332-4.348-1.332-6.93 0-2.22.385-4.42 1.153-6.6.765-2.18 1.935-4.077 3.51-5.69.525-.525 1.16-1.06 1.908-1.605.747-.544 1.614-1.05 2.604-1.513.988-.463 2.117-.837 3.39-1.12 1.27-.282 2.694-.424 4.268-.424 1.736 0 3.33.192 4.783.575 1.453.385 2.744.92 3.875 1.606 1.007.565 1.998 1.3 2.966 2.21.97.907 1.836 1.927 2.604 3.057l-5.39 3.814c-.444-.727-.977-1.432-1.602-2.12-.627-.685-1.303-1.25-2.03-1.694-.644-.364-1.402-.666-2.27-.908-.868-.243-1.866-.364-2.995-.364-1.534 0-2.886.223-4.056.667-1.172.445-2.24 1.15-3.21 2.12-.766.766-1.462 1.795-2.087 3.087-.627 1.293-.94 2.907-.94 4.844 0 1.695.294 3.21.88 4.54.584 1.332 1.32 2.443 2.21 3.33.805.808 1.784 1.444 2.934 1.907 1.152.466 2.493.697 4.03.697 1.21 0 2.297-.16 3.266-.484.97-.322 1.897-.807 2.785-1.453.687-.524 1.365-1.16 2.03-1.907.667-.746 1.22-1.644 1.665-2.694l5.086 3.813m18.154-7.753l-5.507 4.662v11.2h-6.357V28.598h6.357v13.257L300.27 28.6h8.415l-13.622 11.986 14.47 20.1h-7.75L290.34 44.824m37.294-10.716c-1.412 0-2.735.263-3.965.787-1.234.525-2.303 1.252-3.21 2.18-.91.93-1.616 2.038-2.12 3.33-.504 1.292-.756 2.724-.756 4.298 0 1.574.252 3.007.756 4.298.505 1.294 1.212 2.414 2.12 3.36.908.95 1.977 1.678 3.21 2.18 1.23.507 2.552.758 3.964.758 1.453 0 2.795-.26 4.025-.787 1.23-.523 2.3-1.25 3.207-2.18.908-.926 1.613-2.036 2.12-3.33.503-1.29.757-2.722.757-4.296 0-1.574-.254-3.006-.758-4.298-.506-1.292-1.21-2.4-2.12-3.33-.907-.928-1.977-1.655-3.208-2.18-1.23-.524-2.573-.787-4.026-.787zm0 27.365c-2.38 0-4.58-.424-6.598-1.272-2.02-.846-3.775-2.005-5.267-3.48-1.497-1.472-2.657-3.24-3.483-5.296-.828-2.058-1.242-4.3-1.242-6.72 0-2.422.414-4.662 1.242-6.72.826-2.058 1.986-3.823 3.48-5.298 1.493-1.472 3.25-2.633 5.268-3.48 2.018-.848 4.217-1.272 6.598-1.272 2.38 0 4.592.424 6.63 1.27 2.036.85 3.792 2.01 5.266 3.482 1.472 1.475 2.632 3.24 3.48 5.298.847 2.058 1.27 4.298 1.27 6.72 0 2.42-.423 4.662-1.27 6.72-.85 2.058-2.01 3.824-3.48 5.297-1.475 1.475-3.23 2.634-5.268 3.48-2.037.85-4.248 1.274-6.63 1.274zm44.1-6.78c.77-.08 1.415-.344 1.943-.788.445-.363.79-.868 1.033-1.514.242-.643.365-1.27.365-1.874 0-.928-.164-1.624-.486-2.09-.326-.463-.55-.735-.67-.816-.445-.404-1.043-.687-1.793-.85-.748-.16-1.447-.24-2.096-.24h-13.057v8.293h12.572c.69 0 1.418-.04 2.187-.12zm-1.3-14.167c.587-.08 1.06-.242 1.426-.485.244-.16.506-.44.79-.845.285-.403.427-1.01.427-1.817 0-.322-.062-.715-.183-1.18-.122-.464-.465-.857-1.034-1.18-.242-.122-.515-.222-.82-.303-.305-.08-.607-.14-.912-.182-.303-.04-.576-.06-.818-.06h-12.337v6.174h11.85c.487 0 1.022-.04 1.61-.12zm.09-11.836c.823.06 1.64.18 2.444.363.806.182 1.592.454 2.357.817.766.364 1.45.848 2.055 1.454.885.888 1.45 1.816 1.69 2.784.242.97.363 1.817.363 2.543 0 .97-.102 1.798-.303 2.484-.2.687-.443 1.272-.727 1.756-.283.483-.574.867-.877 1.15-.302.282-.554.504-.757.665.57.242 1.17.596 1.806 1.06.633.464 1.236 1.16 1.81 2.088.448.808.766 1.604.95 2.392.184.787.275 1.604.275 2.45 0 1.737-.282 3.17-.846 4.3-.565 1.13-1.192 2.038-1.877 2.724-1.29 1.33-2.694 2.157-4.207 2.48-1.513.324-2.976.484-4.388.484h-19.676V28.6h17.58c.725 0 1.5.03 2.326.09zm47.716 23.883c-.727 1.413-1.596 2.664-2.604 3.754-1.01 1.09-2.06 1.998-3.15 2.724-1.33.89-2.704 1.515-4.116 1.88-1.412.362-2.986.544-4.72.544-2.22 0-4.37-.333-6.448-1-2.08-.666-3.986-1.886-5.723-3.662-1.293-1.29-2.38-2.955-3.27-4.994-.89-2.037-1.33-4.348-1.33-6.93 0-2.22.382-4.42 1.15-6.6.765-2.18 1.935-4.077 3.51-5.69.524-.525 1.16-1.06 1.907-1.605.746-.544 1.614-1.05 2.604-1.513.99-.463 2.118-.837 3.39-1.12 1.27-.282 2.695-.424 4.27-.424 1.733 0 3.327.192 4.78.575 1.453.385 2.744.92 3.875 1.606 1.008.565 1.998 1.3 2.967 2.21.97.907 1.836 1.927 2.604 3.057l-5.39 3.814c-.444-.727-.978-1.432-1.603-2.12-.627-.685-1.302-1.25-2.03-1.694-.643-.364-1.4-.666-2.268-.908-.87-.243-1.868-.364-2.997-.364-1.536 0-2.887.223-4.057.667-1.17.445-2.24 1.15-3.21 2.12-.766.766-1.46 1.795-2.086 3.087-.627 1.293-.94 2.907-.94 4.844 0 1.695.293 3.21.88 4.54.583 1.332 1.32 2.443 2.208 3.33.807.808 1.785 1.444 2.936 1.907 1.15.466 2.492.697 4.027.697 1.21 0 2.3-.16 3.268-.484.97-.322 1.896-.807 2.785-1.453.686-.524 1.363-1.16 2.03-1.907.665-.746 1.218-1.644 1.663-2.694l5.087 3.813m18.163-7.753l-5.508 4.662v11.2h-6.358V28.598h6.358v13.257L446.33 28.6h8.413l-13.62 11.986 14.468 20.1h-7.746L436.4 44.823m35.658 1.817h8.535l-4.297-8.597-4.238 8.597zm11.562 6.054h-14.59l-3.814 7.99h-7.022l15.74-32.085h4.784l15.86 32.084h-7.022l-3.936-7.99zm25.244-18.04c-.525 0-1.058.04-1.603.12-.543.08-1.06.3-1.543.66-.322.2-.615.53-.877.99-.265.46-.396 1.03-.396 1.71 0 1.2.383 2.123 1.15 2.763.768.64 1.977.96 3.634.96h11.683v-7.204h-12.045zm-4.177 26.03h-7.506l8.476-13.317c-.968-.203-1.937-.546-2.906-1.033-.97-.485-1.796-1.073-2.48-1.762-.93-.93-1.546-1.952-1.85-3.066-.302-1.114-.452-2.197-.452-3.25 0-1.052.15-2.176.453-3.37.305-1.195.98-2.32 2.03-3.37.726-.73 1.484-1.287 2.27-1.672.788-.384 1.575-.668 2.36-.85.79-.182 1.555-.294 2.303-.334.746-.04 1.44-.06 2.088-.06h17.8v32.085h-6.36V47.912h-8.23l-7.992 12.773zM183.007 98.97c.444 0 1.038-.052 1.786-.153.746-.1 1.402-.393 1.967-.878.404-.365.727-.83.97-1.394.24-.565.362-1.17.362-1.817 0-.645-.12-1.25-.363-1.817-.244-.565-.567-1.008-.97-1.33-.485-.404-1.05-.657-1.696-.758-.646-.1-1.25-.15-1.816-.15h-12.896v8.293h12.653zm8.354-26.034v6.054h-21.005v5.63h9.202c1.25 0 2.462.02 3.632.06 1.17.042 2.27.152 3.3.334 1.03.18 1.997.484 2.905.908.908.424 1.745 1 2.512 1.725 1.01.97 1.715 2.038 2.12 3.21.402 1.17.605 2.46.605 3.873 0 1.898-.323 3.442-.968 4.632-.646 1.19-1.332 2.13-2.058 2.815-.727.687-1.767 1.332-3.118 1.937-1.353.606-3.057.908-5.116.908H164V72.936h27.363zm14.123 32.086h-4.36V72.936h6.358v20.826l16.29-20.826h4.418v32.086h-6.356V84.196l-16.347 20.826m48.37-18.465c.447 0 1.003-.05 1.673-.152.666-.1 1.244-.356 1.73-.764.122-.12.356-.423.7-.912.344-.488.518-1.2.518-2.136 0-.813-.133-1.423-.397-1.83-.264-.407-.498-.71-.7-.915-.446-.408-.952-.652-1.52-.733-.567-.08-1.133-.122-1.7-.122h-11.607v7.567h11.302zm.564-13.62c2.137 0 3.842.302 5.113.907 1.272.605 2.23 1.232 2.875 1.877.646.607 1.24 1.465 1.786 2.575.545 1.11.817 2.573.817 4.388 0 1.817-.283 3.31-.85 4.48-.565 1.172-1.173 2.1-1.82 2.786-.607.645-1.255 1.15-1.943 1.513-.688.362-1.356.635-2.004.816-.647.18-1.274.302-1.88.362-.61.062-1.136.092-1.58.092H242.55v12.29h-6.357V72.936h18.223zm27.626 17.253l-8.78 14.832h-7.87l12.11-19.252-11.26-12.894h7.747l11.2 13.137V72.876h6.236v13.137l11.197-13.137h7.75l-11.26 12.894 12.108 19.252h-7.872l-8.777-14.832-3.148 3.39v11.442h-6.236V93.398l-3.148-3.208m44.738.787h8.535l-4.296-8.596-4.237 8.598zm11.563 6.054h-14.59l-3.815 7.993h-7.02l15.74-32.086h4.782l15.862 32.086h-7.024l-3.935-7.99z"/><path fill="#D12138" d="M0 .622h132.378V132.94H0V.622z"/><path fill="#FFF" d="M43.935 81.245v-28.62l14.32 14.297-14.32 14.323zM74.13 66.922l14.315-14.32v28.65L74.13 66.92zM32.71 42.98v46.924l11.225 7.236v-.02l22.25-22.25 22.26 22.264v.006l11.22-7.236V42.98l-11.22-6.257v.005l-22.26 22.265-22.25-22.246v-.024L32.71 42.98z"/><g transform="translate(51 52)"><mask id="b"><use xlink:href="#a"/></mask><path d="M19.162 10.954l-7.943 7.94L.365 8.044 8.31.1l10.852 10.854" mask="url(#b)"/></g><g transform="translate(62 62)"><mask id="d"><use xlink:href="#c"/></mask><path d="M.22 8.895L8.16.955l10.853 10.85-7.942 7.943L.22 8.895" mask="url(#d)"/></g><path fill="#FFF" d="M71.665 53.508l7.908 7.968L60.69 80.363l-7.933-7.944 18.908-18.913"/></g></svg>',
"alarm-clock":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><path stroke="null" d="M4.81.048C2.598.048.8 1.848.8 4.058c0 .754.225 1.445.59 2.05C2.82 3.82 5.095 2.113 7.77 1.413 7.033.593 5.992.046 4.81.046v.002zM16.152.046c-1.185 0-2.226.546-2.96 1.368 2.683.7 4.943 2.406 6.377 4.694.36-.605.59-1.294.59-2.05 0-2.208-1.8-4.01-4.01-4.01V.045zm-5.65 2.508c-5.087 0-9.203 4.16-9.203 9.248 0 1.987.61 3.827 1.68 5.33l-1.32 1.685a1.25 1.25 0 1 0 1.96 1.55l1.09-1.41c1.58 1.274 3.59 2.048 5.79 2.048 2.18 0 4.21-.74 5.78-2.004l1.05 1.37a1.25 1.25 0 1 0 1.954-1.55l-1.276-1.64c1.082-1.51 1.686-3.37 1.686-5.37 0-5.09-4.114-9.25-9.202-9.25zm0 2.368c3.785 0 6.835 3.095 6.835 6.88 0 1.8-.694 3.427-1.822 4.646a1.24 1.24 0 0 0-.092.092c-1.242 1.29-2.98 2.096-4.92 2.096-3.785 0-6.835-3.05-6.835-6.833 0-3.785 3.05-6.88 6.835-6.88zm-.09 1.185a.948.948 0 0 0-.138.044.948.948 0 0 0-.73.96v4.29l-1.822 1.91a.95.95 0 1 0 1.368 1.32l2.096-2.18.275-.274V7.11a.948.948 0 0 0-1.05-1z"/></svg>',
base:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="2 6 27.1 22" width="27.1" height="22"><path d="M12.1 24h-2v-1h.4c-.5-.3-.9-.7-1.4-1.2v.2H4v-1h4.3c-.3-.3-.5-.7-.7-1H4v-1h3c-.2-.3-.3-.7-.4-1H4v-1h2.3c-.2-.8-.3-1.6-.3-2.5 0-1.6.4-3.1 1-4.5H2v18h15v-3h-.5c-1.6 0-3.1-.4-4.4-1zM9 26H4v-1h5v1zm0-2H4v-1h5v1zm6 2h-5v-1h5v1zm8.5-6.6c1-1.4 1.5-3 1.5-4.9C25 9.8 21.2 6 16.5 6S8 9.8 8 14.5s3.8 8.5 8.5 8.5c1.8 0 3.5-.6 4.9-1.5l5.6 5.6 2.1-2.1-5.6-5.6zM22 18.1L20.1 20c-1 .7-2.3 1.1-3.6 1.1-3.6 0-6.5-2.9-6.5-6.5S12.9 8 16.5 8s6.5 2.9 6.5 6.5c0 1.3-.4 2.5-1 3.6z"/></svg>',
"bug-report":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.000001 29.999999" width="30" height="30" enable-background="new 0 0 595.3 841.9"><path d="M23 11h-2.8c-.5-.8-1.1-1.5-1.8-2L20 7.4 18.6 6l-2.2 2.2C16 8.1 15.5 8 15 8c-.5 0-1 .1-1.4.2L11.4 6 10 7.4 11.6 9c-.7.5-1.3 1.2-1.8 2H7v2h2.1c-.1.3-.1.7-.1 1v1H7v2h2v1c0 .3 0 .7.1 1H7v2h2.8c1 1.8 3 3 5.2 3s4.2-1.2 5.2-3H23v-2h-2.1c.1-.3.1-.7.1-1v-1h2v-2h-2v-1c0-.3 0-.7-.1-1H23v-2zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"/></svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="22" height="22"><path d="M6.5 1C5.67 1 5 1.67 5 2.5v1C5 4.33 5.67 5 6.5 5S8 4.33 8 3.5v-1C8 1.67 7.33 1 6.5 1zm8 0c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5S16 4.33 16 3.5v-1c0-.83-.67-1.5-1.5-1.5zM1 4v16h19V4h-3.05c-.238 1.164-1.262 2-2.45 2-1.186-.002-2.208-.838-2.445-2H8.95C8.71 5.164 7.687 6 6.5 6c-1.186-.002-2.208-.838-2.445-2H1zm20 2v15H3v1h19V6h-1zM2 8h17v11H2V8zm3 1v3h3V9H5zm4 0v3h3V9H9zm4 0v3h3V9h-3zm-8 4v3h3v-3H5zm4 0v3h3v-3H9zm4 0v3h3v-3h-3z"/></svg>',
"chat-add-people":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17"><circle cx="10" cy="6" r="3"/><path d="M10 10c-4.575 0-6 3.333-6 3.333V15h12v-1.667S14.575 10 10 10zM2 5v6h2V5zM6 7v2H0V7z"/></svg>',"chat-new-chat":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34"><path d="M21.197 2.06c-7.07 0-12.8 5.83-12.8 13.027 0 7.14 5.644 12.934 12.638 13.024v5.544l8.747-8.902C32.372 22.355 34 18.89 34 15.03 34 7.832 28.267 2 21.197 2zM10.463 27.674v-1.58l-1.275-.017c-3.642-.046-6.606-3.1-6.606-6.806 0-3.053 1.986-5.644 4.71-6.505.16-.984.417-1.935.764-2.844C3.518 10.52 0 14.45 0 19.246c0 4.7 3.433 8.64 7.88 9.33V34l6.377-6.49c-.762-.445-1.48-.957-2.146-1.533l-1.644 1.674z"/></svg>',
"chat-quote":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 24"><path d="M32 24V0L20 12v12zm-20 0V0L0 12v12z"/></svg>',chat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 6 23 21" width="23" height="21"><path d="M22 6H5v12h1v4l4-4h3v-6h9V6zm-8 7v10h8l4 3v-3h1V13H14z"/></svg>',"close-cross":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9"><path d="M2 1L1 2l2.5 2.5L1 7l1 1 2.5-2.5L7 8l1-1-2.5-2.5L8 2 7 1 4.5 3.5z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="15" height="15" enable-background="new 0 0 24 24" version="1"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.9 13.5l-1.4 1.4-3.5-3.5-3.5 3.5-1.4-1.4 3.5-3.5-3.5-3.5 1.4-1.4 3.5 3.5 3.5-3.5 1.4 1.4-3.5 3.5 3.5 3.5z"/></svg>',
comment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50.008 0C29.768 0 9.526.342 7.144 1.03.544 2.93.4 3.64.066 35.444-.097 50.977.04 65.6.374 67.94c.808 5.67 3.695 8.535 9.47 9.398 6.977 1.044 7.848 2.302 7.848 11.355 0 4.23.436 8.537.97 9.57 1.826 3.543 4.7 2.06 15.778-8.146 5.987-5.515 11.518-10.438 12.29-10.938.772-.5 11.54-1.13 23.93-1.397 25.646-.554 26.73-.85 28.54-7.83.665-2.57.923-14.208.738-33.35-.32-33.097-.434-33.663-7.068-35.575C90.488.34 70.248 0 50.008 0zM15.002 20.608h69.94v10.37h-69.94V20.61zm0 25.927h69.94v10.37h-69.94v-10.37z"/><path fill-opacity="0" d="M64.358-.26h52.402v6.945H64.358z"/></svg>',
document:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="50" height="50"><title/><desc/><g fill="none" fill-rule="evenodd"><g fill="#929292"><path d="M19.5 3H9.003C7.897 3 7 3.898 7 5.007v22.986C7 29.1 7.89 30 8.997 30h15.006C25.106 30 26 29.102 26 28.01V10l-6-7h-.5zM19 4H8.996C8.446 4 8 4.455 8 4.995v23.01c0 .55.455.995 1 .995h15c.552 0 1-.445 1-.993V11h-4.002C19.894 11 19 10.113 19 8.994V4zm1 .5v4.49c0 .558.45 1.01.997 1.01H24.7L20 4.5zM10 10zm0-3zm0 6zm0 3zm0 3zm0 3zm0 3z"/></g></g></svg>',
edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M0 46l35-35 14 14-35 35H0zM39 7l6-6c5-5 19 9 14 14l-6 6z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 12"><path d="M4.09 12V6.526h1.857l.278-2.133H4.09V3.03c0-.617.173-1.037 1.068-1.037H6.3V.083C6.102.06 5.425 0 4.636 0 2.99 0 1.862.994 1.862 2.82v1.573H0v2.133h1.862V12H4.09z"/></svg>',"flag-ar":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#74acdf" d="M0 8h16v3H0zM0 0h16v3H0z"/><circle fill="#f6b40e" fill-opacity=".5" cx="8" cy="5.5" r="2"/><circle fill="#f6b40e" cx="8" cy="5.5" r="1"/></svg>',
"flag-au":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#00008b" d="M0 0h16v11H0z"/><path fill="#fff" d="M0 0v1.043l.5.357H0v2.2h.498L0 3.955V5h1.46l.94-.672V5h2.2v-.67l.94.67H7V3.957L6.5 3.6H7V1.4h-.5l.5-.357V0H5.537L4.6.67V0H2.4v.672L1.46 0H0zm12 5h1v1h-1z"/><path fill="red" d="M0 0v.307L1.67 1.5h.86L.43 0H0zm3 0v2H0v1h3v2h1V3h3V2H4V0H3zm3.57 0l-2.1 1.5h.86L7 .307V0h-.43zm-4.9 3.5L0 4.693V5h.43l2.1-1.5h-.86zm2.8 0L6.57 5H7v-.307L5.33 3.5h-.86z"/><circle fill="#fff" cx="12.5" cy="1.5" r="1"/><circle fill="#fff" cx="14.5" cy="3.5" r="1"/><circle fill="#fff" cx="9.5" cy="4.5" r="1"/><circle fill="#fff" cx="11.5" cy="9.5" r="1"/><path fill="#fff" d="M3 6.5l-1 1v1l1 1h1l1-1v-1l-1-1H3z"/></svg>',
"flag-br":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#009b3a" d="M0 0h16v11H0z"/><path fill="#fedf00" d="M8 1l7 4.5L8 10 1 5.5z"/><circle fill="#002776" cx="8" cy="5.5" r="3"/><path fill="#fff" d="M5.424 3.97c-.114.19-.207.394-.276.606 2.325-.12 4.046.182 5.635 2.037.086-.218.147-.445.18-.677C9.39 4.156 7.72 3.89 5.423 3.97z"/></svg>',"flag-btc":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill="#f68f2d" d="M10.67 7.597c.617-.314 1.003-.868.913-1.79C11.463 4.547 10.375 4.12 9 4V2.258H8V4H7V2.258H6V4c-.23.005-.438.014-.66.014V4.01L3.873 4v1.144s.787-.015.774 0c.43 0 .572.25.612.466v4.787c-.02.135-.1.352-.4.352.013.01-.776 0-.776 0L3.874 12H6v1.793h1V12h1v1.793h1V12c1.79-.103 3.042-.524 3.197-2.204.126-1.352-.51-1.955-1.527-2.2zM7.013 5.22c.6 0 2.585-.19 2.585 1.063 0 1.202-1.984 1.06-2.585 1.06zm0 5.538V8.416c.722 0 3.08-.207 3.08 1.17 0 1.322-2.358 1.17-3.08 1.172z"/><path fill="#f68f2d" d="M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm0 1.234A6.766 6.766 0 0 1 14.766 8 6.766 6.766 0 0 1 8 14.766 6.766 6.766 0 0 1 1.234 8 6.766 6.766 0 0 1 8 1.234z"/></svg>',
"flag-ca":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="red" d="M0 0h4v11H0zm12 0h4v11h-4zM6.75 2.5l.25 2L5.5 4l-1 .75L5 6l1 .5V7h1.5v1.877h1V7H10v-.5l1-.5.5-1.25-1-.75-1.5.5.2-2L8 1.75z"/></svg>',"flag-ch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#d52b1e" d="M0 0h16v11H0z"/><path fill="#fff" d="M7 2v2H5v3h2v2h3V7h2V4h-2V2H7z"/></svg>',"flag-cn":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#de2910" d="M0 0h16v11H0z"/><circle fill="#ffde00" cx="5.5" cy="1.5" r=".5"/><circle fill="#ffde00" cx="5.5" cy="4.5" r=".5"/><circle fill="#ffde00" cx="6.5" cy="2.5" r=".5"/><circle fill="#ffde00" cx="6.5" cy="3.5" r=".5"/><path fill="#ffde00" d="M2.97 1.047l.587 1.19 1.314.192-.95.925.225 1.31-1.175-.62-1.177.62.225-1.31-.95-.927 1.313-.192z"/></svg>',
"flag-cz":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#d7141a" d="M0 5.5h16V11H0z"/><path fill="#11457e" d="M8 5.5L0 11V0z"/><path fill="\u2116000" fill-opacity=".15" d="M0 0l6 .5h9.5l.5 5V0z" class="flag-shade"/></svg>',"flag-de":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#ffce00" d="M0 0h16v11H0z"/><path fill="#d00" d="M0 4h16v3H0z"/><path d="M0 0h16v4H0z"/></svg>',
"flag-es":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#ffc400" d="M0 0h16v11H0z"/><path fill="#c60b1e" d="M0 8h16v3H0zm0-8h16v3H0zm7 5v2c0 .278-.446.5-1 .5S5 7.28 5 7V5z"/><path fill="#ffc400" fill-opacity=".5" d="M5 6h2v2H5z"/><path fill="#ccc" d="M6 5h1v1H6zM7.5 4.5H8v3h-.5zM4 4.5h.5v3H4z"/><path fill="#c60b1e" d="M6 4s-.9 0-1 .268c-.1.268.3.532 1 .632.7-.1 1.1-.364 1-.632C6.9 4 6 4 6 4z"/></svg>',"flag-eu":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#039" d="M0 0h16v11H0z"/><path fill="#fc0" d="M8 2h1v1H8zM6 3h1v1H6zM5 5h1v1H5zm1 2h1v1H6zm2 1h1v1H8zm2-1h1v1h-1zm1-2h1v1h-1zm-1-2h1v1h-1z"/></svg>',
"flag-fa":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#239f40" d="M0 0h16v3H0z"/><path fill="#da0000" d="M0 8h16v3H0zm7.7-1V4h.6v3zM8 7c-.7-.7-1.3-1.6-.8-3-.7 1-.8 2.7.8 3zM7 4c-.6.7-.6 1.8-.4 2.6-.7-1-.4-2 .4-2.6zm1 3c.7-.7 1.3-1.6.8-3 .7 1 .8 2.7-.8 3zm1-3c.6.7.6 1.8.4 2.6.7-1 .4-2-.4-2.6z"/></svg>',"flag-fr":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#002395" d="M0 0h5v11H0z"/><path fill="#ed2939" d="M11 0h5v11h-5z"/></svg>',
"flag-fx":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#333" d="M0 0v10h2.5V6H6V4H2.5V2H6V0zm15.5 0H13L6.5 10H9z"/><path fill="#333" d="M7 0h3l6 10h-3z"/></svg>',"flag-gr":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#0d5eaf" d="M0 0v2h2V0H0zm4 0v2h2V1h10V0H4zm2 2.5v1h10v-1H6zM0 4v2h2V4H0zm4 0v2h12V5H6V4H4zM0 7.5v1h16v-1H0zM0 10v1h16v-1H0z"/></svg>',"flag-il":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#0038b8" d="M0 1h16v2H0zM0 8h16v2H0z"/><path fill="#0038b8" color="#000" d="M5.834 4.25L8 8l.217-.375 1.95-3.375H5.833zm.867.5h2.6L8 7 6.7 4.75z"/><path fill="#0038b8" d="M8 3l-.217.375-1.95 3.375h4.333L8 3zm0 1l1.3 2.25H6.7L8 4z"/></svg>',
"flag-in":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#f93" d="M0 0h16v3H0z"/><path fill="#128807" d="M0 8h16v3H0z"/><circle fill="#008" cx="8" cy="5.5" r="1.5"/><circle fill="#fff" cx="8" cy="5.5" opacity=".7" r="1.25"/><circle fill="#008" cx="8" cy="5.5" r=".4"/></svg>',"flag-it":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#009246" d="M0 0h5v11H0z"/><path fill="#ce2b37" d="M11 0h5v11h-5z"/></svg>',
"flag-jp":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><circle fill="#bc002d" cx="8" cy="5.5" r="3.25"/><path fill="#000" fill-opacity=".15" d="M0 0v11h16V0zm.5.5h15v10H.5z" class="flag-shade"/></svg>',"flag-ko":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#c60c30" d="M9.27 2.782c-1.502-.7-3.287-.05-3.987 1.45-.35.752-.15 2.19.6 2.54l4.88-.1c.63-1.487-.03-3.207-1.493-3.89z"/><path fill="#003478" d="M6.73 8.218a3 3 0 0 0 3.987-1.45 1.5 1.5 0 0 0-.725-1.994 1.5 1.5 0 0 0-1.994.725 1.5 1.5 0 0 1-1.993.725 1.5 1.5 0 0 1-.767-1.896A3 3 0 0 0 6.73 8.217z"/><path fill-opacity=".5" d="M3.1 7.2l2 2-.8.8-2-2zM11.7 1l2 2-.8.8-2-2zM12.9 7.2l-2 2 .8.8 2-2zM4.3 1l-2 2 .8.8 2-2z"/><path fill-opacity=".15" d="M0 0v11h16V0zm.5.5l15 .1v9.9H.5z" class="flag-shade"/></svg>',
"flag-nl":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#ae1c28" d="M0 0h16v4H0z"/><path fill="#21468b" d="M0 7h16v4H0z"/></svg>',"flag-nz":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#00008b" d="M0 0h16v11H0z"/><path fill="#fff" d="M0 0v1.043l.5.357H0v2.2h.498L0 3.955V5h1.46l.94-.672V5h2.2v-.67l.94.67H7V3.957L6.5 3.6H7V1.4h-.5l.5-.357V0H5.537L4.6.67V0H2.4v.672L1.46 0H0z"/><path fill="red" d="M0 0v.307L1.67 1.5h.86L.43 0zm3 0v2H0v1h3v2h1V3h3V2H4V0zm3.57 0l-2.1 1.5h.86L7 .307V0zm-4.9 3.5L0 4.693V5h.43l2.1-1.5zm2.8 0L6.57 5H7v-.307L5.33 3.5z"/><circle fill="red" cx="12.5" cy="1.5" r="1"/><circle fill="red" cx="14.5" cy="3.5" r="1"/><circle fill="red" cx="9.5" cy="4.5" r="1"/><circle fill="red" cx="11.5" cy="9.5" r="1"/></svg>',
"flag-pl":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#dc143c" d="M0 6h16v5H0z"/><path fill-opacity=".15" d="M0 0v6L.5.5h15L16 6V0z" class="flag-shade"/></svg>',"flag-ro":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fcd116" d="M0 0h16v11H0z"/><path fill="#002b7f" d="M0 0h5v11H0z"/><path fill="#ce1126" d="M11 0h5v11h-5z"/></svg>',"flag-ru":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#0039a6" d="M0 0h16v11H0z"/><path fill="#d52b1e" d="M0 8h16v3H0z"/><path fill="#fff" d="M0 0h16v4H0z"/><path fill-opacity=".15" d="M0 0v4L.5.5h15L16 4V0z" class="flag-shade"/></svg>',
"flag-th":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#ed1c24" d="M0 0v2h16V0H0zm0 9v2h16V9H0z"/><path fill="#241d4f" d="M0 4h16v3H0z"/></svg>',"flag-tr":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#e30a17" d="M0 0h16v11H0z"/><path fill="#fff" d="M5.1 2a3.5 3.5 0 0 0-3.5 3.5A3.5 3.5 0 0 0 5.1 9a3.5 3.5 0 0 0 2.79-1.393A2.9 2.9 0 0 1 5.9 8.4 2.9 2.9 0 0 1 3 5.5a2.9 2.9 0 0 1 2.9-2.9 2.9 2.9 0 0 1 2 .804A3.5 3.5 0 0 0 5.1 2zM7.9 5.5l1.155-.373-.002-1.214.71.984 1.155-.378-.716.98.716.98-1.154-.377-.71.984V5.873z"/></svg>',
"flag-tw":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fe0000" d="M0 0h16v11H0z"/><path fill="#000095" d="M0 0h8v6H0z"/><circle fill="#fff" cx="4" cy="3" r="1"/><circle fill="#fff" fill-opacity=".3" cx="4" cy="3" r="2"/></svg>',"flag-uk":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#00247d" d="M0 0h16v11H0z"/><path fill="#fff" d="M0 0v1.518L3.61 4H0v3h3.61L0 9.482V11h2.207L6 8.393V11h4V8.393L13.793 11H16V9.482L12.39 7H16V4h-3.61L16 1.518V0h-2.207L10 2.607V0H6v2.607L2.207 0H0z"/><path fill="#cf142b" d="M0 0v.91L4.494 4h1.324L0 0zm7 0v5H0v1h7v5h2V6h7V5H9V0H7zm7.676 0L10 3.215V4h.182L16 0h-1.324zM5.818 7L0 11h1.324L6 7.785V7h-.182zm4.364 0L16 11v-.91L11.506 7h-1.324z"/></svg>',
"flag-us":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#fff" d="M0 0h16v11H0z"/><path fill="#b22234" d="M0 0v1h16V0H0zm0 2v1h16V2H0zm0 2v1h16V4H0zm0 2v1h16V6H0zm0 2v1h16V8H0zm0 2v1h16v-1H0z"/><path fill="#3c3b6e" d="M0 0h9v7H0z"/><path fill="#fff" d="M1 1v1h1V1H1zm2 0v1h1V1H3zm2 0v1h1V1H5zm2 0v1h1V1H7zM2 3v1h1V3H2zm2 0v1h1V3H4zm2 0v1h1V3H6zM1 5v1h1V5H1zm2 0v1h1V5H3zm2 0v1h1V5H5zm2 0v1h1V5H7z"/></svg>',"flag-vi":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 11" width="16" height="11"><path fill="#da251d" d="M0 0h16v11H0z"/><path fill="#ff0" d="M8 .8L9 4h3.4L9.7 6l1 3.3-2.7-2-2.7 2 1-3.2L3.6 4H7z"/></svg>',
gift:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 144 133" width="144" height="133"><g fill="none" fill-rule="evenodd"><path fill="#B8C6D5" d="M6 49v72c0 6.6 5.37 12 12 12h108c6.63 0 12-5.4 12-12V49H6"/><path fill="#E9EFF2" d="M6 43v72c0 6.6 5.37 12 12 12h108c6.63 0 12-5.4 12-12V43H6M12 31C5.37 31 0 36.4 0 43v12h144V43c0-6.6-5.37-12-12-12H12"/><path fill="#3BB3E4" d="M54 25h36v107.64H54V25z"/><path fill="#2B90BA" d="M47.31 1C41.316.4 35.466 3.4 32.262 8.2c-4.668 7.2-1.878 16.2 6.204 20.4 2.598 1.8 5.382 2.4 8.184 2.4h50.682c2.802 0 5.652-.6 8.25-2.4 8.082-4.2 10.806-13.2 6.138-20.4-4.662-7.2-14.952-9.6-23.034-5.4-2.598 1.2-4.638 3-6.066 5.4h-.132c-.192.6-.36.6-.528 1.2l-9.966 15-9.966-15c-.168-.6-.336-.6-.528-1.2h-.132C59.934 5.8 57.96 4 55.362 2.8A18.914 18.914 0 0 0 47.31 1zm-.99 7.2c1.62 0 3.3.6 4.818 1.2.504 0 .966.6 1.386.6.294.6.54.6.792 1.2h.198c.132 0 .276.6.396.6h.264c.096.6.246.6.33.6L61.5 23.2H45.396c-.384 0-.744 0-1.122-.6-.54 0-1.074 0-1.584-.6-1.014 0-1.914-1.2-2.574-1.8-1.986-2.4-2.28-5.4-.528-8.4 1.458-1.8 4.026-3.6 6.732-3.6zm51.408 0c2.706 0 5.274 1.8 6.732 3.6 1.752 3 1.392 6-.594 8.4-.66.6-1.494 1.8-2.508 1.8-.504.6-1.044.6-1.584.6-.372.6-.804.6-1.188.6H82.488l6.99-10.8c.084 0 .234 0 .33-.6h.066c.018 0-.012 0 0 0h.198c.12 0 .264-.6.396-.6h.198c.252-.6.564-.6.858-1.2.426 0 .882-.6 1.386-.6 1.518-.6 3.198-1.2 4.818-1.2z"/><path fill="#B8C6D5" d="M6 55h132v6H6v-6z"/><path fill="#2B90BA" d="M54 55h36v6H54v-6zm0 72h36v5.64H54V127z"/></g></svg>',
googleplus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M11.358 12.558l-1.04-.8c-.315-.26-.747-.606-.747-1.234 0-.632.44-1.034.81-1.405 1.22-.95 2.42-1.96 2.42-4.08 0-2.18-1.38-3.33-2.04-3.88h1.79L14.42 0h-5.68C7.173 0 4.93.367 3.28 1.714 2.04 2.776 1.44 4.24 1.44 5.56c0 2.236 1.725 4.505 4.783 4.505.287 0 .603-.03.92-.06-.142.35-.288.635-.288 1.122 0 .89.46 1.433.862 1.95-1.296.09-3.72.232-5.507 1.323C.513 15.4 0 16.866 0 17.896 0 20.022 2.013 22 6.196 22c4.96 0 7.583-2.724 7.583-5.42 0-1.983-1.15-2.957-2.42-4.022zM7.58 9.262c-2.48 0-3.603-3.183-3.603-5.107 0-.747.143-1.52.634-2.12.46-.576 1.27-.95 2.03-.95 2.39 0 3.63 3.215 3.63 5.28 0 .515-.052 1.433-.72 2.094-.46.46-1.24.8-1.96.8zM7.61 20.8c-3.087 0-5.075-1.465-5.075-3.503 0-2.04 1.844-2.728 2.48-2.957 1.212-.404 2.768-.46 3.027-.46.29 0 .432 0 .662.03 2.193 1.55 3.145 2.322 3.145 3.788 0 1.776-1.47 3.1-4.24 3.1zM17 7v3h-3v1h3v3h1v-3h3v-1h-3V7h-1z"/></svg>',
hotlists:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="6 6 21 23" width="21" height="23"><path d="M22 14s-.8 1.8-1 4c0 0-1.6-8.8-8.3-13 0 0 2.8 4.5.9 6.5 0 0-1.2 1.4-1.6 3.5 0 0-.4 1.5 0 3 .3 1-2-.6-2-3 0 0-1.4 1.7 1 6 0 0 1.3 1.7 1 3 0 0-2.7-.6-4-4 0 0 .1 4.2 2 6 2 1.8 4.5 2 6 2 0 0 6.6 0 7-5 .5-5.2-1.6-6.5-1-9z"/></svg>',iphone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 148 300" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill="none" stroke="#3bb3e4"><rect width="144" height="298" stroke-width="2" rx="22" x="2" y="1"/><path d="M10.5 39.5h127v223h-127z"/><circle stroke-width="2" cx="74" cy="280" r="10.5"/></g><g fill="#fff"><path d="M2 24h2v4H2z" id="a"/><use x="142" xlink:href="#a"/><use y="248" xlink:href="#a"/><use x="142" y="248" xlink:href="#a"/></g><g fill="#3bb3e4"><path d="M0 42h2v12H0z"/><path d="M0 66h2v22H0z" id="b"/><use y="28" xlink:href="#b"/><use x="146" xlink:href="#b"/><circle cx="53" cy="18.5" r="2.5"/><rect width="23" height="3" rx="1.5" x="64" y="17"/></g><g fill="none" stroke="#dadde1"><circle cx="74" cy="222" r="10.5" id="c"/><g id="d"><use y="-28" xlink:href="#c"/><use y="-56" xlink:href="#c"/><use y="-84" xlink:href="#c"/></g><use x="-30" xlink:href="#d"/><use x="30" xlink:href="#d"/></g></svg>',
"legend-hide":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><g><path d="M1 0v1h11V0H1zm11 1v11h1V1h-1zm0 11H1v1h11v-1zM1 12V1H0v11h1zM6 2v4H2v1h4v4h1V7h4V6H7V2H6z"/></g></svg>',"legend-show":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><g><path d="M1 0v1h11V0H1zm11 1v11h1V1h-1zm0 11H1v1h11v-1zM1 12V1H0v11h1zm1-6v1h9V6H2z"/></g></svg>',like:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 670 745"><path d="M417.91 738.04c-118.64-22.82-190.57-47.072-218.92-73.807-22.734-21.44-24.27-32.633-24.27-176.81 0-88.1 1.86-140.31 5.373-150.86 11.138-33.44 36.66-57.735 133.93-127.5 67.296-48.267 90.59-69.93 140.55-130.72C509.177 11.903 521.965.078 539.24.046c16.013-.03 25.43 13.07 32.622 45.373 7.83 35.164-3.512 82.774-30.952 129.93-40.764 70.052-39.008 75.19 31.705 92.733 49.08 12.178 81.767 30 91.884 50.097 8.98 17.844 7.335 39.84-7.633 102.04-7.523 31.264-15.156 66.454-16.962 78.203-1.806 11.748-11.588 46.504-21.738 77.236s-18.454 58.25-18.454 61.152c0 8.677-33.212 71.96-44.153 84.13-22.217 24.715-68.287 30.435-137.65 17.093zm-345.68-25.9c-5.722-2.5-22.273-14.2-36.78-26.03-14.506-11.88-28.418-21.59-30.914-21.59-2.82 0-4.538-65.6-4.538-173.26 0-95.29 1.752-173.25 3.893-173.25 2.144 0 17.104-11.498 33.248-25.552 30.614-26.65 49.608-34.114 68.466-26.907 16.703 6.386 18.065 16.296 7.704 56.06-8.34 32-9.423 51.51-9.423 169.55 0 131.23.62 138.49 16.636 194.72 5.75 20.178-24.144 36.41-48.29 26.22z"/></svg>',
link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M29.298 63.47l-4.048 4.02c-3.51 3.48-9.216 3.482-12.723 0-1.686-1.672-2.612-3.894-2.612-6.256s.927-4.585 2.61-6.258l14.9-14.783c3.09-3.062 8.898-7.57 13.132-3.372 1.943 1.93 5.08 1.92 7.01-.02 1.93-1.942 1.918-5.08-.025-7.01-7.197-7.14-17.834-5.82-27.098 3.37l-14.9 14.785C1.967 51.49 0 56.21 0 61.235s1.968 9.743 5.544 13.292C9.224 78.177 14.054 80 18.887 80c4.834 0 9.667-1.824 13.348-5.476l4.05-4.02c1.943-1.93 1.954-5.067.024-7.01-1.93-1.94-5.07-1.952-7.016-.023zM74.454 6.045c-7.73-7.67-18.538-8.086-25.694-.986l-5.046 5.01c-1.943 1.924-1.955 5.06-.025 7.004 1.93 1.943 5.063 1.954 7.01.025l5.04-5.005c3.707-3.68 8.56-2.155 11.727.986 1.69 1.675 2.615 3.898 2.615 6.26 0 2.363-.928 4.586-2.613 6.26L51.575 41.37c-7.27 7.213-10.68 3.828-12.134 2.384-1.943-1.928-5.08-1.916-7.01.026-1.93 1.942-1.918 5.08.025 7.01 3.337 3.31 7.146 4.953 11.14 4.953 4.888 0 10.052-2.463 14.962-7.338l15.892-15.77C78.03 29.082 80 24.362 80 19.338c0-5.022-1.97-9.743-5.546-13.294z"/></svg>',
linkedin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 12"><path d="M3.344 11.996V3.898H.664v8.098h2.68zm-1.34-9.204c.935 0 1.516-.62 1.516-1.4C3.503.6 2.94-.005 2.022-.005 1.105-.005.506.6.506 1.395c0 .776.58 1.397 1.48 1.397h.018zm2.823 9.204h2.68V7.474c0-.242.017-.484.088-.657.194-.484.635-.984 1.375-.984.97 0 1.358.742 1.358 1.83v4.333h2.68V7.353c0-2.488-1.323-3.645-3.086-3.645-1.446 0-2.08.812-2.433 1.364h.01V3.898H4.82c.035.76 0 8.098 0 8.098z"/></svg>',"logo-sad":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 82"><g fill="none" fill-rule="evenodd"><path fill="#E9EFF2" d="M81.387 15.092c3.366-1.9 7.247-2.983 11.38-2.983 12.882 0 23.326 10.526 23.326 23.513 0 2.217-.304 4.362-.873 6.395 6.777 2.378 11.64 8.874 11.64 16.516 0 9.657-7.766 17.485-17.346 17.485-.2 0-.4-.003-.598-.01v.01h-86.13v-.007c-12.61-.32-22.73-10.72-22.73-23.506 0-12.833 10.196-23.264 22.867-23.51C24.43 12.757 37.983.05 54.486.05c11.346 0 21.3 6.01 26.9 15.042z"/><path fill="#3BB3E4" d="M52.55 37.342c-4.196 7.27-11.227 7.424-13.8 5.938-3.36-1.94-6.016-7.547-1.76-14.922 5.175-8.96 17.15-11.734 17.15-11.734s3.585 11.756-1.59 20.718zM83.873 15.26c-2.48 4.298-6.64 4.39-8.16 3.51-1.986-1.145-3.557-4.46-1.04-8.822 3.06-5.298 10.14-6.938 10.14-6.938s2.12 6.95-.94 12.25zm17.04 7.56c-1.632 2.827-4.368 2.888-5.37 2.31-1.306-.755-2.34-2.937-.683-5.806 2.013-3.486 6.67-4.565 6.67-4.565s1.396 4.572-.617 8.06zM91.13 62.46c-3.503 6.07-9.373 6.198-11.52 4.958-2.805-1.62-5.023-6.3-1.47-12.458 4.32-7.48 14.317-9.796 14.317-9.796S95.45 54.98 91.13 62.46zM60.482 73.702c-4.81 8.332-12.87 8.51-15.82 6.807-3.85-2.225-6.894-8.653-2.014-17.105 5.93-10.27 19.654-13.45 19.654-13.45s4.11 13.475-1.82 23.746z"/></g></svg>',
messages:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 6 23 21" width="23" height="21"><path d="M16 18h3v-3h-3v3zm-2-5v10h9l3 3v-3h1V13H14zm6 2v4h-4v3h-1v-8h5v1zm6 0v7h-1v-6h-1v1h-1v-1h-1v6h-1v-8h1v1h1v1h1v-1h1v-1h1v1zm-4-9H5v12h1v4l4-4h3v-6h9V6z"/></svg>',notes:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="300 310 25.999995 25.999997" width="26" height="26"><path d="M321 321.99v2h5v-2h-5zM314 310h-2v4.998h2V310zm8.976 4.94l-1.41-1.412-3.543 3.54 1.412 1.41 3.54-3.54zm-19.953 16.11l1.412 1.41 3.542-3.54-1.412-1.41-3.54 3.54zm4.99-14.477l-3.59-3.575-1.435 1.435 3.577 3.575 1.447-1.435zm9.975 12.84l3.577 3.576 1.435-1.44-3.576-3.58-1.436 1.43zm-7.106 2.635h-.023v2.81l.69.447.66.694h1.61l.62-.7.72-.45v-2.81h-4.288zm8.07-8.76c.095-.777.036-1.33.036-1.33-.33-2.27-1.564-3.492-2.764-4.162-.87-.494-1.906-.788-2.93-.8H313c-1.86.06-3.177.823-3.977 1.47-.6.482-.905.905-.905.905-.812 1.03-1.106 2.09-1.118 3.05-.012 1.26.435 2.38.835 3.12.306.58.588.92.588.92.424.54.683 1.19.824 1.778.212.87.2 1.2.2 1.2.035.764.294 1.187.482 1.293.05.036.15.083.27.083l.49.458h4.67l.46-.456h.08c.42-.06.66-.777.7-1.235.048-.47.06-.705.06-.705 0-.045.01-.104.01-.174.108-1.103 1.167-2.714 1.167-2.714.06-.07.105-.13.152-.2.61-.81.86-1.74.95-2.48zm-13.96-1.29h-5v1.998h5v-2z"/></svg>',
notifications:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 6 21 21" width="21" height="21"><path d="M15.5 27c1.2 0 2.2-.9 2.4-2H13c.3 1.1 1.3 2 2.5 2zm6.5-7v-6c-.2-2.9-2.3-5.3-5.1-5.9 0-.2.1-.4.1-.6 0-.8-.7-1.5-1.5-1.5S14 6.7 14 7.5c0 .2.1.4.2.6-2.8.6-4.9 3-5.1 5.9v5.9C9 22.7 7 23 7 23v1h17v-1s-2-.3-2-3z"/></svg>',"publish-idea-intro":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 320" width="216" height="320"><g fill="none" fill-rule="evenodd"><g fill="#3BB3E4"><g><path d="M2 2.002v315.996c0 .005-.003.002 0 .002h212V2.002c0-.005.003-.002 0-.002H2v.002zm-2 0C0 .896.893 0 2 0h212c1.104 0 2 .89 2 2.002v315.996c0 1.106-.893 2.002-2 2.002H2c-1.104 0-2-.89-2-2.002V2.002z" id="Shape"/><g><path d="M49 207h124v-2H48v2h1zM49 285h124v-2H48v2h1zM49 188h124v-2H48v2h1zM49 264h124v-2H48v2h1zM49 169h124v-2H48v2h1zM49 245h124v-2H48v2h1zM49 150h124v-2H48v2h1zM49 226h124v-2H48v2h1z" id="Shape"/></g><path d="M111 88c13.807 0 25-11.193 25-25s-11.193-25-25-25-25 11.193-25 25 11.193 25 25 25zm0 2c-14.912 0-27-12.088-27-27s12.088-27 27-27 27 12.088 27 27-12.088 27-27 27z" id="Shape"/><path d="M109.94 61.92l3.01 3.184c.17-.067.356-.104.55-.104h.062l5.49-5.587C118.316 58.55 117.22 58 116 58c-.69 0-1.337.174-1.902.48-.984-1.494-2.676-2.48-4.598-2.48-2.87 0-5.225 2.197-5.478 5H104c-2.21 0-4 1.79-4 4 0 .732.197 1.42.54 2.01l6.46-5.46v-.05c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .146-.02.287-.06.42zm-1.185 1.058L112 66.454v.046c0 .81.64 1.47 1.443 1.5h.057c.483 0 .912-.228 1.186-.582l.314-.147-.137-.143c.088-.19.137-.403.137-.627 0-.194-.037-.38-.104-.55l5.055-4.58c.033.205.05.415.05.63 0 .39-.055.764-.16 1.12 1.25.363 2.16 1.515 2.16 2.88 0 1.657-1.343 3-3 3h-15c-1.09 0-2.08-.436-2.8-1.143l6.59-5.035c.212.114.454.178.71.178.087 0 .172-.007.255-.022z"/><path d="M89.576 75.892c.198.328.404.652.616.97l-15.875 27.5-1.48.172-.495-.753.745-1.29 10.904-1.276 1.48-.173.59 1.37 4.347 10.08-.745 1.29-.9-.052-.59-1.367 14.822-25.67c.163.056.327.11.492.16l.73 1.72-.284.495c-6.736-1.823-12.497-6.21-16.077-12.154l.597-1.033 1.124.015zm-.564-.985c3.306 6.09 9.068 10.655 15.958 12.36l-15.81 27.384-4.936-11.45-12.384 1.45 17.172-29.743zM118.514 86.85c.165-.05.33-.104.492-.16l14.82 25.67-.59 1.368-.898.053-.745-1.29 4.346-10.08.59-1.37 1.48.174 10.903 1.277.745 1.29-.495.754-1.48-.173-15.875-27.497c.212-.32.418-.643.616-.97l1.124-.016.597 1.034c-3.58 5.946-9.34 10.332-16.077 12.155l-.285-.494.73-1.72zm-1.484.418c6.89-1.706 12.652-6.27 15.958-12.36l17.172 29.743-12.384-1.45-4.936 11.45-15.81-27.382z"/></g></g></g></svg>',
"report-flag":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path d="M10.37.6c-.43.053-.97.13-1.55.13C7.918.73 7.1.52 6.273.35 5.433.175 4.566 0 3.648 0 1.816 0 1.195.38 1.133.42L1 .51V12h.625V6.626c.234-.094.85-.26 2.027-.26.852.002 1.65.313 2.496.49.86.175 1.75.36 2.715.36.574 0 1.082-.076 1.512-.125.234-.024.44-.05.625-.08V.505c-.184.035-.395.065-.63.095z"/></svg>',"settings-gear":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42 42"><path d="M38.626 17.554h-2.81c-.354-1.755-1.055-3.157-1.756-4.566l1.756-1.755c1.4-1.4 1.4-3.51 0-4.912s-3.51-1.4-4.912 0l-1.756 1.76c-1.4-.7-2.81-1.4-4.565-1.753V3.51c0-2.11-1.402-3.51-3.51-3.51s-3.52 1.41-3.52 3.51v2.81c-1.754.355-3.156 1.056-4.565 1.756L11.233 6.32c-1.4-1.4-3.51-1.4-4.912 0s-1.4 3.512 0 4.913l1.76 1.755c-.7 1.402-1.4 2.81-1.754 4.566H3.51c-2.1 0-3.51 1.41-3.51 3.51s1.4 3.512 3.51 3.512h2.81c.355 1.755 1.056 3.156 1.756 4.565L6.32 30.9c-1.4 1.402-1.4 3.51 0 4.913s3.512 1.4 4.913 0l1.755-1.756c1.402.7 2.81 1.402 4.566 1.756v2.815c0 2.11 1.4 3.51 3.51 3.51s3.51-1.4 3.51-3.51v-2.81c1.757-.354 3.158-1.055 4.567-1.756l1.76 1.754c1.4 1.4 3.51 1.4 4.914 0s1.4-3.51 0-4.912l-1.756-1.756c.7-1.4 1.402-2.81 1.756-4.565h2.81c2.107 0 3.51-1.4 3.51-3.51.006-2.11-1.403-3.52-3.505-3.52zm-17.56 14.05c-5.968 0-10.534-4.565-10.534-10.532s4.566-10.54 10.533-10.54 10.532 4.566 10.532 10.533-4.558 10.54-10.532 10.54zm0-14.05c-2.11 0-3.512 1.4-3.512 3.51s1.4 3.512 3.51 3.512 3.51-1.402 3.51-3.51-1.4-3.512-3.51-3.512z"/></svg>',
stocktwits:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.8 9.4"><path d="M3.9 4c-.7-.3-1.1-.5-1.3-.6L2.2 3c-.1-.1-.1-.3-.1-.5 0-.3.1-.5.3-.7.2-.2.5-.3.9-.3.3 0 .7 0 1 .1.3.2.7.4 1.2.5L6.2.6C5.7.4 5.2.2 4.8.1L3.4 0C2.3 0 1.5.2 1 .7S.1 1.8.1 2.6c0 .4.1.8.3 1.1s.4.6.7.8c.3.2.7.5 1.3.8l1.2.6c.2.2.4.3.5.4.1.1.2.3.2.5 0 .3-.1.6-.4.7-.2.2-.6.2-1 .2s-.8-.1-1.2-.2C1.2 7.5.6 7.3 0 7v1.8c.8.4 1.7.6 2.7.6 1.1 0 2-.2 2.6-.7.7-.5 1-1.2 1-2 0-.6-.2-1.1-.5-1.5-.4-.4-1-.8-1.9-1.2zM7 0v1.6h3.1v7.8h1.6V1.6h3.1V0H7z"/></svg>',
twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 11.6"><path d="M15 1.4c-.3.1-1 .4-1.7.5.4-.2 1.1-1 1.3-1.6-.4.3-1.4.7-1.9.7-.6-.7-1.4-1-2.3-1-1.7 0-3.1 1.3-3.1 3 0 .2 0 .4.1.7C5.1 3.6 2.4 2.5.9.6 0 2.1.8 3.9 1.8 4.5c-.4 0-1 0-1.3-.3 0 1 .5 2.4 2.4 2.9-.4.2-1 .1-1.3.1.1.9 1.4 2 2.8 2-.6.5-2.3 1.4-4.4 1.1 1.4.8 3.1 1.3 4.8 1.3 5 0 8.8-3.9 8.6-8.6.5-.4 1.1-.9 1.6-1.6z"/></svg>',view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 16"><path clip-rule="evenodd" d="M12 0C4.07 0 0 8 0 8s3.072 8 12 8c8.087 0 12-7.97 12-7.97S20.057 0 12 0zm.02 13c-2.9 0-4.996-2.188-4.996-5 0-2.813 2.096-5 4.995-5s4.993 2.187 4.993 5c0 2.812-2.096 5-4.995 5zm0-8c-1.658 0-3 1.393-3 3 0 1.606 1.34 3 2.997 3 1.656 0 2.996-1.395 2.996-3 0-1.608-1.34-3.003-2.997-3z"/></svg>',
yahoo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 13"><path d="M19.502 12.2l-1.5-.184.16-1.33 1.503.183-.163 1.33zM18.44 3.9l.01 5.95 1.102.136 1.445-5.763L18.44 3.9zm.997-1.39c-.33.035-1.707.34-2.168.438-.5.132-5.03 3.61-5.32 4.465-.07.297-.1.75-.1 1.177l-.03.69c0 .493.13 1.286.2 1.716.29.064 2.45.007 2.84.073l-.05.88c-.39-.03-3.12-.02-4.68-.02-.8 0-3.34.08-4.13.06l.15-.84c.43-.04 2.206.07 2.597-.34.194-.208.133-.425.133-1.608v-.56c0-.264 0-.755-.065-1.214-.167-.49-4.15-5.44-5.175-6.23-.294-.1-2.16-.284-2.62-.38L1 .07c.23-.12 2.3.025 4.31-.05 1.327-.042 4.34 0 4.71.048l-.09.66c-.4.1-2.305.135-2.802.267 1.288 1.9 3.327 4.354 3.985 5.31.363-.528 3.557-2.71 3.657-3.468-.497-.1-2.138-.34-2.4-.34l-.158-.86c.45-.07 2.815 0 3.99 0 1.014 0 3.182 0 3.797.05l-.57.81z"/></svg>'});
"use strict";
var TVXWindowEvents=function(){var a={},b=$.browser.msie||/\btrident\b/i.test(navigator.userAgent);$(window).on("storage",function(c){if(null!==c.originalEvent.newValue){var d=c.originalEvent.key;d.startsWith("tvxwevents.")&&(d=d.substr(11),b&&TVXWindowEvents._emitting?TVXWindowEvents._emitting=!1:a[d]&&a[d].forEach(function(a){a.call(c.originalEvent.newValue,c.originalEvent.newValue)}))}});return{on:function(b,d){a[b]||(a[b]=[]);a[b].push(d)},off:function(b,d){if(a[b]){var e=a[b].indexOf(d);-1!==
e&&(1===a[b].length?delete a[b]:a[b].splice(e,1))}},current:function(a){return TVLocalStorage.getItem("tvxwevents."+a)},emit:function(a,d){void 0===d&&(d=+new Date);d!=TVLocalStorage.getItem("tvxwevents."+a)&&(b&&(TVXWindowEvents._emitting=!0),TVLocalStorage.setItem("tvxwevents."+a,d))}}}();TradingView.cleanButAmpersand=function(a,b){return TradingView.clean(a,b,b?["&amp;"]:["&"])};TradingView.strip_tags=function(a){return a&&a.replace?a.replace(/(<([^>]+)>)/ig,""):a};TradingView.encodeSpread=function(a){return encodeURIComponent(a)};
TradingView.clean=function(a,b,c){var d=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#039;"]],e=a;if(!a||!a.replace)return e;for(a=0;a<d.length;a++){var f=d[a][0],g=d[a][1];c&&c.indexOf&&-1!==c.indexOf(b?g:f)||(e=b?e.replace(new RegExp(g,"g"),f):e.replace(new RegExp(f,"g"),g))}return e};function truncate(a,b){if(!a)return a;b=void 0===b?140:b;return a.length>b?a.substr(0,a.indexOf(" ",b))+"\u2026":a}
"undefined"!=typeof module&&module&&module.exports&&(module.exports={clean:TradingView.clean,cleanButAmpersand:TradingView.cleanButAmpersand});"use strict";$(document).ajaxSend(function(a,b,c){"POST"==c.type&&(b.setRequestHeader("X-CSRFToken",$.cookie("csrftoken")),b.setRequestHeader("sessionid",$.cookie("sessionid")));if(!c.crossDomain||c.forceLanguageHeader)window.language?b.setRequestHeader("X-Language",window.language):console.warn("window.language is not defined")});
String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});"string"===typeof $.cookie("csrftoken")&&""!==$.cookie("csrftoken")?$("#update-status-li").append('<a href="#" onclick="TradingView.showChangeUserStatusDialog(); return false;">'+$.t("Update Status")+"</a>"):$("#update-status-li").empty();
$(document).ready(function(){$(".tv-select").selectbox({speed:100,classHolder:"tv-select-container"});Modernizr.canvas&&Modernizr.canvastext||"undefined"!=typeof FlashCanvas||TVDialogs.showNotice($.t("Oops, your browser can't display our charts!"),{html:$.t("It appears that your browser does not support <strong>Canvas</strong> technology, which is needed for TradingView to work.<br/>")+$.t("Please use one of the following browsers:")+'<ul><li><a href="http://www.google.com/chrome/" target="_blank">Chrome</a></li><li><a href="http://www.mozilla.com" target="_blank">Firefox</a></li><li><a href="http://www.apple.com/safari/" target="_blank">Safari</a></li><li><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home" target="_blank">Internet Explorer 9+</a></li></ul>',
classSuffix:"slim",doNotCloseOnBgClick:!0});!Featuresets.enabled("websocket_connection")||"WebSocket"in window||swfobject.hasFlashPlayerVersion("9.0.0")||TVDialogs.showNotice($.t("TradingView Notice"),{html:$.t("It appears that your browser does not support <strong>WebSocket</strong> technology and does not have <strong>Adobe Flash</strong> plugin installed, one of which is essential for our portal.<br/>")+$.t('Please, <a href="http://get.adobe.com/flashplayer/" target="_blank">install Flash plugin</a> or consider updating to one of these modern browsers with WebSocket support:')+
'<ul><li><a href="http://www.google.com/chrome/" target="_blank">Chrome</a></li><li><a href="http://www.apple.com/safari/" target="_blank">Safari</a></li></ul>',classSuffix:"slim",doNotCloseOnBgClick:!0});TradingView.onWidget()||$(".chart-description").TVEmbeds()});var loginStateChange=new Delegate;loginStateChange.subscribe(null,onLoginStateChange);TVXWindowEvents.on("loginStateChange",function(){var a=JSON.parse(this);window.user=a.user;window.is_authenticated=!!a.is_authenticated;loginStateChange.fire()});
TradingView.trackEvent=function(a,b,c){window._UNIT_TESTS||"undefined"===typeof _gaq||(a=["_trackEvent",a,b],"undefined"!==typeof c&&a.push(c),_gaq.push(a))};
TradingView.trackRegistrationEvent=function(a){if(a&&TradingView.signupSource){var b=TradingView.signupSourceParameters;b&&(b.additionalCategories&&b.additionalCategories.forEach(function(a){TradingView.trackEvent(a+" Registration",TradingView.signupSource)}),TradingView.signupSourceParameters=null);TradingView.trackEvent("Registration",TradingView.signupSource);TradingView.trackEvent("Registration medium",a);TradingView.signupSource=null}};
TradingView.eventsTracking={filterNamesMap:{script_type:"Indicators and Strategies","script_type-indicators":"Indicators","script_type-strategies":"Strategies",stream:"All Markets","stream-stocks":"Stocks","stream-indices":"Indices","stream-commodities":"Commodities","stream-currencies":"Currencies","stream-bitcoin":"Bitcoin","interval-all":"All Intervals","interval-m":"Short Term","interval-h":"Medium Term","interval-dwm":"Long Term","sort-unmoderated":"Unmoderated","sort-trending":"Trending","sort-discussed":"Most Discussed",
"sort-viewed":"Most Viewed","sort-agreed":"Most Agreed","sort-suggested":"Suggested","sort-recent":"All Ideas","time-day":"Today","time-week":"This Week","time-month":"This Month","time-all":"All Time","by-everyone":"Everyone","by-following":"Following","by-me":"My Ideas"},goProFeaturesMap:{customIntervals:"Add Custom Interval",kagiRenko:"Japanese Intraday Chart",extendedHours:"Timezones Extended Hours",alerts:{prefix:"New Alerts Limit",widget:"Widget",chart:"Chart Header"},multipleCharts:"Multiple Charts Layout",
savedChartsLimit:"Save Chart Limit",multipleWatchLists:{prefix:"Watchlists",new:"Create New List",rename:"Rename List",saveAs:"Save List As"},importWatchlist:"Watchlists Import Watchlist",exportWatchlist:"Watchlists Export Watchlist"},trackGoPro:function(a,b,c){c&&!b&&(b=c,c=null);if(b=TradingView.eventsTracking.goProFeaturesMap[b]){if(c){if("string"===typeof b)return;b="{0} {1}".format(b.prefix,b[c])}TradingView.trackEvent(a,b)}}};
TradingView.trackStreamFilterChangeEvent=function(a,b,c){a+=b?"-"+b:"";a in TradingView.eventsTracking.filterNamesMap&&(b=TradingView.eventsTracking.filterNamesMap[a],"sort-recent"==a&&c&&(b="All Scripts"),"by-me"==a&&c&&(b="My Scripts"),TradingView.trackEvent(c?"Script Filters":"Idea Filters",b))};TradingView.trackGoProFeature=function(a,b){TradingView.eventsTracking.trackGoPro("Gopro Features",a,b)};
TradingView.trackGoProPageTransition=function(a,b){TradingView.eventsTracking.trackGoPro("Gopro",a,b)};var assert=function(a,b){if(!a)throw Error("Assertion failed"+(b?": "+b:""));};TradingView.changeLoginState=function(a){is_authenticated=a?!0:!1;TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:is_authenticated,user:user}));loginStateChange.fire()};
function loginUser(a){function b(){"function"==typeof TVDialogs.onSigninSuccess&&(TVDialogs.onSigninSuccess(),TVDialogs.onSigninSuccess=void 0)}window.iframeAuthWidget&&a.is_first_login&&(window.iframeAuthWidget.preventClose=!0);user=$.extend(!0,{},a);TradingView.changeLoginState(!0);TVDialogs.modalDialog&&"Log in"==TVDialogs.modalDialog.data("title")&&TVDialogs.destroy();a.is_first_login?setTimeout(function(){var a={user:user,afterLoginFunction:b};TradingView.phoneVerification.isRequired()&&(a.buttonCaption=
$.t("Next"));window.iframeAuthWidget&&(window.iframeAuthWidget.preventClose=!1,a.onDestroy=window.iframeAuthWidget.postClose);TradingView.trackRegistrationEvent("Social");TVDialogs.showAfterSocialSign(a)},0):b()}function showDisabledAccountError(){TVDialogs.showError($.t("Error: Account is disabled"))}TradingView.signOut=function(){$.get("/accounts/logout/",function(){TradingView.changeLoginState(!1)})};
TradingView.phoneVerification=function(){function a(){return window.is_authenticated&&Featuresets.enabled("phone_verification")&&TradingView.isFeatureEnabled("phone_verification")&&user&&!user.is_pro&&!user.reputation&&(!user.phone_verified||!user.has_phone)}function b(){var a=$.Deferred();user&&user.verifyPhoneExpires instanceof Date?a.resolve(user.verifyPhoneExpires):$.post("/accounts/phone-verify-status/").done(function(b){!b||b.verified?a.reject():(b=moment.unix(moment().unix()+("number"==typeof b.delay&&
b.delay||0)).toDate(),user&&(user.verifyPhoneExpires=b),a.resolve(b))}).fail(a.reject);return a}function c(a){a=TVDialogs.showPhoneDialog(a);a.done(function(){delete user.verifyPhoneExpires;TVSettings.remove("_verifyPhoneMessageInterval");TVSettings.remove("_verifyPhoneMessageSched");d.resolve()});return a}var d=$.Deferred();loginStateChange.subscribe(null,function(){window.is_authenticated&&(d=$.Deferred(),a()||d.resolve())});return{isRequired:a,verifyIfRequired:function(b){if(!a())return d.resolve();
b||(b={});b.showDialog=!0;return TradingView.phoneVerification.whenVerified(b)},whenVerified:function(e){if(!a())return d.resolve();e||(e={});if(!e.showDialog)return d.promise();var f={byFeature:e.verifyPhoneByFeature,source:e.source,customMessage:e.verifyPhoneMessage};if(!0===e.noVerifyDelay)return c(f);var g=$.Deferred();b().done(function(a){f.verifyDelayExpires=a;var b=Date.now();if(b>=a)c(f).done(g.resolve).fail(g.reject);else{a-=b;var d=TVSettings.getInt("_verifyPhoneMessageInterval",Infinity),
e=TVSettings.getInt("_verifyPhoneMessageSched",0);isFinite(d)||(d=Math.ceil(a/3),TVSettings.setValue("_verifyPhoneMessageInterval",d),e=b);b>=e?(TVSettings.setValue("_verifyPhoneMessageSched",e+d),f.cancelButtonText=$.t("Remind me later"),c(f).always(g.resolve)):g.resolve()}}).fail(g.reject);return g}}}();
function runOrSignIn(a,b){b||(b={});if(!0===b.verifiedPhoneRequired){var c=a;a=function(){TradingView.phoneVerification.whenVerified({showDialog:!0,source:b.source,verifyPhoneByFeature:!0,verifyPhoneMessage:b.verifyPhoneMessage,noVerifyDelay:b.noVerifyDelay}).done(c)}}is_authenticated||Featuresets.enabled("charting_library_base")?a():TVDialogs.showSignInDialog(a,{source:b.source,sourceMeta:b.sourceMeta})}TradingView.runOrGoPro=function(a,b){user&&user.is_pro?a():TVDialogs.showGoProDialog(b)};
TradingView.handleIfNotError=function(a,b){a.error?console.log(a.error):b(a)};TradingView.handleIfNotErrorFunc=function(a){return function(b){TradingView.handleIfNotError(b,a)}};
function relationChange(a,b,c){var d=$(a);runOrSignIn(function(){var a;a=void 0===d.data("type")?b:d.data("type");$.post("/social/follow-the-user/",{targetId:c,follow:a},function(b){a?(d.addClass("unfollow").removeClass("follow"),user.following++):(d.removeClass("unfollow").addClass("follow"),user.following--);d.mouseleave();d.hasClass("follow-big")||followButtonTooltip(d);$(".following_count").text(user.following);d.data("type",1-a)},"json")},{source:"Follow user"})}
function followButtonsHandler(a){a.on("click",".follow-big",function(){var a=$(this);a.hasClass("unfollow")?relationChange(a,0,a.data("userid")):(relationChange(a,1,a.data("userid")),a.hover())}).on("mouseenter",".follow-big",function(){$(this).hasClass("unfollow")&&$(this).text($.t("Unfollow"))}).on("mouseleave",".follow-big",function(){$(this).hasClass("unfollow")&&$(this).text($.t("Following"))})}
TradingView.bindIdeasStreamFilter=function(a,b){b=b||{};var c=a.find(".filter").map(function(){function a(d,f){var g=$(this),h=g.data("name");if(!0===r||r[h])d&&d.preventDefault();else{l&&n.find(".temp").remove();if(!is_authenticated&&g.hasClass("authorization-required"))return TVDialogs.showSignInDialog(null,{source:"Ideas stream filter"}),!1;var p=h?k.filter("[name="+h+"]"):k,u=g.data("value");if(p&&p.val()!=u||b.forceChange)q.filter(".active").filter(h?"[data-name="+h+"]":"*").removeClass("active").find(".active-underline").remove(),
g.addClass("active"),p.val(u).change(),f||"function"!=typeof b.onChange||setTimeout(function(){b.onChange(d,p.attr("name"),u)},0);var x=g.data("hook");x&&Object.keys(x).forEach(function(a){c.forEach(function(b){-1<b.inputs.indexOf(a)&&b.obj.setValue(x[a],a)})});l&&0===n.find("a[data-value="+u+"]").length&&g.clone(!0).addClass("temp item").append('<span class="active-underline"></span>').appendTo(n);!b.notPreventDefault&&b.onChange&&d&&d.preventDefault();if(!l){var z=q.filter(".active[data-filter-title]:first").data("filter-title")||
t;z?q.filter(".active").each(function(){z=z.replace("%"+$(this).data("name")+"%",$(this).contents(":first").text())}):z=g.contents(":first").text();m.text(z)}e(!0)}}function e(a){"boolean"!=typeof a&&(a=h);a?(g.stop(!0,!1).fadeOut(p),f.unbind("clickoutside").removeClass("active"),h=!1):(g.stop(!0,!1).fadeIn(p),f.one("clickoutside",e).addClass("active"),h=!0)}var f=$(this),g=f.find(".dropdown"),h=!1,k=f.find("input"),m=f.find(".selected"),l=!1,p="undefined"==typeof b.speed?50:b.speed,t=f.data("filter-title");
f.find(".selected").on("click",e);g.on("click","a",a);var q=g.find("a"),v=f.parent(".filter-tabbed"),n;v.length&&(l=!0,n=v.find(".tabs"),q=q.add(n.find("a:not(.temp)")),n.on("click","a",a));var r={};f.find(".sub-group.inactive").find("a:first").each(function(a,b){r[$(b).data("name")]=!0}.bind(this));var u={setValue:function(b,c){var e=q.filter("a[data-value="+b+"]"+(1<k.length&&c?"[data-name="+c+"]":""));a.apply(e,[void 0,!0])},getActiveTitle:function(){return m.text()},disabled:function(a,b){b?$("[data-name="+
b+"]",f).closest(".sub-group").addClass("inactive"):l?v.addClass("inactive "):f.addClass("inactive ");a||(b?("object"!=typeof r&&(r={}),r[b]=!0):r=!0)},enabled:function(a){a?($("[data-name="+a+"]",f).closest(".sub-group").removeClass("inactive"),"object"==typeof r&&(r[a]=!1)):(l?v.removeClass("inactive "):f.removeClass("inactive "),r=!1)}};f.data("interface",u);return{inputs:k.map(function(a,b){return $(b).attr("name")}).get(),obj:u}}).get()};
TradingView.bindIdeasStreamFilter.noTimePeriodsFilters=["suggested","recent","best","unmoderated"];TradingView.bindProfileTabsFilter=TradingView.bindIdeasStreamFilter;
TradingView.GoToChartField=function(a,b){function c(a,b){var c={};if(a||d.options&&d.options.defaultSymbol)c.symbol=String(a||d.options.defaultSymbol).toUpperCase();b&&(c.interval=b);var h="/chart/";Object.keys(c).length&&(h+="?"+$.param(c));location.href=h}this.$element=a;this.$field=this.$element.find("input");this.$button=this.$element.find("span");this.options=b;this.$button.on("click",function(){if(!this.$field.val()){var a=(d.options||{}).defaultSymbol||"";a&&this.$field.val(String(a).toUpperCase())}this.symbolSearch.acceptTypeIn()}.bind(this));
this.$element.on("keyup",function(){this.$element.toggleClass("not-empty",!!this.$field.val().length)}.bind(this));this.symbolSearch=TradingView.SymbolSearch.bindToInput(this.$field,$.extend((this.options||{}).symbolSearch,{callback:c,onEmptyApply:c}));var d=this};TradingView.GoToChartField.prototype.updateOptions=function(a){$.extend(this.options,a)};
TradingView.SearchChartField=function(a){this.$element=a;this.$field=this.$element.find("input");this.$button=this.$element.find(".button");this.symbolSearch=TradingView.SymbolSearch.bindToInput(this.$field,{callback:function(a){a&&(a=a.toUpperCase(),location.href="/chart/"+TradingView.encodeSpread(a)+"/")}});this.$field.placeholder();this.$field.on("focus",function(){this.$element.addClass("active")}.bind(this)).on("blur",function(){this.$element.removeClass("active")}.bind(this)).on("keyup",function(){this.$element.toggleClass("not-empty",
!!this.$field.val().length)}.bind(this));this.$button.on("click",function(){this.symbolSearch.acceptTypeIn()}.bind(this))};TradingView.applyReadMoreToChart=function(a){var b=a.find(".desc");b.html(b.html().replace(/<br>/g," ")).ellipsis(111,!1,function(b){b=a.find(".chart-read-more-container");b.css("display","block");b.is(b.parent().children(":visible").last())&&a.css("padding-bottom","0px")})};
function chartWithCover(a){a.find(".date").each(function(){var a=$(this),c=new Date(a.text());TradingView.agoDateFormatter(a,c)});a.find(".desc").each(function(){var a=$(this);a.height(a.parent().outerHeight()-a.position().top-5)}).ellipsis()}
TradingView.deleteChart=function(a,b){var c=[a];TVDialogs.showConfirm($.t("Confirmation"),$.t("Are you sure you want to delete this chart?"),function(){if(Featuresets.enabled("saveload_storage_customization"))return TradingView.ChartingLibraryBackend.removeChart(a,b);TradingView.dropPrerenderCache();$.post("/deletechart/",{uid:c},function(a){a.error||("string"===typeof b?document.location=b:"function"===typeof b?b():window.location.reload())})},null,{addClass:"delete-chart-dialog"})};
TradingView.saveChart=function(a,b,c,d,e){e=e||{};if(Featuresets.enabled("saveload_storage_customization"))return TradingView.ChartingLibraryBackend.saveChart(a.name,a.short_name,a.resolution,a,b.id.value(),function(a){b.id.value()||(b.id.setValue(a),b.uid.setValue(a));"function"==typeof c&&c()},d);$.post("/savechart/",a,function(a){if("ok:"===a.substr(0,3))a=a.substr(3),a=JSON.parse(a),b.id.value()||(b.id.setValue(a.id),b.uid.setValue(a.uid)),"function"==typeof c&&c({uid:b.uid.value()},a.count||
0);else if("saved_chart_limit_reached"==a||""===a){"function"==typeof d&&d();if(e.noDefaultOnFail)return;TVDialogs.showGoProDialog({feature:"savedChartsLimit"})}else"function"==typeof d&&d(),$("#error").html(a);$(window).off("beforeunload.savechart")})};TradingView.openSavedChart=function(a){Featuresets.enabled("saveload_storage_customization")?TradingView.ChartingLibraryBackend.loadChart(a):open("/chart/"+a.url+"/"+(TradingView.isMobileView?"?mobile=1":""),"_blank")};
function recommendChart(a,b){var c=b?$(b):$("#chart-recommend-button");c.hasClass("active")?c.removeClass("active"):c.addClass("active");$.post("/recommend/",{id:a,type:"recommend"},function(b){c.toggleClass("active",!!b.state);$("#chart-"+a).toggleClass("hidden-idea",!b.state)})}function updateSuggestedView(a,b){$(".chart-"+a+"-suggested-button").toggleClass("active",!!b)}
function suggestChart(a,b){var c=!$(b).hasClass("active");updateSuggestedView(a,c);$.post("/recommend/",{id:a,type:"hot",state:(!!c).toString()},function(b){updateSuggestedView(a,b.state)})}function chartTogglePublic(a,b){var c=b?$(b):$("#chart-public-button");c.toggleClass("active");$.post("/togglepublic/",{id:a},function(a){c.toggleClass("active",!!a.state)})}
function chartRepostSTTW(a,b){var c=$(b);c.addClass("active");$.post("/repoststtw/",{id:a},function(a){c.toggleClass("active",!!a.state)})}
function chartToggleIOTD(a,b){function c(){d.toggleClass("active",e)}var d=b?$(b):$("#chart-iotd-button");if(!d.is(".disabled")){var e=d.hasClass("active");d.toggleClass("active",!e);$.post("/toggle-iotd/",{id:a},function(b){b.state&&updateSuggestedView(a,!0)}).done(function(a){if(a.error)return TVDialogs.showNotice($.t("Error"),a.error),c();d.toggleClass("active",!!a.state).toggleClass("disabled",!!a.disabled)}).fail(c)}}
TradingView.highlightChart=function(a,b){function c(a,c){c&&300<c.length?(e.removeClass("process"),TVDialogs.showError($.t("Maximum length of comment is 300 characters")),g.focus()):$.post("/highlight/",{id:a,comment:c||""},function(a){""!==a.error?(e.removeClass("process"),TVDialogs.showError(a.error)):($(".button-set .hl-button").removeClass("active"),$(b).addClass("active"),TVDialogs.destroy())})}var d=$.t("Comment:"),d=TVDialogs.createModalDialog(d,{addClass:"dialog-highlight"});d.find("._tv-dialog-content").append(Mustache.render(TradingView.templates.dialogs.highlightCommentDialog));
var e=d.find(".dialog-buttons ._tv-button.ok"),f=d.find(".dialog-buttons ._tv-button.cancel"),g=d.find(".message textarea");f.on("click",function(b){c(a)});e.on("click",function(b){b=g.val().trim();0<b.length?(e.addClass("process"),c(a,b)):(TVDialogs.showError($.t("Comment required")),g.focus())});TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClick:!0})};
function trendingPeople(a){a.on("click",".column-trending-people .tabs a",function(b){var c=$(this);if(c.hasClass("active"))return!1;c.addClass("active").siblings("a").removeClass("active");a.find(".top-user-group").hide().filter("."+c.attr("href").slice(1)).show();b.preventDefault()})}
$.fn.TVTicker=function(a){function b(a){a=Math.abs(a);var b=1;!TradingView.isInteger(a)&&1<a&&(a=parseFloat(a.toString().replace(/^.+\./,"0.")));0<a&&1>a&&(b=Math.pow(10,a.toString().length-2));return b}a=a||{};this.each(function(){function c(a){g.trigger("tvticker-beforechange");var c=g.data("TVTicker"),d=c&&c.step,e;e=c.parser?c.parser(g.val()):TradingView.isInteger(d)?parseInt(g.val(),10):parseFloat(g.val());isNaN(e)&&(e=0);var f=b(e),d=b(d),f=Math.max(d,f);a=a(e,f);c.formatter&&(a=c.formatter(a));
g.val(a);g.change()}function d(){var a=g.data("TVTicker"),b=a&&a.step,d=a&&a.max;c(function(a,c){var e=(Math.round(a*c)+Math.round(b*c))/c;void 0!==d&&null!==d&&d<e&&(e=a);return e})}function e(){var a=g.data("TVTicker"),b=a&&a.step,d=a&&a.min;c(function(a,c){var e=(Math.round(a*c)-Math.round(b*c))/c;void 0!==d&&null!==d&&e<d&&(e=a);return e})}var f=!1,g=$(this),h=g.data("TVTicker");h?f=!0:h={step:+g.data("step")||1};"step"in a&&(h.step=+a.step||h.step);"min"in a&&(h.min=a.min);"max"in a&&(h.max=
a.max);"formatter"in a&&(h.formatter=a.formatter);"parser"in a&&(h.parser=a.parser);g.data("TVTicker",h);f||(f=$('<div class="tv-ticker">').appendTo(g.parent()),$('<div class="icon up">').appendTo(f),$('<div class="icon down">').appendTo(f),g.next().find(".up, .down").on("mousedown",function(a){a.preventDefault();g.focus()}),g.next().find(".up").click(function(){g.is(":disabled")||d()}),g.next().find(".down").click(function(){g.is(":disabled")||e()}),g.keydown(function(a){g.is(":disabled")||(38==
a.keyCode?g.next().find(".up").addClass("active"):40==a.keyCode&&g.next().find(".down").addClass("active"))}),g.keyup(function(a){g.is(":disabled")||(38==a.keyCode?(d(),g.next().find(".up").removeClass("active")):40==a.keyCode&&(e(),g.next().find(".down").removeClass("active")))}),g.mousewheel(function(a,b){0<b?g.next().find(".up").click():g.next().find(".down").click()}))});return this};
(function(){function a(a){var b=0;!0===a&&(ChartApiInstance.disconnect(),b=500);setTimeout(ChartApiInstance.connect.bind(ChartApiInstance),b)}function b(b,c){var f=$('<div class="buttons">').appendTo(b.find("._tv-dialog-content .main"));$('<input type="button" class="_tv-button ok" value="'+$.t("Report a data issue")+'">').css("margin-right",15).click(function(){TVDialogs.destroy();runOrSignIn(function(){(new TradingView.UserBugReportDialog({modal:!0})).show().on("destroy",function(){a(c)})},{source:"Report data issue from disconnect dialog"})}).appendTo(f);
$('<input type="button" class="_tv-button ok" value="'+$.t("Reconnect")+'">').click(function(){TVDialogs.destroy();a(c)}).appendTo(f)}function c(){TradingView.trackEvent("System","Disconnect");var a="<p>"+$.t("Connection to server was lost")+"</p><p>"+$.t("How to fix:")+"</p><ol><li>"+$.t("Check firewall settings and make sure access to websocket ({0} port {1}) is open. Then click Reconnect or press F5.").format(window.WEBSOCKET_HOST,window.WEBSOCKET_PORT)+"</li><li>"+$.t('Your browser doesn\u2019t support <strong>WebSocket</strong> technology and does not have <strong>Adobe Flash</strong> plugin installed.<br>Please, <a href="http://get.adobe.com/flashplayer/" target="_blank">install Flash plugin</a> or consider updating to one of these modern browsers with WebSocket support:')+
'<ul><li><a href="http://www.google.com/chrome/" target="_blank">Chrome</a></li><li><a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a></li></ul></li><li>'+$.t("Server broke the connection. Click Reconnect or press F5.")+"</li></ol>";b(TVDialogs.showNotice($.t("Connection is lost"),{html:a,classSuffix:"disconnect",removeOkButton:!0,doNotCloseOnBgClick:!0,width:"500px"}))}window.showDisconnectedMessage=function(){"MozWebSocket"in window&&TradingView.WEB_SOCKET_WAS_CONNECTED?
setTimeout(c,15E3):c()};window.showCriticalErrorMessage=function(){TradingView.trackEvent("System","Critical Error");b(TVDialogs.showNotice($.t("Oops, something went wrong"),{html:$.t("Please report the issue or click Reconnect."),classSuffix:"critical",removeOkButton:!0,doNotCloseOnBgClick:!0,width:"500px"}),!0)}})();
function toggleUserSavedCharts(a){var b=$(a).toggleClass("active");$(".my-saved-charts").toggle();b.is(".active")?$(document).bind("click.toggleUserSavedCharts",function(b){$(b.target).is(".saved-charts-button")||toggleUserSavedCharts(a)}):$(document).unbind("click.toggleUserSavedCharts")}function makeDirectionName(){return function(a,b){var c=b(a);return"0"==c?$.t("Neutral"):"1"==c?$.t("Long"):$.t("Short")}}function gotochart(a){location.href="/v/"+a+"/"}
$.fn.ellipsis=function(){return this.each(function(a,b,c){var d=$(this),e=d.text(),f=e,g=$(this.cloneNode(!0)).hide().css({position:"absolute",overflow:"visible",height:"auto",width:d.width()});a=a||d.height();d.after(g);for(var h=g.height()-a,k,m=0;0<h;)if(f=f.substr(0,f.length-h/2),g.text(f+"\u2026"),h=g.height()-a,k=!0,500<m++){console.warn($.t("Error: too long text"));break}d.text(g.text());k&&"function"===typeof c&&c(d);b&&e!=g.text()&&d.attr("title",e);g.remove()},arguments)};
(function(a){var b=a('<div class="blue-tooltip-icon icon" />'),c=a('<div class="blue-tooltip-text" />'),d=a('<div class="blue-tooltip blue-tooltip-hidden" />').append(b).append(c);a.fn.blueTooltip=function(e,f,g){d.parent().length||d.appendTo(document.body);return this.each(function(){var h=a(this);h.data("tooltip",e);h.off("mouseenter.tooltip").on("mouseenter.tooltip",function(){if(!Modernizr.touch){g=g||"";c.html(h.data("tooltip"));d.attr("class","blue-tooltip");d.addClass("blue-tooltip-"+f).addClass(g);
var e=(h.outerWidth()-d.outerWidth())/2,m=0,l=e+h.offset().left+d.outerWidth(),p=e+h.offset().left,t=a(window).width()-5;5>p?m=5-p:l>t&&(m=t-l);e=h.offset().left+e+m;l=0;p="";"top"===f?(l=h.offset().top-d.outerHeight()-10,p="-=10"):"bottom"==f&&(l=h.offset().top+h.outerHeight()+10,p="+=10");d.css({left:e,top:l,opacity:0});b.css({left:Math.round(d.width()/2)-m});d.stop().animate({top:p,opacity:1},200)}}).off("mouseleave.tooltip").on("mouseleave.tooltip",function(a){d.addClass("blue-tooltip-hidden").removeClass(g)})})}})(jQuery);
TradingView.Tooltip=function(){function a(){clearTimeout(k);clearTimeout(m);jQuery.contains(document.body,g[0])&&(g.css("opacity","0"),m=setTimeout(g.detach.bind(g),250))}function b(a,b){var c=a.data("commonTooltipText")||"",d=a.attr("title");if(c||d||b)return d&&(c=d,a.data("commonTooltipText",c),a.removeAttr("title")),d={y:a.offset().top-$(window).scrollTop(),x:a.offset().left-$(window).scrollLeft(),w:a.outerWidth(),h:a.outerHeight()},{text:c,rect:d,vertical:a.hasClass("common-tooltip-vertical"),
otl:a.hasClass("common-tooltip-otl"),otr:a.hasClass("common-tooltip-otr"),below:a.hasClass("common-tooltip-below"),above:a.hasClass("common-tooltip-above")}}function c(a,c){var e=$(a);c=c||{};if(0===e.size())return!1;c=$.extend({},b(e,!(!c.text&&!c.$inner)),c);$.isEmptyObject(c)||d(c)}function d(a){var b=jQuery.contains(document.body,g[0]);clearTimeout(k);clearTimeout(m);b?(a.$inner?h.empty().append(a.$inner):h.text(a.text),f(a),e(a.colorTheme||"default"),g.addClass(a.addClass),g.css("opacity","1")):
k=setTimeout(function(){g.appendTo(document.body);d(a)},500)}function e(a){var b={white:"theme-white",default:""},c;c=Object.keys(b);a=-1!==c.indexOf(a)?b[a]:"";g.removeClass(c.filter(function(a){return!!a}).map(function(a){return b[a]}).join(" "));a&&!g.hasClass(a)&&g.addClass(a)}function f(a){var b=a.rect;g.attr("class","common-tooltip-wrapper").css({top:"auto",right:"auto",bottom:"auto",left:"auto"});Modernizr.pointerevents||g.addClass("no-pointer-events");h.css({left:"0",width:"auto"});h.width(h.width()+
2);var c=$(window).width(),d=$(window).height(),e=a.vertical;(e&&20>b.w||!e&&20>b.h)&&g.addClass("farther");e?(g.addClass("vertical").css({left:b.x+b.w,top:b.y-(g.outerHeight()-b.h)/2}),a=a.otr?"otr":a.otl||h.offset().left+h.outerWidth()+10>c?"otl":"otr","otl"==a?g.addClass("otl").css({left:"auto",right:c-b.x}):g.addClass("otr")):(g.css({bottom:d-b.y,left:b.x-(g.outerWidth()-b.w)/2}),a=a.above?"above":a.below||10>h.offset().top?"below":"above","below"==a?g.addClass("below").css({bottom:"auto",top:b.y+
b.h}):g.addClass("above"),0>h.offset().left-10?h.css("left",Math.abs(h.offset().left)+10):h.offset().left+h.outerWidth()+10>c&&h.css("left",c-(h.offset().left+h.outerWidth()+10)))}var g=$("<div />").css("opacity","0"),h=$('<div class="common-tooltip-body" />').appendTo(g),k,m;if(!Modernizr.touch)$(document).on("mouseenter",".apply-common-tooltip",function(b){function d(){e.off("mouseleave mousedown",d);a()}if("buttons"in b){if(b.buttons&1)return}else if(1==b.which)return;var e=$(this);c(e);e.on("mouseleave mousedown",
d)});return{show:d,showOnElement:c,hide:a}}();
$(function(){var a=$.browser.msie||/\btrident\b/i.test(navigator.userAgent)?1:0;$(document).on("mouseenter",".apply-overflow-title",function(){$(this).attr("title")||this.offsetWidth+a>=this.scrollWidth||$(this).attr("title",$(this).text())});$(document).on("mouseenter",".apply-overflow-tooltip",function(){function b(){TradingView.Tooltip.hide();c.off("mouseleave mousedown",b)}var c=$(this);c[0].offsetWidth+a>=c[0].scrollWidth||(TradingView.Tooltip.showOnElement(c[0],{text:c.text()}),c.on("mouseleave mousedown",
b))})});
TradingView.GlobalNotification=function(a,b){this._options=b||{};var c=this;this.id=a.id;var d=this._lastId();if(!d)this._setLastId(this.id);else if(!(this.id<=d||(c=this,this.container=$(Mustache.render(TradingView.templates.globalNotification,a)).prependTo($("body")),c.container.show(),this._options.addClass&&this.container.addClass(this._options.addClass),c.container.css("top",0),this._options.notShiftBody||$("body").addClass("padding-animate").css({paddingTop:c.container.outerHeight()}),TradingView.trackEvent("Global notification",
"Show notification "+a.id),this.container.find(".global-notification-close").on("click",function(){c.close()}),$.browser.msie)))TVXWindowEvents.on(this.KEY+"-close",this._onCloseInAnotherTab.bind(this))};TradingView.GlobalNotification.prototype.KEY="globalNotification";
TradingView.GlobalNotification.prototype._lastId=function(){var a=TVSettings.getInt(this.KEY,0,!0),b=TVSettings.getInt(this.KEY,0),c=Math.max(b,a);a!=b&&TVSettings.setValue(this.KEY,c);!c&&$.cookie("notification_id")&&(c=~~$.cookie("notification_id"),TVSettings.setValue(this.KEY,c),$.cookie("notification_id",0,{expires:-1,path:"/"}));return c};TradingView.GlobalNotification.prototype._setLastId=function(a){TVSettings.setValue(this.KEY,a)};
TradingView.GlobalNotification.prototype.close=function(a){var b=this;this.container&&(a?(this.container.remove(),this.container=null):(b.container.css("top",-1*this.container.outerHeight()+"px"),setTimeout(function(){b.container.remove();b.container=null;$(window).resize();b._options.notShiftBody||$("body").removeClass("padding-animate")},1500),TVXWindowEvents.emit(b.KEY+"-close",JSON.stringify([b.id,+new Date])),this._setLastId(b.id)),this._options.notShiftBody||$("body").css({paddingTop:0}))};
TradingView.GlobalNotification.prototype._onCloseInAnotherTab=function(a){a=JSON.parse(a);this.id<=a[0]&&this.close(!0)};function closeGlobalNotification(a){$.cookie("notification_id",a,{expires:365,path:"/"});$(".tv-global-notification").slideUp(400,function(){$(window).resize()})}
TradingView.RequestCache=function(a){function b(a){"function"==typeof a&&a([]);return a}function b(b){d||e||(e=!0,$.getJSON(a,function(a){e=!1;d=!0;c=a;"function"==typeof b&&b(a)}));c&&"function"==typeof b&&b(c);return c}b.invalidate=function(){};if(Featuresets.enabled("charting_library_base"))return b;var c,d=!1,e=!1;b.invalidate=function(){c=null;d=!1};return b};
Featuresets.enabled("charting_library_base")?TradingView.ChartingLibraryBackend?(TradingView.getStudyTemplatesList=TradingView.ChartingLibraryBackend.getStudyTemplatesList,TradingView.getStudyTemplatesList.invalidate=TradingView.ChartingLibraryBackend.clearStudyTemplatesListCache):(TradingView.getStudyTemplatesList=function(){},TradingView.getStudyTemplatesList.invalidate=function(){}):(TradingView.getStudyTemplatesList=new TradingView.RequestCache("/study-templates-ext/"),TradingView.getThemesList=
new TradingView.RequestCache("/themes/"));
TradingView.showThemeSaveDialog=function(a){this.showChartNameDialog(function(b){b&&$.get("/theme/"+b+"/").success(function(c){var d=!!c.content;c={name:b,content:JSON.stringify(a.model().theme())};d?(d=$.t("Do you realy want to replace")+' "'+b+'"?',TVDialogs.showConfirm($.t("Confirm replacing"),d,function(){$.post("/save-theme/",c).error(function(a){console.error(a.responseText)});a._lastLoadedTheme=b})):($.post("/save-theme/",c).error(function(a){console.error(a.responseText)}),TradingView.getThemesList.invalidate(),
a._lastLoadedTheme=b)})},{title:$.t("Save theme as..."),label:$.t("Theme name"),error:$.t("Please enter theme name")},128)};TradingView.applySearchResetHandler=function(a){return a.on("change keyup",function(){$(this).val()?$(this).siblings(".input-reset").show():$(this).siblings(".input-reset").hide()}).change().siblings(".input-reset").on("click",function(){a.val("").change()})};
TradingView.getImageOfChart=function(a,b,c){function d(c){c=Featuresets.enabled("charting_library_base")?(b.snapshotUrl?"":"http://www.tradingview.com/x/")+c:window.location.protocol+"//"+window.location.host+"/x/"+c+"/";k.attr({href:c});m.attr("data-clipboard-text",c);l.val(c);g.stop();h.css({visibility:"visible"});setTimeout(function(){var a=l.get(0);a.focus&&a.focus();a.select&&a.select()},0);c=TradingView.ShareTwitterSnapshot.getStatus(a.activeChartWidget.value().symbolProperty().value(),c);$('<a class="twitter-share-button _tv-dialog-social _tv-dialog-social-twitter"></a>').attr({href:"https://twitter.com/share?count=none&text="+
encodeURIComponent(c)+"&url=%20",rel:"nofollow"}).appendTo(p);$('<script src="//platform.twitter.com/widgets.js">\x3c/script>').appendTo(p);var d=new ZeroClipboard(m);d.on("ready",function(a){d.on("aftercopy",function(a){TVDialogs.showMessage($.t("Copied to clipboard"))})})}b=b||{};TVDialogs.createModalDialog($.t("Image URL"),{addClass:"_tv-dialog-min-width"});var e=TVDialogs.modalDialog,f=e.find("._tv-dialog-content"),g=TradingView.unifiedSpinner("mini").spin(f.get(0)),h=$('<div class="main">').css({visibility:"hidden"}).appendTo(f),
k=$("<a>").text($.t("Save image")).attr({target:"_blank"}).css("text-decoration","underline"),m=$('<span class="copy-clipboard-button _tv-button">'+$.t("Copy link")+"</span>"),l=$("<input>").attr({type:"text",readonly:!0}).bind("click focus",function(){this.select&&this.select()});$("<p>").appendTo(h).append(k," "+$.t("or copy url:"));f=$('<form class="copy-image-url">').append(m,l);$("<p>").css({position:"relative"}).appendTo(h).append(f);ZeroClipboard.isFlashUnusable()&&f.addClass("copy-unavailable");
var p=$('<p class="_tv-dialog-socials">').appendTo(h);TVDialogs.positionDialog();TVDialogs.applyHandlers();TradingView.trackEvent("GUI","Get image button");ZeroClipboard.config({swfPath:TradingView.wrapUrl("/static/images/ZeroClipboard.swf")});TradingView.takeSnapshot(a,function(a){c&&c(a);d(a)},function(){g.stop();TVDialogs.showError($.t("URL cannot be received"),e)},{snapshotUrl:b.snapshotUrl});return!1};
TradingView.getImageOfChartSilently=function(a,b,c){TradingView.takeSnapshot(a,function(a){c&&c(a)},function(){console.warn($.t("Error while trying to create snapshot."))},{snapshotUrl:b.snapshotUrl});return!1};TradingView.dropPrerenderCache=function(){$('link[rel="prerender"]').remove()};
function onLoginStateChange(a){$("html").toggleClass("is-authenticated",is_authenticated).toggleClass("is-not-authenticated",!is_authenticated).toggleClass("is-pro",is_authenticated&&user&&!!user.is_pro).toggleClass("is-not-pro",!(is_authenticated&&user&&user.is_pro)).toggleClass("is-trial",is_authenticated&&user&&"pro_realtime_trial"===user.pro_plan).toggleClass("is-not-trial",!(is_authenticated&&user&&"pro_realtime_trial"===user.pro_plan)).toggleClass("is-mobile",!!TradingView.isMobileView);TVSettings.sync(user.settings);
a||TradingView.dropPrerenderCache();is_authenticated?(a||($(".header-item-profile strong.user-badge").remove(),$(".header-item-profile > a").append(TradingView.userBadge(user,!0,"strong"))),$(".user-info-username").html(user.username),$(".following_count").html(user.following),$(".followers_count").html(user.followers),$(".saved_charts_count").html(user.saved_charts),$(".published_charts_count").html(user.published_charts),$(".treated_charts_count").html(user.treated_charts_count),$("img.user-picture, .user-picture img").attr("src",
user.userpic),$(".trial-days-left").html(user.trial_days_left||""),$(".header-item-profile").find("a").each(function(a,c){c=$(c);var d=c.attr("rel");d&&c.attr("href",d.replace("%u",user.username))}),user.fastpass_script&&eval(user.fastpass_script),user.is_first_login&&(TradingView.trackEvent("Conversion","First login"),user.prort_trial_started&&(TVDialogs.showTrialMessageSuccess(),delete user.prort_trial_started),delete user.is_first_login),TradingView.setTrialAvailiable(user.trial_availiable)):(user=
{username:"Guest",following:"0",followers:"0",ignore_list:{}},$(".user-info-username").html(user.username),TVLocalStorage.removeItem("trial_availiable"));window.studyTemplates&&(window.studyTemplates.refreshStudyTemplateList(),window.studyTemplates.refreshFavoriteDropdownMenu())}function markNewsAsRead(){$(".user-picture .notifications-counter").hide().addClass("hide");$(".notifications-counter.counter").removeClass("new").text("0");TVXWindowEvents.emit("zero-notification-counter")}
function followButtonTooltip(a){var b=a.hasClass("unfollow")?$.t("Unfollow"):$.t("Follow");a.attr("title",b)}TradingView.followButtonToolipAll=function(){$(".follow-link").each(function(a,b){b=$(b);b.data("tv_tooltip")||followButtonTooltip(b)})};TradingView.getSavedChartsList=function(a){return Featuresets.enabled("charting_library_base")?TradingView.ChartingLibraryBackend.getCharts(a):$.getJSON("/my-charts/",a)};
function isOnChartEditPage(){var a=new RegExp(TradingView.urlRegExp.publishedChart),b=new RegExp(TradingView.urlRegExp.publishedScript);return(new RegExp(TradingView.urlRegExp.publishedChartOld)).test(location.pathname)||a.test(location.pathname)||b.test(location.pathname)}
function refreshChartMenuState(){function a(){d.hide();c.show()}function b(b){b={charts:b};if(b.charts&&b.charts.length){e.empty();e.append(Mustache.render(TradingView.templates.lists.savedCharts,b));var c=new TradingView.SidebarCustomScroll(e,e.find("ul").eq(0),{additionalClass:"gray",alwaysVisible:!0});e.parent().one("hover",function(){c.updateScrollBar()});e.find("li").each(function(b,c){c=$(c);var d=c.find(".name").text();20<d.length&&c.attr("title",d);$("span.icon",c).click(function(b){var c=
$(this).data("id");e.mouseleave();TradingView.deleteChart(c,function(){user.saved_charts--;var c=$(b.target).parent().attr("href");$(b.target).parent().parent().remove();user.saved_charts||a();!isOnChartEditPage()||user.saved_charts&&"/chart/"+chartWidget.metaInfo().uid+"/"!=c||(location.href="/chart/")});return!1})})}else a()}var c=$(".header-button.header-item-chart"),d=$(".header-menu.header-item-chart"),e=d.find(".popup-subblock");d.length&&e.length&&(d.on("closeMenu",function(){e.empty()}),d.on("openMenu",
function(){TradingView.getSavedChartsList(b)}),is_authenticated&&user.saved_charts?(c.hide(),d.show()):a())}TradingView.urlizeAndParseQuotesAndClean=function(a,b){b=b||[];var c=new TradingView.Urlization.UrlizeBuffer(TradingView.clean(a)),c=TradingView.Urlization.obsceneWords(c);c.text=TradingView.parseQuotes(c.text);return TradingView.Urlization.chainedUrlize(c,TradingView.Urlization.deprecatedUrlizeFunctors.concat(b))};
(function(a){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){a(this).focus();if(this.setSelectionRange){var b=2*a(this).val().length;this.setSelectionRange(b,b)}else a(this).val(a(this).val());this.scrollTop=999999})};jQuery.fn.putCursorAtPosition=function(b){return this.each(function(){a(this).focus();this.setSelectionRange&&this.setSelectionRange(b,b)})}})(jQuery);
TradingView.ShareTwitterSnapshot=function(a){function b(a,b){return"https://twitter.com/intent/tweet?&status="+encodeURIComponent(TradingView.ShareTwitterSnapshot.getStatus(a,window.location.protocol+"//"+window.location.host+"/x/"+b+"/"))}if(TradingView.winMobileMode)this.onSuccess=function(c){try{window.JsBridge.sendEvent(b(a,c),"sharing_ready")}catch(e){}},this.onFailure=function(){try{window.JsBridge.sendEvent("sharing_error")}catch(a){}};else{var c=open("about:blank","snapshot_tweet","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+
Math.round(screen.width/2-275)+",top="+Math.round(screen.height/2-210));this.onSuccess=function(d){c.location.href=b(a,d)};this.onFailure=function(){c.close()}}};TradingView.ShareTwitterSnapshot.getStatus=function(a,b){return TradingView.isCmeWidget?b+" from cmegroup.com via @tradingview $"+a:"$"+a+" chart "+b+" via http://www.tradingview.com"};
TradingView.ShareStocktwitsSnapshot=function(a){function b(a,b){return"https://stocktwits.com/widgets/share?body="+encodeURIComponent(TradingView.ShareStocktwitsSnapshot.getStatus(a,window.location.protocol+"//"+window.location.host+"/x/"+b+"/"))}if(TradingView.winMobileMode)this.onSuccess=function(c){try{window.JsBridge.sendEvent(b(a,c),"sharing_ready")}catch(e){}},this.onFailure=function(){try{window.JsBridge.sendEvent("sharing_error")}catch(a){}};else{var c=open("about:blank","snapshot_tweet",
"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+Math.round(screen.width/2-275)+",top="+Math.round(screen.height/2-210));this.onSuccess=function(d){c.location.href=b(a,d)};this.onFailure=function(){c.close()}}};TradingView.ShareStocktwitsSnapshot.getStatus=function(a,b){return"$"+a+" chart "+b+" via http://www.tradingview.com"};
TradingView.authInStocktwits=function(a){runOrSignIn(function(){user.has_stocktwits?"function"===typeof a&&a():("function"===typeof a&&(user.on_stocktwits_auth_success=function(){a.apply(this,Array.prototype.slice.call(arguments));this.user.on_stocktwits_auth_success&&delete this.user.on_stocktwits_auth_success}.bind(window)),window.open("https://api.stocktwits.com/api/2/oauth/authorize?client_id="+window.stocktwits_consumer_key+"&response_type=code&redirect_uri="+location.protocol+"//"+location.host+
"/accounts/return/stocktwits/&scope=publish_messages","stocktwits_permission_request","scrollbars=yes,height=400,width=700").focus())},{source:"StockTwits auth"})};
TradingView.agoDateFormatter=function(a,b,c){var d,e;if(c)e=c(new Date-b),d=e.text,e=e.timeout;else{var f=moment(new Date).diff(b);d=moment(b).fromNow();e=TradingView.agoDateFormatter.getUpdateTimeout(f);a.parent().toggleClass("just-now",45E3>f)}a.attr("title",b.toLocaleString()).text(d);d=null;e&&(a.attr("data-ago-date-timer")&&clearTimeout(+a.attr("data-ago-date-timer")),d=setTimeout(function(){TradingView.agoDateFormatter(a,b,c)},e));a.attr("data-ago-date-timer",d)};
TradingView.agoDateFormatter.destroy=function(a){$(a).find("*").andSelf().filter("[data-ago-date-timer]").each(function(){clearTimeout(+$(this).attr("data-ago-date-timer"))})};TradingView.agoDateFormatter.nextMinuteThrough=function(a){return 6E4-a%6E4};TradingView.agoDateFormatter.nextHourThrough=function(a){return 36E5-a%36E5};TradingView.agoDateFormatter.nextDayThrough=function(a){return 864E5-a%864E5};
TradingView.agoDateFormatter.getUpdateTimeout=function(a){var b=200;a=Math.floor(a/6E4);if(60>a)b+=TradingView.agoDateFormatter.nextMinuteThrough(a);else if(1440>a)b+=TradingView.agoDateFormatter.nextHourThrough(a);else if(43200>a)b+=TradingView.agoDateFormatter.nextDayThrough(a);else return!1;return b};
TradingView.agoDateFormatter.fullFormat=function(a){var b=Math.floor(a/6E4),c="",d=!1;60>b?(c=1>b?$.t("less than a minute"):b+" "+(1<b?$.t("minutes"):$.t("minute")),d=TradingView.agoDateFormatter.nextMinuteThrough(a)):1440>b?(b=Math.floor(b/60),c=b+" "+(1<b?$.t("hours"):$.t("hour")),d=TradingView.agoDateFormatter.nextHourThrough(a)):43200>b?(b=Math.floor(b/1440),c=b+" "+(1<b?$.t("days"):$.t("day")),d=TradingView.agoDateFormatter.nextDayThrough(a)):15768E3>b?(b=Math.floor(b/43200),c=b+" "+(1<b?$.t("months"):
$.t("month"))):(b=Math.floor(b/15768E3),c=b+" "+(1<b?$.t("years"):$.t("year")));c+=" "+$.t("ago");d&&(d+=200);return{text:c,timeout:d}};
TradingView.agoDateFormatter.shortFormat=function(a){var b=Math.floor(a/6E4),c="",d=!1;60>b?(c=(1>b?0:b)+$.t("m"),d=TradingView.agoDateFormatter.nextMinuteThrough(a)):1440>b?(b=Math.floor(b/60),c=b+$.t("h"),d=TradingView.agoDateFormatter.nextHourThrough(a)):43200>b?(b=Math.floor(b/1440),c=b+$.t("d"),d=TradingView.agoDateFormatter.nextDayThrough(a)):15768E3>b?(b=Math.floor(b/43200),c=b+$.t("mn")):(b=Math.floor(b/15768E3),c=b+$.t("y"));d&&(d+=200);return{text:c,timeout:d}};
function userlink(a,b){return Mustache.render(TradingView.templates.userlink,{username:a,is_pro:function(){return!!b},is_realtime:function(){return"pro_realtime"==b},is_premium:function(){return"pro_premium"==b},is_trial:function(){return"pro_realtime_trial"==b}},TradingView.templates)}function proBadge(a,b){return void 0===a||a?Mustache.render(TradingView.templates.proBadge,{is_realtime:"pro_realtime"==a,is_premium:"pro_premium"==a,is_trial:"pro_realtime_trial"==a,large_badge:!!b}):""}
TradingView.userBadge=function(a,b,c){var d="",e="";if(a.top_user_info){d=a.top_user_info.badge?a.top_user_info.badge.title:"";e=a.top_user_info.badge?a.top_user_info.badge.class:"";if(a.is_pro)switch(d+=" | ",a.pro_plan){case "pro_realtime_trial":d+=$.t("Pro Trial");break;case "pro_premium":d+=$.t("Premium");break;case "pro_realtime_trial":d+=$.t("Pro Plus");break;default:d+=$.t("Pro")}a.is_moderator&&(d+=" | "+$.t("Moderator"))}return Mustache.render(a.userBadgeTmpl||TradingView.templates.userBadge,
{is_moderator:a.is_moderator,is_pro:a.is_pro,is_realtime:"pro_realtime"==a.pro_plan,is_premium:"pro_premium"==a.pro_plan,is_trial:"pro_realtime_trial"==a.pro_plan,is_top:!!a.top_user_info,badge_class:e,badge_title:d,large_badge:!!b,badge_tag:c},TradingView.templates)};
(function(){function a(){clearTimeout(c);$(".publish-chart-button").removeClass("process")}function b(b,e){function f(){!0===e?window.saver.publishChart(b):TVDialogs.showPublishIntroDialog().done(window.saver.publishChart.bind(window.saver,b))}runOrSignIn(function(){var b=TradingView.getUrlParams();Boolean(b.publishsource&&~b.publishsource.toLowerCase().indexOf("dailyfx"))?f():(b=$(".publish-chart-button"),b.size()&&(b.addClass("process"),c=setTimeout(a,3E4)),TradingView.phoneVerification.whenVerified({showDialog:!0,
source:"Publish chart"}).done(f).always(a))},{source:"Publish chart",sourceMeta:"Chart"})}var c;TradingView.Common={publishChartWidget:function(a){b(a,!0)},publishChart:b}})();TradingView.symbol2id=function(a){return a.replace(/[^a-z0-9]/gi,"_")};TradingView.tokenInitialized=$.Deferred();TradingView.tokenExpiration=6E5;
TradingView.registerAuthToken=function(a){var b=this.tokenInitialized,c=new Date(1E3*user.auth_token_timestamp),d=new Date;loginStateChange.subscribe(TradingView,function(e){e&&user?user.auth_token&&(d-c<this.tokenExpiration?(a.setAuthToken(user.auth_token),b.resolve()):this.requestAndSetAuthToken(a).done(function(){b.resolve();console.info("Token expired and recreated.")})):this.isProRealtime()&&this.requestAndSetAuthToken(a).done(function(){b.resolve()})}.bind(this));setTimeout(b.resolve.bind(b),
5E3)};TradingView.requestAndSetAuthToken=function(a,b){var c=$.Deferred();this.requestAuthToken().done(function(d){a.setAuthToken(d,b);c.resolve()});return c};TradingView.requestAuthToken=function(a){function b(){e=$.post("/quote_token/",{grabSession:!!a},"json").done(function(a){c.resolve(a)}).fail(function(a){c.isRejected()||c.isResolved()||403==a.status||(a=Math.min(1E3*d,3E4),d++,setTimeout(b,a))})}var c=$.Deferred(),d=0,e;b();c.always(function(){e&&e.abort()});return c};
TradingView.isPro=function(){return is_authenticated&&user.is_pro};TradingView.isProRealtime=function(){return this.isPro()&&("pro_realtime"==user.pro_plan||"pro_realtime_trial"==user.pro_plan)};function updateChartActiveLabel(a,b){null==a&&(a=$(".chart-activity-label"));a=$(a);a.each(function(){var a=$(this),d;null==b?d=a.hasClass("chart-activity-label-active"):(d=b,a.toggleClass("chart-activity-label-active",d));a.find(".chart-activity-label-plate").text(d?$.t("Active"):$.t("Closed"))})}
TradingView.centerBlock=function(a){var b=$(window),c=a.width(),d=a.height(),e=b.width(),b=b.height();a.css({left:Math.round((e-c)/2)+"px",top:Math.round((b-d)/2)+"px"})};
TradingView.visitPaymentPageSwreg=function(a,b){if(!a.product_ids.hasOwnProperty(b))throw new TypeError("Unknown product");runOrSignIn(function(){if(!(b in{pro:1,pro_yearly:1,pro_realtime:1,pro_realtime_yearly:1}&&user.is_pro&&user.pro_plan==b)){var c={s:a.shop_id,q:1,d:0,v:0,bb:1,clr:1,clro:1,a:user.id,fn:user.first_name,sn:user.last_name,em:user.email,p:a.product_ids[b]},d=Object.keys(c).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(c[a])});location.href=a.shop_url.replace(/(\?.*|$)/,
"?"+d.join("&"))}},{source:"Swreg payment"})};
TradingView.visitPaymentPage=function(a,b,c){b=b||"y";c=c||{};var d="/order/";"bitcoin"==c.paymentMethod&&(d="/coinbase/begin/");runOrSignIn(function(){$('<form action="'+d+'" method="post"'+(c.newWindow?' target="_blank"':"")+'><input type="hidden" name="product" value="'+a+'"/><input type="hidden" name="billing_cycle" value="'+b+'"/><input type="hidden" name="fixed_billing_cycle" value="'+(c.fixedCycle?"true":"")+'"/><input type="hidden" name="exchanges_only" value="'+(c.exchangesOnly?"true":"")+
'"/></form>').appendTo(document.body).submit()},{source:"Paypal payment"})};TradingView.hash=function(a){var b=0,c;if(0===a.length)return b;for(var d=0;d<a.length;d++)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b};TradingView.uniq=function(a){return a.reduce(function(a,c,d){return~a.indexOf(c)?null:a.push(c),a},[])};function bindLate(a,b){return function(){return a[b].apply(a,arguments)}}
TradingView.debounce=function(a,b){var c;return function(){clearTimeout(c);c=setTimeout(a.bind.apply(a,[this].concat(Array.prototype.slice.call(arguments))),b)}};
TradingView.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var k=function(){h=!1===c.leading?0:Date.now();g=null;f=a.apply(d,e);g||(d=e=null)};return function(){var m=Date.now();h||!1!==c.leading||(h=m);var l=b-(m-h);d=this;e=arguments;0>=l||l>b?(g&&(clearTimeout(g),g=null),h=m,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(k,l));return f}};TradingView.isLatin=function(a){return!/[^\u0000-\u00FF\u00A0\u2013-\u2122\u2200-\u23FF]/g.test(a)};
TradingView.isASCII=function(a,b){return(b?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(a)};TradingView.RegExpEscape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};
TradingView.loadMorePeople=function(a,b,c){var d=b.$loading||$(),e=b.$button||$(),f=b.$container;d.show();e.hide();var g=c?0:f.children().length;a.data=a.data||{};a.data=$.extend({},a.data,{offset:g});$.ajax(a).done(function(a){var d=a.total,g=a.items;c&&(f.data("loaded",!1),f.empty());0<g.length?g.forEach(function(a){a.follow_button=!is_authenticated||user.id!=a.id;a.links=a.profile.location||a.profile.twitter_username||a.profile.website;a.badge=TradingView.userBadge(a,!0);a.reputation_delta&&(a.reputation_delta=
Math.round(a.reputation_delta));$(Mustache.render(h,a)).appendTo(f)}):c&&b.empty&&f.append($('<div class="empty"></div>').text(b.empty));f.children().length<d&&e.show();a.thats_all&&f.data("loaded",!0)}).always(function(){d.hide()});var h="<div class='item follow-list-item'>\t<a href='/u/{{ username }}/'><img src='{{ mid_picture_url}}'></a>\t<div class='indent'>\t<div class='description'>\t\t<div class='user-stats'>\t\t\t<span class='user-stats-followers' title='"+$.t("Followers")+"'><a href='/u/{{ username }}/#followers'>{{ followers_count }}</a></span>\t\t\t<span class='user-stats-charts' title='"+
$.t("Charts")+"'><a href='/u/{{ username }}/#charts'>{{ charts_count }}</a></span>\t\t\t<span class='user-stats-reputation' title='"+$.t("Reputation")+"'>{{ reputation }}{{# reputation_delta }} (+{{reputation_delta}}){{/ reputation_delta }}</span>\t\t</div>\t\t<div class='username'><a href='/u/{{ username }}/' class='userlink'>{{ username }}</a>{{& badge }}</div>\t\t{{# links }}\t\t<div class='links'>\t\t\t{{# profile.location }}<span class='contact location'>{{ profile.location }}</span>{{/ profile.location }}\t\t\t{{# profile.twitter_username }}<span class='contact twitter'><a href='//twitter.com/{{ profile.twitter_username }}' target='_blank' rel='nofollow'>{{ profile.twitter_username }}</a></span>{{/ profile.twitter_username }}\t\t\t{{# profile.website }}<span class='contact webpage'><a href='{{ profile.website }}' target='_blank' rel='nofollow'>{{ profile.website }}</a></span>{{/ profile.website }}\t\t</div>\t\t{{/ links }}\t\t{{# profile.about }}\t\t<div class='about'>{{ profile.about }}</div>\t\t{{/ profile.about }}\t\t{{# follow_button }}\t</div>\t\t<div class='action-buttons'>\t\t\t<button class='follow-user follow-user-{{ id }}{{# follow_status }} active{{/ follow_status }}'  title='{{#follow_status}}"+
$.t("Unfollow")+"{{/follow_status}}{{^follow_status}}"+$.t("Follow")+"{{/follow_status}}' data-id='{{ id }}'>\t\t\t\t<span class='follow'>"+$.t("Follow")+"</span>\t\t\t\t<span class='following'>"+$.t("Followed")+"</span>\t\t\t\t<span class='unfollow'>"+$.t("Unfollow")+"</span>\t\t\t</button> \t\t\t<button class='message-user message active' title='"+$.t("Send")+" message' data-id='{{ id }}' data-username='{{ username }}'><span class='message'>"+$.t("Message")+"</span></button>\t\t</div>\t\t{{/ follow_button }}\t</div></div>"};
function follow(a){runOrSignIn(function(){var b=$(a.currentTarget),c=b.data("id");if(!b.is(".self")){var d=b.is(".active")?0:1;$.ajax({url:"/social/follow-the-user/",type:"POST",data:{targetId:c,follow:d}}).done(function(a){!a||a.error?TVDialogs.showNotice($.t("Oops, something went wrong"),a.error):$(".follow-user-"+c).toggleClass("active").attr("title",d?$.t("Unfollow"):$.t("Follow"))})}},{source:"Follow user",verifiedPhoneRequired:!0,verifyPhoneMessage:$.t("Verified phone number required to follow users.")})}
$("body").on("click","button.follow-user",follow);
TradingView.keyboardBinder=function(){function a(a){c.forEach(function(b,f){b.name===a&&c.splice(f,1)})}function b(a){for(var b=0;b<c.length;b++)if(c[b].name===a)return b}var c=[];$(window).on("keypress",function(a){for(var b=c.length-1;0<=b&&!0!==c[b].func(a);b--);});return{registerListener:function(a,e){var f={name:a,func:e},g=b(f.name);g?c[g]=f:c.push(f)},removeListener:function(b){a(b)},pushBackListener:function(a,e){var f={name:a,func:e},g=b(f.name);g&&c.splice(g,1);c.unshift(f)}}}();
function chartRelationButtons(a){var b=a.closest("[data-chart-id]").data("chart-id");if(!b)throw Error("chartRelationButtons can`t find data-chart-id attribute");a.on("click",".agree",function(a){function d(){e.toggleClass("active",f)}a.preventDefault();var e=$(this),f=e.hasClass("active");runOrSignIn(function(){e.toggleClass("active",!f);$.post("/vote-for-chart/",{id:b,vote:1}).done(function(a){if(a.error)return TVDialogs.showNotice("Error",a.error),d();void 0!==a.result_score&&e.text(a.result_score||
"").toggleClass("with-counter",0!==a.result_score)}).fail(d)},{source:"Chart agree"})});a.on("click",".fav",function(a){function d(){e.toggleClass("active",f)}a.preventDefault();var e=$(this),f=e.hasClass("active");runOrSignIn(function(){e.toggleClass("active",!f);$.post(f?"/remove-from-favorites/":"/add-to-favorites/",{id:b}).done(function(a){if(a.error)return d();void 0!==a.followers&&e.text(a.followers||"").toggleClass("with-counter",0!==a.followers)}).fail(d)},{source:"Chart favorite"})})}
TradingView.makeTextContainerEditable=function(a,b,c){function d(b){a.removeClass("tv-editable-active").on("click",function(){h(c)}).off("mousedownoutside");b&&a.empty().text(b)}function e(b){a.addClass("tv-editable-active").off("click").on("mousedownoutside",function(){d(b)})}function f(){k&&k.remove()}function g(b){f();b&&(k=$('<div class="settings"><div class="error"><p></p></div></div>').find("p").text(b).end(),a.before(k))}function h(c){var h={okButtonText:$.t("OK"),okButtonClass:"_tv-button ok",
cancelButtonText:$.t("Cancel"),cancelButtonClass:"_tv-button cancel"};c=$.extend({},h,c);var k=a.text(),h=Modernizr.touch?"":k,t="textarea"===c.replaceWith?$("<textarea"+(c.inputClass?'class="'+c.inputClass+'" ':"")+"></textarea>"):$('<input type="text" '+(c.inputClass?'class="'+c.inputClass+'" ':"")+'value="">');t.val(h);var h=$('<div class="buttons"></div>'),q=$('<div class="'+c.okButtonClass+'">'+c.okButtonText+"</div>").appendTo(h),v=$('<div class="'+c.cancelButtonClass+'">'+c.cancelButtonText+
"</div>").appendTo(h);e(k);var n="function"===typeof c.onCancel?function(){c.onCancel();d()}:function(){d(k)},r=function(a,c,e){/^\s+$/.test(c)&&(c="");t.attr("disabled","disabled");q.addClass("process");b(a,c,e,function(){d()},f,g)};q.click(function(b){b.preventDefault();b.stopPropagation();r(a,t.val(),k)});v.click(function(a){a.preventDefault();a.stopPropagation();n()});t.keyup(function(b){b.preventDefault();b.stopPropagation();13!=b.keyCode||b.shiftKey?27==b.keyCode&&n():r(a,t.val(),k)});a.empty().append(t,
h);t.select()}var k;!a instanceof $?console.error("$container should be jQuery object"):b?"function"!=typeof b?console.error("onOk should be function"):(a.addClass("tv-editable"),d()):console.error("onOk required")};
TradingView.changeUserProfileField=function(a){function b(a){var b=Array.prototype.slice.call(arguments);b.shift();"function"===typeof a&&a.apply(this,b)}if(a&&a.name&&"undefined"!=typeof a.value){var c={};c[a.name]=a.value;$.post("status"!=a.name?"/accounts/change_data_json/":"/accounts/change_status/",c,function(c){!c.errors||$.isEmptyObject(c.errors)?(c=c[a.name],user[a.name]=c,b(a.onSuccess,c)):b(a.onError,c.errors[a.name])}).error(function(c){403===c.status?b(a.onError,$.t("Please, try to reload page to edit user data")):
b(a.onError,TradingView.Environment.isProd()?$.t("Sorry, an error has occurred"):c.responseText)}).always(function(){b(a.onComplete)})}else console.warn("Required options.name and options.value")};
TradingView.inputOnTyping=function(a,b,c){function d(){var a=$(this),d=a.val(),e=b(d);a.removeClass("_tv-dialog-text-input-error");"function"===typeof c&&c(d);d!==e&&a.val(e)}function e(a){if(a.ctrlKey||a.metaKey||!a.charCode)return!1;a=a.keyCode||a.which;return 9==a||13==a||16==a||17==a||18==a||19==a||20==a||27==a||33<=a&&40>=a?!1:!0}a instanceof $?("function"!==typeof b&&(b=function(a){return a}),a.each(function(a,b){var c=$(b);c.on("keypress",function(a){if(e(a)){var b=function(){d.call(this);
$(this).off("keyup",b)}.bind(this);$(this).on("keyup",b)}});c.change(d)})):console.warn("'$inputs' should be instance of jQuery")};
TradingView.makeInputNumberOnly=function(a,b){b=b||{};var c=b.integerOnly,d=b.positiveOnly;TradingView.inputOnTyping(a,function(a){a=a.replace(/\,/g,".").replace(/[^0-9\.-]/g,"").replace(/^-/,d?"":"__minus__").replace(/\./,"__point__").replace(/^__point__/,"0__point__").replace(/[\.-]/g,"").replace("__minus__","-").replace("__point__",".").replace(/^0+/,"0");c&&/\d+/.test(a)&&(a=parseInt(a),TradingView.isInteger(b.minValue)&&(a=Math.max(b.minValue,a)),TradingView.isInteger(b.maxValue)&&(a=Math.min(b.maxValue,
a)));!c&&/^0\d/.test(a)&&(a=a.toString(),a=a.substring(0,1)+"."+a.substring(1,a.length));return a},b.inputOnTypingCallback)};TradingView.makeInputDateOnly=function(a,b){b=b||{};TradingView.inputOnTyping(a,function(a){if(4==a.length||7==a.length)a+="-";return a=a.substr(0,10)},b.inputOnTypingCallback)};TradingView.makeInputTimeOnly=function(a,b){b=b||{};TradingView.inputOnTyping(a,function(a){2==a.length&&(a+=":");return a=a.substr(0,5)},b.inputOnTypingCallback)};
TradingView.timezoneIsAvailable=function(a){for(var b=0;b<TradingView.availableTimezones.length;b++)if(a===TradingView.availableTimezones[b].id)return!0;return!1};TradingView.parseTzOffset=function(a){a=PineJsCalendar.get_timezone(a).offset_utc(Date.now());var b="",c=a/1E3/60/60;c%1&&(b=":"+c%1*60);return{offset:a,string:"UTC"+(0<c?"+"+(c-c%1)+b:0===c?"":""+(c-c%1)+b)}};
TradingView.getTzByObsoleteName=function(a){return{UTC:"Etc/UTC",EST:"America/New_York",CST:"America/Chicago",PST:"America/Los_Angeles"}[a]||"exchange"};if(TradingView.availableTimezones&&window.PineJsCalendar)for(var i=0;i<TradingView.availableTimezones.length;i++)-1===["Etc/UTC","exchange"].indexOf(TradingView.availableTimezones[i].id)&&(TradingView.availableTimezones[i].title="("+TradingView.parseTzOffset(TradingView.availableTimezones[i].id).string+") "+TradingView.availableTimezones[i].title);
TradingView.showChangeUserStatusDialog=function(){runOrSignIn(function(){TVDialogs.showChangeUserStatusDialog()},{source:"Change status"});return!1};TradingView.getUrlParams=function(){var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1),e={};for(a=c.exec(d);a;)e[decodeURIComponent(a[1].replace(b," "))]=decodeURIComponent(a[2].replace(b," ")),a=c.exec(d);return e};
TradingView.createUrlParams=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&null!=a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};TradingView.setTrialAvailiable=function(a){TVLocalStorage.setItem("trial_availiable",a?1:0)};TradingView.translatedIntervalString=function(a){var b=(""+a).match(/(.*)([DWM])/);return b?b[1]+$.t(b[2],{context:"dates"}):a};TradingView.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};
TradingView.generateColor=function(a,b,c){if(!TradingView.isHexColor(a))return c?(b=b||0,TradingView.rgbaComp(TradingView.rgbDecomp(a),1-b/100)):a;if(0<=b&&100>=b)return a=new TradingView.RGBColor(a),"rgba("+a.r+", "+a.g+", "+a.b+", "+(1-b/100).toFixed(2)+")";throw"invalid transparency";};TradingView.decompNamedColor=function(a){switch(a){case "white":return[255,255,255];case "black":return[0,0,0];case "red":return[255,0,0];case "blue":return[0,255,0];case "green":return[0,0,255]}};
TradingView.rgbComp=function(a,b,c){2 in arguments||(c=a[2],b=a[1],a=a[0]);return"rgb("+[~~a,~~b,~~c].join(", ")+")"};TradingView.resetTransparency=function(a){return TradingView.isHexColor(a)?a:TradingView.rgbaComp(TradingView.rgbDecomp(a),1)};TradingView.rgbDecomp=function(a){return TradingView.decompNamedColor(a)||a.match(/[0-9]+/g).splice(0,3)};TradingView.isHexColor=function(a){return!!~a.indexOf("#")};
TradingView.hexRgbDecomp=function(a){if(7===a.length)return[parseInt(a.slice(1,3),16),parseInt(a.slice(3,5),16),parseInt(a.slice(5,7),16)];if(4===a.length)return[parseInt(a.slice(1,2)+a.slice(1,2),16),parseInt(a.slice(2,3)+a.slice(2,3),16),parseInt(a.slice(3,4)+a.slice(3,4),16)]};TradingView.rgbaComp=function(a,b,c,d){2 in arguments||(d=b,c=a[2],b=a[1],a=a[0]);null==d&&(d=1);return"rgba("+[~~a,~~b,~~c,d].join(", ")+")"};
TradingView.generateLowBrightnessColor=function(a){a=(TradingView.isHexColor(a)?TradingView.hexRgbDecomp(a):TradingView.rgbDecomp(a)).map(function(a){return 50<a?a-50:0});return TradingView.rgbComp(a)};TradingView.pow10Increment=function(a,b,c){var d=1;0>a&&(d=-1,b=!b);c=Math.abs(c);isFinite(c)||(c=1);a=Math.abs(a);var e=Math.pow(10,Math.floor(Math.log(a)/Math.LN10))||c||0;10*e<=a&&(e*=10);b&&a===e&&(e/=10);e<c&&(e=c);return b?Math.ceil(a/e-1)*e*d:Math.floor(a/e+1)*e*d};
TradingView.abbreviatedNumber=function(a){var b=0;a=+a;if(isFinite(a))for(;1E3<=a&&0===a%100;)b++,a/=1E3;var c=" K M G T Y".split(" ")[b];null==c&&(c="e"+3*b);return a+c};TradingView.makeFont=function(a,b,c){c&&(c+=" ");return c+a+"px "+b};$.fn.appendUtm=function(a,b){this.each(function(){var c=$(this);null!=a&&($("<input>").attr("type","hidden").attr("name","utm_source").val(a).appendTo(c),$("<input>").attr("type","hidden").attr("name","utm_medium").val(b).appendTo(c))});return this};
$.fn.filterByData=function(a,b){return this.filter(function(){return $(this).data(a)==b})};$.fn.reverse=[].reverse;
function showExtensionPopup(){$(function(){function a(a){if(TVDialogs.modalDialog)TVDialogs.modalDialog.find("._tv-dialog").on("destroy",function(){setTimeout(a,0)});else a()}if(window.is_authenticated&&TradingView.isFeatureEnabled("show_extension_popup")&&Featuresets.enabled("show_extension_popup")&&!TradingView.isOnFeaturePage){var b;(function(){var a=window.chrome,b=window.navigator.vendor;return null!==a&&void 0!==a&&"Google Inc."===b})()&&(b="chrome");if(b){var c="notShowExtensionPopup."+b;TVSettings.getBool(c,
!1)||a(function(){TVDialogs.showBrowserExtensionDialog(b).find("._tv-dialog").on("destroy",function(){TVSettings.setValue(c,!0)})})}}})}
$.fn.TVEmbeds=function(){this.each(function(){var a=$(this);a.find(".embeded-image a").fancybox({type:"image"});a.on("click",".embeded-chart-image a",function(a){a=$(a.target).attr("title");var c=TradingView.parsePublishedChartUrl(this.href);(a=new TradingView.HistoryManager.ChartPage(c.image_url,a,this.href,c.symbol))&&TradingView.historyManager.push(a);return!1})});return this};
TradingView.removeBBCodes=function(a){return a.replace(new RegExp(TradingView.quotesRe.openingTag,"gi"),$.t("@$1 wrote")+":\n").replace(new RegExp(TradingView.quotesRe.closingTag,"gi"),"")};TradingView.quotesRe={openingTag:'\\[quote=(?:"|&quot;)([a-z0-9\\._\\-\\u00A0]+)(?:"|&quot;)\\]',closingTag:"\\[\\/quote\\]"};TradingView.quotesRe.quotedArea=TradingView.quotesRe.openingTag+"([^]*)"+TradingView.quotesRe.closingTag;
TradingView.removeQuotes=function(a){return a.replace(new RegExp(TradingView.quotesRe.quotedArea,"ig"),"").trim()};
TradingView.parseQuotes=function(a){function b(a){var d;var e=new RegExp(TradingView.quotesRe.openingTag,"ig");d=new RegExp(TradingView.quotesRe.closingTag,"ig");var f=e.exec(a),g=d.exec(a);!f||!g||g.index<f.index?d=null:(e='<div class="ch-item-quote">'+$.t("@__username__ wrote",{username:f[1]})+":<br/>"+TradingView.removeQuotes(a.substring(e.lastIndex,g.index))+"</div>",d={start:f.index,end:d.lastIndex,converted:e});return d?a.substring(0,d.start)+d.converted+b(a.substring(d.end).trim()):a}return b(a)};
TradingView.getInnerTextContent=function(a){var b=function(a){return a.childElementCount?$.map(a.childNodes,b).join("")+("DIV"==a.tagName?"\n":""):"BR"==a.tagName?"\n":a.textContent};return b(a)};TradingView.urlRegExp={imageUrl:"^[0-9a-zA-Z]{8}$",publishedImage:"/(?:i|x)/([0-9a-zA-Z]{8})/?",publishedChartOld:"/v/([0-9a-zA-Z]{8})/?",publishedChart:"/chart/([0-9a-zA-Z!_:+*()-]+?)/([0-9a-zA-Z]{8})(?:-([^/]+))?/?",publishedScript:"/script/([0-9a-zA-Z]{8})(?:-([^/]+))?/?"};
TradingView.createPublishedChartUrl=function(a,b,c){return a&&/[0-9a-zA-Z]{8}/.test(a)?a&&b?"/chart/"+b+"/"+a+(c?"-"+c:"")+"/":"/v/"+a+"/":""};
TradingView.parsePublishedChartUrl=function(a){var b={},c=new RegExp(TradingView.urlRegExp.publishedChartOld),d=new RegExp(TradingView.urlRegExp.publishedChart),e=new RegExp(TradingView.urlRegExp.publishedScript),f=new RegExp(TradingView.urlRegExp.imageUrl);c.test(a)?(a=a.match(c)||{},b={image_url:a[1]}):d.test(a)?(a=a.match(d)||{},b={symbol:a[1],image_url:a[2],title:a[3]}):e.test(a)?(a=a.match(e)||{},b={image_url:a[1],title:a[2]}):f.test(a)&&(b={image_url:a});return b};
TradingView.createPublishedChartImageUrl=function(a){return a&&/[0-9a-zA-Z]{8}/.test(a)?"/i/"+a+"/":""};
TradingView.openNewChart=function(a){a=a||{};if(is_authenticated){var b='<form method="POST" target="_blank" action="/chart/" style="display: none;"><input type="text" name="new" value="1">';Object.keys(a).forEach(function(c){b+='<input type="text" name="'+c+'" value="'+a[c]+'">'});var b=b+'<input type="submit"></form>',c=$(b);$("body").append(c);c.submit()}else c=$.param(a),window.open("/chart/"+(c?"?"+c:""),"_blank")};
TradingView.applySymbolBbcodes=function(a){$(a).each(function(){var a=$(this),c=a.data("symbol");new TradingView.QuoteTicker(c,a)})};TradingView.checkUserLanguage=function(){is_authenticated||$.post("/",{check_language:1},function(a){a&&TVDialogs.showLanguagePopup(a)})};
TradingView.unifiedSpinner=function(a,b){var c={lines:17,length:0,width:3,radius:20,corners:1,color:"#00A2E2",opacity:.3,rotate:0,direction:1,speed:1.5,trail:60,fps:20,className:"spinner",zIndex:2E9,top:"50%",left:"50%",shadow:!1,hwaccel:!1},d=TradingView.unifiedSpinner.presets[a];d&&(c=$.extend(c,d));c=$.extend({},c,b);return new Spinner(c)};TradingView.unifiedSpinner.presets={mini:{radius:8,width:2,lines:14},micro:{radius:4,width:2,lines:12}};
TradingView.parseJSONorNot=function(a){return"string"==typeof a?JSON.parse(a):a};$(window).load(function(){window.loaded=!0});function setCookie(a,b,c,d){d=d?"; path="+d:"";if(c){var e=new Date;e.setTime(e.getTime()+864E5*c);c="; expires="+e.toGMTString()}else c="";document.cookie=a+"="+b+c+d}
function getCookie(a){a+="=";for(var b=document.cookie.split(";"),c=0,d=b.length;c<d;c++){for(var e=b[c];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null}TradingView.goRegistrateAfterThreeClicks=function(){var a=getCookie("unregistrateClicksOnIdeas");null===a&&(a=0);a++;3<=a?(TVDialogs.goRegistrate({from:"ideas"}),setCookie("unregistrateClicksOnIdeas",0)):setCookie("unregistrateClicksOnIdeas",a)};
jQuery.event.special.middleclick={setup:function(a,b){$(this).bind("mousedown mouseup mouseout",jQuery.event.special.middleclick.handler)},teardown:function(a){$(this).unbind("mousedown mouseup mouseout",jQuery.event.special.middleclick.handler)},handler:function(a){var b=$(this);"mousedown"==a.type&&2==a.which?b.data("mouseTrigger",1):"mouseout"==a.type?b.data("mouseTrigger",0):"mouseup"==a.type&&(2==a.which&&b.data("mouseTrigger")&&(a.type="middleclick",jQuery.event.handle.apply(this,arguments)),
b.data("mouseTrigger",0))}};TradingView.handleClickOnLogo=function(a,b){if(TradingView.isFeatureEnabled("advertisement-rotation")){var c=+new Date;$(this).data("lastClick")&&300>c-$(this).data("lastClick")||($(this).data("lastClick",c),$.post("/advertisement/click-on-logo/",{target:a,sponsor_name:b}))}};"use strict";
TradingView.adPack=function(){function a(a){return/(^https?:\/\/)[a-z0-9~_\-\.]+\.[a-z]/i.test(a)}function b(b){$('<div class="left-column">').appendTo(b.html(""));var c=$('<div class="right-column">').appendTo(b);[{name:"ad-pack-change-messages",title:$.t("Chart Pop-up Messages"),action:"/ad_pack/change_messages/",fields:"default index stock futures forex bitcoin".split(" "),sbmText:$.t("Add Message"),parent:b},{name:"ad-pack-pm-message",title:$.t("Private Messages"),action:"/ad_pack/pm_message/",
fields:["message"],sbmText:$.t("Send PM to All Non-Pro Users"),parent:c,skip:!0}].forEach(function(b){if(!b.skip){var c=$(Mustache.render('<div class="form-section tv-profile-area"><h3>{{title}}</h3><div><iframe src="{{action}}" name="{{name}}-target" style="position: absolute; left: -9999px; width: 10px; height: 10px;"></iframe><form id="{{name}}" action="{{action}}" method="post" enctype="multipart/form-data" target="{{name}}-target"><button class="add-msg-btn btn">'+$.t("Add Message")+'</button><table class="sponsor-messages"></table><input type="hidden" name="method" value="settings"></form></div></div>',
b)),d='<table id="sponsor-add-message"><tr><td>'+$.t("Market")+'</td><td><input style="display: none;" type="checkbox" id="default" name="default"><label style="display: none;" for="default">'+$.t("default")+'</label><input type="checkbox" id="index" name="index"><label for="index">'+$.t("index")+'</label><input type="checkbox" id="stock" name="stock"><label for="stock">'+$.t("stock")+'</label><input type="checkbox" id="futures" name="futures"><label for="futures">'+$.t("futures")+'</label><input type="checkbox" id="forex" name="forex"><label for="forex">'+
$.t("forex")+'</label><input type="checkbox" id="bitcoin" name="bitcoin"><label for="bitcoin">'+$.t("bitcoin")+"</label></td></tr><tr><td>"+$.t("Message")+'</td><td><textarea rows="4" name="new_message"></textarea></td></tr><tr><td>'+$.t("Link")+'</td><td><input type="text" name="link" class="_tv-text-input" placeholder="'+$.t("Please enter a hyperlink starting with http:// or https://")+'"></td></tr></table><div class="actions-block"><a class="yes-button" target="_blank">'+$.t("Save")+'</a><a class="no-button">'+
$.t("Cancel")+"</a></div>";c.find(".add-msg-btn.btn").on("click",function(b){b.preventDefault();var e=TVDialogs.createDialog($.t("Add Message"),{addClass:"popup-new-sponsor-message",content:d});TVDialogs.positionDialog(e,{top:window.pageYOffset+$(window).height()/2-$(e).height()/2,left:$(window).width()/2-$(e).width()/2},{forcePosition:!0});e.on("click",function(b){b=$(b.target);if(b.hasClass("yes-button"))a(e.find('input[name="link"]').val())?($.post("/ad_pack/change_messages/",{new_message:e.find("textarea").val(),
link:e.find('input[name="link"]').val(),default:e.find('input[name="default"]').is(":checked"),index:e.find('input[name="index"]').is(":checked"),stock:e.find('input[name="stock"]').is(":checked"),futures:e.find('input[name="futures"]').is(":checked"),forex:e.find('input[name="forex"]').is(":checked"),bitcoin:e.find('input[name="bitcoin"]').is(":checked")},function(){var a=c.find("iframe");a.attr("src",a.attr("src"))}),TVDialogs.destroy($.t("Add Message")),e=null):TVDialogs.showError($.t("Broken link detected. Please check and try again."),
e,{});else if(b.hasClass("no-button")||b.hasClass("_tv-dialog-title-close"))TVDialogs.destroy($.t("Add Message")),e=null})});b.sbmText&&c.find("input[type=submit]").attr("value",b.sbmText);c.appendTo(b.parent)}})}function c(a){return-1!==u.indexOf(a.listed_exchange)}function d(a){return-1!==y.indexOf(a.listed_exchange)}function e(a){return"INDEX"==a.listed_exchange&&-1!==D.indexOf(a.name)}function f(a){return"INDEX"==a.listed_exchange&&-1!==A.indexOf(a.name)}function g(a){return-1!==w.indexOf(a.listed_exchange)}
function h(a){return-1!==B.indexOf(a.listed_exchange)}function k(a){return"forex"==a.type}function m(a){return"OTC"==a.listed_exchange}function l(a,b,c,d){return a(c)&&b(d)||a(d)&&b(c)}function p(a,b){var n,u;n=!1;if(l(k,c,a,b)||l(k,d,a,b))n=k(a)?b:a,n="Want to trade Forex and "+n.name+"? Trade stocks and other currencies online with FXCM on world\u2019s major exchanges!";if(l(k,e,a,b)||l(k,f,a,b))n=k(a)?b:a,n="Want to trade Forex and "+n.name+"? Trade indices and foreign currencies online with FXCM on world\u2019s major exchanges!";
if(l(k,g,a,b)||l(k,h,a,b))n=k(a)?b:a,n="Want to trade Forex and "+n.name+"? Trade foreign currencies and futures online with FXCM on world\u2019s major exchanges!";l(k,m,a,b)&&(n="Want to trade OTC and Forex? Get direct access to all OTC's and foreign currencies with FXCM on world\u2019s major exchanges!");if(l(m,c,a,b)||l(m,d,a,b))n=m(a)?b:a,n="Interested in "+n.name+" and OTC? Get direct access to all OTC's and stocks with FXCM on world\u2019s major exchanges!";if(l(m,e,a,b)||l(m,f,a,b))n=m(a)?
b:a,n="Interested in "+n.name+" and OTC? Get direct access to all OTC's and indices with FXCM on world\u2019s major exchanges!";if(l(m,g,a,b)||l(m,h,a,b))n=m(a)?b:a,n="Interested in "+n.name+" and OTC? Get direct access to all OTC's and futures with FXCM on world\u2019s major exchanges!";l(h,c,a,b)&&(n="Interested in "+a.name+" and "+b.name+"? Trade stocks and futures online with FXCM on world\u2019s major exchanges!");l(h,d,a,b)&&(n="Interested in foreign stocks and futures? Trade them online with FXCM on world\u2019s major exchanges!");
if(l(h,e,a,b)||l(h,f,a,b))n="Interested in "+a.name+" and "+b.name+"? Trade indices and futures online with FXCM on world\u2019s major exchanges!";l(h,g,a,b)&&(n="Interested in "+a.name+" and "+b.name+"? Trade futures online with FXCM on world\u2019s major exchanges!");if(l(g,c,a,b)||l(g,d,a,b))n="Interested in "+a.name+" and "+b.name+"? Trade stocks and futures online with FXCM on world\u2019s major exchanges!";if(l(g,e,a,b)||l(g,f,a,b))n="Interested in "+a.name+" and "+b.name+"? Trade indices and futures online with FXCM on world\u2019s major exchanges! ";
l(f,c,a,b)&&(n="Interested in "+a.name+" and "+b.name+"? Trade stocks and futures online with FXCM on world\u2019s major exchanges!");l(f,d,a,b)&&(n="Want to trade "+a.name+" and "+b.name+"? FXCM provides direct access to all major markets!");l(f,e,a,b)&&(n="Want to trade "+a.name+" and "+b.name+"indices? Trade indices online with FXCM on world\u2019s major exchanges!");l(e,c,a,b)&&(n=e(a)?a:b,u=c(a)?a:b,n="Interested in "+u.name+" stocks and "+n.name+" index? Trade stocks and indices online with FXCM on world\u2019s major exchanges!");
l(e,d,a,b)&&(n=e(a)?a:b,u=d(a)?a:b,n="Interested in "+u.name+" stocks and "+n.name+" index? Trade stocks and indices online with FXCM on world\u2019s major exchanges!");l(c,d,a,b)&&(n="Interested in "+a.name+" and "+b.name+" stocks? Trade stocks and indices online with FXCM on world\u2019s major exchanges!");n&&window.is_authenticated&&window.user&&window.user.username&&(n=window.user.username+", "+n.charAt(0).toLowerCase()+n.slice(1));return n}function t(a,b){if(b.full_name!=a.full_name){var c=+(TVLocalStorage.getItem("chart-ads-popup-exchange-counter-FXCM_adv")||
0);if(!(2<=c)){var d=TVLocalStorage.getItem("chart-ads-popup-exchange-FXCM_adv");if(!(d&&864E6>(new Date).getTime()-d)){var e=p(a,b);e&&$.post("/ad_pack/check_user/",function(a){a.check&&(TVLocalStorage.setItem("chart-ads-popup-exchange-FXCM_adv",(new Date).getTime()),TVLocalStorage.setItem("chart-ads-popup-exchange-counter-FXCM_adv",c+1),r=TVDialogs.createDialog("adPackFXCM",{addClass:"popup-fxcm_adv",content:'<div class="message">'+e+'</div><div class="actions-block"><a class="no-button">'+$.t("No, thank you")+
'</a><a href="https://ad.doubleclick.net/ddm/trackclk/N39908.2006304TRADINGVIEW/B8161551.121823736;dc_trk_aid=289109913;dc_trk_cid=61882159;salesforce=SFS-701320000011IswAAE" class="yes-button" rel="nofollow" target="_blank">'+$.t("Read more")+"</a></div>",hideTitle:!0}),r.on("click",".no-button, .yes-button, ._tv-dialog-title-close",function(a){a=$(a.target);a.hasClass("no-button")||a.hasClass("_tv-dialog-title-close")?TradingView.trackEvent("AdPack","FXCM-Exchnage-Popup-Decline"):a.hasClass("yes-button")&&
TradingView.trackEvent("AdPack","FXCM-Exchange-Popup-Accept-Accept");TVDialogs.destroy("adPackFXCM");r=null}),TVDialogs.positionDialog(r),TradingView.trackEvent("AdPack","FXCM-Exchange-Popup-Show"))})}}}}var q=!1,v=!1,n=!1,r;$(function(){q=TradingView.isFeatureEnabled("adPackActive");v=TradingView.isFeatureEnabled("adPackChartPopUpActive");TradingView.isFeatureEnabled("adPackMassPMActive");n=TradingView.isFeatureEnabled("adPackProfileTabActive");q&&$(document.documentElement).addClass("sp-active")});
var u="NYSE NASDAQ BATS AMEX TSX TSXV".split(" "),y=["NSE_EOD","LSE_EOD","MERCADO","BSE"],D="INX DJY0 IUX INDU DOWT TYX IUXX TRAN TXCX XAL DJWO DTY0 SRPP BGC TICK SKEW SSCL OUY0 ADDN FVX S1FI BCT BWH XEDB BANK RUA FOQ TXSX NSHF DSST SGQG SSDI XAU/USD RLV VXLE ONE DCTH TTEN TXBB S1TH S5TH AXTH MMTW SFTI SPXT YMY0 BIKT NDXT SG0I SG1E MYHN HIGN SSPN DREI DSWU S4FI DUY0 ADVQ DXY SPX DOWI VIX NASX TNX MERV XAU NYA NBI DOWU GVZ XOI BTK MID OEX DOWA NSEI XNG DOWC OVX VXV DOWE SOX VXN VXD CIV AMZ SPXP CZH VIXC VVIX GDM HGX DDA DUSA".split(" "),
A="HSI DAX RTS XGY0 FTSE BVSP HUI CAC MIB TWII EUR MOY0 NKY STI TRIN ATX BBR MXX HSCE KLSE AXJO JKSE S5FI OBX VLA MPY0 BSES TAY0 SSMI FTMC DUBS VZQ SIIN KSI NZD DIVD FTY0 SSCH BSB CXV BKC BCI SNAC COMP SAAA SFER QUANDL".split(" "),w="COMEX COMEX_MINI CBOE CBOT CBOT_MINI CME CME_MINI NYMEX NYMEX_MINI ICEUSA".split(" "),B=["ICEEUR","EUREX"];return{isAdvertiser:function(a){if("object"!=typeof a||null===a)a=user;return"FXCM_adv"===a.username},chartPopUp:function(a){var b,c;a.model().mainSeries().onSymbolResolved().subscribe(null,
function(){TradingView.isFeatureEnabled("advertisement-rotation")&&setInterval(function E(){var d=TVLocalStorage.getItem("nextAdvertisementDate");if(!(d&&(new Date).getTime()<+d))if(b&&+TVLocalStorage.getItem("chart-ads-popup-disabled-"+b.sponsor_id))b=!1;else{c&&(TVDialogs.destroy("adPackFXCM"),c=null);var d=[],e;for(e in TVLocalStorage.localStorage)-1!=e.indexOf("chart-ads-popup-disabled-")&&+TVLocalStorage.getItem(e)&&d.push(+e.slice(25,e.length));if(b){if(b.messages.sort(function(a,b){return a.created<
b.created?-1:a.created>b.created?1:0}),e="chart-ads-popup-next-"+b.sponsor_id,(!TVLocalStorage.getItem(e)||parseInt(TVLocalStorage.getItem(e))>=b.messages.length)&&TVLocalStorage.setItem(e,0),d=a.model().mainSeries(),d=d.quoteData,d=a.model().mainSeries(),d=d.quoteData){var d=parseInt(TVLocalStorage.getItem(e)),g=b.messages[d].message,f=b.messages[d].link,h=b.sponsor_id,n=b.messages[d].id;g&&String(g).replace(/^\s+|\s+$/g,"")&&(c=TVDialogs.createDialog("adPackFXCM",{addClass:"popup-fxcm_adv",content:'<div class="message">'+
g.replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</div><div class="actions-block"><a class="no-button">'+$.t("No, thank you")+'</a><a href="'+f+'" class="yes-button" rel="nofollow" target="_blank">'+$.t("Read more")+"</a></div>",hideTitle:!0}),b.tracking&&c.find(".actions-block").append('<IMG SRC="'+b.tracking+";ord="+Date.now()/1E3+'?" BORDER="0" HEIGHT="1" WIDTH="1" ALT="">'),c.on("click",".no-button, .yes-button, ._tv-dialog-title-close",function(a){$(a.target).hasClass("yes-button")&&($.post("/advertisement/click-on-message/",
{msg_id:n}),TVLocalStorage.setItem("chart-ads-popup-disabled-"+h,1));TVDialogs.destroy("adPackFXCM");c=null}),TVDialogs.positionDialog(c),$.post("/advertisement/show-message/",{msg_id:n}),TVLocalStorage.setItem(e,parseInt(TVLocalStorage.getItem(e))+1),b=!1)}}else $.post("/advertisement/get-message/",{market:a.model().mainSeries().quoteData.type,excludeSponsors:d},function(a){a&&a.constructor===Object&&!a.error&&(b=a,E(),TVLocalStorage.setItem("nextAdvertisementDate",(new Date).getTime()+864E6))})}},
6E5)},!0)},chartExchangePopUp:function(a){if(q&&v&&!user.is_pro){var b;a.model().mainSeries().onSymbolResolved().subscribe(null,function(a){TradingView.isFeatureEnabled("advertisement-rotation")&&(b&&t(b,a),b=a)})}},editMessage:function(a){user.is_advertiser&&n&&(r=TVDialogs.createDialog("popupDialogTitle",{addClass:"popup-fxcm_adv",content:'<div class="message">'+a.id+'</div><div class="message">'+a.message+'</div><div class="message">'+a.link+'</div><div class="message">'+a.market+'</div><div class="actions-block"><a class="no-button">'+
$.t("No, thank you")+'</a><a href="#" class="yes-button" rel="nofollow" target="_blank">'+$.t("Read more")+"</a></div>",hideTitle:!0}),TVDialogs.positionDialog(r))},setTab:function(a){(user.is_advertiser&&n&&a||user.is_superuser)&&b(a.$decks.filter(".ad-pack"))}}}();"use strict";
TradingView.GlobalEventsStorage=function(){var a={},b={},c=[];a.unsubscribe=function(a,c,f){b[a].unsubscribe(f,c)};a.on=function(b,c,f){return a.subscribe(b,c,f)};a.subscribe=function(a,c,f){b.hasOwnProperty(a)||(b[a]=new Delegate);b[a].subscribe(f,c)};a.subscribeToAll=function(a){c.push(a)};a.emit=function(a){var e=Array.prototype.slice.call(arguments);c.forEach(function(a){a.apply(null,e)});b.hasOwnProperty(a)&&(e=e.slice(1),Delegate.prototype.fire.apply(b[a],e))};return a}();"use strict";
TradingView.Pro=function(a){this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$TV"];if(a){this.MARKET_DESCRIPTION_COPY=$.t(this.MARKET_DESCRIPTION_COPY);this._products=a.products;this._discounts=a.discounts;this._offers=a.offers;var b=this._collectSubOffers();this._offers=this._offers.concat(b);this._devIds=a.devIds;this._order=a.order;loginStateChange.subscribe(this,this.onLoginStateChange)}else this._products=this._discounts={},this._offers=this._order=
this._devIds=[]};TradingView.Pro.prototype._collectSubOffers=function(){for(var a=[],b=0;b<this._offers.length;++b){var c=this._products[this._offers[b]];c&&(c=c.subproduct_ids)&&(a=a.concat(c))}return a};TradingView.Pro.prototype.PRODUCT_TYPES={pro_plan:1,study_package:2,news_feed:3};TradingView.Pro.prototype.MARKET_DESCRIPTION_COPY='These trading products are integrated in TradingView thanks to our <a href="/marketplace/" target=_blank>Partner Program for Developers</a>. These are independent, unaffiliated studies, which are not part of TradingView subscriptions &ndash; these are separate tools that you buy if you want. Description, algorithm, support and prices are all determined by the author.';
TradingView.Pro.prototype.onLoginStateChange=function(a){if(!a){var b=this;$.get("/market/shopconf/",function(a){b._offers=a.offers||[];var d=b._collectSubOffers();b._offers=b._offers.concat(d);b._order=a.order||[];this._products=a.products||{};this._discounts=a.discounts||{}})}};
TradingView.Pro.prototype.getProduct=function(a){if(a in this._products)return this._products[a];if(a in this._discounts){a=this._discounts[a];var b=$.extend({},this._products[a.product]);a.cost&&(b.cost=a.cost);a.cost_annual&&(b.cost_annual=a.cost_annual);a.cost_biennial&&(b.cost_biennial=a.cost_biennial);return b}return{}};
TradingView.Pro.prototype.getStudies=function(){for(var a={},b=0;b<this._order.length;b++){var c=this._order[b];this._products[c]&&this._products[c].type==this.PRODUCT_TYPES.study_package&&(a[c]=window.shopConf.products[c])}return a};TradingView.Pro.prototype.getStudiesOrder=function(){return this._order.filter(function(a){return this._products[a]&&this._products[a].type==this.PRODUCT_TYPES.study_package},this)};
TradingView.Pro.prototype.hasPackage=function(a){return 0<=this._offers.indexOf(a)||0<=this._freeProductIds.indexOf(a)};TradingView.Pro.prototype.hasPaidSubscription=function(){return this._offers.length||window.user&&window.user.pro_plan in{pro:1,pro_realtime:1,pro_premium:1}?!0:!1};
TradingView.Pro.prototype._showDialog=function(a,b){b=b||{};TVDialogs.createModalDialog("",{noHeader:!0,addClass:"billing-cycle-dialog ",appearance:"flat"});var c=TVDialogs.modalDialog.find("._tv-dialog-content"),d="y",e=this.getProduct(a),f=[e.cost_annual,e.cost];c.html(Mustache.render(TradingView.templates.dialogs.billingCycleSelection,{selected_cycle:d,product_name:a,product_title:e.name,price_1_m:f[0].toFixed(2),price_1_y:(12*f[0]).toFixed(2),price_2_m:f[1].toFixed(2),price_2_y:(12*f[1]).toFixed(2),
savings:(12*f[1]-12*f[0]).toFixed(2)}));if(b.disableInactive)c.find(".bcd-choice:not(.active)").addClass("disabled");else c.find(".bcd-choice").on("click",function(a){a.preventDefault();a=$(this);$(".bcd-choice.active").removeClass("active");a.addClass("active");d=a.data("cycle")});c.find(".bcd-continue-button").on("click",function(c){c.preventDefault();TradingView.visitPaymentPage(a,d,{fixedCycle:b.disableInactive})});TVDialogs.positionDialog();TVDialogs.applyHandlers(!1)};
TradingView.Pro.prototype.showBillingCycleDialog=function(a){this._showDialog(a)};TradingView.Pro.prototype.upgradeToAnnualBilling=function(a){TradingView.visitPaymentPage(a,"y",{fixedCycle:!0})};TradingView.Pro.prototype.visitExchangesPage=function(a){a=a||{};TradingView.visitPaymentPage("pro","y",{exchangesOnly:!0,newWindow:a.newWindow})};
TradingView.Pro.prototype.showProductDialog=function(a){var b=this.getProduct(a),c="",c=this.hasPackage(a)?this.prepareProductPage(b):this.prepareProductOfferPage(b),b=TVDialogs.createDialog(b.name,{width:"600px",content:c});this.hasPackage(a)||b.find(".insert-study-subscribe-button").click(function(){TradingView.visitPaymentPage(a)}.bind(this));TVDialogs.positionDialog(b);TVDialogs.applyHandlers(b)};
TradingView.Pro.prototype.productPageTemplates=function(a){var b='<div class="insert-study-offer-header"><div class="insert-study-offer-info-header-wrap"><div class="insert-study-offer-info-header-name"><span>{{offer.name}}</span></div><div class="insert-study-offer-info-logo-wrap"><a href="{{offer.logo_link}}" rel="nofollow" target="_blank"><img class="insert-study-offer-info-logo" src="{{{ logo }}}"/></a></div></div><div class="insert-study-offer-info-subheader">{{#showFirstLinks}}<a href="{{ offer.product_link }}" target="_blank" rel="nofollow">'+$.t("Website")+
'</a> | <a href="{{ offer.support_link }}" target="_blank" rel="nofollow">'+$.t("Support")+'</a>{{/showFirstLinks}}{{#account}}{{#showSeparator}} | {{/showSeparator}}<a href="https://www.tradingview.com/u/{{offer.tv_account}}/" target="_blank">'+$.t("TradingView Account")+"</a>{{/account}}</div></div>",c='<div class="insert-study-offer-info"><div class="insert-study-offer-info-description">{{{offer.description}}}</div><a class="insert-study-subscribe-button" href="/u/{{username}}/#billing" target="_blank">'+
$.t("EDIT SUBSCRIPTION")+'</a>{{#learnMore}}<a class="insert-study-button" href="/market/{{offer.text_id}}/" target="_blank">'+$.t("LEARN MORE")+'</a>{{/learnMore}}</div>{{#descr}}<div class="insert-study-offer-description">{{{ descr }}}</div>{{/descr}}',d='<div class="insert-study-offer-info"><div class="insert-study-offer-info-description">{{{offer.description}}}</div><div class="insert-study-offer-info-screenshots">{{#screenshots}}<a rel="{{offer.text_id}}" class="fb-start" href="/static/images/indicators/screenshots/big-{{{.}}}"><img src="/static/images/indicators/screenshots/{{{.}}}"></a>{{/screenshots}}</div>{{#pro_realtime_needed}}<a class="insert-study-button" href="/gopro/" target="_blank">'+
$.t("Go PRO")+'</a>{{/pro_realtime_needed}}{{^pro_realtime_needed}}<span class="insert-study-subscribe-button">'+$.t("SUBSCRIBE FOR ${{ cost }}")+"/"+$.t("M",{context:"dates"})+'</span>{{#learnMore}}<a class="insert-study-button" href="/market/{{offer.text_id}}/" target="_blank">'+$.t("LEARN MORE")+'</a>{{/learnMore}}{{/pro_realtime_needed}}</div>{{#descr}}<div class="insert-study-offer-description">{{{ descr }}}</div>{{/descr}}';if("product"===a)return b+c;if("offer"===a)return b+d};
TradingView.Pro.prototype.prepareProductPage=function(a,b){b=b||"product";var c=0>["tv-volumebyprice","tv-fxwirepro"].indexOf(a.text_id),d=a.product_link!="https://www.tradingview.com/u/"+a.tv_account+"/",c={offer:a,descr:"tv-volumebyprice"===a.id?"":this.MARKET_DESCRIPTION_COPY,logo:this.offerLogoSrc(a),username:user.username,account:a.tv_account,showSeparator:d&&a.tv_account,learnMore:c,showFirstLinks:d};"offer"===b&&$.extend(c,{cost:(a.cost||a.cost_annual).toFixed(2),screenshots:a.screenshots,
pro_realtime_needed:a.included_in_plans&&-1<a.included_in_plans.indexOf("pro_realtime")?!0:!1});return Mustache.render(this.productPageTemplates(b),c)};TradingView.Pro.prototype.prepareProductOfferPage=function(a){return this.prepareProductPage(a,"offer")};TradingView.Pro.prototype.offerLogoSrc=function(a){return a.has_logo?"/static/images/indicators/logos/"+a.text_id+".png":null};
TradingView.Pro.prototype.updatePaymentInfo=function(){var a=$.t("Update Payment Method"),b=Mustache.render(TradingView.templates.dialogs.paymentMethod,{title:a,api_host:window.paypal_api_host,user:window.user,message:$.t("Your account will be charged $0.01 in order to verify it.")+$.t("All your current subscriptions will be updated to use the new account."),okText:$.t("Save changes"),addressPlaceholder:$.t("Enter your new address")},TradingView.templates);TVDialogs.createModalDialog(a,{addClass:"payment-method-dialog",
width:"500px",content:b,noHeader:!0});TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClickIfShadowbox:!0});this.assignPaymentDialogHandlers();this.assignAddressAutocomplete(TVDialogs.modalDialog);this.createChangePaymentMethodTransaction()};TradingView.Pro.prototype.createChangePaymentMethodTransaction=function(){$.post("/paypal/update-payment-info-begin/")};
TradingView.Pro.prototype.assignAddressAutocomplete=function(a){a=a.find(".address-autocomplete");a.length||console.warn($.t("No address input to apply autocomplete"));a.each(function(a){function c(a){return g.find('[autocomplete-name="'+a+'"]')}function d(){h=new google.maps.places.Autocomplete(f.get(0),{types:["geocode"]});google.maps.event.addListener(h,"place_changed",function(){var a=h.getPlace(),b=$(),d;for(d in m)b=c(d),b.val(""),b.removeAttr("disabled");for(d=0;d<a.address_components.length;d++)if(b=
a.address_components[d].types[0],m[b]){var e=a.address_components[d][m[b]];c(b).val(e);"country"===b&&c("country_code").val(a.address_components[d].short_name)}for(d=0;d<k.length;d++)if(b=c(k[d]),!b.val()){b.focus();break}})}function e(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);h.setBounds(new google.maps.LatLngBounds(a,a))})}var f=$(this),g=f.closest("table"),h,k=["route","locality","administrative_area_level_1",
"country"],m={route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};if(window.google)c("country").change(function(){c("country_code").val("")}),d(),f.focus(e);else{console.error("Autocomplete requires 'https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=en' to be loaded");f.hide();for(var l in m)f=c(l),f.val(""),f.removeAttr("disabled")}})};
TradingView.Pro.prototype.assignPaymentDialogHandlers=function(a,b,c,d){function e(a){$("#order-subscribe").toggleClass("process",a);l=!!a}function f(a){return{zip:a.find('input[name="ZIP"]').val(),street:a.find('input[name="STREET"]').val(),city:a.find('input[name="CITY"]').val(),state:a.find('input[name="STATE"]').val(),country:a.find('input[name="COUNTRY"]').val(),countrycode:a.find('input[name="COUNTRYCODE"]').val()}}function g(a){return a.zip&&a.street&&a.city&&a.state&&a.country?TradingView.isASCII(a.zip)&&
TradingView.isASCII(a.street)&&TradingView.isASCII(a.city)&&TradingView.isASCII(a.state)&&TradingView.isASCII(a.country)?!0:(TVDialogs.showError($.t("Please use only latin characters in address fields")),e(!1),!1):(TVDialogs.showError($.t("All fields are required")),e(!1),!1)}function h(a){return/^\d+$/.test(a)}function k(a,b){return h(a)&&h(b)&&(a.startsWith("3")&&4===b.length||(a.startsWith("4")||a.startsWith("5"))&&3===b.length)}function m(a,b){return h(a)&&2===a.length&&0<parseInt(a)&&13>parseInt(a)&&
h(b)&&2===b.length}var l=!1,p=a||"cc-form",t=b||"",q=c||"",v=d||{};$("#cc-form input:not(.address-autocomplete)").on("keypress",function(a){/^[a-zA-Z0-9 ,.\-:@_'"()]*?$/.test(function(a){return null==a.which?32>a.keyCode?null:String.fromCharCode(a.keyCode):0!==a.which&&0!==a.charCode?32>a.which?null:String.fromCharCode(a.which):null}(a))?$("._tv-dialog-message").hide():(a.preventDefault(),TVDialogs.showMessage($.t("Please, use only latin symbols"),$("._tv-dialog"),{withClose:!0}))});$("#cc-form").submit(function(){e(!0);
var a=$(this),a=f(a),b=$('input[name="BILLTOEMAIL"]').val(),c=$('input[name="ACCT_visible"]').val().replace(/\D/g,""),d=$('[name="CVV2"]').val(),l=$('input[name="EXPDATEMM"]').val(),p=$('input[name="EXPDATEYY"]').val(),w=$('input[name="BILLTOFIRSTNAME"]').val(),B=$('input[name="BILLTOLASTNAME"]').val(),C=!1;$('input[name="ACCT"]').val(c);if(!g(a))return!1;if(!(b&&c&&d&&l&&p&&w&&B))return TVDialogs.showError($.t("All fields are required")),e(!1),!1;if(!TradingView.isASCII(w)||!TradingView.isASCII(B))return TVDialogs.showError($.t("Please use only latin characters in your first and last names")),
e(!1),!1;if(!(h(c)&&h(d)&&h(l)&&h(p)))return TVDialogs.showError($.t("Credit card fields may contain only digits")),e(!1),!1;if(!k(c,d))return TVDialogs.showError($.t("Check credit card number and CVV/CSC code")),e(!1),!1;if(!m(l,p))return TVDialogs.showError($.t("Check expiration date")),e(!1),!1;$('input[name="EXPDATE"]').val(l+p);$.ajax({type:"POST",async:!1,url:"/paypal/check/",data:{email:b,firstname:w,lastname:B,billing_cycle:t,exchanges_only:q,ZIP:a.zip,CITY:a.city,STATE:a.state,COUNTRYCODE:a.countrycode,
COUNTRY:a.country,STREET:a.street,child_products:Object.keys(v).join(",")},success:function(a){a.error&&(TVDialogs.showError(a.error),C=!0);$('input[name="SECURETOKEN"]').val(a.token);$('input[name="SECURETOKENID"]').val(a.token_id)},error:function(){C=!0}});if(C)return e(!1),!1});$("#oneclick-form").submit(function(){e(!0);var a=f($(this));if(!g(a))return!1});$(".order-detail-head").click(function(){var a=$(this);p=a.data("method");$(".order-detail-body, .order-detail-head .order-checkbox").removeClass("active");
a.find(".order-checkbox").addClass("active");$(".order-detail-body."+p).addClass("active");TVDialogs.positionDialog();$('[name="BILLTOFIRSTNAME"]').focus()});$("#cc-table-csc-help-link").bind("mousedown mouseenter mouseleave mousedownoutside",function(a){var b=$("#cc-table-csc-help");$(this);"mouseenter"==a.type||"mousedown"==a.type?b.css({top:a.pageY-92,left:a.pageX+40}).fadeIn("fast"):b.hide()});$("#order-subscribe").click(function(a){a.preventDefault();l||(e(!0),$("#"+p).submit())});TradingView.inputOnTyping($('[name="ACCT_visible"]'),
function(a){a=a.replace(/[^0-9\s]/g,"").replace(/^\D/,"");if(a.startsWith("3")&&(4===a.length||11===a.length)||(a.startsWith("4")||a.startsWith("5"))&&(4===a.length||9===a.length||14===a.length))a+=" ";return a},function(a){a=a.replace(/\D/g,"");$('[name="ACCT"]').val(a);(a.startsWith("3")&&15===a.length||(a.startsWith("4")||a.startsWith("5"))&&16===a.length)&&$('[name="CVV2"]').focus()});TradingView.inputOnTyping($('[name="CVV2"]'),function(a){return a.replace(/\D/g,"")},function(a){var b=$('[name="ACCT_visible"]').val();
(4===a.length||3===a.length&&(b.startsWith("4")||b.startsWith("5")))&&$('[name="EXPDATEMM"]').focus()});TradingView.inputOnTyping($('[name="EXPDATEMM"]'),function(a){a=a.replace(/\D/g,"").replace(/^[^0,1]/,"");"00"==a?a="01":12<parseInt(a)&&(a="12");return a},function(a){2===a.length&&$('[name="EXPDATEYY"]').focus()});TradingView.inputOnTyping($('[name="EXPDATEYY"]'),function(a){return a.replace(/\D/g,"")},function(a){2===a.length&&$('[name="EXPDATEYY"]').blur()})};
TradingView.Pro.prototype.showBtcProDialog=function(){var a=is_authenticated&&user&&"pro_realtime_trial"===user.pro_plan,b=Mustache.render('<div class="main"><div class="order-detail-head" data-product="pro"><h3><span class="order-checkbox radio"></span>'+$.t("PRO")+" ("+$.t("save")+' {{pro_savings}}%<small>*</small>)<div class="btc-price">${{pro_price}}<span class="btc-price-after">&nbsp;/&nbsp;'+$.t("year")+'</span></div></h3></div>{{#pro_plus_early_access}}<div class="order-detail-head" data-product="pro_realtime"><h3><span class="order-checkbox radio active"></span>'+
$.t("PRO Plus Early Access")+" ("+$.t("save")+' {{pro_plus_early_access_savings}}%<small>*</small>)<div class="btc-price">${{pro_plus_early_access_price}}<span class="btc-price-after">&nbsp;/&nbsp;'+$.t("year")+'</span></div></h3></div>{{/pro_plus_early_access}}{{^pro_plus_early_access}}<div class="order-detail-head" data-product="pro_realtime"><h3><span class="order-checkbox radio active"></span>'+$.t("PRO Plus")+" ("+$.t("save")+' {{pro_plus_savings}}%<small>*</small>)<div class="btc-price">${{pro_plus_price}}<span class="btc-price-after">&nbsp;/&nbsp;'+
$.t("year")+'</span></div></h3></div>{{/pro_plus_early_access}}<div class="order-detail-head" data-product="pro_premium"><h3><span class="order-checkbox radio"></span>'+$.t("PRO Premium")+" ("+$.t("save")+' {{pro_premium_savings}}%<small>*</small>)<div class="btc-price">${{pro_premium_price}}<span class="btc-price-after">&nbsp;/&nbsp;'+$.t("year")+'</span></div></h3></div><p class="savings-desc">* '+$.t("Compared to monthly billing")+'</p><div class="order-purchase-button"><a href="#subscribe" class="green" id="order-subscribe">'+
$.t("Subscribe with bitcoin")+"</a></div></div>",{pro_price:(12*this._products.pro.cost_annual).toFixed(2),pro_savings:Math.ceil(100*(1-this._products.pro.cost_annual/this._products.pro.cost)),pro_plus_price:(12*this._products.pro_realtime.cost_annual).toFixed(2),pro_plus_savings:Math.ceil(100*(1-this._products.pro_realtime.cost_annual/this._products.pro_realtime.cost)),pro_premium_price:(12*this._products.pro_premium.cost_annual).toFixed(2),pro_premium_savings:Math.ceil(100*(1-this._products.pro_premium.cost_annual/
this._products.pro_premium.cost)),pro_plus_early_access:a,pro_plus_early_access_price:(12*this._discounts.pro_realtime_discount.cost_annual).toFixed(2),pro_plus_early_access_savings:Math.ceil(100*(1-this._discounts.pro_realtime_discount.cost_annual/this._products.pro_realtime.cost))});TVDialogs.createModalDialog($.t("Choose your PRO plan"),{addClass:"payment-method-dialog btc-payment-dialog",width:"500px",content:b});TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClickIfShadowbox:!0});
var c=a?"pro_realtime_discount":"pro_realtime";$("#order-subscribe").click(function(a){a.preventDefault();TradingView.visitPaymentPage(c,"y",{paymentMethod:"bitcoin"})});$(".order-detail-head").click(function(){var a=$(this);c=a.data("product");$(".order-detail-body, .order-detail-head .order-checkbox").removeClass("active");a.find(".order-checkbox").addClass("active")})};TradingView.Pro.prototype.offers=function(){return this._offers};TradingView.Pro.prototype.devIds=function(){return this._devIds};
TradingView.Pro.prototype.hash=function(){var a=this._offers.slice(0),b=this._devIds.slice(0);a.sort();b.sort();return JSON.stringify({offers:a,devIds:b})};"use strict";
var TVSettings=function(){function a(a,b){var c;c=q[a];window.is_authenticated&&!k||null!=c||!window.localStorage||(c=q[a]);return null==c?b:c}function b(a,b,c){c=c||{};b=""+b;q[a]!==b&&(q[a]=b,e(a));c.forceFlush&&f();return TVSettings}function c(a){null!=q[a]&&(delete q[a],e(a));return TVSettings}function d(){n=void 0;v.length&&f()}function e(a){if(!window.is_authenticated||k)try{null==q[a]?TVLocalStorage.removeItem("tradingview."+a):TVLocalStorage.setItem("tradingview."+a,q[a])}catch(b){}else v.push(a),
n||(n=setTimeout(d,t));TVXWindowEvents.emit("settings",JSON.stringify({key:a,value:q[a]}))}function f(a){if(!TradingView.onWidget()&&window.is_authenticated&&!k&&0!==v.length){var b=v;v=[];for(var c={},d=b.length;d--;){var e=b[d],f=q[e];void 0===f&&(f=null);c[e]=f}$.ajax({url:"/savesettings/",type:"POST",data:{delta:JSON.stringify(c)},async:!a})}}function g(){return Object.keys(q)}var h=!1,k=Featuresets.enabled("cqg_terminal");try{h=!TradingView.onWidget()&&parent&&parent!==window&&!!parent.IS_DEMO_PAGE}catch(m){}if(h){var l=
{"widgetbar.layout-settings":{widgets:{},settings:{minimized:!0}},notShowMainWizard:!0},h=function(a,b,c){a=l[a];return null==a?b:a},p=function(){};return{loaded:!1,loadedModel:!1,getValue:h,getJSON:h,getBool:h,getFloat:h,getInt:h,setValue:p,setJSON:p,remove:p,restoreDefaults:p,keys:function(){return Object.keys(l)},keysMask:function(){return[]},sync:p}}var t=12E4;"local"===window.environment&&(t=5E3);var q={},v=[],n,r=[/^widgetbar\.widget\.watchlist.+/,/.+quicks$/,/^widgetbar\.layout-settings$/,
/^ChartSideToolbarWidget\.visible$/,/^onwidget\.watchlist^/];TVXWindowEvents.on("settings",function(a){a=JSON.parse(a);null==a.value?delete q[a.key]:q[a.key]=a.value});$(window).on("visibilitychange",function(a,b){b||f()});$(window).on("unload",function(){f(!0)});return{loaded:!1,loadedModel:!1,getValue:a,getJSON:function(b,d){var e=a(b,void 0);if(null==e)return d;try{return JSON.parse(e)}catch(f){return c(b),d}},getBool:function(b,c){var d=a(b);return null==d?c:d&&"false"!==d&&0!==+d?!0:!1},getFloat:function(b,
c,d){d=a(b,void 0,d);if(null==d)return c;c=parseFloat(d);if(!isFinite(c))throw new TypeError('"'+d+'" is not float (key: "'+b+'")');return c},getInt:function(b,c,d){d=a(b,void 0,d);if(null==d)return c;c=parseInt(d,10);if(!isFinite(c))throw new TypeError('"'+d+'" is not int (key: "'+b+'")');return c},setValue:b,setJSON:function(a,c,d){c=JSON.stringify(c);b(a,c,d);return TVSettings},remove:c,restoreDefaults:function(){for(var a=0;a<localStorage.length;a++){var b=localStorage.key(a);"tradingview."===
b.substring(0,12)&&(v=[],localStorage.removeItem(b))}$.post("/restoredefaults/",{},function(a){TVDialogs.showNotice("Success","Defaults has been successfully restored")}).error(function(a){})},keys:g,keysMask:function(a,b){var c=g(b),d=[];a=new RegExp("^"+TradingView.RegExpEscape(a).replace(/\\\*\\\*/gi,".+").replace(/\\\*/gi,"[^.]+")+"$","gi");for(var e=c.length-1;0<=e;e--)a.test(c[e])&&d.push(c[e]),a.lastIndex=0;return d},sync:function(a){if(window.is_authenticated&&!k){a=a||{};q=[];if(window.localStorage)for(var c=
0===Object.keys(a).length,d=localStorage.length;d--;){var e=localStorage.key(d);if("tradingview."===e.substring(0,12)){if(c){var f=e.substring(12);b(f,localStorage.getItem(e))}localStorage.removeItem(e)}}for(d in a)q[d]=a[d]+""}else if(q=[],window.localStorage)for(d=!Featuresets.enabled("save_chart_properties_to_local_storage"),a=localStorage.length;a--;)if(c=localStorage.key(a),"tradingview."===c.substring(0,12)){e=c.substring(12);if(!(f=!d))a:{for(var f=e,g=0;g<r.length;++g)if(r[g].exec(f)){f=!0;
break a}f=!1}f&&(q[e]=localStorage.getItem(c))}}}}();"use strict";
TradingView.Environment=function(){if("www.tradingview.com"==location.host||"dwq4do82y8xi7.cloudfront.net"==location.host||"i18n.tradingview.com"==location.host||"ru.tradingview.com"==location.host||location.host.match(/proxy\d.tradingview.com/)||location.host.match(/prod-[^.]+.tradingview.com/))return"battle";if(-1!==location.href.indexOf("tradingview.com"))return"staging";if(location.host.match(/webcharts/))return"staging_local";location.host.match(/^localhost(:\d+)?$/);return"local"};
TradingView.Environment.isLocal=function(){return"local"==this()};TradingView.Environment.isProd=function(){return"battle"==this()};TradingView.Environment.isDebug=function(){return!this.isProd()};"use strict";
(function(a,b,c){function d(){}function e(a,b){for(var c=0;c<a.length;c++)a[c].subsystem=b;return a}function f(a){function b(c,d,e,f){u(a,c,d,e,f)}b.withinSubsystem=function(a){return function(c,d,e){b(c,a,d,e)}};return b}var g=a.console||{};["debug","log","warn","error"].forEach(function(a){if("undefined"==typeof g[a])try{g[a]=d}catch(b){}});var h=b.LOGLEVEL_ERROR=1,k=b.LOGLEVEL_WARNING=2,m=b.LOGLEVEL_NORMAL=3,l=b.LOGLEVEL_DEBUG=4,p={},t={general:"color: #099",chart:"color: #606",quote:"color: #660"},
q,v;setInterval(function(){v=q=null},1E3);var n=b.getLogLevel=function(){return c.getInt("loglevel")},r=a.llev=b.setLogLevel=function(a){a="number"==typeof a?Math.max(h,Math.min(l,a)):k;c.setValue("loglevel",a)};a.lon=b.loggingOn=function(){r(l);u(m,"Debug logging enabled")};a.lno=b.loggingNormal=function(){r(m);u(m,"Logging set to normal level")};a.loff=b.loggingOff=function(){r(k);u(m,"Debug logging disabled",null,!0)};b.getLogHistory=function(a,b,c){var d=[];Object.keys(p).forEach(function(b){"general"==
b&&!0===c||a&&b!=a||(d=d.concat(e(p[b].persistent.concat(p[b].truncated),b)))});d.sort(function(a,b){return a.timestamp-b.timestamp});"number"==typeof b&&(d=d.slice(-b));return d.map(function(a){return(new Date(a.timestamp)).toISOString()+":"+a.subsystem+":"+a.message})};var u=b.log=function(a,b,c,d,e){if(b!=q||c!=v){c=c||"general";var f=new Date;if("\n"!=b&&a<=m){var r=c;p[r]||(p[r]={persistent:[],truncated:[]});r=p[r][!0===e?"truncated":"persistent"];r.unshift({timestamp:Number(f),message:b});!0===
e&&300<r.length&&(r.length=300)}if(!0===d||a<=n()){if("\n"!=b)switch(d=f.toISOString()+":"+c+":"+b,a){case l:g.debug(d);break;case m:t[c]?g.log("%c"+d,t[c]):g.log(d);break;case k:g.warn(d);break;case h:g.error(d)}q=b;v=c}}};b.logError=f(h);b.logWarn=f(k);b.logNormal=f(m);b.logDebug=f(l);b.logNormalChart=f(m).withinSubsystem("chart");b.logNormalQuote=f(m).withinSubsystem("quote");b.logDebugChart=f(l).withinSubsystem("chart");b.logDebugQuote=f(l).withinSubsystem("quote");var y=b.remoteDebug=function(){var a=
{arguments:JSON.stringify(Array.prototype.slice.call(arguments))};$.ajax("/remote_debug/",{data:a})};b.remoteDebugTouch=function(){Modernizr.touch&&y.apply(this,arguments)};b.Environment.isProd()&&"undefined"!=typeof g&&(b.remoteDebug=d);b.debugReady&&b.debugReady.resolve()})(window,"undefined"!=typeof TradingView&&TradingView||{},"undefined"!=typeof TVSettings&&TVSettings||{getInt:function(a,b){return b},setValue:function(){}});"use strict";TradingView.FPS_NONE=0;TradingView.FPS_SHOw_FULL=1;
var fpson=TradingView.displayFpsOn=function(){TVSettings.setValue("display_fps",TradingView.FPS_SHOw_FULL)},fpsoff=TradingView.displayFpsOff=function(){TVSettings.setValue("display_fps",TradingView.FPS_NONE)};TradingView.getDisplayFpsLevel=function(){return TVSettings.getInt("display_fps",TradingView.FPS_NONE)};
TradingView.perfomanceTestEnabled=function(){return window.performance&&window.performance.now&&(window.featureToggleState&&window.featureToggleState.perfomance_test_fps||localStorage["forcefeaturetoggle.perfomance_test_fps"])?!0:!1};"use strict";TradingView.BBCodes=function(a){$.extend(this,a);this.buttons={};this.configs=this.getConfigs();$.each(this.codes,function(a,c){this.buttons[c]=new TradingView.BBCodesButton(this,c)}.bind(this));return this};
TradingView.BBCodes.prototype.getChunks=function(){var a=this.$textarea.val()||"",b=this.$textarea.prop("selectionStart");null==b&&(b=a.length);var c=this.$textarea.prop("selectionEnd");null==c&&(c=a.length);return[a.substring(0,b),a.substring(b,c),a.substring(c)]};TradingView.BBCodes.prototype.setChunks=function(a,b){var c=a.slice(0,b).join("").length;this.$textarea.val(a.join(""));this.$textarea.prop("selectionEnd",c);this.$textarea.prop("selectionStart",c);this.$textarea.focus()};
TradingView.BBCodesButton=function(a,b){this.name=b;this.bbCodes=a;this.tag=a.configs[b].tag;this.$btn=a.$buttons.find(".bb-"+b);this.$btn.addClass("apply-common-tooltip").attr("title",a.configs[b].tooltip);if(a.configs[b].click)this.$btn.on("click",a.configs[b].click.bind(this));else if(a.configs[b].submit)this.$btn.on("click",a.configs._defaults.clickForm.bind(this));else this.$btn.on("click",a.configs._defaults.clickNoForm.bind(this));a.configs[b].submit&&(this.$form=a.$forms.find(".bbcode-"+b+
"-form"),this.$form.on("touchstartoutside mousedownoutside",function(a){this.$form.hasClass("active")&&!$(a.target).parents().andSelf().is(".bb-"+b+", ."+b+"-edit-popup")&&this.toggleForm(!1)}.bind(this)),this.$submit=this.$form.find("."+b+"-submit"),this.$submit.on("click",a.configs[b].submit.bind(this)),this.$input=this.$form.find("input"),this.$input.attr("placeholder",a.configs[b].placeholder).on("keypress",function(c){$(c.target).parents().andSelf().is("."+b+"-edit-popup")||13===c.keyCode&&a.configs[b].submit.bind(this)(c)}.bind(this)));
a.configs[b].init&&a.configs[b].init.bind(this)()};TradingView.BBCodesButton.prototype.toggleForm=function(a){this.$form&&(this.$form.toggleClass("active",!!a),this.$btn.toggleClass("active",!!a),a?this.$input.attr("disabled",!1).focus():this.$input.attr("disabled",!0).blur())};
TradingView.BBCodesButton.prototype.insertTag=function(a){var b=!0,c=4,d=this.tag,e=this.bbCodes.getChunks();a&&(b=a(e),b.tag&&(d=b.tag),b.chunks&&(e=b.chunks));d&&b&&("string"===typeof d?(c=3,e.splice(2,0,d)):"object"===typeof d&&(""===e[1]&&(c=3),e.splice(2,0,d[1]),e.splice(1,0,d[0])),this.bbCodes.setChunks(e,c),this.toggleForm(!1))};
TradingView.BBCodes.prototype.getConfigs=function(){return{_defaults:{clickNoForm:function(a){a.preventDefault();this.insertTag()},clickForm:function(a){a.preventDefault();this.toggleForm(!0);this.$input.val("").focus()}},bold:{tooltip:$.t("Bold"),tag:["[b]","[/b]"]},italic:{tooltip:$.t("Italic"),tag:["[i]","[/i]"]},list:{tooltip:$.t("List or list item"),tag:{list:["[list]\n[*]","\n[/list]"],item:["\n[*]",""]},click:function(a){a.preventDefault();this.insertTag(function(a){var c=!1;a[0].replace(/\[(\/)?list\]/gi,
function(a,b){c=!b});return c?{tag:this.tag.item}:{tag:this.tag.list}}.bind(this))}},link:{tooltip:$.t("URL"),placeholder:$.t("URL"),submit:function(a){a.preventDefault();this.insertTag(function(a){a=this.$input.val();var c=/(https?:\/\/|www\.)[^\s\/$.?#].[^\s]*/.test(a);this.$input.val("");return a?c?{tag:["[url="+a+"]","[/url]"]}:(this.bbCodes.showError($.t("Please enter a valid URL")),!1):(this.toggleForm(!1),!1)}.bind(this))}},embed:{tooltip:$.t("Idea or chart snapshot image"),placeholder:$.t("Published idea or chart image URL"),
submit:function(a){a.preventDefault();this.insertTag(function(a){a=this.$input.val();var c=/\/(v|(chart\/[0-9a-zA-Z:+*\-()!]+?)|script)\/[0-9a-zA-Z]{8}/.test(a),d=/\/(i|x)\/[0-9a-zA-Z]{8}/.test(a);this.$input.val("");if(a&&!c&&!d)return this.bbCodes.showError($.t("Please enter a valid idea URL or chart image URL")),!1;if(c)return{tag:"[chart]"+a+"[/chart]"};if(d)return{tag:"[image]"+a+"[/image]"}}.bind(this))}},symbol:{tooltip:$.t("Symbol"),placeholder:$.t("Symbol"),init:function(){TradingView.SymbolSearch.bindToInput(this.$input,
{ignoreInterval:!0,callback:this.bbCodes.configs[this.name].submit.bind(this)})},submit:function(a){a&&a.preventDefault&&a.preventDefault();this.insertTag(function(a){var c=this.$input.val();this.$input.val("");""===a[1]&&(a[1]=c);return{tag:['[symbol="'+c+'"]',"[/symbol]"],chunks:a}}.bind(this))}}}};"use strict";
var TVDialogs={modalDialog:null,dialogs:[],messageInterval:null,messageDelay:4E3,NOTIFICATION_ANIMATION_START_OFFSET:"-33px",_constrainDraggableOptionsIfNeeded:function(a){Featuresets.enabled("constraint_dialogs_movement")&&(a.containment=".chart-page");return a},validateHelpers:{isErrorListening:function(a){a.on("keyup.error-checker",TVDialogs.validateHelpers.isError(a.val(),a))},isError:function(a,b){return function(){b.val()!=a&&(b.removeClass("error"),b.off("keyup.error-checker"))}},makeValidator:function(a,
b,c,d,e){return function(f){a.removeClass("error");$("._tv-dialog-field-error").hide();if(""!==f.errors)if("object"==typeof f.errors){for(var g in f.errors){var h=a.filter("input[name^="+g+"]");h.addClass("error").data("error",f.errors[g][0]);TVDialogs.validateHelpers.isErrorListening(h)}f=a.filter(".error").first().focus();TVDialogs.showError(f.data("error"),e)}else TVDialogs.showError($.t("Error:")+f.errors,e);else"function"===typeof d&&d(f,c);b.removeClass("process")}}},applyMQMatcher:function(a){a||
(a=TVDialogs.modalDialog);var b=function(){TVDialogs.positionDialog()};if(window.matchMedia){var c=["(max-height: 645px)","(max-width: 460px)"].map(function(a){a=matchMedia(a);a.addListener(b);return a});a.on("destroy",function(){c.forEach(function(a){a.removeListener(b)})})}},showSendMessageDialog:function(a,b){function c(){var b=m.val().trim(),c;e?(c=a.customValidate(b),c.length&&d(c),c=!c.length):(c=a.validate(b))||d();c&&(a.send(b),TVDialogs.destroy(h))}function d(a){if(a)for(var b=0;b<a.length;b++)k[a[b]]();
else k.default()}var e=b&&b.customTitle,f=b&&b.animate,g={title:a.getTitle(),text:a.getText(),cancelString:$.t("Cancel"),sendString:$.t("Send")},h="Send Message Dialog",g=TVDialogs.createDialog(h,{content:Mustache.render('<div class="header">'+(e?'<div class="custom-title">{{{title}}}</div>':'<span class="title">{{{title}}}</span>')+'</div><div class="body"><form><div class="message"><textarea rows="10" id="message-text">{{text}}</textarea></div><div class="buttons clearfix"><input class="button-send" type="button" value="{{sendString}}"/><input class="button-cancel" type="button" value="{{cancelString}}"/></div></form></div>',
g),addClass:"send-message-dialog",hideTitle:!0});f&&b.animateFrom&&g.css({top:b.animateFrom.top,left:b.animateFrom.left});g.css("position","fixed");g.find("._tv-dialog-title ._tv-dialog-title-close").addClass("send-message-close");var k={default:function(){m.css("background-color","#DDAAAA").animate({"background-color":"#fff"}).focus()}};e&&(a.applyCustomTitleHandlers(g),k=a.getInvalidInputHandlers(k));var m=g.find("#message-text");g.find(".button-cancel").on("click",function(){TVDialogs.destroy(h)});
g.find(".button-send").on("click",c);m.on("keyup",function(a){13==a.which&&a.ctrlKey&&c()});TVDialogs.applyHandlers(g,{notFocusFirst:!0});f?TVDialogs.positionDialog(g,{},b.animateFrom?{smooth:!0}:{fadeIn:!0}):TVDialogs.positionDialog(g);b&&b.customFocus?a.customFocus(g):m.putCursorAtEnd()},showLineToolsWarning:function(a,b,c){if(!b.readOnly()){a=$.t("Warning");TVDialogs.createModalDialog(a,{addClass:"line-tools-warning"});a=TVDialogs.modalDialog;a.addClass("trading-dialog");var d=a.find("._tv-dialog-content");
$("<div class='message'>").append($.t("This chart layout has more than 1000 drawings, which is a lot! This may negatively affect performance, storage and publishing. We recommend to remove some drawings to avoid potential performance issues.")).appendTo(d);d=$("<div>").addClass("buttons").appendTo(d);$("<button class='select button flat'>").append($.t("Open Manage Drawings")).appendTo(d).click(function(){$(this).addClass("process");(new TradingView.ObjectTreeDialog({chartWidget:b,activeTab:1},c)).show(function(){TVDialogs.destroy()})});
$("<button class='button flat not-now'>").append($.t("Not Now")).appendTo(d).click(function(){TVDialogs.destroy()});TVDialogs.applyHandlers(a);TVDialogs.positionDialog()}},showBrowserExtensionDialog:function(a){if(a)return TVDialogs.createModalDialog("Browser Extension",{noHeader:!0,width:"730px",content:Mustache.render(TradingView.templates.dialogs.browserExtension,{browser:{chrome:{logo:"/static/images/svg/google-chrome-logo.svg",name:"Google Chrome",href:"https://chrome.google.com/webstore/detail/tradingview-free-quotes-a/ommjfbdmijjlbhlhnnnfkmbnkpnjpipj"}}[a]})}),
TVDialogs.modalDialog.find(".install-extension, ._tv-dialog-title-close").click(function(a){TVDialogs.destroy()}),TVDialogs.positionDialog(),TVDialogs.modalDialog},showIntervalMismatchDialog:function(a){var b;b=!1;TVDialogs.createModalDialog($.t("Interval is not applicable"));var c=TVDialogs.modalDialog;c.css({zIndex:1E3});c.find("._tv-dialog").css("width","400px");c=TVDialogs.modalDialog.find("._tv-dialog-content");c.html('<div class="main"><div class="caption-big">'+$.t("<p>Only <b>D, W, M</b> intervals are supported for this symbol/exchange. You will be automatically switched to a D interval. Intraday intervals are not available because of exchange policies.</p>")+
'</div><div class="main-properties"></div></div>');c=c.find(".main-properties");c=$('<div class="dialog-buttons"></div>').appendTo(c);if(a){var d=$('<label class="dialog-trail-checkbox"><input type="checkbox" /> '+$.t("Do not show this message again")+"</label>").appendTo(c).find("input");d.attr("checked",a.silentIntervalChange.value());d.bind("click",function(){a.silentIntervalChange.setValue(this.checked)})}$('<a class="_tv-button ok">OK</a>').appendTo(c).bind("click",function(){TVDialogs.destroy()});
TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClickIfShadowbox:b})},showSignInDialog:function(a,b){function c(a){var b;switch(a){case "signup":case "signup-trial":b=t.indexOfPage(l);break;case "recover":b=t.indexOfPage(p);break;default:a="signin",b=t.indexOfPage(m)}h.find('[name="signup_trial"]').val("signup-trial"==a?1:0);h.find(".show-if-signin, .show-if-signup, .show-if-recover").not(".show-if-"+a).hide();h.find(".show-if-"+a).show();t.setActivePage(b)}if(!is_authenticated){b=
$.extend({},b);"function"==typeof a?TVDialogs.onSigninSuccess=a:delete TVDialogs.onSigninSuccess;b.source&&(TradingView.signupSource=b.source);if(b.sourceMeta){var d={};Array.isArray(b.sourceMeta)?d.additionalCategories=b.sourceMeta:"string"===typeof b.sourceMeta&&(d.additionalCategories=[b.sourceMeta]);TradingView.signupSourceParameters=d}var e=TradingView.getUrlParams().utmsource,f=TradingView.getUrlParams().utmmedium;window.utmSourceOverride&&(e=window.utmSourceOverride);var g=TVDialogs.createModalDialog($.t("Log in"),
{noHeader:!0,addClass:"auth-dialog"});if(b.onDestroy)TVDialogs.modalDialog.on("destroy",b.onDestroy);var h=TVDialogs.modalDialog.find("._tv-dialog-content");if(Featuresets.enabled("whotrades_auth_only")){var d=Math.min($(window).width()-20,430),k=Math.min($(window).height()-20,450);$('<iframe src="/accounts/signin/whotrades/" frameborder="0" allowTransparency="true" scrolling="no"/>').width(d).height(k).appendTo(h);TVDialogs.positionDialog();TVDialogs.applyHandlers(null)}else{d=$('<div class="properties-tabs show-if-signin show-if-signup show-if-signup-trial"></div>').prependTo(h);
$('<a href="#" class="properties-tabs-label"></a>').text($.t("Sign In")).appendTo(d);$('<a href="#" class="properties-tabs-label"></a>').text($.t("Sign Up")).appendTo(d);$('<a href="#" class="properties-tabs-label"></a>').appendTo(d);var k=$(document.createElement("div")).appendTo(h),m=$(document.createElement("div")).addClass("page").appendTo(k),l=$(document.createElement("div")).addClass("page").appendTo(k),p=$(document.createElement("div")).addClass("page recover").appendTo(k),t=new TradingView.Tabs(d,
k);m.html(TradingView.templates.dialogs.signin);d={};e&&-1<e.search("dailyfx")?d.dailyfx=!0:d.defsigup=!0;d.referralSessionId=localStorage._referralSessionId;l.html(Mustache.render(TradingView.templates.dialogs.auth,d));p.html(TradingView.templates.dialogs.recover);c(b.mode);t.tabChanged.subscribe(null,function(a){t.pageAt(a).find('input:eq(0)[type!="hidden"]').focus();TVDialogs.positionDialog()});h.find(".recover-link").on("click",function(a){c("recover");a.preventDefault()});h.find(".signup-link").on("click",
function(a){c("signup");a.preventDefault()});h.find(".signin-link").on("click",function(a){c("signin");a.preventDefault()});0===TradingView.BrowserInfo.prototype.browser().indexOf("Internet Explorer")&&h.find("input[type=text], input[type=password]").wrap('<label class="auth-dialog-field">').each(function(){function a(){b.toggleClass("empty",!b.val());d=!1}var b=$(this),c=$('<span class="auth-dialog-field-placeholder">').text(b.attr("placeholder")).insertAfter(b);b.removeAttr("placeholder");var d=
!1;a();b.on("blur",function(){c.toggleClass("disabled",!!this.value)});b.on("keypress keydown keyup input paste",function(){d||(d=!0,setTimeout(function(b){a()},0))})});"stocktwits google-oauth2 facebook twitter linkedin yahoo".split(" ").forEach(function(a){var c="/accounts/signin/"+a+"/";if(e)var d=TradingView.createUrlParams({utm_source:e,utm_medium:f}),c=c+("?"+d);h.find(".auth-dialog-social-"+a).on("click",function(a){"signup-trial"==b.mode&&$.cookie("will_start_trial",1,{path:"/"});a.preventDefault();
window.open(c,"_blank")})});h.find("#signin-form").on("submit",function(a){a.preventDefault();var c=$(this).find('[type="submit"]').addClass("process");TVDialogs.submit(function(a){""!==a.error?TVDialogs.showError("Error: "+a.error):(user=a.user,TVDialogs.destroy(),TradingView.changeLoginState(!0),"function"==typeof TVDialogs.onSigninSuccess&&(TVDialogs.onSigninSuccess(),delete TVDialogs.onSigninSuccess),window.next&&(location.href=window.next),TradingView.isFeatureEnabled("hard-registration")&&b.source&&
"AB"==b.source.split(" ")[0]&&TradingView.trackEvent("AB Hard Registration Popup","SignIn From "+b.from+" Message"));c.removeClass("process")},this)});h.find("#signup-form").on("submit",function(a){a.preventDefault();a=$(this);var c=a.find("input"),d=a.find('[type="submit"]').addClass("process");a.appendUtm(e,f);TVDialogs.submit(TVDialogs.validateHelpers.makeValidator(c,d,b,function(a,b){b.onDestroy&&TVDialogs.modalDialog.off("destroy",b.onDestroy);TradingView.trackRegistrationEvent("Email");TVDialogs.showNotice($.t("Activate Your Account"),
a.message,{onClose:b.onDestroy})},g),this)});h.find("#recover-form").on("submit",function(a){a.preventDefault();var b=TVDialogs.modalDialog;TVDialogs.submit(function(a){""!==a.error?TVDialogs.showError($.t("Failed:")+" "+a.error):(TVDialogs.showMessage($.t("New password is sent to your email.")),setTimeout(function(){TVDialogs.modalDialog===b&&TVDialogs.destroy()},TVDialogs.messageDelay))},this)});TVDialogs.applyMQMatcher(g);TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClick:b.doNotCloseOnBgClick?
b.doNotCloseOnBgClick:void 0,doNotCloseOnEsc:b.doNotCloseOnEsc?b.doNotCloseOnEsc:void 0})}}},showAfterSocialSign:function(a){var b=TradingView.getUrlParams().utmsource,c=TradingView.getUrlParams().utmmedium;window.utmSourceOverride&&(b=window.utmSourceOverride);var d=TVDialogs.createModalDialog($.t("TradingView Sign Up"),{noClose:!0,addClass:"auth-dialog auth-dialog-after-social"});if(a.onDestroy)TVDialogs.modalDialog.on("destroy",a.onDestroy);var e=TVDialogs.modalDialog.find("._tv-dialog-content"),
f={email:a.user.email?a.user.email:void 0,username:a.user.username,referralSessionId:localStorage._referralSessionId,buttonCaption:a.buttonCaption||$.t("Sign Up")};b&&-1<b.search("dailyfx")&&(f.dailyfx=!0,f.firstname=window.user.first_name,f.lastname=window.user.last_name);e.html(Mustache.render(TradingView.templates.dialogs.afterSocialSign,f));e.find("#save-form").on("submit",function(e){e.preventDefault();e=$(this);var f=e.find("input"),k=e.find('[type="submit"]').addClass("process");e.appendUtm(b,
c);TVDialogs.submit(TVDialogs.validateHelpers.makeValidator(f,k,a,function(a,c){window.user.email=a.email;b&&-1<b.search("dailyfx")&&(window.user.first_name=a.first_name,window.user.last_name=a.last_name);a.username_updated&&(window.user.username=a.username,window.onLoginStateChange());TVDialogs.destroy();c.afterLoginFunction&&"function"==typeof c.afterLoginFunction&&c.afterLoginFunction()},d),this)});TVDialogs.applyMQMatcher(d);TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClick:!0,
doNotCloseOnEsc:!0});return d},goRegistrate:function(a){var b=TVDialogs.createModalDialog($.t("Please Sign Up To Continue"),{noClose:!0,addClass:"auth-dialog _tv-dialog--hard-registration"}),c=TVDialogs.modalDialog.find("._tv-dialog-content"),d={chart:"<p>"+$.t("To continue working with TradingView charts please create a free account or sign in. It only takes two clicks and it\u2019s free!")+"</p><p>"+$.t("Free accounts are packed with features:")+"</p><ul><li>"+$.t("Best HTML5 charts on the web")+
"</li><li>"+$.t("Save your work and get it anywhere")+"</li><li>"+$.t("Enjoy chatting in real-time and publishing ideas")+"</li></ul>",ideas:"<p>"+$.t("To continue reading ideas please create a free account or sign in. Only takes two clicks and it\u2019s free!")+"</p><p>"+$.t("Free accounts are packed with features:")+"</p><ul><li>"+$.t("Follow authors and get followed back")+"</li><li>"+$.t("Comment ideas and share them on")+"</li><li>"+$.t("Discuss markets in real-time with other members")+"</li></ul>"};
c.html('<form class="main" id="go-registrate-form" action="">'+d[a.from]+'<button type="submit">'+$.t("Get Started")+"</button></form>");var e=c.find("form").find('[type="submit"]');e.on("click",function(b){b.preventDefault();e.addClass("process");TVDialogs.destroy();TVDialogs.showSignInDialog(null,{mode:"signup",source:"AB Hard Registration Popup From "+a.from+" Message",from:a.from,doNotCloseOnBgClick:!0,doNotCloseOnEsc:!0})});TradingView.trackEvent("AB Hard Registration Popup","Show "+a.from+" Message");
TVDialogs.applyMQMatcher(b);TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClick:!0,doNotCloseOnEsc:!0})},showPublishIntroDialog:function(a){var b=$.Deferred(),c=TVSettings.getBool("publish.showIntroText",!0);if(a||c){a=TVDialogs.createDialog("publish_intro",{addClass:"idea-publish-intro ",hideTitle:!0});var d=!1;a.css({"z-index":130,"min-width":"650px"});a.find("._tv-dialog-content").html(Mustache.render(TradingView.templates.dialogs.publishIntro,{do_not_show:!c}));var c=a.find(".left-annotation svg"),
e=a.find(".main").height()-7;c.width(c.width()*e/c.height());c.height(e);TVDialogs.positionDialog(a);a.draggable(TVDialogs._constrainDraggableOptionsIfNeeded({handle:".fake-handle"}));a.find('input[name="donotshow"]').on("change",function(a){TVSettings.setValue("publish.showIntroText",!$(this).is(":checked"))});$("#publish-intro-continue").click(function(){TVDialogs.destroy("publish_intro");b.resolve()});a.on("destroy",function(){d=!0;setTimeout(b.resolve,0)});b.always(function(){d||TVDialogs.destroy("publish_intro")});
TVDialogs.positionDialog(a);TVDialogs.applyHandlers(a)}else b.resolve();return b},showGoProDialog:function(a){a||(a={});if(Featuresets.enabled("referral_program_for_widget_owners"))TVDialogs.showGoToTradingViewReferralDialog(a);else{TVDialogs.createModalDialog("",{noHeader:!0,addClass:"gopro-dialog ",appearance:"flat"});var b=TVDialogs.modalDialog;b.css({zIndex:1E3});b=b.find("._tv-dialog-content");b.html(Mustache.render(TradingView.templates.dialogs.goPro.layout,{trialButton:TradingView.Conversion&&
TradingView.Conversion.trialAvailable&&TradingView.Conversion.trialAvailable(),exchangesButton:a.exchangesButton,exchange:a.exchange}));var c=b.find(".col-main .col-copy"),d;d=a.feature?Mustache.render(TradingView.templates.dialogs.goPro.features[a.feature],{exchangesButton:a.exchangesButton,exchange:a.exchange,options:a.featureOptions||{}}):TradingView.templates.dialogs.goPro.defaultCopy;c.html(d);b.find(".yes-button").on("click",function(b){this.href===location.href&&b.preventDefault();TradingView.trackGoProPageTransition(a.feature,
a.featureLocation);TVDialogs.destroy()});b.find(".no-button").on("click",function(a){a.preventDefault();TVDialogs.destroy()});TVDialogs.positionDialog();TVDialogs.applyHandlers(null)}},showGoToTradingViewReferralDialog:function(a){var b;a.feature&&(b=TradingView.templates.dialogs.goPro.features[a.feature]);TVDialogs.showNotice($.t("Want more, you naughty user ?"),"",{removeOkButton:!0,html:(b+"<br/>"||"")+$.t("You can use this and tons of other features on our main website. Join us at <a href='{0}' target='_blank'>tradingview.com</a> !").format(TradingView.ReferralProgram.referenceToTradingView())})},
showAddSymbolDialog:function(a,b){b=$.extend({},{title:$.t("Add Symbol"),callback:function(a,b){},overlayOption:!1,overlayOptionChecked:TVSettings.getBool("showAddSymbolDialog.checkboxState",!0),okButtonTitle:$.t("Add Symbol")},b||{});var c=TVDialogs.createDialog(b.title);c.css("min-width",0);c.find("._tv-dialog-content").html(Mustache.render(TradingView.templates.dialogs.addSymbol,b)).css("min-width",0);TVDialogs.applyHandlers(c);var d=$('<div class="symbol-edit-widget"></div>'),e=$('<input type="text" class="symbol-edit single" placeholder="'+
$.t("Symbol")+'" maxlength="30" style="text-transform: none; font-weight: normal;" autocomplete="off">').appendTo(d),f=TradingView.SymbolSearch.bindToInput(e,{callback:function(a){var d=c.find("#_tv-dialog-addsymbol-overlay-checkbox").is(":checked");if(a){var e=b.callback;e(a,d);$(window).off("keyup.addOverlay");TVDialogs.destroy(c.data("title"))}}});c.find("div.symbol-edit-place").replaceWith(d);c.find("._tv-dialog").draggable(TVDialogs._constrainDraggableOptionsIfNeeded({handle:"._tv-dialog-title"}));
c.find("input[type=checkbox]").on("change",function(a){TVSettings.setJSON("showAddSymbolDialog.checkboxState",a.target.checked)});c.find(".ok").on("click",function(){f.acceptTypeIn()});c.show();TVDialogs.positionDialog(c);e.focus()},makeDraggable:function(a){a.draggable({handle:"._tv-dialog-title"})},showConfirmInputsDialog:function(a,b,c){function d(a){var b=c.callback;a=a.state();b(a);TVDialogs.destroy(e.data("title"))}c=$.extend({},{title:$.t("Confirm Inputs"),callback:function(a){},okButtonTitle:$.t("Apply")},
c||{});var e=TVDialogs.createDialog(c.title,{content:"<div class='main'></div>"});e.css("min-width",0);TVDialogs.applyHandlers(e,{beforeDestroy:function(){$(window).unbind("keyup.hideInputsConfirmDialog")}});for(var f=TradingView.merge({},b.defaults.inputs),g=0;g<b.inputs.length;++g){var h=b.inputs[g];h.confirm||delete f[h.id]}var k=new Property({inputs:f});a=(new TradingView.StudyInputsPropertyPage(k,a.model(),{metaInfo:function(){return b}},!0)).widget();f=e.find(".main");f.append(a);$(window).bind("keyup.hideInputsConfirmDialog",
function(a){"13"==a.keyCode&&"textarea"!==a.target.tagName.toLowerCase()&&(d(k),$(window).unbind("keyup.hideInputsConfirmDialog"))});$("select",f).each(function(){var a=$(this),b="tv-select-container dialog";a.hasClass("tv-select-container-fontsize")&&(b+=" tv-select-container-fontsize");a.selectbox({speed:100,classHolder:b})});$('input[type="text"]',f).addClass("tv-text-input inset dialog");$("input.ticker",f).TVTicker();e.find(".main").append("<div class='_tv-dialogs-bottom-button'><span class='_tv-button tv-right tv-uppercase ok'>Apply</span></div>");
e.find(".ok").on("click",function(){d(k)});e.show();TVDialogs.positionDialog(e);f.find("input,select").first().focus()},showUpdateAccountDataDialog:function(a){var b=Mustache.render('<form>{{#html}}<p>{{&html}}</p>{{/html}}<input type="text" value="{{value}}"></form>',{value:a.value||"",html:a.html});return TVDialogs.showCustomDialog({title:a.title,html:b,action:function(b){var d=b.find("._tv-button.ok");d.addClass("process");TradingView.changeUserProfileField({name:a.paramName,value:b.find("input[type=text]").val(),
onSuccess:a.success,onError:function(d){d=(d||[]).join(" ");"function"===typeof a.error?a.error(d):TVDialogs.showError(d||$.t("Unexpected error: can't change profile data"),b)},onComplete:function(){d.removeClass("process")}});return{notClose:!0}},onCancel:a.cancel})},showProRTTrialOffer:function(a){TVDialogs.createModalDialog("",{noHeader:!0,addClass:"prorttrial-dialog ",appearance:"flat"});var b=TVDialogs.modalDialog;b.css({zIndex:1E3}).find("._tv-dialog");b=b.find("._tv-dialog-content");b.html(Mustache.render(TradingView.templates.dialogs.proRTTrialOffer));
b.find("a.trial").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onAccept)a.callbacks.onAccept()});b.find("a.nothanks").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onDecline)a.callbacks.onDecline()});b.find("a.ordernow").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onOrder)a.callbacks.onOrder()});b.find("a.later").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onRemindLater)a.callbacks.onRemindLater()});
TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClickIfShadowbox:!0,doNotCloseOnEsc:!0})},showTrialMessage:function(a){TVDialogs.createModalDialog("",{noHeader:!0,addClass:"prorttrial-dialog ",appearance:"flat"});var b=TVDialogs.modalDialog;b.css({zIndex:1E3}).find("._tv-dialog");b=b.find("._tv-dialog-content");b.html('<div class="main"><h3 class="title"></h3><div class="copy"></div><div class="big-buttons"><a href="javascript://" class="big-button ok">'+$.t("OK")+"</a></div></div>");
var c=b.find(".title"),d=b.find(".copy"),e=b.find(".big-button.ok"),f=b.find(".big-buttons");a&&a.title?c.html(a.title):c.remove();a&&a.copy?d.html(a.copy):d.remove();a&&a.closeButtonCopy&&e.html(a.closeButtonCopy);a&&a.replaseCloseBtn&&f.html(a.replaseCloseBtn);b.find("a.ok").on("click",function(b){a&&a.replaseCloseBtnFunc?a.replaseCloseBtnFunc(b):(b.preventDefault(),TVDialogs.destroy())});TVDialogs.positionDialog();TVDialogs.applyHandlers(null)},showTrialMessageSuccess:function(){var a='<div style="padding-top: 20px; line-height: 28px"><div style="display: inline-block">'+
svgAsset.code("gift")+'</div><div style="display: inline-block; padding: 10px 0 0 30px; width: 400px; vertical-align: top"><h1 style="margin-bottom: 12px">'+$.t("Pro+ Free Trial")+"</h1><span><strong>"+$.t("No need to buy a plan now.")+"</strong></span><br/><span><strong>"+$.t("No credit card required.")+"</span></strong></div></div><p>"+$.t("Your 30-day free PRO Plus account has been activated. You are now part of a community of 2 million+ ideas that have been created within TradingView charts. To help get the ball rolling, we'd suggest you spend a few minutes familiarizing yourself with our online <a href='/stock-charts-support/'>help section</a>. We hope you enjoy working with TradingView and wish you good trading!")+
"</p>";TVDialogs.showTrialMessage({copy:a,replaseCloseBtn:"<a href='/chart/' style='display: inline-block; float: none' class='big-button ok'>"+$.t("LAUNCH CHART")+"</a>",replaseCloseBtnFunc:function(){}});TVDialogs.modalDialog.find(".big-buttons").css({"text-align":"center"})},showTrialConfirmationDialog:function(a){a=a||{};TVDialogs.createModalDialog("",{noHeader:!0,addClass:"trialconfirm-dialog ",appearance:"flat"});var b=TVDialogs.modalDialog;b.css({zIndex:1E3});var c=b.find("._tv-dialog-content");
c.html('<div class="main"><h3 class="title">'+(a.title||$.t("Trial confirmation dialog"))+'</h3><div class="copy">'+(a.text||$.t("Trial confirmation text"))+'</div><div class="actions-block"><a class="no-button">'+(a.noText||$.t("No, thank you"))+'</a><a class="yes-button">'+$.t("START TRIAL")+"</a></div></div>");b=c.find(".no-button");c=c.find(".yes-button");b.on("click",function(b){b.preventDefault();if("function"==typeof a.onCancel)return a.onCancel(b);TVDialogs.destroy()});c.on("click",function(b){if("function"==
typeof a.onSubmit)return a.onSubmit(b);b.preventDefault()});TVDialogs.positionDialog();TVDialogs.applyHandlers(null)},showEarlyAccessDialog:function(a){var b={};switch(a&&a.reason||""){case "after 1 week":b.is_1wk=!0;break;case "after 2 weeks":b.is_2wk=!0;break;case "after 3 weeks":b.is_3wk=!0;break;case "finished":b.is_finished=!0;break;default:return}TVDialogs.createModalDialog("",{noHeader:!0,addClass:"prorttrial-dialog ",appearance:"flat"});var c=TVDialogs.modalDialog;c.css({zIndex:1E3}).find("._tv-dialog");
c=c.find("._tv-dialog-content");c.html(Mustache.render(TradingView.templates.dialogs.earlyAccess,b));b=null;c.find("a.nothanks").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onDecline)a.callbacks.onDecline()});c.find("a.ordernow").on("click",function(b){b.preventDefault();if(a&&a.callbacks&&a.callbacks.onOrder)a.callbacks.onOrder()});TVDialogs.positionDialog();TVDialogs.applyHandlers(null,{doNotCloseOnBgClickIfShadowbox:!0,doNotCloseOnEsc:!0})},showLeavingConfirmation:function(a,
b){var c=Mustache.render('<div style="padding: 20px 20px 0"><div class="clearfix" style="padding-bottom: 10px"><div style="float: left; padding-right: 20px; height: 82px; width: 128px">'+svgAsset.code("logo-sad")+'</div><div style="float: left; width: 200px"><h1 style="margin-top: 0">'+$.t("Oh, no! Maybe stay some more?")+"</h1></div></div>{{#price}}<p><strong>"+$.t("Pro Plus is just {0} per day for you, which is less than a cup of coffee!").format(a?"$"+a.toFixed(2):"")+"</strong></p>{{/price}}<p>"+
$.t("It has top-notch tools to help you beat the markets:")+"</p><ul><li>"+$.t('<a href="https://www.tradingview.com/stock-charts-support/index.php/Category:Chart_Types" target="_blank">Japanese charts</a> to identify profitable trends')+"</li><li>"+$.t('Unlimited 24/7 <a href="https://www.tradingview.com/stock-charts-support/index.php/Alerts" target="_blank">server-side alerts</a> on market conditions')+"</li><li>"+$.t("Data before markets open and after they close")+"</li></ul><p>"+$.t('If you had issues, please <a href="https://getsatisfaction.com/tradingview" target="_blank" rel="nofollow">tell us</a> and we\'ll make it right!')+
"</p><p>"+$.t("We love you, hope it's mutual!")+"</p></div>",{price:a}),d=$.t("Yes, I'll stay!"),e=$.t("No, not now");TVDialogs.showConfirm("leaving-confirmation",c,function(){},b,{noHeader:!0,manualCloseOnCancel:!0,customWidth:"450px",okButtonText:d,cancelButtonText:e});TVDialogs.modalDialog.find(".main").css({"padding-bottom":"0"});TVDialogs.modalDialog.find("._tv-dialogs-bottom").css({"padding-bottom":"25px"})},showUnsubscribeConfirmationDialog:function(a,b,c,d){if(d&&d.showLeavingConfirmation)TVDialogs.showLeavingConfirmation(d.dailyPrice,
function(){TVDialogs.showUnsubscribeConfirmationDialog(a,b,c)});else{d="<p>"+$.t("If you cancel, you will no longer be billed after your current subscription period ends. Your subscription service will continue to be active until the end of the period that you paid for.")+"</p><p>"+$.t("We'd really like to know the reason why you are cancelling so we can make things better. Please add your feedback to the field below.")+'</p><textarea style="width: 398px; height: 100px;"></textarea>';var e=$.t("Cancel __text__ and send feedback",
{text:b}),f=$.t("Do not cancel");TVDialogs.showConfirm(a,d,function(){var a=TVDialogs.modalDialog.find("textarea").val();a?(c(a),TVDialogs.destroy()):TVDialogs.showError($.t("Please enter your feedback"))},function(){},{customWidth:"450px",okButtonText:e,cancelButtonText:f,manualClose:!0})}},showChangeUserStatusDialog:function(){var a=$.t("Update status"),b=TVDialogs.createDialog(a);b.find("._tv-dialog").css("width","400px");b.find("._tv-dialog-content").html('<form><div class="main"><input type="text" name="status" value="'+
("string"==typeof window.user.status?window.user.status.replace(/"/g,"&quot;"):"")+'"></div><div class="_tv-dialogs-bottom _tv-dialog-center"><input class="_tv-button wide ok" type="submit" value="'+$.t("OK")+'" style="margin-right: 10px;"/><input class="_tv-button wide cancel" type="button" value="'+$.t("Cancel")+'"/></div></form>');var c=b.find(".ok"),d=b.find('[name="status"]'),e=$.t("Add status")+"...";b.find("form").submit(function(){c.addClass("process");TradingView.changeUserProfileField({name:"status",
value:String(d.val()).replace(/^\s+|\s+$/g,""),onSuccess:function(b){var c=$("#change-profile-status"),d=b?b:e;c.hasClass("tv-editable-active")?c.find('input[type="text"], textarea').val(d):c.text(d);$('[name="status"]').val(b);TVDialogs.destroy(a)},onError:function(a){TVDialogs.showError($.t("We'are sorry, something went wrong. Try to reload page."));console.warn(a)},onComplete:function(){c.removeClass("process")}});return!1});b.find(".cancel").click(function(){TVDialogs.destroy(a)});Modernizr.touch&&
d.val("");TVDialogs.positionDialog(b,{considerScroll:!0});TVDialogs.applyHandlers(b);d.focus().select()},showScriptSearchDialog:function(a){function b(){var a=e.val();if(a!==h){h=a;f.toggle(!!a);k&&(k.abort&&k.abort(),k=null);g.html('<div class="loading"></div>');var b=TradingView.PublishedScript.suggest(h);k=b;TradingView.PublishedScript.list().done(function(a){b.done(function(d){b===k&&c(d,a)})})}}function c(a,b){g.empty();a&&(a.length||$('<p class="nothing">'+$.t("No scripts matched your criteria")+
"</p>").appendTo(g),a.forEach(function(a){if(a){var c=$('<div class="item">');if(a.author){var e=$('<div class="item-avatar">').appendTo(c);$("<img>").attr({src:"/avatar/"+a.author.id+"/",class:"avatar userlink",alt:a.author.username,"data-username":a.author.username}).appendTo(e)}e=$('<div class="item-buttons"></div>').appendTo(c);$(Mustache.render(TradingView.templates.publishedScriptButton,{script_id_part:a.scriptIdPart,script_install_count:a.scriptInstallCount,show_script_install_count:!!a.scriptInstallCount,
script_in_library:b.some(function(b){return b.scriptIdPart==a.scriptIdPart})})).appendTo(e);if(d){var f=$('<a class="pubscript-try-button" title="'+$.t("Add this study to active chart")+'"><span class="label">'+$.t("Try")+"</span></a>");f.on("click",function(b){b.preventDefault();d(a)});f.appendTo(e)}e=$('<div class="item-main">').appendTo(c);f=$('<div class="item-title">').appendTo(e);$("<a>").attr({href:"/v/"+a.imageUrl+"/",target:"_blank"}).text(a.scriptName||a.scriptTitle||$.t("Study")).appendTo(f);
$('<div class="item-desc">').text(a.description||"").appendTo(e);g.append(c)}}))}var d=a.onTry;a=$.t("Search for scripts published by community");a=TVDialogs.createDialog(a,{width:815,content:TradingView.templates.dialogs.scriptSearch,addClass:"script-search-dialog"});var e=a.find("input[name=q]"),f=a.find(".input-reset"),g=a.find(".script-search-results");f.on("click",function(){e.val("");b()});var h,k=null;e.on("input keyup change",b);b();TVDialogs.positionDialog(a);TVDialogs.applyHandlers(a);return a},
showPrioritySupportDialog:function(){TVDialogs.showCustomDialog({title:$.t("Priority Support"),html:TradingView.templates.dialogs.proiritySupport,noButtons:!0})},showAlertMaintenanceDialog:function(){TVDialogs.showNotice($.t("Alerts maintenance"),$.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!"))},showAlertTextNotesDialog:function(){TVDialogs.showNotice($.t("Oops!"),{html:$.t('Text Notes are available only on chart page. Please <a href="/chart/">open a chart</a> and then try again.')})},
showNotice:function(a,b,c){"object"==typeof b&&(c=b,b="");c=c||{};var d=c.doNotCloseOnBgClick||!1,e=c.html||"",f=c.width||"400px";TVDialogs.createModalDialog(a);a=c.centerCaption?"caption-big-center":"caption-big";TVDialogs.modalDialog.find("._tv-dialog").css("width",f);TVDialogs.modalDialog.find("._tv-dialog-content").html(Mustache.render('<div class="main"><div class="{{captionClassName}} {{classSuffix}}">{{text}}'+e+'</div>{{^removeOkButton}}<div class="buttons"><input type="button" class="_tv-button ok" value="'+
$.t("OK")+'"/></div>{{/removeOkButton}}</div>',{captionClassName:a,classSuffix:c.classSuffix||"",text:b,removeOkButton:c&&c.removeOkButton}));TVDialogs.modalDialog.find("._tv-button.ok").on("click",function(){TVDialogs.destroy()});TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClickIfShadowbox:d,beforeDestroy:c.onClose});return TVDialogs.modalDialog},showTooManyStudiesNotice:function(a){"number"!=typeof a&&(a=TradingView.STUDY_COUNT_LIMIT);return TVDialogs.showNotice($.t("Warning:"),
{html:$.t("Too many studies!<br>\nThere is a limit of {0} studies per chart or multichart layout.<br>\nTry removing some studies or switch to a smaller layout.",{count:a}).format(a)})},showConfirm:function(a,b,c,d,e){e=e||{};e.dontAskSetting&&TVSettings.getBool(e.dontAskSetting)?c():(TVDialogs.createModalDialog(a,e),TVDialogs.modalDialog.find("._tv-dialog").css("width",e.customWidth?e.customWidth:"400px"),TVDialogs.modalDialog.find("._tv-dialog-content").html(Mustache.render('<div class="main"><div class="caption-big">{{{text}}}</div>{{#dontAskSetting}}<input type="checkbox" id="confirm-dialog-checkbox" style="margin: 0; vertical-align: middle;"> <label for="confirm-dialog-checkbox" style="font-size: 11px;">'+
$.t("Do not ask again")+'</label>{{/dontAskSetting}}</div><div class="_tv-dialogs-bottom _tv-dialog-center"><input class="_tv-button wide ok" type="button" value="'+$.t("YES")+'" style="margin-right: 10px;"/><input class="_tv-button wide cancel" type="button" value="'+$.t("NO")+'"/></div>',{text:b,dontAskSetting:!!e.dontAskSetting})),e.okButtonText&&TVDialogs.modalDialog.find(".ok").val(e.okButtonText),e.cancelButtonText&&TVDialogs.modalDialog.find(".cancel").val(e.cancelButtonText),TVDialogs.modalDialog.find(".ok").click(function(){e.dontAskSetting&&
$("#confirm-dialog-checkbox").is(":checked")&&TVSettings.setValue(e.dontAskSetting,!0);c();e.manualClose||TVDialogs.destroy()}),TVDialogs.modalDialog.find(".cancel").click(function(){d&&d();e.manualCloseOnCancel||TVDialogs.destroy()}),TVDialogs.positionDialog(),TVDialogs.applyHandlers())},showPrompt:function(a,b,c,d,e){function f(){var a=k.val();if(h){var b=h(a);if(b){!0===b&&(b=$.t("Wrong value"));TVDialogs.showError(b,TVDialogs.modalDialog);return}}TVDialogs.destroy();c&&c(a)}var g=e&&e.defaultValue,
h=e&&e.validate;TVDialogs.createModalDialog(a,e);TVDialogs.modalDialog.find("._tv-dialog").css("width","400px");TVDialogs.modalDialog.find("._tv-dialog-content").html(Mustache.render('<div class="main"><form><div class="caption-big-center slim">{{text}}: <input type="text" name="prompt-value" class="prompt-value"/></div></form></div><div class="_tv-dialogs-bottom _tv-dialog-{{bottomAlign}}"><input class="_tv-button wide ok" type="button" value="'+$.t("OK")+'" style="margin-right: 10px;"/><input class="_tv-button wide cancel" type="button" value="'+
$.t("Cancel")+'"/></div>',{text:b,bottomAlign:e.bottomAlign?e.bottomAlign:"center"}));var k=TVDialogs.modalDialog.find('[name="prompt-value"]');g&&k.val(g);TVDialogs.modalDialog.find("form").submit(function(a){f();a.preventDefault()});TVDialogs.modalDialog.find(".ok").click(function(a){f();a.preventDefault()});TVDialogs.modalDialog.find(".cancel").click(function(){TVDialogs.destroy();d&&d()});TVDialogs.positionDialog();TVDialogs.applyHandlers();setTimeout(function(){k.focus().select()},0)},showCustomDialog:function(a){function b(b){var c=
a.action(TVDialogs.modalDialog),f=c&&c.notClose;(!c||c.error)&&void 0!==c||f?c.error&&TVDialogs.showError(c.error):TVDialogs.destroy();b.preventDefault()}function c(b){if("function"===typeof a.onCancel)a.onCancel();else TVDialogs.destroy()}TVDialogs.createModalDialog(a.title||$.t("Dialog"),{addClass:a.addClass||""});TVDialogs.modalDialog.find("._tv-dialog").css("width",a.width||"400px");TVDialogs.modalDialog.find("._tv-dialog-content").html('<div class="main">'+(a.html||$.t("Content"))+"</div>"+(a.noButtons?
"":'<div class="_tv-dialogs-bottom _tv-dialog-center">'+(a.noButtonOk?"":'<input class="_tv-button wide ok" type="button" value="'+$.t("OK")+'" style="margin-right: 10px;"/>')+(a.noButtonCancel?"":'<input class="_tv-button wide cancel" type="button" value="'+$.t("Cancel")+'"/>')+"</div>"));a.okButtonText&&TVDialogs.modalDialog.find(".ok").val(a.okButtonText);a.cancelButtonText&&TVDialogs.modalDialog.find(".cancel").val(a.cancelButtonText);TVDialogs.modalDialog.find(".ok").click(b);TVDialogs.modalDialog.find("form").submit(b);
TVDialogs.modalDialog.find(".cancel").click(c);TVDialogs.modalDialog.find("._tv-dialog-title-close").click(c);TVDialogs.positionDialog();TVDialogs.applyHandlers();return TVDialogs.modalDialog},createModalDialog:function(a,b){b=b||{};null!==TVDialogs.modalDialog&&TVDialogs.destroy();TVDialogs.modalDialog=$('<div class="_tv-dialog-shadowbox"><div class="_tv-dialog _tv-dialog-modal'+(b.addClass?" "+b.addClass:"")+'">'+(b.noHeader?"":'<div class="_tv-dialog-title">'+(b.noClose?"":'<a class="_tv-dialog-title-close"></a>')+
'<span class="_tv-dialog-title-text">'+a+"</span></div>")+'<div class="_tv-dialog-error"><span class="message"></span></div><div class="_tv-dialog-message"><span class="message"></span></div><div class="_tv-dialog-content"></div></div></div>').appendTo($("body")).data("title",a);TVDialogs._addMessageCloseButton(TVDialogs.modalDialog.find("._tv-dialog-error"));TVDialogs._addMessageCloseButton(TVDialogs.modalDialog.find("._tv-dialog-message"));b.noShadowBox&&TVDialogs.modalDialog.addClass("transparent");
b.addClass&&TVDialogs.modalDialog.addClass(b.addClass);b.width&&TVDialogs.modalDialog.find("._tv-dialog").css({width:b.width});b.content&&TVDialogs.modalDialog.find("._tv-dialog-content").html(b.content);var c=$(".fancybox-overlay");c.length&&(c=c.css("z-index"),$("._tv-dialog-shadowbox").css("z-index",c+1));b.draggable&&TVDialogs.modalDialog.draggable(TVDialogs._constrainDraggableOptionsIfNeeded({handle:TVDialogs.modalDialog.find("._tv-dialog-title")}));b.zIndex&&TVDialogs.modalDialog.css("z-index",
b.zIndex);return TVDialogs.modalDialog},_addMessageCloseButton:function(a){var b=svgAsset("close-cross",{class:"close",title:$.t("Close message")});a.append(b);$(b).on("click",function(){a.animate({marginTop:TVDialogs.NOTIFICATION_ANIMATION_START_OFFSET,opacity:0},"fast",function(){a.hide()})})},createDialog:function(a,b){if(TVDialogs.isOpen(a)){var c=TVDialogs.get(a);c.find("._tv-dialog-content").html("");c.data("new",!1);return c}b=b||{};c=$(Mustache.render('<div class="_tv-dialog _tv-dialog-nonmodal {{&addClass}}"><div class="_tv-dialog-title{{#hideTitle}} _tv-dialog-title-hidden{{/hideTitle}}{{#hideCloseCross}} _tv-dialog-title-no-close{{/hideCloseCross}}">{{^hideTitle}} {{&title}}{{/hideTitle}}{{^hideCloseCross}}<a class="_tv-dialog-title-close"></a>{{/hideCloseCross}}</div><div class="_tv-dialog-error"><span class="message"></span></div><div class="_tv-dialog-message"><span class="message"></span></div><div class="_tv-dialog-content"></div></div>',
{addClass:b.addClass||"",hideTitle:b.hideTitle,hideCloseCross:b.hideCloseCross,title:a})).appendTo($("body"));TVDialogs._addMessageCloseButton(c.find("._tv-dialog-error"));TVDialogs._addMessageCloseButton(c.find("._tv-dialog-message"));b.width&&c.css({width:b.width});b.content&&c.find("._tv-dialog-content").html(b.content);var d=0,d=TVDialogs.dialogs&&TVDialogs.dialogs.length?MathEx.max($.map(TVDialogs.dialogs,function(a){return parseInt((a.dialog||a).css("z-index"),10)}))+1:110;c.css("z-index",d);
c.data("new",!0);c.data("title",a);c.data("id",TVDialogs.dialogs.length+1);TVDialogs.dialogs.push({title:a,dialog:c,id:TVDialogs.dialogs.length+1});d={start:function(a,b){for(var c=b.helper.css("z-index"),d=0,k=null,m=0;m<TVDialogs.dialogs.length;m++){var l=TVDialogs.dialogs[m].dialog.css("z-index");l>d&&(d=l,k=TVDialogs.dialogs[m].dialog)}b.helper.css("z-index",d);k.css("z-index",c)}};b.dragHandle?d.handle=b.dragHandle:b.hideTitle||(d.handle="._tv-dialog-title");b.dragOptions&&$.extend(d,b.dragOptions);
c.draggable(TVDialogs._constrainDraggableOptionsIfNeeded(d));return c},positionDialog:function(a,b,c){function d(){k.css("margin-left",-Math.round(k.outerWidth()/2)+"px");k.css("margin-top",-Math.round(k.outerHeight()/2)+"px")}c=c||{};b=b||c.position;if(a){var e=a.width(),f=a.height(),g=$(window).width(),h=$(window).height();b&&b.top&&b.left?(e=c.forcePosition?b.left:Math.max(2,Math.min(g-e-4,b.left))+"px",f=c.forcePosition?b.top:Math.max(2,Math.min(h-f-4,b.top))+"px"):b&&b.considerScroll?(b=$(document),
e=Math.round((g-e)/2+b.scrollLeft())+"px",f=Math.round((h-f)/2+b.scrollTop())+"px"):(e=Math.round((g-e)/2)+"px",f=Math.round((h-f)/2)+"px");c.fadeIn?a.css({left:e,top:f}).hide().fadeIn("fast"):c.smooth?a.animate({left:e,top:f}):a.css({left:e,top:f})}else{a=TVDialogs.modalDialog;var k=a.find("._tv-dialog");d();k.resize(d)}},applyHandlers:function(a,b){var c=!a||a===this.modalDialog;b=b||{};var d=c?function(){TVDialogs.destroy()}:function(){TVDialogs.destroy(a.data("title"))};a=a||TVDialogs.modalDialog.find("._tv-dialog");
if(b.beforeDestroy)a.on("destroy",b.beforeDestroy);a.find("._tv-dialog-title ._tv-dialog-title-close").on("click",d);b.doNotCloseOnBgClick||setTimeout(function(){a.on("mousedownoutside",function(c){c=$(c.target).parents().andSelf();b.doNotCloseOnBgClickIfShadowbox&&c.is("._tv-dialog-shadowbox")||c.is(".colorpicker, .charts-popup-list, ._tv-dialog, .tvcolorpicker-popup, .symbol-edit-popup, .ui-datepicker, .clockpicker-popover, .pac-container, #global-zeroclipboard-html-bridge")||(a.unbind("mousedownoutside"),
d())})},0);a.find('input[type="checkbox"]').change(function(){var a=$(this);a.next("._tv-dialog-checkbox-mask").toggleClass("disabled",a.prop("disabled")).toggleClass("_tv-dialog-checkbox-mask-active",a.is(":checked"))});c=a.find('input[type="text"]').focus(function(){$(this).addClass("_tv-dialog-content-textactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textactive")}).first();Modernizr.touch||b.notFocusFirst||c.focus();a.find('input[type="password"]').focus(function(){$(this).addClass("_tv-dialog-content-textactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textactive")});
a.find("textarea").focus(function(){$(this).addClass("_tv-dialog-content-textareaactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textareaactive")});a.find("._tv-dialog-checkbox-mask").click(function(){var a=$(this).prev();a.prop("disabled")||(a.prop("checked",!a[0].checked),a.change())});b.doNotCloseOnEsc||$(window).bind("keyup.hideDialog",function(b){if("27"==b.keyCode)return a?TVDialogs.destroy(a.data("title")):TVDialogs.destroy(),!1})},showError:function(a,b,c){TVDialogs.showMessage(a,
b,$.extend(c||{},{isError:!0}))},showMessage:function(a,b,c){b||(b=$("._tv-dialog"));c=c||{};var d=b.find("."+(c.isError&&"_tv-dialog-error"||"_tv-dialog-message")),e=d.find(".message");c.html?e.html("string"==typeof c.html?c.html:a):e.text(a);e.css("width",b.width()).toggleClass("selectable",Boolean(c.selectable));d.toggleClass("with-close",Boolean(c.withClose)).css({marginTop:TVDialogs.NOTIFICATION_ANIMATION_START_OFFSET,opacity:"0"}).show().animate({marginTop:0,opacity:1},"fast");if(!c.withClose)d.on("touchstartoutside  mousedownoutside keydownoutside",
function g(){d.animate({marginTop:TVDialogs.NOTIFICATION_ANIMATION_START_OFFSET,opacity:0},"fast",function(){d.hide()});d.off("touchstartoutside  mousedownoutside keydownoutside",g)})},showStocktwitsDialog:function(a,b){return TVDialogs.showCustomDialog({title:$.t("Send Message to stocktwits"),html:Mustache.render('<textarea style="width: 100%" maxLength="120">{{text}}</textarea>',{text:a}),action:b})},showSessionLockDialog:function(a,b){TVDialogs.createModalDialog("You are disconnected",{noHeader:!0,
addClass:"gopro-dialog session-lock-dialog",noClose:!0});var c=TVDialogs.modalDialog;c.css({zIndex:1E3});var d=TVDialogs.modalDialog.find("._tv-dialog-content");d.html(Mustache.render(TradingView.templates.dialogs.goPro.layout,{noButton:!0}));d.find(".col-main .col-copy").html("<h2>"+$.t("Multiple Connections")+"</h2><p>"+$.t("Someone logged into your account from different device<span class='device_info'></span>")+"</p><p>"+$.t("One account can be accessed from one browser (on one device) at a time - to stay compliant with exchange regulations and prevent unauthorized access.")+
"</p><p>"+$.t('PRO members can add optional multi-device access. Click "Buy Multi-Device Access" to access your account from several devices at the same time. Click CONNECT to terminate the other session and connect here.')+"</p>");a&&(d=d.find(".device_info").append(":<br />"),"Other"!=a.device&&d.append($.t("Device"),": ",$("<b/>").text(a.device),", "),d.append($.t("IP"),": ",$("<b/>").text(a.ip),", "),d.append($.t("Browser"),": ",$("<b/>").text(a.browser)),d.append("<br />"));d=c.find(".actions-block");
$('<a class="reconnect-button">'+$.t("CONNECT")+"</a>").appendTo(d).bind("click",b);$('<a href="/gopro/" target="_blank" class="yes-button">'+$.t("BUY MULTIDEVICE ACCESS")+"</a>").appendTo(d).on("click",function(){window.user.is_pro&&"pro_realtime_trial"!=window.user.pro_plan?pro.visitExchangesPage({newWindow:!0}):TradingView.visitPaymentPage("pro","y",{newWindow:!0});return!1});TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClick:!0,doNotCloseOnEsc:!0});return c},showLanguagePopup:function(a){if(!window.matchMedia||
!window.matchMedia("(max-width: 700px)").matches){TVDialogs.createModalDialog("Language Popup",{noHeader:!0,addClass:"language-popup"});var b=TVDialogs.modalDialog.find("._tv-dialog-content");b.html(Mustache.render(TradingView.templates.dialogs.languagePopup[a],{}));b.find(".yes").click(function(b){b.preventDefault();$('<form action="/change_language/" method="post"><input type="hidden" name="language" value="'+a+'"/></form>').appendTo(document.body).submit()});b.find(".no").click(function(a){a.preventDefault();
$.post("/change_language/",{language:"en"},function(){});TVDialogs.destroy()});TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClick:!0,doNotCloseOnEsc:!0})}},showPhoneDialog:function(a){function b(b){TradingView.trackEvent("Phone verification",b+(r?" initial":""),a.source)}function c(){localStorage.removeItem("_tempPhoneNumber");localStorage.removeItem("_tempPhoneCountryCode");localStorage.removeItem("_tempPhoneRegionCode")}function d(){E.prop("disabled",!0).addClass("process");
J.prop("disabled",!0)}function e(){E.prop("disabled",!1).removeClass("process");J.prop("disabled",!1)}function f(a,b){g();H=TradingView.unifiedSpinner("mini",b).spin(a)}function g(){H&&(H.stop(),H=null)}function h(a,b){return a?Object.keys(a).sort(function(b,c){return a[b][0]>a[c][0]?1:a[b][0]<a[c][0]?-1:0}).map(function(c){return{value:c,caption:a[c][0]+" (+"+a[c][1]+")",selected:b?b==c:!0===a[c][2]}}):[]}function k(a,b){a.ctrlKey||a.metaKey||!a.charCode||!a.which||32>=a.which||b.test(String.fromCharCode(a.charCode))||
a.preventDefault()}function m(a,b){var c=a.trim();return!0!==b?c.replace(/\D+/g,""):c.replace(/(?!^)\+/,"").replace(/[^\d+]+/g,"")}function l(a){function b(){r.text("+"+a.options[n.val()][1]);u.css("paddingLeft",r.width()+10)}function c(a){var b=a.keyCode||a.which;38!=b&&40!=b||a.preventDefault()}function f(a,b){TVDialogs.showError(a);b&&b.addClass("error").focus();x.one("submit",l)}function g(a,b,c){F=a;localStorage.setItem("_tempPhoneNumber",a);M=b;localStorage.setItem("_tempPhoneCountryCode",b);
K=c;localStorage.setItem("_tempPhoneRegionCode",c);$.post("/accounts/phone-verify-send/").done(function(a){e();!a||a.error?f(a&&a.error||$.t("Unknown error occurred. Please contact support")):q(a.sid,a.exp)}).fail(function(){f($.t("Unknown error occurred. Please contact support"))})}function l(b){b.preventDefault();var c=n.val(),h=a.options[c][1];if(b=u.val().trim())if(!b||~b.indexOf("+"))f($.t("Please type in your phone number without region code"));else{b="+"+h+m(b);d();b={phone:b,phone_country_code:c};
var k=$("input[name=csrfmiddlewaretoken]").val();k&&(b.csrfmiddlewaretoken=k);$.post("/accounts/change-phone/",b).done(function(a){var b=a.errors&&a.errors.phone_country_code&&a.errors.phone_country_code[0],d=a.errors&&a.errors.phone&&a.errors.phone[0];b||d?(e(),f(b||d,d&&u||null)):g(a.phone,c,h)})}else f($.t("Please type in your phone number"))}z.html(Mustache.render(TradingView.templates.dialogs.phoneDialog.phoneForm,{options:h(a&&a.options,M)}));var n=z.find("select[name=phone_country_code]").selectbox({speed:100,
classHolder:"tv-select-container",onOpen:function(){$(window).on("keydown",c).on("keypress",w)},onClose:function(a){$(window).off("keydown",c).off("keypress",w);setTimeout(u.focus.bind(u),50)}}),r=z.find(".country-code"),u=z.find("input[name=phone]").on("keypress",function(a){k(a,/[0-9\s()\-]/)}).on("input",function(){$(this).removeClass("error")});setTimeout(u.focus.bind(u),50);var p=a&&(a.phone||F);p&&K&&(p=p.replace(new RegExp("^\\+"+K+"\\s*"),""));p&&u.val(p);var w=function(){function a(){clearTimeout(c);
c=setTimeout(function(){b=""},2E3)}var b="",c;return function(c){c=String.fromCharCode(c.charCode);b+=c;c=b.toLowerCase();if(b.length){for(var d=n.find("option").toArray(),e,f=0,g;f<d.length;++f)if(g=d[f],0===g.textContent.toLowerCase().indexOf(c)){e=d[f];break}e&&(e=$(e),c=z.find(".tv-select-container .sbOptions"),(d=c.size()&&c.find("a[rel="+e.val()+"]").parent())&&d.size()&&c.scrollTop(d.get(0).offsetTop),e.prop("selected",!0),n.trigger("change"))}a()}}();n.on("change",b);b();x.one("submit",l)}
function p(b){clearInterval(I);g();C.removeClass("loading");G.addClass("inactive");A.removeClass("code");E.val($.t("Next"));var c;if(a.verifyDelayExpires instanceof Date){var d=Math.max(0,(a.verifyDelayExpires-Date.now())/864E5);Math.floor(d)&&(c=$.t("Phone number verification was added to TradingView! Verify your number within __n__ __days__ to keep access to social features (publishing, comments, chat, etc).",{n:Math.round(d),days:$.t("day",{count:d})}))}c||(c=a.customMessage||(user.has_phone||
a.byFeature?$.t("Verify your phone number to activate the free trial and cool social features!"):$.t("Phone number verification required to complete registration.")));w.text(c);B.html($.t("Choose your country code and enter your phone number below. We\u2019ll send you a text message with a confirmation code."));L?(G.removeClass("inactive"),l($.extend({},L,b))):(f(z.get(0),{left:"5%"}),$.post("/accounts/phone-options/").done(function(a){g();G.removeClass("inactive");L=a;l(a)}))}function t(){n=!0;A.removeClass("code").addClass("success");
w.text($.t("Verification successful! Now you have access to social features, such as chatting, publishing ideas and following other users."));z.empty();E.val($.t("Close"));J.css("display","none");x.on("submit",function(a){a.preventDefault();TVDialogs.destroy()});setTimeout(E.focus.bind(E),50)}function q(a,f){function h(b){function f(a){TVDialogs.showError(a);n.addClass("error").focus();x.one("submit",h)}b.preventDefault();(b=n.val().trim())?(d(),$.post("/accounts/phone-verify-check/",{sid:a,code:b}).done(function(a){e();
a&&!a.error&&a.success?(delete user.phone_verify_info,user.has_phone=!0,user.phone_verified=!0,TradingView.profile&&TradingView.profile.updatePhoneStatus(m(F,!0)),c(),clearInterval(I),t()):f(a&&a.error||$.t("Unknown error occurred"))})):f($.t("You should provide code"))}function l(a){r.text(a+" "+$.t("second",{count:a}))}g();C.removeClass("loading");G.removeClass("inactive");A.addClass("code");user.phone_verify_info={sid:a,exp:moment().unix()+f};B.text($.t("Check your phone! We\u2019ve texted a code to __phoneNumber__. Once you receive the code, enter it below to confirm your phone number.",
{phoneNumber:F}));z.html(Mustache.render(TradingView.templates.dialogs.phoneDialog.codeForm,{}));var n=z.find("input[name=code]").on("keypress",function(a){k(a,/\w/)}).on("input",function(){$(this).removeClass("error")});E.val($.t("Verify"));z.find("input[name=code]").focus();x.one("submit",h);var r=z.find(".counter-wrap").find(".count");l(f);I=setInterval(function(){0>=--f?(x.off("submit",h),z.empty(),b("Verification code expired"),p({phone:F})):l(f)},1E3)}a||(a={});var v=$.Deferred(),n=!1;if(!0!==
a.forceAuthenticated&&("undefined"==typeof is_authenticated||!is_authenticated||"undefined"==typeof user))return v.reject();var r=TVSettings.getBool("_phone_verif_dlg_initial",!0);TVSettings.setValue("_phone_verif_dlg_initial",!1);b("Show dialog");v.done(function(){b("Verified")}).fail(function(){b("Cancelled")});var u=TVDialogs.createModalDialog("Phone dialog",{addClass:"phone-dialog"}),y=u.find("._tv-dialog-content"),D="string"==typeof a.cancelButtonText&&a.cancelButtonText||$.t("Cancel");y.html(Mustache.render(TradingView.templates.dialogs.phoneDialog.base,
{cancel_button_text:D}));y.find(".form-wrap .title").text($.t("Verify phone number"));var A=y.find(".message-wrap"),w=A.find(".message"),B=A.find(".form-message"),C=y.find(".form-wrap"),x=y.find(".phone-add-verify-form"),z=x.find(".inputs"),G=x.find(".buttons"),E=x.find("input[type=submit]"),J=x.find("input[type=button].cancel").on("click",TVDialogs.destroy),F=localStorage.getItem("_tempPhoneNumber"),M=localStorage.getItem("_tempPhoneCountryCode"),K=Number(localStorage.getItem("_tempPhoneRegionCode"))||
null,L,I;"undefined"!=typeof loginStateChange&&loginStateChange.subscribe(null,function(){"undefined"!=typeof is_authenticated&&is_authenticated||c()});var H;(function(){var a=moment().unix();user&&user.phone_verify_info&&a<user.phone_verify_info.exp?q(user.phone_verify_info.sid,user.phone_verify_info.exp-a):p()})();TVDialogs.applyHandlers(null,{doNotCloseOnBgClick:!0});TVDialogs.positionDialog();u.on("destroy",function(){g();clearInterval(I);n?v.resolve():v.reject()});return v.promise()},showInvalidFileFormatDialog:function(){TVDialogs.createModalDialog($.t("Invalid data format"),
{addClass:"invalid-file-dialog",noClose:!0});var a=TVDialogs.modalDialog;a.css({zIndex:1E3});var b=TVDialogs.modalDialog.find("._tv-dialog-content");b.html('<div class="main"><p>'+$.t('File contains incorrectly formatted data. Please correct the format and try again. Examples: "NYSE:GE,NYSE:F,NASDAQ:MSFT" or "F,GE,MSFT"')+'<div class="_tv-dialog-right"></div></div>');b=b.find("._tv-dialog-right");$('<a class="_tv-button wide ok">'+$.t("Close")+"</a>").appendTo(b).bind("click",function(){a.remove()});
TVDialogs.positionDialog();TVDialogs.applyHandlers(!1,{doNotCloseOnBgClick:!0,doNotCloseOnEsc:!0});return a},isOpen:function(a){for(var b=0;b<TVDialogs.dialogs.length;b++)if(TVDialogs.dialogs[b].title==a)return!0;return!1},get:function(a){for(var b=0;b<TVDialogs.dialogs.length;b++)if(TVDialogs.dialogs[b].title==a)return TVDialogs.dialogs[b].dialog},submit:function(a,b){var c=b?$(b):$("._tv-dialog form").first(),d=c.serialize(),c=c.attr("action");$.post(c,d,function(b){void 0!==a&&a(b)},"json")},destroy:function(a,
b){void 0!==TVDialogs.chart&&(TVDialogs.chart.destroy(),delete TVDialogs.chart);$(window).unbind("keyup.hideDialog");if(a&&"string"==typeof a)for(var c=0;c<TVDialogs.dialogs.length;c++)TVDialogs.dialogs[c].title==a&&(TVDialogs.dialogs[c].dialog.trigger("destroy",b),$(document).unbind("mouseup.hideDialog"+TVDialogs.dialogs[c].id),$("input",TVDialogs.dialogs[c].dialog).blur(),TVDialogs.dialogs[c].dialog.remove(),TVDialogs.dialogs.splice(c,1));else TVDialogs.modalDialog&&(TVDialogs.modalDialog.find("._tv-dialog").trigger("destroy"),
TVDialogs.modalDialog.remove(),TVDialogs.modalDialog=null)},changeTitle:function(a,b){a&&TVDialogs.dialogs.some(function(c){if(c.title==a){var d=c.dialog,e=d.find("._tv-dialog-title");c.title=b;d.data("title",b);e.html(e.html().replace(a,b));e.find("a").on("click",function(){TVDialogs.destroy(b)});return!0}})},calcHeight:function(a,b,c){null==c&&(c=20);a+=c;c=parseInt($("body").height(),10);a>c&&(b=Math.max(0,b-(a-c)));return b},resizeContent:function(a,b,c){null==c&&(c=20);a+=c;c=parseInt($("body").height(),
10);var d=b.height();a>c&&(d=Math.max(0,d-(a-c)),b.height(d))},resizeContentWidth:function(a,b,c){null==c&&(c=20);a+=c;c=parseInt($(window).width(),10);var d=b.width();a>c&&(d=Math.max(0,d-(a-c)),b.width(d))}};"use strict";
TVDialogs.showPublishChartDialog=function(a){function b(){l.find(".publish-related").tvtags("extractTags");var b={name:l.find('[name="name"]').val(),description:l.find('[name="description"]').val(),direction:l.find('input[name="direction"]').val(),is_public:"1"};a.onWidget||(b.auto_tags=l.find('[name="auto-tags"]').val(),b.tags=l.find(".publish-tags").tvtags("extractTags").tvtags("tagsWithPending").join(","),b.twitter=l.find('input[name="twitter"]').is(":checked")?"1":"",b.stocktwits=l.find('input[name="stocktwits"]').is(":checked")?
"1":"",b.is_public=l.find('input[name="public"]').is(":checked")?"1":"",b.related_charts=(l.find(".publish-related").tvtags("extractTags").tvtags("tagsWithPending")||[]).join(","));a.publishSource&&(b.publish_source=a.publishSource);var c=l.find('[name="publish_entire_layout"]').is(":checked");if(a.chartWidgetCollection)var d=a.chartWidgetCollection.maximizeCurrentChart.value(),c="s"===a.chartWidgetCollection.layout.value()||c&&!d;c={onWidget:a.onWidget,ideaUrl:a.ideaUrl,savePrivacySetting:!a.doNotSavePrivacySetting,
publishAllLayout:c};if(b.name.trim())if(b.description.trim())if("en"!=window.language||TradingView.isLatin(b.name)&&TradingView.isLatin(b.description))if("en"!=window.language||TradingView.isLatin(b.tags)){if(b.is_public&&a.chartWidgetCollection&&(d=new TradingView.Interval(TradingView.Linking.interval.value()),d.kind()===TradingView.Interval.MINUTES&&15>d.multiplier()||d.kind()===TradingView.Interval.SECONDS)){TVDialogs.showError($.t("You are trying to publish an idea with a timeframe less than 15 minutes. This timeframe is too short term and most people will not be able to adequately react to your idea before it loses its point. Please publish these ideas to chat, where people will be able to react in a timely manner. You can publish a snapshot or publish a private idea and send the link to chat. Now ideas published to chat can get likes that contribute to your rating!"));
return}if(a.onPublish)a.onPublish(b,c)}else TVDialogs.showError($.t("Please use only English in tags"));else TVDialogs.showError(n);else TVDialogs.showError($.t("Chart description is required"),l),l.find('[name="description"]').focus();else TVDialogs.showError($.t("Chart title is required"),l),l.find('[name="name"]').focus()}function c(){f?TVDialogs.destroy(m):TVDialogs.showConfirm($.t("Cancel publication"),$.t("Are you sure you want to abandon your post?"),function(){TVDialogs.destroy(m)})}function d(){g&&
(l.find('[name="name"]').blur(),l.find(".tvtags-input").first().focus());l.show();var b=a.onWidget?{w:D,h:A}:TVSettings.getJSON("publishchart.size",{w:D,h:A});l.height(Math.max(Math.min(b.h,.9*$(window).height()),A));l.width(Math.max(Math.min(b.w,.9*$(window).width()),D));v();TVDialogs.positionDialog(l,{considerScroll:!a.onWidget});if(a.onShow)a.onShow()}function e(){l.hide();if(a.onMinimize)a.onMinimize()}a=a||{};var f=a.editMode,g=f&&a.strictEditMode,h=!!a.isScript,k=!f&&!h,m=f?"edit_idea_dialog":
"publish_idea_dialog",l=TVDialogs.createDialog(m,{addClass:"publish-dialog",hideCloseCross:k,hideTitle:!0});f&&TVDialogs.ideaDialogs.add(m);l.css("width","700px");var p=l.find("._tv-dialog-content"),t=a.onWidget?TradingView.templates.dialogs.publishChartWidget:TradingView.templates.dialogs.publishChart,q=TradingView.clone(window.user||{});q.editMode=f;q.strictEditMode=g;q.isScript=h;p.html(Mustache.render(t,q));h=l.find("._tv-dialog-title");TVDialogs.ideaDialogs.getDraggableEmptyTitle().prependTo(h);
if(k)$('<a class="_tv-dialog-title-minimize"></a>').appendTo(h).on("click",function(a){a.preventDefault();e()});l.draggable(TVDialogs._constrainDraggableOptionsIfNeeded({handle:h}));var v=function(){var a=p.find(".jsfluid"),b=p.children(".main, *[class^=main-]").eq(0);return function(){a.css("height",l.height()-b.position().top-b.outerHeight()+a.height())}}();l.on("resize",function(a){a.stopPropagation();a.preventDefault();v()});var n=$.t("TradingView is only for English-language content at this time."),
k=a.formData||{};k.name&&l.find('[name="name"]').val(k.name);k.description&&l.find('[name="description"]').val(k.description);k.direction&&l.find('input[name="direction"]').val(k.direction);k.related_charts&&($.isArray(k.related_charts)&&(k.related_charts=k.related_charts.join(",")),l.find(".publish-related").val(k.related_charts));if(k.tags||k.autoTags)l.find(".publish-tags").val($.grep([k.tags,k.autoTags],function(a){return a}).join(",")),k.autoTags&&l.find('[name="auto-tags"]').val(k.autoTags);
$("#publish-chart-form").submit(function(a){a.preventDefault();b()});$("#publish-dialog-do-publish").click(function(a){a.preventDefault();b()});l.find('input[name="public"]').on("change",function(a){$(this).is(":checked")||(r.prop("checked",!1).change(),u.prop("checked",!1).change())});var r=l.find('input[name="twitter"]'),u=l.find('input[name="stocktwits"]');r.change(function(){r.is(":checked")&&(user.has_twitter||window.open("/accounts/permission/twitter/","twitter_permission_request","scrollbars=yes,height=400,width=700").focus())});
u.change(function(){u.is(":checked")&&TradingView.authInStocktwits()});p.find(".publish-direction-buttons ._tv-button").on("mousedown",function(){var a=$(this);$(".publish-direction-buttons ._tv-button").removeClass("active");a.addClass("active");l.find('input[name="direction"]').val(a.data("val"))}).each(function(){$(this).toggleClass("active",+$(this).data("val")===(+l.find('input[name="direction"]').val()||0))});l.find("._tv-dialog-readbefore a").on("click",function(a){a.preventDefault();TVDialogs.showPublishIntroDialog(!0)});
(a.isPrivate||TVSettings.getBool("publishchart.private",!1))&&l.find('input[name="public"]').prop("checked",!1).change();(function(){function b(a){a=new Date(a);return[a.getFullYear(),("0"+a.getMonth()).substr(-2),("0"+a.getDate()).substr(-2)].join("-")}function c(a){return TradingView.parsePublishedChartUrl(a).image_url}var d={},e=l.find(".publish-related");a.related&&e.val([].concat(a.related).join(","));e.tvtags("init",{suggest:function(a,b){var e=location.protocol+"//"+location.host+"/v/";a.substr(0,
e.length)===e&&(a=c(a)||a);$.ajax("/ideas-json/",{data:{search:a},dataType:"json"}).done(function(a){a=a||[];a.forEach(function(a){d[a.image_url]=a;a.str=e+a.image_url+"/"});b(a)}).error(function(){b(null)})},formatSuggest:function(a){var c=$(document.createElement("span")).addClass("date").text(b(1E3*a.created)+" "),d=$(document.createElement("strong")).text(a.name);a=$(document.createTextNode(" "+[a.short_name||a.pro_symbol,a.resolution].join(", ")));return{content:$().add(c).add(d).add(a)}},validate:function(a,
b){var e=c(a);e?d[e]?b(!0):$.ajax("/ideas-json/"+e+"/",{dataType:"json"}).done(function(a){a&&a.length?(d[a[0].image_url]=a[0],b(!0)):b(!1)}).error(function(){b(!1)}):b(!1)},transform:c,format:function(a){a=a.str;var b=d[a];return b&&a?b.name:"Idea"},keys:["\n",",",/\s/,";"],separator:","}).on("change",v)})();l.find(".publish-tags").tvtags("init",{keys:["\n",",",/\s/,";"],separator:",",addClass:"no-arrow with-ears",format:function(a){return{str:a.str,addClass:"tag"}},transform:function(a){return a.toLowerCase()},
suggest:function(a,b){a||b(null);$.ajax("/tags-json/",{data:{search:a.toLowerCase()},dataType:"json"}).done(function(a){b(a)}).error(function(){b(null)})},maxLength:64,caseInsensitive:!0}).on("change",v);var y=[];a.chartWidgetCollection&&function(){function b(){var a=f.value().model();return a?(a=a.mainSeries(),(a.properties().shortName.value()||a.symbol())+" ("+a.interval()+")"):"Active Chart"}function c(){d.toggleClass("hidden",!("s"!==e.value()&&!g.value()));n.is(":checked")?(r.text("All Charts"),
k.attr({class:"_tv-dialog-layout-button _tv-dialog-layout-"+e.value()})):(r.text(b()),k.attr({class:"_tv-dialog-layout-button _tv-dialog-layout-s"}))}var d=p.find("._tv-dialog-layoutpicker"),e=a.chartWidgetCollection.layout.spawn(),f=a.chartWidgetCollection.activeChartWidget.spawn(),g=a.chartWidgetCollection.maximizeCurrentChart.spawn(),h=TradingView.Linking.symbol.spawn();y=[e,f,g,h];a.activeChartTitle||$.t("Active Chart");var k=$('<span class="_tv-dialog-layout-button">'),n=$('<input type="checkbox" name="publish_entire_layout" checked>').hide().appendTo(k);
$('<i class="icon"></i>').appendTo(k);var r=$("<span></span>").appendTo(k);$('<span class="arrow-icon"></span>').appendTo(k);e.subscribe(c);f.subscribe(c);g.subscribe(c);h.subscribe(c);c();TradingView.bindPopupMenu(k,function(){var a=n.is(":checked");return[{addClass:"_tv-dialog-layout-popup _tv-dialog-layout-s",title:$.t("Publish Only")+" "+b(),action:function(){n.attr("checked",!1);c()},active:!a,icon:!0},{addClass:"_tv-dialog-layout-popup _tv-dialog-layout-"+e.value(),title:$.t("Publish All Charts"),
action:function(){n.attr("checked",!0);c()},active:a,icon:!0}]},{direction:"up"});k.appendTo(d);l.on("destroy",function(){for(var a=0;a<y.length;a++)y[a].destroy()})}();l.find("._tv-dialog-cancel-button").on("click",function(a){a.preventDefault();c()});a.onWidget||g||new TradingView.BBCodes({codes:"bold italic list link embed symbol".split(" "),$textarea:l.find('[name="description"]'),$buttons:l.find(".bbcode-buttons"),$forms:l.find(".bbcode-block"),showError:function(a){TVDialogs.showError(a,l)}});
if(a.onDestroy)l.on("destroy",a.onDestroy);var D=l.width(),A=l.height();l.resizable({handles:"se",minHeight:A,minWidth:D,stop:function(){TVSettings.setJSON("publishchart.size",{w:l.width(),h:l.height()})}});TVDialogs.applyHandlers(l,{doNotCloseOnBgClickIfShadowbox:!0,doNotCloseOnEsc:!0,doNotCloseOnBgClick:!0,beforeDestroy:function(){f&&TVDialogs.ideaDialogs.remove(m);a.beforeDestroy&&a.beforeDestroy()}});f||($(window).bind("keyup.hidePublishDialog",function(a){"27"==a.keyCode&&1==TVDialogs.dialogs.length&&
l.is(":visible")&&c()}),l.on("destroy",function(){$(window).unbind("keyup.hidePublishDialog")}));d();return{dialog:l,show:d,hide:e,close:function(){TVDialogs.destroy(m)}}};"use strict";function ChartSaver(a){this._chartWidgetCollection=a}
ChartSaver.prototype.whenReadyToSave=function(a){var b=this._chartWidgetCollection.activeChartWidget.value().model().mainSeries();if(b.symbolInfo()&&!b.hasDelayedSymbolIntervalChange())a();else{var c=null,d=null,c=function(){b.onSymbolError().unsubscribe(null,d,!0);a()},d=function(){b.onSymbolResolved().unsubscribe(null,c,!0)};b.onSymbolResolved().subscribe(null,c,!0);b.onSymbolError().subscribe(null,d,!0)}};ChartSaver.prototype.saveToJSON=function(){return this._fillSavingInfo(!1,!0)};
ChartSaver.prototype._fillAsyncInfo=function(a,b,c){function d(b){a.content=JSON.stringify($.extend(!0,e,b));g.resolve(a)}var e=JSON.parse(a.content),f=this._chartWidgetCollection;b||(c=!0);var g=$.Deferred();c?f.asyncState(!!b).then(d):f.activeChartWidget.value().asyncState(!!b).then(d);return g.promise()};
ChartSaver.prototype._fillSavingInfo=function(a,b,c){a||(b=!0);var d={publish_request_id:Math.random().toString(36).substring(2)},e=this._chartWidgetCollection,f=e.activeChartWidget.value(),g=e.metaInfo,h=f.model().mainSeries(),k=h.properties(),m=h.symbolInfo();if(!h||!g||!m)throw new ReferenceError("Missed required data");g.id.value()&&(d.id=g.id.value());d.name=g.name.value()||"";d.description=g.description.value()||"";d.resolution=h.properties().interval.value();d.symbol_type=m.type||"";d.exchange=
m.exchange||"";d.listed_exchange=m.listed_exchange||"";h.isSpread()?(k=m.legs[0],g=m.base_name[0],g=g.split(":")[1],d.symbol=k,d.short_name=this.verifiedShortName(k,g,f),d.expression=m.full_name):(g=m.ticker||k.symbol.value(),k=k.shortName.value(),d.symbol=g,d.short_name=this.verifiedShortName(g,k,f));k=[];g=0;for(h=m.legs.length;g<h;g++)k.push({symbol:m.legs[g],pro_symbol:m.base_name[g]});d.legs=JSON.stringify(k);d.content=b?JSON.stringify(e.state(!!a,c)):JSON.stringify(f.state(!!a,c));a&&(d.image=
JSON.stringify(e.images({onlyActiveChart:!b})));d.is_realtime=a?"0":"1";return d};
ChartSaver.prototype.publishChart=function(a){function b(a){if(window.footerWidget)window.footerWidget.onPublishDialogVisibility(a);else a?$(".publish-chart-button").addClass("inprogress"):$(".publish-chart-button").removeClass("inprogress")}function c(a,b){d.onPublish(a,$.extend({},b,{closeForm:function(){d._dialogCtl.close()},showError:function(a,b){TVDialogs.showError(a,d._dialogCtl.dialog,b)}}))}var d=this;TradingView.trackEvent("GUI","Publish Chart");d._dialogCtl?d._dialogCtl.show():d._dialogCtl=
TVDialogs.showPublishChartDialog($.extend({chartWidgetCollection:this._chartWidgetCollection,onPublish:c,onMinimize:function(){b(!0)},onDestroy:function(){delete d._dialogCtl;b()},related:d._lastPublishUrl,formData:{}},a));$.get("/ban-status/",{user_id:user.id,check_ip:!0,ban_type:"ideas",get_message:!0},function(a){a.error||(d._dialogCtl.close(),TVDialogs.showNotice($.t("Error"),{html:a.banned_message}))})};
ChartSaver.prototype.onPublish=function(a,b){function c(c){d.publishInProgress=!1;var e=c.responseText;if("ok:"===e.substr(0,3))b.savePrivacySetting&&TVSettings.setValue("publishchart.private",!a.is_public),c=e.substr(3),c=JSON.parse(c),d._chartWidgetCollection.metaInfo.id.value()||d._chartWidgetCollection.metaInfo.id.setValue(c.id),b.closeForm&&b.closeForm(),d._lastPublishUrl=c.publishUrl,d.hWnd&&(e=c.publishUrl,b.ideaUrl&&(e=Mustache.render(b.ideaUrl,{idea:c.idea})),d.hWnd.location=e);else{if(b.showError){var e=
TradingView.strip_tags(e),h;if(413==c.status||/^[\d\s]*request.+large/i.test(e.trim()))e=$.t("This chart layout has a lot of objects and can't be published! Please report to {0} for further&nbsp;details.").format('<a href="mailto:support@tradingview.com">support@tradingview.com</a>'),h={html:!0};b.showError(e||$.t("Error occured while publishing"),h)}d.hWnd&&(d.hWnd.close(),d.hWnd=null)}}var d=this;if(!d.publishInProgress){var e=d._fillSavingInfo(!0,b&&b.publishAllLayout,!0);d._fillAsyncInfo(e,!0,
b&&b.publishAllLayout).then(function(b){$.ajax({url:"/publishchart/",type:"post",dataType:"text",data:$.extend({},b,a),complete:c})});d.publishInProgress=!0;(!b.onWidget||b.ideaUrl)&&""!==a.name&&""!==a.description&&4E3>=a.description.length&&64>=a.name.length&&($.cookie("publish_request_id",e.publish_request_id,{path:"/"}),e="/loading/",b.ideaUrl&&(e="/loading?"+TradingView.createUrlParams({ideaUrl:b.ideaUrl})),d.hWnd=window.open(e,"_blank"))}};
ChartSaver.prototype.verifiedShortName=function(a,b,c){b=b||"";c=c.model().mainSeries();var d;if(d=!c.isSpread()){var e=b,f=/^[1-9]\//;d=a.replace(f,"");e=e.replace(f,"");d=-1==d.indexOf(e)}d&&!Featuresets.enabled("short_name_may_differ_from_fullname")&&(b=a.substr(a.indexOf(":")+1),c.properties().shortName.setValue(b),TradingView.trackEvent("Chart","short_name differs from full_name"),console.error("short_name differs from full_name"));return b};
ChartSaver.prototype.saveChartSilently=function(a,b,c,d){var e=this._chartWidgetCollection.metaInfo;b=this._fillSavingInfo(b);d=d||{};d.chartName&&(b.name=d.chartName);$(window).on("beforeunload.savechart",function(){return $.t("Your chart is being saved, please wait a moment before you leave this page.")});TradingView.saveChart(b,e,a,c,d);$(window).off("beforeunload.savechart")};
TradingView.takeSnapshot=function(a,b,c,d){d=d||{};var e={wl:d.wl,images:JSON.stringify(a.images()),previews:d.previews};if(d.cme||"cme"===a.activeChartWidget.value().widgetCustomer())e.cme=!0;e.timezone=a.activeChartWidget.value()._properties.timezone.value();a=Featuresets.enabled("charting_library_base")?d.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/";$.post(a,e,function(a){a?b(a):c()}).fail(function(){c()})};"use strict";
TradingView.Tabs=function(a,b,c){this._$tabs=a;this._$pages=b;this.options=$.extend({},this._DEFAULT_OPTIONS,c||{});this.tabChanged=new Delegate;this.initActivePage();this.initHandlers()};TradingView.Tabs.prototype._DEFAULT_OPTIONS={saveTab:!1};TradingView.Tabs.prototype.initActivePage=function(){var a=0;this.options.saveTab&&(a=TVSettings.getInt(this.options.saveTab,0));a=this.options.activeTab||a;this.setActivePage(a)};
TradingView.Tabs.prototype.setActivePage=function(a){this._$tabs.children().removeClass("active").eq(a).addClass("active");this._$pages.children().removeClass("active").eq(a).addClass("active");this.options.saveTab&&TVSettings.setValue(this.options.saveTab,a);this.tabChanged.fire(a)};TradingView.Tabs.prototype.initHandlers=function(){this._$tabs.on("click","*",this._onTabClick.bind(this))};TradingView.Tabs.prototype._onTabClick=function(a){a.preventDefault();a=$(a.currentTarget).index();this.setActivePage(a)};
TradingView.Tabs.prototype.addPage=function(a,b){var c=this.count();this._$tabs.append(a);this._$pages.append(b);c||this.setActivePage(0);return c};TradingView.Tabs.prototype.removePage=function(a){this._$tabs.children().eq(a).remove();this._$pages.children().eq(a).remove();a=this._$tabs.children().filter(".active").length?this._$tabs.children().filter(".active").index():0<=a-1?a-1:0;this.setActivePage(a)};TradingView.Tabs.prototype.count=function(){return this._$tabs.children().length};
TradingView.Tabs.prototype.index=function(){return this._$tabs.children().filter(".active:eq(0)").index()};TradingView.Tabs.prototype.indexOfPage=function(a){return this._$pages.children().index(a)};TradingView.Tabs.prototype.pageAt=function(a){return this._$pages.children().eq(a)};"use strict";
TradingView.Sound={_sounds:{},alertSounds:function(){return $.grep(this.availableSounds(),function(a){return!!a.soundForAlerts})},defaults:function(){return{sound:"notification/notification",alert:"alert/fired"}},soundIsAvailable:function(a){return!!$.grep(this.availableSounds(),function(b){return b.path===a}).length},availableSounds:function(){return[{path:this.defaults().sound,title:$.t("Default")},{title:$.t("Chat Message"),path:"chat/message"},{title:$.t("Chat Popup"),path:"chat/popup"},{title:$.t("Chat Call"),
path:"chat/call"},{title:$.t("Chat Calling"),path:"chat/calling"},{title:$.t("Chat Hangup"),path:"chat/hangup"},{title:$.t("Thin"),path:"alert/fired",soundForAlerts:!0},{title:$.t("3 Notes Reverb"),path:"alert/3_notes_reverb",soundForAlerts:!0},{title:$.t("Alarm Clock"),path:"alert/alarm_clock",soundForAlerts:!0},{title:$.t("Beep-beep"),path:"alert/beep_beep",soundForAlerts:!0},{title:$.t("Calling"),path:"alert/calling",soundForAlerts:!0},{title:$.t("Chirpy"),path:"alert/chirpy",soundForAlerts:!0},
{title:$.t("Fault"),path:"alert/fault",soundForAlerts:!0},{title:$.t("Hand Bell"),path:"alert/hand_bell",soundForAlerts:!0}]},_get:function(a){a in this._sounds||(this._sounds[a]={el:$(("<audio><source src="+TradingView.wrapUrl('"/static/sounds/%s.mp3"')+' type="audio/mp3"><source src='+TradingView.wrapUrl('"/static/sounds/%s.ogg"')+' type="audio/ogg"></audio>').replace(/%s/g,a)).get(0),playing:new WatchedValue(!1),_onended:null});return this._sounds[a]},load:function(){$.map(this.availableSounds(),
function(a){return a.path}).forEach(function(a){this._get(a)},this)},play:function(a,b,c){b&&c&&(console.warn("Can't use 'loop' and 'duration' params at the same time, choosing 'loop'"),c=null);a=this._get(a||this.defaults().sound);c*=1E3;var d=0<c?!0:!1;a._onended=function(){d?a.el.play():(a.playing.setValue(!1),a.el.removeEventListener("ended",a._onended),a._onended=null)};a.el.load();a.playing.setValue(!0);b?a.el.loop=!0:a.el.addEventListener("ended",a._onended);a.el.play();setTimeout(function(){d=
!1},c)},stop:function(a){function b(a){a=c._get(a);a.el.pause();a.playing.setValue(!1);a.el.removeEventListener("ended",a._onended);a._onended=null}var c=this;a?b(a):$.each(Object.keys(this._sounds),function(a,c){b(c)})},onStopped:function(a,b){"function"===typeof b&&this._get(a).playing.subscribe(function(a){a||b()},{once:!0})},isPlaying:function(a){return this._get(a).playing.value()}};"use strict";
TradingView.postMessageWrapper=function(){var a={},b={},c={},d,e=0,f=0;window.addEventListener&&window.addEventListener("message",function(c){var e;try{e=JSON.parse(c.data),Featuresets.enabled("charting_library_debug_mode")&&console.log("PostMessage: incoming message: "+JSON.stringify(e))}catch(f){return}e.provider&&"TradingView"==e.provider&&("get"==e.type?b[e.name]&&b[e.name].forEach(function(a){"function"===typeof a&&a.call(e,e.data,function(a){d.postMessage(JSON.stringify({id:e.id,type:"on",name:e.name,
client_id:e.client_id,data:a,provider:"TradingView"}),"*")})}):"on"==e.type?a[e.client_id]&&a[e.client_id][e.id]&&(a[e.client_id][e.id].call(e,e.data),delete a[e.client_id][e.id]):"post"==e.type&&b[e.name]&&b[e.name].forEach(function(a){"function"===typeof a&&a.call(e,e.data,function(){})}))});return function(g,h){a[h]={};d=c[h]=g;var k="";return{on:function(a,c,d){b[a]&&d||(b[a]=[]);b[a].push(c)},get:function(b,d,f){b={id:e++,type:"get",name:b,client_id:h,data:d,provider:"TradingView"};a[h][b.id]=
f;c[h].postMessage(JSON.stringify(b),"*")},post:function(a,b,c){b={id:f++,type:"post",name:b,client_id:k,data:c,provider:"TradingView"};a&&"function"===typeof a.postMessage&&a.postMessage(JSON.stringify(b),"*")},setClientId:function(a){k=a}}}}();"use strict";TradingView.FeatureToggle={force_prefix:"forcefeaturetoggle.",enableFeature:function(a){TVLocalStorage.setItem(this.force_prefix+a,"true")},disableFeature:function(a){TVLocalStorage.removeItem(this.force_prefix+a)}};
TradingView.isFeatureEnabled=function(a){function b(b){TVLocalStorage.setItem("featuretoggle."+b,Math.random()<=a[b]);return TVLocalStorage.getItem("featuretoggle."+b)}if(TradingView.pushStreamMultiplexer)TradingView.pushStreamMultiplexer.on("featuretoggle",function(c){a[c.name]=c.state;b(c.name)});return function(c){var d;if(d="local"===window.environment)d=-1===["alerts-maintenance","backtesting","phone_verification"].indexOf(c);if(d)return!0;if(a[c]&&-1===a[c])return!1;if("true"===TVLocalStorage.getItem(TradingView.FeatureToggle.force_prefix+
c)||window.is_authenticated&&"undefined"!=typeof user&&user&&user.settings&&user.settings[TradingView.FeatureToggle.force_prefix+c])return!0;if(!a[c])return!1;if(1===a[c])return!0;d=TVLocalStorage.getItem("featuretoggle."+c);return void 0===d||null===d?b(c):"true"===d}}(window.featureToggleState||{});"use strict";
TradingView.QuoteTicker=function(a,b,c){this._symbol=a;this.enabled=!0;this._$last=this.findElement(b,"last",".symbol-last");this._$change=this.findElement(b,"change",".symbol-change");this._$changePercent=this.findElement(b,"changePercent",".symbol-change-pt");this._$changeDirection=this.findElement(b,"changeDirection",".symbol-change-direction");this._$description=this.findElement(b,"description",".symbol-description-name");this._$shortName=this.findElement(b,"short_name",".symbol-short-name");
this._$industry=this.findElement(b,"industry",".symbol-industry");this._$sector=this.findElement(b,"sector",".symbol-sector");this._$root=b instanceof $?b:$();this._lastPrice=null;this.options=$.extend({},this.optionsDefaults,c||{});setTimeout(this.connect.bind(this),0)};
TradingView.QuoteTicker.prototype.optionsDefaults={setStateHook:null,noSuchSymbolHook:null,downgradeHook:null,symbolResolvedHook:null,clientName:"quote-ticker",dontDyePrice:!1,changePercentInBrackets:!1,fallingBg:null,growingBg:null,changeUpFontColor:null,changeDownFontColor:null};TradingView.QuoteTicker.prototype.findElement=function(a,b,c){var d=$();a instanceof $?(a=a.find(c),a.length&&(d=a.eq(0))):a&&a[b]&&(d=a[b]);return d};TradingView.QuoteTicker.prototype.quoteSession=null;
TradingView.QuoteTicker.assignQuoteSession=function(a){this.prototype.quoteSession||(this.prototype.quoteSession=a)};TradingView.QuoteTicker.prototype.connect=function(){this.quoteSession.subscribe(this.options.clientName,this._symbol,this.onData.bind(this))};TradingView.QuoteTicker.prototype.onData=function(a){if(this.enabled)switch(a.status){case "ok":this.successData(a);break;case "permission_denied":this.downgradeData(a);break;case "error":this.errorData(a)}};
TradingView.QuoteTicker.prototype.successData=function(a){switch(a.values.symbol_status){case "resolved":this.options.symbolResolvedHook&&this.options.symbolResolvedHook.call(this,a);break;case "realtime":case "realtime_data":case "realtime_fundamental":a.values.last_price&&this.setState(a.values,a)}};TradingView.QuoteTicker.prototype.errorData=function(a){this.options.noSuchSymbolHook?this.options.noSuchSymbolHook.call(this,a):console.warn("No data for QuoteTicker: ",this._symbol)};
TradingView.QuoteTicker.prototype.downgradeData=function(a){var b=a&&a.values&&a.values.alternative;b?(this._symbol=b,this.connect(),this.options.downgradeHook&&this.options.downgradeHook.call(this,a)):this.errorData(a)};
TradingView.QuoteTicker.prototype.setState=function(a,b){var c=new TradingView.PriceFormatter(a.pricescale||100,a.minmov||1,a.fractional,a.minmove2),d=new TradingView.PercentageFormatter;null!=a.last_price&&this._$last.text(c.format(a.last_price));null!=a.change&&this._$change.text(c.format(a.change,this.options.signPositive));null!=a.change_percent&&(c=d.format(a.change_percent,this.options.signPositive),this.options.changePercentInBrackets&&(c="("+c+")"),this._$changePercent.text(c));this.options.dontDyePrice||
(c={up:this.options.changeUpFontColor,down:this.options.changeDownFontColor},this._$change.css("color",TradingView.PriceColorer.formatSign(a.change,c)),this._$changePercent.css("color",TradingView.PriceColorer.formatSign(a.change,c)));this._$changeDirection.removeClass("up").removeClass("down").addClass(0<a.change?"up":"down");c="#"+a.short_name+"-symbol-description";d=$.t(c);c=d==c?a.description:d;this._$description.text(c).attr("title",c);"QUANDL"==a.exchange&&void 0!==a.short_name.split("/")[1]&&
(a.short_name=a.short_name.split("/")[1]+", "+a.short_name.split("/")[0]);this._$shortName.text(a.short_name);this._lastPrice?this.highlightChange(a):null===this._lastPrice&&this._$root.addClass("quote-ticker-inited");this._lastPrice=a.last_price;a.industry&&this._$industry.length&&this._$industry.text(a.industry+": ");a.sector&&this._$sector.length&&this._$sector.text(a.sector);this.options.setStateHook&&this.options.setStateHook.call(this,a,b)};
TradingView.QuoteTicker.prototype.highlightChange=function(a){function b(){f||g?e.css("background",""):f&&g||e.removeClass("falling growing")}var c=this._lastPrice,d=a.last_price-c,e=this._$last,f=this.options.fallingBg,g=this.options.growingBg;a.last_price!==c&&(b(),setTimeout(b,750),0<d?g?e.css("background",g):e.addClass("growing"):0>d&&(f?e.css("background",f):e.addClass("falling")))};TradingView.QuoteTicker.prototype.disable=function(){this.enabled=!1};
TradingView.QuoteTicker.prototype.enable=function(){this.enabled=!0};"use strict";var CMEToTVSymbologyAdapter=function(){var a={},b={XCBT:"CBOT",XNYM:"NYMEX",XCME:"CME",XCEC:"COMEX"};a.convertSymbolDataToTV=function(a,d,e){return d&&b[d]?{status:"ok",data:{symbol:a,exchange:b[d]+"_"+(2==e||"floor"==e||"pit"==e?"PIT":"GBX")}}:{status:"error",data:"Exchange `"+d+"` is not supported"}};return a}();"use strict";
TradingView.Linking=function(){function a(a,m){function t(q){function n(b){if(Featuresets.enabled("same_data_requery")||C.value()!==b)m?m.setSymbol(b):a.setSymbol(b)}function r(){b.setValue(C.value())}function u(a){d.setValue(a.pro_name||window.tradingController&&(a.full_name||a.name))}function y(){c.setValue(B.shortName.value());var a=w.symbolInfo();a?(u(a),a.hasOwnProperty("supported_resolutions")?g.setValue(a.supported_resolutions):g.setValue(void 0),f.setValue(!!a.has_intraday)):f.deleteValue()}
function D(b){if(Featuresets.enabled("same_data_requery")||x.value()!==b)m?m.setResolution(b):a.setResolution(b)}function A(){e.setValue(x.value())}a.modelCreated().unsubscribe(null,t);var w=a.model().mainSeries(),B=w.properties(),C=B.symbol;C.subscribe(null,r);b.setValue(C.value());b.subscribe(n);w.onSymbolResolved().subscribe(null,u);b.hook=function(a){w.symbolSameAsCurrent(a)&&(a=w.actualSymbol());return a};w.onSymbolResolved().subscribe(null,y);w.onSymbolError().subscribe(null,y);y();var x=B.interval;
x.subscribe(null,A);e.setValue(x.value());e.subscribe(D);a.readOnly()&&(b.writeLock=!0);h=function(){C.unsubscribe(null,r);b.unsubscribe(n);w.onSymbolResolved().unsubscribe(null,y);w.onSymbolError().unsubscribe(null,y);x.unsubscribe(null,A);e.unsubscribe(D);delete b.hook;delete b.writeLock;h=function(){};k=function(){}}}h();k=function(){return a};var q=a.model();q?t(q):(a.modelCreated().subscribe(null,t),h=function(){a.modelCreated().unsubscribe(null,t);h=function(){};k=function(){}},q=a.properties().mainSeriesProperties,
b.setValue(q.symbol.value()),e.setValue(q.interval.value()))}var b=new WatchedValue,c=new WatchedValue,d=new WatchedValue,e=new WatchedValue,f=new WatchedValue,g=new WatchedValue,h=function(){},k=function(){},m=function(){};return{symbol:b,proSymbol:d,seriesShortSymbol:c.readonly(),interval:e,intraday:f.readonly(),supportedResolutions:g.readonly(),bindToChartWidget:a,unbindFromChartWidget:function(){h()},getChartWidget:function(){return k()},bindToSearchCharts:function(a){function c(a){e=!0;b.setValue(a.resolved_symbol);
e=!1}function d(b){e||a.search(b)}m();var e=!1;a.onSearchBySymbol.subscribe(null,c);b.subscribe(d);m=function(){a.onSearchBySymbol.unsubscribe(null,c);b.unsubscribe(d);m=function(){}}},unbindFromSearchCharts:function(){m()},bindToChartWidgetCollection:function(b){h();b.activeChartWidget.subscribe(function(c){h();a(c,b)},{callWithLast:!0})}}}();
function linkingSetSymbol(a){a&&"string"===typeof a&&($(".header-chart-panel .symbol-edit-wrap input").val(TradingView.SymbolParser.shortName(a)),TradingView.Linking.symbol.setValue(a))}"use strict";
TVDialogs.updateIdeaDialog=function(a,b){function c(){if(!e){var c=k.val(),g=h.find(".update-description textarea").val().trim(),m=d.filter(function(a){return a.id==c})[0];if("comment"==m.type&&1>g.length)TVDialogs.showError($.t('Please fill the "Description" field and then click "Update idea".'),f);else if("en"!=window.language||TradingView.isLatin(g)){g={chart_id:a,type:m.type,value:m.value,description:g};if(b.onSubmit)b.onSubmit();e=!0;$.post("/idea-update/",g,function(a){a.error?TVDialogs.showError(a.error,
f):(b.callback&&b.callback(a.update_html),TVDialogs.destroy("update-idea-status"))}).always(function(){e=!1;b.postSubmit&&b.postSubmit()})}else TVDialogs.showError($.t("Only English language is allowed. You can change language settings and try again."),f)}}var d=[{type:"comment",name:$.t("Comment"),id:"comment"},{type:"close_position",name:$.t("Trade closed: target reached"),value:"target_reached",id:"target"},{type:"close_position",name:$.t("Trade closed: stop reached"),value:"stop_reached",id:"stop"},
{type:"trading",name:$.t("Trade closed manually"),value:"closed_manually",id:"trading_closed"},{type:"trading",name:$.t("Trade active"),value:"active",id:"trading_active"},{type:"trading",name:$.t("Order cancelled"),value:"cancelled",id:"trading_cancelled"}],e=!1;b=b||{};var f=TVDialogs.createDialog("update-idea-status",{addClass:"update-idea-dialog",hideTitle:!0});f.css({width:"600px"});TVDialogs.ideaDialogs.add("update-idea-status");var g=f.find("._tv-dialog-title");TVDialogs.ideaDialogs.getDraggableEmptyTitle().prependTo(g);
f.draggable(TVDialogs._constrainDraggableOptionsIfNeeded({handle:g}));var h=f.find("._tv-dialog-content");h.html(Mustache.render('<div class="main"><form><div class="caption"><span>'+$.t("Select update type")+'</span></div><select class="js-update-selection">{{#updates}}<option value="{{id}}">{{name}}</option>{{/updates}}</select><div class="caption"><span>'+$.t("Description")+'</span></div><div class="update-description"><textarea rows="7" name="description" placeholder="'+$.t("Describe your update...")+
'"></textarea></div><div class="buttons"><input class="_tv-button cancel" type="button" value="'+$.t("Cancel")+'"/><input class="_tv-button ok" type="submit" value="'+$.t("Update idea")+'"/></div></form></div>',{updates:d}));var k=h.find(".js-update-selection"),m=h.find("textarea");k.selectbox({speed:100,classHolder:"tv-select-container dialog",onChange:function(){setTimeout(function(){m.focus()},0)}});m.on("keyup",function(a){a.ctrlKey&&13==a.keyCode&&c()});h.find("._tv-button.cancel").on("click",
function(a){a.preventDefault();TVDialogs.destroy("update-idea-status")});h.find("form").submit(function(a){a.preventDefault();c()});TVDialogs.applyHandlers(f,{doNotCloseOnBgClickIfShadowbox:!0,doNotCloseOnBgClick:!0,beforeDestroy:function(){TVDialogs.ideaDialogs.remove("update-idea-status");b.beforeDestroy&&b.beforeDestroy()}});f.show();TVDialogs.positionDialog(f,{considerScroll:!0});h.find("textarea").focus();return f};
TVDialogs.ideaDialogs={dialogs:[],add:function(a){TVDialogs.ideaDialogs.dialogs.push(a)},remove:function(a){TVDialogs.ideaDialogs.dialogs=$.grep(TVDialogs.ideaDialogs.dialogs,function(b){return b!=a})},clear:function(){TVDialogs.ideaDialogs.dialogs.forEach(function(a){TVDialogs.destroy(a)})},getDraggableEmptyTitle:function(){return $(document.createElement("div")).css({height:"30px","margin-bottom":"-10px",position:"relative"})}};"use strict";
(function(a){if(document.createElement("canvas")&&document.createElement("canvas").getContext){var b=function(b){return(a.devicePixelRatio||1)/(b.backingStorePixelRatio||b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)}(document.createElement("canvas").getContext("2d"));2>b||(a.hidpiCanvasRatio=b,function(a){a.drawImagePatchedSource=a.drawImage;a.drawImagePatchedSourceAndDest=a.drawImage;(function(a,b){for(var c in a)a.hasOwnProperty(c)&&
b(a[c],c)})({fillRect:"all",clearRect:"all",strokeRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointinPath:"all",isPointinStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all",drawImagePatchedSource:[1,2,3,4],drawImagePatchedSourceAndDest:[1,2,3,4,5,6,7,8]},function(d,e){var f=a[e];a[e]=function(){var a,c;if("all"===d)for(c=[],a=arguments.length;0<a--;)c[a]=arguments[a]*b;else for(c=Array.prototype.slice.call(arguments),
a=d.length;0<a--;)c[d[a]]&&(c[d[a]]*=b);return f.apply(this,c)}});a.drawImage=function(a){return function(){return arguments[0]instanceof HTMLCanvasElement?a.drawImagePatchedSourceAndDest.apply(this,arguments):a.drawImagePatchedSource.apply(this,arguments)}}(a);a.fillText=function(a){return function(){var c=Array.prototype.slice.call(arguments);c[1]*=b;c[2]*=b;this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(a,c,d){return c*b+d});a.apply(this,c);this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,
function(a,c,d){return c/b+d})}}(a.fillText);a.strokeText=function(a){return function(){var c=Array.prototype.slice.call(arguments);c[1]*=b;c[2]*=b;this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(a,c,d){return c*b+d});a.apply(this,c);this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,function(a,c,d){return c/b+d})}}(a.strokeText)}(CanvasRenderingContext2D.prototype),function(a){a.getContext=function(a){return function(c){var f=a.call(this,c);"2d"===c&&this.width!=Math.floor(parseInt(this.style.width)*
b)&&(this.style.height=this.height+"px",this.style.width=this.width+"px",this.width*=b,this.height*=b);return f}}(a.getContext)}(HTMLCanvasElement.prototype))}})(window);"use strict";
TradingView.PublishedScript=function(){function a(){h=TVSettings.getJSON("studyMarket.favorites",[])}function b(){h&&TVSettings.setJSON("studyMarket.favorites",h)}function c(b){h||a();if("number"===typeof b||/^\d+$/.test(b))b="PUB;"+b;return-1!==h.indexOf("Script$"+b+"@tv-scripting")}function d(c){h||a();if("number"===typeof c||/^\d+$/.test(c))c="PUB;"+c;var d="Script$"+c+"@tv-scripting";-1===h.indexOf(d)&&(h.push(d),b(),TVXWindowEvents.emit("StudyFavoritesChanged",JSON.stringify(h)),window.is_authenticated&&
TradingView.PublishedScript.info([c]).done(function(a){if(a&&a[0]&&a[0].imageUrl){var b=a[0].imageUrl,c=!1;$(".agree").each(function(){var a=$(this);a.data("image_url")===b&&(a=a.data("controller"))&&(a.setAgree(),c=!0)});c||$.ajax({url:"/vote-for-chart/",type:"POST",dataType:"json",data:{image_url:a[0].imageUrl,vote:1}})}}))}function e(){a();f()}function f(){$(".pubscript-button").each(function(){var a=$(this).data("script-id-part");a&&g(this,!!c(a))})}function g(a,b){var c=$(a),d=c.hasClass("active");
b=1 in arguments?!!b:!d;b!==d&&c.toggleClass("active",b)}var h=null,k={},m=!1;return{initButtons:function(){m||($(document.body).on("click",".pubscript-button",function(e){e.preventDefault();if(e=$(this).data("script-id-part")){if(c(e)){h||a();if("number"===typeof e||/^\d+$/.test(e))e="PUB;"+e;e=h.indexOf("Script$"+e+"@tv-scripting");-1!==e&&(h.splice(e,1),b(),TVXWindowEvents.emit("StudyFavoritesChanged",JSON.stringify(h)))}else d(e);f()}}),TVXWindowEvents.on("StudyFavoritesChanged",function(a){h=
JSON.parse(a);f()}),loginStateChange.subscribe(null,e),m=!0);h||a();f()},suggest:function(a){a=$.ajax({url:"/pubscripts-suggest-json/",type:"GET",data:{search:a},dataType:"json"});a.done(function(a){if(a&&a.results)for(var b=0;b<a.results.length;b++)k[a.results[b].scriptIdPart]=TradingView.clone(a.results[b])});return a},info:function(a){for(var b=$.Deferred(),c=[],d=[],e=0;e<a.length;e++){var f=a[e];if("number"===typeof f||/^\d+$/.test(f))f="PUB;"+f;k[f]?c.push(TradingView.clone(k[f])):d.push(f)}if(!d.length)return b.resolve(c).promise();
$.ajax({url:"/pubscripts-get/",type:"POST",data:{scriptIdPart:d.join(",")},dataType:"json"}).done(function(a){a=a||[];for(var d in a){var e=a[d];k[e.scriptIdPart]=TradingView.clone(e);c.push(e)}b.resolve(c)}).fail(function(){b.reject()});return b}}}();"use strict";
(function(){function a(){var a=(new Date).getTime();$.get("https://prodata.tradingview.com/ping",function(){var k=(new Date).getTime()-a;k>d&&(d=k);k<c&&(c=k);e+=k;f++;b=e/f;10<=f&&clearInterval(g)})}var b=0,c=1E4,d=0,e=0,f=0;TradingView.Telemetry={};TradingView.Telemetry.sendReport=function(a,e,f,g){var p=window.chartWidget||window._exposed_chartWidgetCollection&&window._exposed_chartWidgetCollection.activeChartWidget.value(),t;if("data_issue"==a||p&&ChartApiInstance.sessionid&&(!p.onWidget()||TradingView.isCmeWidget)){f=
f?[]:JSON.stringify(TradingView.getLogHistory(null,"data_issue"==a?null:100));this._report&&this._timeout&&this._report.event==a?(clearTimeout(this._timeout),t=this._report,t.params.push(e||{}),t.log=f):t={event:a||"error",user:window.user&&window.user.username||"Guest",websocketAddress:ChartApiInstance._socket?ChartApiInstance._socket.host+(ChartApiInstance._socket.options.port&&":"+ChartApiInstance._socket.options.port||""):"",log:f,params:[e],sessionid:ChartApiInstance.sessionid,ref:location.href,
js_errors:window.__tv_js_errors.slice(0,10),ping:[c,d,b]};var q="";switch(TradingView.Environment()){case "battle":case "staging":q="data_issue"==a?"https://data-issues.tradingview.com":"https://telemetry.tradingview.com";break;case "local":q="http://localhost:7373";break;case "staging_local":q="http://localhost:7373"}if(q){this._report=t;a=function(){this._timeout=null;return $.post(q+"/report",t)}.bind(this);if(!0===g)return a();this._timeout=setTimeout(a,3E4)}}};var g;-1==location.href.indexOf("noping")&&
(g=setInterval(a,1E4))})();"use strict";if("number"!=typeof CoinWidgetComCounter)var CoinWidgetComCounter=0;
if("object"!=typeof CoinWidgetCom)var CoinWidgetCom={source:"/static/js/external/coinwidget/",coinwidgetsource:"http://coinwidget.com/widget/",config:[],go:function(a){a=CoinWidgetCom.validate(a);CoinWidgetCom.config[CoinWidgetComCounter]=a;CoinWidgetCom.loader.jquery();document.write('<span data-coinwidget-instance="'+CoinWidgetComCounter+'" class="COINWIDGETCOM_CONTAINER"></span>');CoinWidgetComCounter++},validate:function(a){var b=[];b.currencies=["bitcoin","litecoin"];b.counters=["count","amount",
"hide"];b.alignment="al ac ar bl bc br".split(" ");a.currency&&CoinWidgetCom.in_array(a.currency,b.currencies)||(a.currency="bitcoin");a.counter&&CoinWidgetCom.in_array(a.counter,b.counters)||(a.counter="count");a.alignment&&CoinWidgetCom.in_array(a.alignment,b.alignment)||(a.alignment="bl");"boolean"!=typeof a.qrcode&&(a.qrcode=!0);"boolean"!=typeof a.auto_show&&(a.auto_show=!1);a.wallet_address||(a.wallet_address="My "+a.currency+" wallet_address is missing!");a.lbl_button||(a.lbl_button="Donate");
a.lbl_address||(a.lbl_address="My Bitcoin Address:");a.lbl_count||(a.lbl_count="Donation");a.lbl_amount||(a.lbl_amount="BTC");if("number"!=typeof a.decimals||0>a.decimals||10<a.decimals)a.decimals=4;return a},init:function(){CoinWidgetCom.loader.stylesheet();$(window).resize(function(){CoinWidgetCom.window_resize()});setTimeout(function(){CoinWidgetCom.build()},800)},build:function(){$("span[data-coinwidget-instance]").each(function(a,b){var c=CoinWidgetCom.config[$(this).attr("data-coinwidget-instance")],
d="hide"==c.counter?"":'<span><img src="'+CoinWidgetCom.source+'icon_loading.gif" width="13" height="13" /></span>',c='<a class="COINWIDGETCOM_BUTTON_'+c.currency.toUpperCase()+'" href="#"><img src="'+CoinWidgetCom.source+"icon_"+c.currency+'.png" /><span>'+c.lbl_button+"</span></a>"+d;$(this).html(c);$(this).find("> a").unbind("click").click(function(a){a.preventDefault();CoinWidgetCom.show(this)})});CoinWidgetCom.counters()},window_resize:function(){$.each(CoinWidgetCom.config,function(a,b){CoinWidgetCom.window_position(a)})},
window_position:function(a){var b=CoinWidgetCom.config[a],c="#COINWIDGETCOM_WINDOW_"+a;a=$("span[data-coinwidget-instance='"+a+"'] > a");if(a.length){var d=a.offset();switch(b.alignment){default:case "al":b=d.top-$(c).outerHeight()-10;a=d.left;break;case "ac":b=d.top-$(c).outerHeight()-10;a=d.left+a.outerWidth()/2-$(c).outerWidth()/2;break;case "ar":b=d.top-$(c).outerHeight()-10;a=d.left+a.outerWidth()-$(c).outerWidth();break;case "bl":b=d.top+a.outerHeight()+10;a=d.left;break;case "bc":b=d.top+a.outerHeight()+
10;a=d.left+a.outerWidth()/2-$(c).outerWidth()/2;break;case "br":b=d.top+a.outerHeight()+10,a=d.left+a.outerWidth()-$(c).outerWidth()}$(c).is(":visible")?$(c).stop().css({top:b,left:a}).show():$(c).stop().css({top:b,left:a})}},counter:[],counters:function(){var a=[];$.each(CoinWidgetCom.config,function(b,c){"hide"!=c.counter?a.push(b+"_"+c.currency+"_"+c.wallet_address):c.auto_show&&$("span[data-coinwidget-instance='"+b+"']").find("> a").click()});a.length&&CoinWidgetCom.loader.script({id:"COINWIDGETCOM_INFO"+
Math.random(),source:CoinWidgetCom.coinwidgetsource+"lookup.php?data="+a.join("|"),callback:function(){"object"==typeof window.COINWIDGETCOM_DATA&&(CoinWidgetCom.counter=window.COINWIDGETCOM_DATA,$.each(CoinWidgetCom.counter,function(a,c){var d=CoinWidgetCom.config[a];c.count&&null!=c||(c={count:0,amount:0});$("span[data-coinwidget-instance='"+a+"']").find("> span").html("count"==d.counter?c.count:c.amount.toFixed(d.decimals)+" "+d.lbl_amount);d.auto_show&&$("span[data-coinwidget-instance='"+a+"']").find("> a").click()}));
0<$("span[data-coinwidget-instance] > span img").length&&setTimeout(function(){CoinWidgetCom.counters()},2500)}})},show:function(a){var b=$(a).parent().attr("data-coinwidget-instance");a=CoinWidgetCom.config[b];var c="#COINWIDGETCOM_WINDOW_"+b;$(".COINWIDGETCOM_WINDOW").css({"z-index":198});if(!$(c).length){var d=navigator.userAgent.match(/iPhone/i)?"onclick=\"prompt('Select all and copy:','"+a.wallet_address+"');\"":'onclick="this.select();"',d="<label>"+a.lbl_address+'</label><input type="text" readonly '+
d+'  value="'+a.wallet_address+'" /><a class="COINWIDGETCOM_CREDITS" href="http://coinwidget.com/" target="_blank">CoinWidget.com</a><a class="COINWIDGETCOM_WALLETURI" href="'+a.currency.toLowerCase()+":"+a.wallet_address+'" target="_blank" title="Click here to send this address to your wallet\n(if your wallet is not compatible you will get an empty page,\nclose the white screen and copy the address by hand)" ><img src="'+CoinWidgetCom.source+'icon_wallet.png" /></a><a class="COINWIDGETCOM_CLOSER" href="javascript:;" onclick="CoinWidgetCom.hide('+
b+');" title="Close this window">x</a><img class="COINWIDGET_INPUT_ICON" src="'+CoinWidgetCom.source+"icon_"+a.currency+'.png" title="This is a '+a.currency+' wallet address." />';"hide"!=a.counter&&(d+='<span class="COINWIDGETCOM_COUNT">0<small>'+a.lbl_count+'</small></span><span class="COINWIDGETCOM_AMOUNT end">0.00<small>'+a.lbl_amount+"</small></span>");a.qrcode&&(d+='<img class="COINWIDGETCOM_QRCODE" data-coinwidget-instance="'+b+'" src="'+CoinWidgetCom.source+'icon_qrcode.png" width="16" height="16" /><img class="COINWIDGETCOM_QRCODE_LARGE" src="'+
CoinWidgetCom.source+'icon_qrcode.png" width="111" height="111" />');var e=$("<div></div>");$("body").append(e);e.attr({id:"COINWIDGETCOM_WINDOW_"+b}).addClass("COINWIDGETCOM_WINDOW COINWIDGETCOM_WINDOW_"+a.currency.toUpperCase()+" COINWIDGETCOM_WINDOW_"+a.alignment.toUpperCase()).html(d).unbind("click").bind("click",function(){$(".COINWIDGETCOM_WINDOW").css({"z-index":198});$(this).css({"z-index":199})});a.qrcode&&$(c).find(".COINWIDGETCOM_QRCODE").bind("mouseenter click",function(){var a=CoinWidgetCom.config[$(this).attr("data-coinwidget-instance")],
b=$(this).parent().find(".COINWIDGETCOM_QRCODE_LARGE");b.is(":visible")?b.hide():b.attr({src:"/qr/?text="+a.wallet_address}).show()}).bind("mouseleave",function(){$(this).parent().find(".COINWIDGETCOM_QRCODE_LARGE").hide()})}else if($(c).is(":visible")){CoinWidgetCom.hide(b);return}CoinWidgetCom.window_position(b);$(c).show();d=$(c).find("input").position();$(c).find("img.COINWIDGET_INPUT_ICON").css({top:d.top+9,left:d.left+9});$(c).find(".COINWIDGETCOM_WALLETURI").addClass("apply-common-tooltip").css({top:d.top+
0,left:d.left+$(c).find("input").outerWidth()+12});"hide"!=a.counter&&(b=CoinWidgetCom.counter[b],null==b&&(b={count:0,amount:0}),null==b.count&&(b.count=0),null==b.amount&&(b.amount=0),$(c).find(".COINWIDGETCOM_COUNT").html(b.count+"<small>"+a.lbl_count+"</small>"),$(c).find(".COINWIDGETCOM_AMOUNT").html(b.amount.toFixed(a.decimals)+"<small>"+a.lbl_amount+"</small>"));if("function"==typeof a.onShow)a.onShow()},hide:function(a){var b=CoinWidgetCom.config[a];$("#COINWIDGETCOM_WINDOW_"+a).fadeOut();
if("function"==typeof b.onHide)b.onHide()},in_array:function(a,b){for(var c=0;c<b.length;c++)if(b[c]==a)return!0;return!1},loader:{loading_jquery:!1,script:function(a){if(!document.getElementById(a.id)){var b=document.createElement("script");b.onreadystatechange=function(){switch(this.readyState){case "complete":case "loaded":a.callback()}};b.onload=function(){a.callback()};b.src=a.source;b.id=a.id;document.lastChild.firstChild.appendChild(b)}},stylesheet_loaded:!1,stylesheet:function(){if(!CoinWidgetCom.loader.stylesheet_loaded){CoinWidgetCom.loader.stylesheet_loaded=
!0;var a=$("<link/>");$("head").append(a);a.attr({id:"COINWIDGETCOM_STYLESHEET",rel:"stylesheet",type:"text/css",href:CoinWidgetCom.source+"coin.css"})}},jquery:function(){window.jQuery||CoinWidgetCom.loader.loading_jquery?CoinWidgetCom.init():CoinWidgetCom.loader.script({id:"COINWIDGETCOM_JQUERY",source:("file:"==window.location.protocol?"http:":"")+"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js",callback:function(){CoinWidgetCom.init()}})}}};"use strict";
TradingView.CoinWidget=function(a,b,c){b&&b.length&&(CoinWidgetCom.config[CoinWidgetComCounter]={wallet_address:a,currency:"bitcoin",counter:"hide",alignment:c||"bl",qrcode:!0,auto_show:!1,lbl_button:"Tips",lbl_address:"My Bitcoin Address:",lbl_count:"donations",lbl_amount:"BTC"},CoinWidgetCom.loader.jquery(),b.html('<span data-coinwidget-instance="'+CoinWidgetComCounter+'" class="COINWIDGETCOM_CONTAINER"></span>'),CoinWidgetComCounter++,CoinWidgetCom.build())};"use strict";
!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-");c=.01+c/d*100;d=Math.max(1-(1-a)/b*(100-c),a);var f=m.substring(0,m.indexOf("Animation")).toLowerCase();return p[e]||(t.insertRule("@"+
(f&&"-"+f+"-"||"")+"keyframes "+e+"{0%{opacity:"+d+"}"+c+"%{opacity:"+a+"}"+(c+.01)+"%{opacity:1}"+(c+b)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",t.cssRules.length),p[e]=1),e}function d(a,b){var c,d,e=a.style;b=b.charAt(0).toUpperCase()+b.slice(1);for(d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)void 0===a[d]&&(a[d]=
c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,q)}function k(){function c(b,d){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}t.addRule(".spin-vml","behavior:url(#default#VML)");h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:m+" "+m,coordorigin:-l+" "+-l}),{width:m,height:m})}function h(a,k,m){b(p,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~k}),b(e(c("roundrect",{arcsize:d.corners}),
{width:l,height:d.width,left:d.radius,top:-d.width>>1,filter:m}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var k,l=d.length+d.width,m=2*l;k=2*-(d.width+d.length)+"px";var p=e(f(),{position:"absolute",top:k,left:k});if(d.shadow)for(k=1;k<=d.lines;k++)h(k,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(k=1;k<=d.lines;k++)h(k);return b(a,p)};h.prototype.opacity=function(a,b,c,d){a=a.firstChild;d=d.shadow&&d.lines||0;a&&b+
d<a.childNodes.length&&(a=a.childNodes[b+d],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=c))}}var m,l=["webkit","Moz","ms","O"],p={},t=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={};f(h.prototype,{spin:function(b){this.stop();
var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width;if(e(f,{left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!m){var g,h=0,k=(d.lines-1)*(1-d.direction)/2,l=d.fps,p=l/d.speed,q=(1-d.opacity)/(p*d.trail/100),t=p/d.lines;!function E(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*t)%p*q,d.opacity),c.opacity(f,a*d.direction+k,g,d);c.timeout=
c.el&&setTimeout(E,~~(1E3/l))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*l+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var k,l=0,p=(f.lines-1)*(1-f.direction)/
2;l<f.lines;l++)k=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:m&&c(f.opacity,f.trail,p+l*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(k,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(k,h(g(f.color,l),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var v=e(a("group"),{behavior:"url(#default#VML)"});return!d(v,"transform")&&
v.adj?k():m=d(v,"animation"),h});"use strict";TradingView.IntervalHelper=function(){};TradingView.IntervalHelper.isAvailable=function(a){var b=TradingView.Linking.supportedResolutions.value(),c=!1,c="undefined"!=typeof b?-1!=b.indexOf(a):!0;return TradingView.Linking.intraday.value()?c:TradingView.Interval.isDWM(a)&&c};"use strict";
TradingView.DesktopNotification=function(){function a(){return window.Notification&&window.Notification.permissionLevel?window.Notification.permissionLevel():window.Notification.permission}function b(b){var c=a();"granted"==c&&"function"==typeof b?b():"default"==c&&window.Notification.requestPermission(function(a){"granted"==a&&"function"==typeof b&&b()})}function c(a,b){var c=new window.Notification(a,{body:40<b.length?b.substring(0,40)+"...":b,icon:"/static/images/desktop-notification.png"});c.onclick=
function(){window.focus()};setTimeout(c.close.bind(c),5E3);return c}function d(d,h){"denied"!=a()&&b(function(){TVLocalStorage.setItem(e+f,document.hidden);TVXWindowEvents.emit("desktop-notification-tab-visibility-request");setTimeout(function(){"false"!=TVLocalStorage.getItem(e+f)&&document.hidden&&c(d,h)},100)})}TVLocalStorage.setItem(e+f,document.hidden);var e="tvdesktopnotifications.",f="tabs-hidden";TVXWindowEvents.on("desktop-notification-tab-visibility-request",function(){"true"==TVLocalStorage.getItem(e+
f)&&TVLocalStorage.setItem(e+f,document.hidden)});return window.Notification?{show:d,askPermission:b}:{show:function(){},askPermission:function(){}}}();"use strict";
TradingView.Urlization={snapshots:function(a){var b=a.text.match(TradingView.Urlization.re.snapshots);if(b)for(var c=0;c<b.length;c++)a.text=a.text.replace(b[c],"<"+a.count++ +">"),a.values.push(Mustache.render('<div class="ch-item-snapshot-link"><i class="icon icon-snapshot-small" title="{{title}}"></i> <a href="{{url}}" target="_blank">{{title}}</a></div><div class="ch-item-snapshot-preview"><a target="_blank" href="{{url}}"><img src="{{url}}" alt="" class="snapshot-preview"/></a></div>',{title:$.t("Chart Snapshot"),
url:b[c]}));return a},comments:function(a){var b=a.text.match(TradingView.Urlization.re.comments);if(b)for(var c=0;c<b.length;c++)a.text=a.text.replace(b[c],"<"+a.count++ +">"),a.values.push('<a target="_blank" href="'+b[c]+'">'+TradingView.Urlization.decodeURI(b[c])+"</a>");return a},links:function(a){var b=a.text.match(/(?:http|https):\/\/(?:www\.)?[^ <\n]{2,360}/g);if(b)for(var c=0;c<b.length;c++){var d=0===b[c].indexOf("http://")||0===b[c].indexOf("https://")?"":"http://",e=0<=b[c].indexOf("https://tradingview.com")?
"":" rel='nofollow' ";a.text=a.text.replace(b[c],"<"+a.count++ +">");a.values.push("<a target='_blank'"+e+"href='"+d+b[c]+"'>"+TradingView.Urlization.decodeURI(b[c])+"</a>")}return a},symbols:function(a){var b=a.text.match(/(\$)[a-z](?:[._-]?[a-z0-9]){0,19}/gi);if(b)for(var c=0;c<b.length;c++)a.text=a.text.replace(b[c],"<"+a.count++ +">"),a.values.push("<a target='_blank' href='/chart/"+b[c].substr(1)+"/'>"+b[c]+"</a>");return a},emails:function(a){var b=a.text.match(/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/gi);
if(b)for(var c=0;c<b.length;c++)a.text=a.text.replace(b[c],"<"+a.count++ +">"),a.values.push('<a class="email" href="mailto:'+b[c]+'">'+b[c]+"</a>");return a},replies:function(a){for(var b=/(\s|^|>|\n)\@([a-z0-9\._\-\u00A0]{2,50})(\s|$|<|\n|,|!|\?|\:|;)/gi,c;null!=(c=b.exec(a.text));)a.text=a.text.replace(c[0],c[1]+"<"+a.count++ +">"+c[3]),a.values.push("<a target='_blank' href='/u/"+c[2].replace("\u00a0"," ")+"/'>@"+c[2]+"</a>"),b.lastIndex=0;return a},deprecatedCharts:function(a){var b=a.text.match(TradingView.Urlization.re.deprecatedCharts);
if(b)for(var c=0;c<b.length;c++){a.text=a.text.replace(b[c],"<"+a.count++ +">");var d=TradingView.parsePublishedChartUrl(b[c]);a.values.push(Mustache.render('<div class="ch-item-chart-link"><i class="icon icon-snapshot-small" title="'+$.t("Published Idea")+'"></i> <a href="{{chartHref}}" target="_blank" data-id="{{chartId}}"{{#symbol}} data-symbol="{{symbol}}"{{/symbol}}{{#title}} data-title="{{title}}"{{/title}}>'+$.t("Published Idea")+'</a></div><div class="ch-item-chart-preview"><a  href="{{chartHref}}" target="_blank" data-id="{{chartId}}"{{#symbol}} data-symbol="{{symbol}}"{{/symbol}}{{#title}} data-title="{{title}}"{{/title}}><img src="{{imageHref}}" alt="" class="idea-preview"/></a></div>',
{chartHref:TradingView.createPublishedChartUrl(d.image_url,d.symbol,d.title),imageHref:TradingView.createPublishedChartImageUrl(d.image_url),chartId:d.image_url,symbol:d.symbol,title:d.title}))}return a},obsceneWords:function(a){var b='<i class="ch-smile" style="background-position:'+("-"+25*TradingView.ChatHelpers.smiliesMap[":heart:"][0]+"px -"+25*TradingView.ChatHelpers.smiliesMap[":heart:"][1]+"px")+';"></i>',c=/fuck/gi;0<=a.text.search(c)&&(a.text=a.text.replace(c,"<"+a.count++ +">"),a.values.push(b));
return a},smilies:function(a){var b,c;$.each(TradingView.ChatHelpers.smiliesMap,function(d,e){b="-"+25*e[0]+"px -"+25*e[1]+"px";c='<i class="ch-smile" title="'+d.replace(/\\/g,"")+'" style="background-position: '+b+';"></i>';var f=new RegExp(d,"g");0<=a.text.search(f)&&(a.text=a.text.replace(f,"<"+a.count++ +">"),a.values.push(c))});return a}};TradingView.Urlization.decodeURI=function(a){if(0<=a.indexOf("%%30%30"))return"";var b;try{b=decodeURI(a)}catch(c){b=a}return b};
TradingView.Urlization.re=function(){var a=TradingView.urlRegExp.publishedChartOld,b=TradingView.urlRegExp.publishedChart,c=TradingView.urlRegExp.publishedScript;return{snapshots:new RegExp("(?:https://|http://)(?:(?:www|\\w\\w)\\.tradingview\\.com|(?:\\w\\w\\.)?beta\\d?\\.tradingview.com|webcharts\\d?|localhost\\:6285)"+TradingView.urlRegExp.publishedImage,"g"),comments:new RegExp("(?:https://|http://)(?:(?:www|\\w\\w)\\.tradingview\\.com|(?:\\w\\w\\.)?beta\\d?\\.tradingview.com|webcharts\\d?|localhost\\:6285)"+
("(?:(?:"+(a+"#tc[1-9][0-9]*")+")|(?:"+(b+"#tc[1-9][0-9]*")+")|(?:"+(c+"#tc[1-9][0-9]*")+"))"),"g"),deprecatedCharts:new RegExp("(?:https://|http://)(?:(?:www|\\w\\w)\\.tradingview\\.com|(?:\\w\\w\\.)?beta\\d?\\.tradingview.com|webcharts\\d?|localhost\\:6285)"+("(?:(?:"+a+")|(?:"+b+")|(?:"+c+"))"),"g")}}();
TradingView.Urlization.commonFunctors=[TradingView.Urlization.snapshots,TradingView.Urlization.comments,TradingView.Urlization.links,TradingView.Urlization.symbols,TradingView.Urlization.emails,TradingView.Urlization.replies,TradingView.Urlization.smilies];
TradingView.Urlization.deprecatedUrlizeFunctors=[TradingView.Urlization.snapshots,TradingView.Urlization.comments,TradingView.Urlization.deprecatedCharts,TradingView.Urlization.links,TradingView.Urlization.symbols,TradingView.Urlization.emails,TradingView.Urlization.replies];TradingView.Urlization.chainedUrlize=function(a,b){a=b[0](a);for(var c=1;c<b.length;c++)a=b[c](a);a.values&&(a.text=a.text.replace(/<(\d+)>/g,function(b,c){return a.values[c]?a.values[c]:""}));return a.text};
TradingView.Urlization.UrlizeBuffer=function(a,b,c){this.text=a;this.count=b||0;this.values=c||[]};
