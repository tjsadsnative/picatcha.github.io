/*! controltag - v5.49.1 - git 6024558 - 2015-04-13 16:28:12 */
!function(){var a,b;!function(){var c={};a=function(b,c){a[b]=c},b=function(d){if(b[d]===c)throw"Circular require: "+d;if(!a[d])throw"Unknown require: "+d;return b[d]||(b[d]=c)&&(b[d]=new function(){return a[d](b,this)||this})}}(),a("hogan-3",function(a,b,c){var d={};!function(a){function b(a,b,c){var d;return b&&"object"==typeof b&&(void 0!==b[a]?d=b[a]:c&&b.get&&"function"==typeof b.get&&(d=b.get(a))),d}function c(a,b,c,d,e,f){function g(){}function h(){}g.prototype=a,h.prototype=a.subs;var i,j=new g;j.subs=new h,j.subsText={},j.buf="",d=d||{},j.stackSubs=d,j.subsText=f;for(i in b)d[i]||(d[i]=b[i]);for(i in d)j.subs[i]=d[i];e=e||{},j.stackPartials=e;for(i in c)e[i]||(e[i]=c[i]);for(i in e)j.partials[i]=e[i];return j}function d(a){return String(null===a||void 0===a?"":a)}function e(a){return a=d(a),k.test(a)?a.replace(f,"&amp;").replace(g,"&lt;").replace(h,"&gt;").replace(i,"&#39;").replace(j,"&quot;"):a}a.Template=function(a,b,c,d){a=a||{},this.r=a.code||this.r,this.c=c,this.options=d||{},this.text=b||"",this.partials=a.partials||{},this.subs=a.subs||{},this.buf=""},a.Template.prototype={r:function(){return""},v:e,t:d,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},ep:function(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e)return d.instance;if("string"==typeof e){if(!this.c)throw new Error("No compiler available.");e=this.c.compile(e,this.options)}if(!e)return null;if(this.partials[a].base=e,d.subs){b.stackText||(b.stackText={});for(key in d.subs)b.stackText[key]||(b.stackText[key]=void 0!==this.activeSub&&b.stackText[this.activeSub]?b.stackText[this.activeSub]:this.text);e=c(e,d.subs,d.partials,this.stackSubs,this.stackPartials,b.stackText)}return this.partials[a].instance=e,e},rp:function(a,b,c,d){var e=this.ep(a,c);return e?e.ri(b,c,d):""},rs:function(a,b,c){var d=a[a.length-1];if(!l(d))return void c(a,b,this);for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return l(a)&&0===a.length?!1:("function"==typeof a&&(a=this.ms(a,b,c,d,e,f,g)),h=!!a,!d&&h&&b&&b.push("object"==typeof a?a:b[b.length-1]),h)},d:function(a,c,d,e){var f,g=a.split("."),h=this.f(g[0],c,d,e),i=this.options.modelGet,j=null;if("."===a&&l(c[c.length-2]))h=c[c.length-1];else for(var k=1;k<g.length;k++)f=b(g[k],h,i),void 0!==f?(j=h,h=f):h="";return e&&!h?!1:(e||"function"!=typeof h||(c.push(j),h=this.mv(h,c,d),c.pop()),h)},f:function(a,c,d,e){for(var f=!1,g=null,h=!1,i=this.options.modelGet,j=c.length-1;j>=0;j--)if(g=c[j],f=b(a,g,i),void 0!==f){h=!0;break}return h?(e||"function"!=typeof f||(f=this.mv(f,c,d)),f):e?!1:""},ls:function(a,b,c,e,f){var g=this.options.delimiters;return this.options.delimiters=f,this.b(this.ct(d(a.call(b,e)),b,c)),this.options.delimiters=g,!1},ct:function(a,b,c){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(a,this.options).render(b,c)},b:function(a){this.buf+=a},fl:function(){var a=this.buf;return this.buf="",a},ms:function(a,b,c,d,e,f,g){var h,i=b[b.length-1],j=a.call(i);return"function"==typeof j?d?!0:(h=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(j,i,c,h.substring(e,f),g)):j},mv:function(a,b,c){var e=b[b.length-1],f=a.call(e);return"function"==typeof f?this.ct(d(f.call(e)),e,c):f},sub:function(a,b,c,d){var e=this.subs[a];e&&(this.activeSub=a,e(b,c,this,d),this.activeSub=!1)}};var f=/&/g,g=/</g,h=/>/g,i=/\'/g,j=/\"/g,k=/[&<>\"\']/,l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof a?a:d),function(a){function b(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;e>d;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(b,c,d,h){var i=[],j=null,k=null,l=null;for(k=d[d.length-1];b.length>0;){if(l=b.shift(),k&&"<"==k.tag&&!(l.tag in v))throw new Error("Illegal content in < super tag.");if(a.tags[l.tag]<=a.tags.$||f(l,h))d.push(l),l.nodes=e(b,l.tag,d,h);else{if("/"==l.tag){if(0===d.length)throw new Error("Closing tag without opener: /"+l.n);if(j=d.pop(),l.n!=j.n&&!g(l.n,j.n,h))throw new Error("Nesting error: "+j.n+" vs. "+l.n);return j.end=l.i,i}"\n"==l.tag&&(l.last=0==b.length||"\n"==b[0].tag)}i.push(l)}if(d.length>0)throw new Error("missing closing tag: "+d.pop().n);return i}function f(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){var b=[];for(var c in a)b.push('"'+j(c)+'": function(c,p,t,i) {'+a[c]+"}");return"{ "+b.join(",")+" }"}function i(a){var b=[];for(var c in a.partials)b.push('"'+j(c)+'":{name:"'+j(a.partials[c].name)+'", '+i(a.partials[c])+"}");return"partials: {"+b.join(",")+"}, subs: "+h(a.subs)}function j(a){return a.replace(s,"\\\\").replace(p,'\\"').replace(q,"\\n").replace(r,"\\r").replace(t,"\\u2028").replace(u,"\\u2029")}function k(a){return~a.indexOf(".")?"d":"f"}function l(a,b){var c="<"+(b.prefix||""),d=c+a.n+w++;return b.partials[d]={name:a.n,partials:{}},b.code+='t.b(t.rp("'+j(d)+'",c,p,"'+(a.indent||"")+'"));',d}function m(a,b){b.code+="t.b(t.t(t."+k(a.n)+'("'+j(a.n)+'",c,p,0)));'}function n(a){return"t.b("+a+");"}var o=/\S/,p=/\"/g,q=/\n/g,r=/\r/g,s=/\\/g,t=/\u2028/,u=/\u2029/;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(e,f){function g(){s.length>0&&(t.push({tag:"_t",text:new String(s)}),s="")}function h(){for(var b=!0,c=w;c<t.length;c++)if(b=a.tags[t[c].tag]<a.tags._v||"_t"==t[c].tag&&null===t[c].text.match(o),!b)return!1;return b}function i(a,b){if(g(),a&&h())for(var c,d=w;d<t.length;d++)t[d].text&&((c=t[d+1])&&">"==c.tag&&(c.indent=t[d].text.toString()),t.splice(d,1));else b||t.push({tag:"\n"});u=!1,w=t.length}function j(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[f.length-1],e+d.length-1}var k=e.length,l=0,m=1,n=2,p=l,q=null,r=null,s="",t=[],u=!1,v=0,w=0,x="{{",y="}}";for(f&&(f=f.split(" "),x=f[0],y=f[1]),v=0;k>v;v++)p==l?d(x,e,v)?(--v,g(),p=m):"\n"==e.charAt(v)?i(u):s+=e.charAt(v):p==m?(v+=x.length-1,r=a.tags[e.charAt(v+1)],q=r?e.charAt(v+1):"_v","="==q?(v=j(e,v),p=l):(r&&v++,p=n),u=v):d(y,e,v)?(t.push({tag:q,n:c(s),otag:x,ctag:y,i:"/"==q?u-x.length:v+y.length}),s="",v+=y.length-1,p=l,"{"==q&&("}}"==y?v++:b(t[t.length-1]))):s+=e.charAt(v);return i(u,!0),t};var v={_t:!0,"\n":!0,$:!0,"/":!0};a.stringify=function(b){return"{code: function (c,p,i) { "+a.wrapMain(b.code)+" },"+i(b)+"}"};var w=0;a.generate=function(b,c,d){w=0;var e={code:"",subs:{},partials:{}};return a.walk(b,e),d.asString?this.stringify(e,c,d):this.makeTemplate(e,c,d)},a.wrapMain=function(a){return'var t=this;t.b(i=i||"");'+a+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(a,b,c){var d=this.makePartials(a);return d.code=new Function("c","p","i",this.wrapMain(a.code)),new this.template(d,b,this,c)},a.makePartials=function(a){var b,c={subs:{},partials:a.partials,name:a.name};for(b in c.partials)c.partials[b]=this.makePartials(c.partials[b]);for(b in a.subs)c.subs[b]=new Function("c","p","t","i",a.subs[b]);return c},a.codegen={"#":function(b,c){c.code+="if(t.s(t."+k(b.n)+'("'+j(b.n)+'",c,p,1),c,p,0,'+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){t.rs(c,p,function(c,p,t){',a.walk(b.nodes,c),c.code+="});c.pop();}"},"^":function(b,c){c.code+="if(!t.s(t."+k(b.n)+'("'+j(b.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(b.nodes,c),c.code+="};"},">":l,"<":function(b,c){var d={partials:{},code:"",subs:{},inPartial:!0};a.walk(b.nodes,d);var e=c.partials[l(b,c)];e.subs=d.subs,e.partials=d.partials},$:function(b,c){var d={subs:{},code:"",partials:c.partials,prefix:b.n};a.walk(b.nodes,d),c.subs[b.n]=d.code,c.inPartial||(c.code+='t.sub("'+j(b.n)+'",c,p,i);')},"\n":function(a,b){b.code+=n('"\\n"'+(a.last?"":" + i"))},_v:function(a,b){b.code+="t.b(t.v(t."+k(a.n)+'("'+j(a.n)+'",c,p,0)));'},_t:function(a,b){b.code+=n('"'+j(a.text)+'"')},"{":m,"&":m},a.walk=function(b,c){for(var d,e=0,f=b.length;f>e;e++)d=a.codegen[b[e].tag],d&&d(b[e],c);return c},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda,b.delimiters,!!b.modelGet].join("||")},a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];if(e){var f=e.partials;for(var g in f)delete f[g].instance;return e}return e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c),this.cache[d]=e}}("undefined"!=typeof a?a:d),"undefined"!=typeof c&&c.exports&&(c.exports=d)}),a("underscore",function(){var a,b=function(a){return a instanceof b?a:this instanceof b?void(this._wrapped=a):new b(a)},c={},d=Array.prototype,e=Object.prototype,f=d.slice,g=e.toString,h=e.hasOwnProperty,i=d.map,j=d.filter,k=d.every,l=d.some,m=d.indexOf,n=Array.isArray,o=b.each=b.forEach=function(b,d,e){if(null!=b)if(a&&b.forEach===a)b.forEach(d,e);else if(b.length===+b.length){for(var f=0,g=b.length;g>f;f++)if(f in b&&d.call(e,b[f],f,b)===c)return}else for(var i in b)if(h.call(b,i)&&d.call(e,i,b[i],b)===c)return};b.map=function(a,b,c){var d=[];return null==a?d:i&&a.map===i?a.map(b,c):(o(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},b.find=function(a,b,c){var d;return p(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},b.every=b.all=function(a,b,d){var e=!0;return null==a?e:k&&a.every===k?a.every(b,d):(o(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),e)};var p=b.some=b.any=function(a,d,e){d=d||b.identity;var f=!1;return null==a?f:l&&a.some===l?a.some(d,e):(o(a,function(a,b,g){return f||(f=d.call(e,a,b,g))?c:void 0}),!!f)};return b.include=b.contains=function(a,b){var c=!1;return null==a?c:m&&a.indexOf===m?-1!=a.indexOf(b):c=p(a,function(a){return a===b})},b.filter=function(a,b,c){var d=[];return null==a?d:j&&a.filter===j?a.filter(b,c):(o(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},b.reduce=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},b.indexOf=function(a,b){if(null==a)return-1;var c,d;if(m&&a.indexOf===m)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(c in a&&a[c]===b)return c;return-1},b.uniq=b.unique=function(a,c,d){var e=d?b.map(a,d):a,f=[];return a.length<3&&(c=!0),b.reduce(e,function(d,e,g){return(c?b.last(d)===e&&d.length:b.include(d,e))||(d.push(e),f.push(a[g])),d},[]),f},b.difference=function(a){var c=b.flatten(f.call(arguments,1),!0);return b.filter(a,function(a){return!b.include(c,a)})},b.flatten=function(a,c){return b.reduce(a,function(a,d){return b.isArray(d)?a.concat(c?d:b.flatten(d)):(a[a.length]=d,a)},[])},b.intersection=b.intersect=function(a){var c=f.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})},b.groupBy=function(a,c){var d={},e=b.isFunction(c)?c:function(a){return a[c]};return o(a,function(a,b){var c=e(a,b);(d[c]||(d[c]=[])).push(a)}),d},b.compact=function(a){return b.filter(a,function(a){return!!a})},b.pluck=function(a,c){return b.map(a,function(a){return a[c]})},b.identity=function(a){return a},b.values=function(a){return b.map(a,b.identity)},b.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},b.clone=function(a){return b.isObject(a)?b.isArray(a)?a.slice():b.extend({},a):a},b.extend=function(a){return o(f.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},b.defaults=function(a){return o(f.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},b.first=b.head=function(a,b,c){return null==b||c?a[0]:f.call(a,0,b)},b.initial=function(a,b,c){return f.call(a,0,a.length-(null==b||c?1:b))},b.last=function(a,b,c){return null==b||c?a[a.length-1]:f.call(a,Math.max(a.length-b,0))},b.rest=b.tail=function(a,b,c){return f.call(a,null==b||c?1:b)},b.has=function(a,b){return null!=a&&h.call(a,b)},b.keys=function(a){if(!b.isObject(a))return[];var c=[];for(var d in a)b.has(a,d)&&c.push(d);return c},b.size=function(a){return null==a?0:a.length===+a.length?a.length:b.keys(a).length},b.toArray=function(a){return a?a.toArray?a.toArray():b.isArray(a)?f.call(a):b.isArguments(a)?f.call(a):b.values(a):[]},b.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},b.template=function(a,c){var d=b.templateSettings,e="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape,function(a,b){return"',_.escape("+b.replace(/\\'/g,"'")+"),'"}).replace(d.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(d.evaluate||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",f=new Function("obj","_",e);return c?f(c,b):function(a){return f.call(this,a,b)}},b.isEmpty=function(a){if(b.isArray(a)||b.isString(a))return 0===a.length;for(var c in a)if(h.call(a,c))return!1;return!0},b.isArray=n||function(a){return"[object Array]"==g.call(a)},b.isObject=function(a){return a===Object(a)},b.isArguments="[object Arguments]"==g.call(arguments)?function(a){return"[object Arguments]"==g.call(a)}:function(a){return!(!a||!h.call(a,"callee"))},b.isFunction=function(a){return"[object Function]"==g.call(a)},b.isString=function(a){return"[object String]"==g.call(a)},b.isNumber=function(a){return"[object Number]"==g.call(a)},b.isNaN=function(a){return a!==a},b.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==g.call(a)},b.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},b.now=function(){return(new Date).getTime()},b.throttle=function(a,c,d){var e,f,g,h=null,i=0;d||(d={});var j=function(){i=d.leading===!1?0:b.now(),h=null,g=a.apply(e,f),e=f=null};return function(){var k=b.now();i||d.leading!==!1||(i=k);var l=c-(k-i);return e=this,f=arguments,0>=l?(clearTimeout(h),h=null,i=k,g=a.apply(e,f),e=f=null):h||d.trailing===!1||(h=setTimeout(j,l)),g}},b.partial=function(a){var c=f.call(arguments,1);return function(){for(var d=0,e=c.slice(),f=0,g=e.length;g>f;f++)e[f]===b&&(e[f]=arguments[d++]);for(;d<arguments.length;)e.push(arguments[d++]);return a.apply(this,e)}},b.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},b}),function(){a("adm-events",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;s=a("util"),o=a("routes"),p=a("store"),c=b.COOKIE_SERVICE_TTL=20*p.MINUTES,d="$event_",e=b.EVENT_TTL=2*p.DAYS,f=8,g=100,k=b.prefix="e_",i=b.knownEventIds=[],h=b.addEventId=function(a){s.contains(i,a)||i.push(a)},j=b.parse=function(a){var b;return b=a.split("&"),{id:b.shift(),attrs:s.parseKeyValues(b.join("&"))}},b.parseConfig=function(a){var b,c,e,i,j,k,l,m;for(c=g,i=function(a){var b,e,g,j,k,l;switch(!1){case!(null==a||0===c--):break;case!s.isString(a):if(e=a.indexOf(d),-1!==e)return h(a.substr(e+d.length,f));break;default:for(k=a.slice(1),l=[],g=0,j=k.length;j>g;g++)b=k[g],l.push(i(b));return l}},m=[],j=0,k=a.length;k>j;j++)l=a[j],b=l.id,e=l.test,m.push(i(e));return m},r=b.stringify=function(a){return a.id+"&"+s.paramString(a.attrs)},q=b.storeEvent=function(a,b){b=b||0,p.set(k+r(a),1,e-b)},m=b.processEvent=function(a){var b,c,d,e,f,g;b="event_"+a.id,s.set(b,!0),g=a.attrs;for(d in g)e=g[d],c=b+"_attr_"+d,f=s.get(c)||s.set(c,[]),s.contains(f,e)||f.push(e)},n=b.readFromStore=function(){var a,b;b=p.namespace(k);for(a in b)m(j(a))},l=b.process3rdParty=function(a){var b,c,d,e,f;d=/^e_(.*)/;for(f in a)e=f.match(d),e&&(c=j(e[1].replace(/\^/g,"&").replace(/\|/g,"=")),s.contains(i,c.id)&&(b=(new Date-new Date(parseInt(a[f],10)))/1e3,q(c,b),m(c)))},b.check3rdParty=function(){return i.length&&!p.get("event3p")?a("http").jsonp({url:s.get("url_cookies")||"//beacon.krxd.net/cookie2json",callback:"kxjsonp_3pevents",done:function(a){return p.set("event3p","1",c),l(a)}}):void 0},n(),o.simple("admEvent",function(b,c){var d;d={id:b,attrs:c},q(d),m(d),a("http").pixel({url:s.get("url_event"),data:s.extend({event_id:b,pub_id:s.get("pubid")},c)})})})}.call(this),function(){var b=[].slice;a("cache",function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return o=a("routes").simple,n=a("sha1"),p=a("store"),q=a("util"),c=q.DAY,f=q.defaults,h=q.extend,k=q.identity,d="cache_",i=function(){p.clear(function(a,b){return 0===b.indexOf(d)})},g=function(){var a,c;return c=1<=arguments.length?b.call(arguments,0):[],a=n(""+JSON.stringify(c)),""+d+a},j=function(a,b){var c;return c=p.get(a,b),""!==c?c:void 0},l=function(a,b,d){null==d&&(d=c),null!=a&&null!=b&&p.set(a,b,d)},m=function(a){null!=a&&p.remove(a)},e=function(a,d){var e,h,i,m,n;return null==d&&(d={}),n=f(d,{id:a,parse:k,serialize:k,ttl:c}),e=n.id,h=n.parse,i=n.serialize,m=n.ttl,function(){var c,d,f;return c=1<=arguments.length?b.call(arguments,0):[],d=g(String(e),c),f=j(d),null!=f?h(f):(f=a.apply(null,c),l(d,i(f),m),f)}},o("cache",e),h(e,{PREFIX:d,encode:g,encodeKey:g,flush:i,get:j,put:l,remove:m})})}.call(this),function(){a("client-type",function(){return{PUBLISHER:0,MARKETER:1}})}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},e=[].slice;a("config",function(a){var c,f,g,h,i,j;return f=window,j=a("util"),i=a("store"),g=a("stateful").Stateful,c=function(a){function c(){this._pointerPair=b(this._pointerPair,this),this._makeWatchers=b(this._makeWatchers,this),this.toString=b(this.toString,this),this.toJSON=b(this.toJSON,this),this.destroy=b(this.destroy,this),this.persist=b(this.persist,this),this.has=b(this.has,this),this.remove=b(this.remove,this),this.set=b(this.set,this),this.get=b(this.get,this),c.__super__.constructor.apply(this,arguments),this._handles=[],this._persisted=[],this._defaults={confid:"no-confid"}}return d(c,a),c.prototype.get=function(a,b){var c,d;if(c=this._pointerPair(a),d=j.isString(c[1])?j.deref(c[0],c[1]):c[0],j.isString(d)){if(/^\d{1,12}$/.test(d))return Number(d);if(/^(true|false)$/.test(d))return"true"===d}return null!=d?d:b},c.prototype.set=function(a,b){var c,d;return d=this._pointerPair(a),j.isString(d[1])?(c=j.deref(d[0],d[1]),d[0][d[1]]=b,this._fire("set",a,c,b)):g.prototype.set.apply(this,arguments),this},c.prototype.remove=function(a){var b,c;return c=this._pointerPair(a),j.isString(c[1])?(b=j.deref(c[0],c[1]),delete c[0][c[1]],this._fire("remove",a,b,void 0)):g.prototype.remove.apply(this,arguments),this},c.prototype.has=function(a){return c.__super__.has.call(this,a)||null!=this.get(a)},c.prototype.persist=function(){var a,b,c,d,f,g;return b=1<=arguments.length?e.call(arguments,0):[],b=j.difference(b,this._persisted),c=function(a){return function(b){a.has(b,!0)&&i.set(b,a.get(b))}}(this),b=function(){var e,f,g;for(g=[],e=0,f=b.length;f>e;e++)a=b[e],d=j.partial(c,a),d(),g.push(this._makeWatchers(a,d));return g}.call(this),(f=this._handles).push.apply(f,b),(g=this._persisted).push.apply(g,b),this},c.prototype.destroy=function(){var a,b,c,d;for(d=this._handles,b=0,c=d.length;c>b;b++)(a=d[b])();return this},c.prototype.toJSON=function(){return j.extend({},this._defaults,this._raw)},c.prototype.toString=function(){return"Config"+f.JSON.stringify(this._raw)},c.prototype._has=function(){return g.prototype.has.apply(this,arguments)},c.prototype._makeWatchers=function(a,b){return j.compose(this.watch("set:"+a,b),this.watch("remove:"+a,function(){i.remove(a)}))},c.prototype._pointerPair=function(a){var b,c,d,e,f,h;return b=!1,f=a,e=void 0,a.indexOf(".")>0&&!this._has(a)&&(e=a.split("."),f=e[0],b=!0),h=g.prototype.get.call(this,f),b&&(d=e.slice(1,e.length-1).join("."),d&&(h=j.deref(h,d)),c=e.pop()),[h,c]},c}(g),h=void 0,j.extend(function(a){return(a||!h)&&(h=new c(a)),h},{Config:c})})}.call(this),function(){a("context-terms",function(a,b){var c,d,e,f,g,h,i,j;c=window,j=a("util"),e=c.document,f=["a","form","script","noscript","style","select","textarea","button"],d=new RegExp("<("+f.join("|")+")\\b","i"),g=new RegExp("^("+f.join("|")+")$","i"),b.process=function(a){var b,c,f,h,i,k,l,m;for(f=[e.body],k="";c=f.shift();)3===c.nodeType?k+=c.nodeValue:1===c.nodeType&&(g.test(c.nodeName)||(d.test(c.innerHTML)?f.unshift.apply(f,j.toArray(c.childNodes)):k+=c.innerText||c.textContent));for(k=k.replace(/\s\s+/g," "),l=0,m=a.length;m>l;l++)i=a[l],i.matches=0,h=new RegExp("\\b"+j.escapeRegexp(i.value)+"\\b","ig"),k.replace(h,function(){i.matches++});return b=function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)i=a[b],j.set("context_term_"+i.id,i.matches)&&d.push(i);return d}(),j.set("context_terms_processed",!0),j.set("page_attr_kx_context_terms",b),j.set("context_terms",function(){var a,c,d;for(d=[],a=0,c=b.length;c>a;a++)i=b[a],d.push(i.id);return d}()),{text:k,terms:b}},h=a("pixel"),i=b.pixelFormatter=function(a){var b;return function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(""+b.id+h.tuppleSeparator+b.matches);return e}().join(",")},h.addFormatter("_kpa_kx_context_terms",i)})}.call(this),function(){a("crypto-util",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;return l=32,d=8,f=l/d,e=f*d,c=2,h=16,k="0",i=255,j=4294967295,g=15,n=function(a,b,c){return(a|b<<l-d-c%f*d)>>>0},m=function(a){var b,c,d;for(c=[],b=2*f,d=0;d<a.length;)c.push(a.substr(d,b)),d+=b;return c},b={BITS_PER_BYTE:d,BITS_PER_WORD:e,BYTES_PER_WORD:f,MAX_BYTE:i,MAX_WORD:j,WORD_SIZE:l,pad:function(a,b,c){var d,e,f,g;for(c=c||l,b=b||k,d=[],f=a.length,g=c-f,e=0;g>e;)d.push(b),++e;return d.join("")+a},fromWordToBytesArray:function(a){var b,c,e;for(e=[],b=c=0;f>=0?f>c:c>f;b=f>=0?++c:--c)e.push(a>>>l-d-b%f*d&i);return e},fromBytesArrayToWord:function(a){var b,c,d,e,f;for(d=0,c=e=0,f=a.length;f>e;c=++e)b=a[c],d=n(d,b,c);return d},toWord:function(a){return b.pad(Number(a).toString(c))},fromWord:function(a){return parseInt(a,c)},toHex:function(a){return Number(a).toString(h)},fromHex:function(a){return parseInt(a,h)},rotl:function(a,b,c){return a<<b|a>>>(c||l)-b},rotr:function(a,b,c){return a>>>b|a<<(c||l)-b},fromWordsToLatin1:function(a){var c,d,e,f,g,h,i,j;for(d="",f=0,h=a.length;h>f;f++)for(e=a[f],j=b.fromWordToBytesArray(e),g=0,i=j.length;i>g;g++)c=j[g],d+=String.fromCharCode(c);return d},fromLatin1ToWords:function(a){var b,c,e;for(e=[],b=0,c=a.length;c>b;)e[b>>>2]|=(a.charCodeAt(b)&i)<<l-d-b%f*d,b++;return e},fromWordsToUtf8:function(a){try{return decodeURIComponent(escape(b.fromWordsToLatin1(a)))}catch(c){throw new Error("Malformed UTF-8 data")}},fromUtf8ToWords:function(a){return b.fromLatin1ToWords(unescape(encodeURIComponent(a)))},fromWordsToHex:function(a){var b,c,e,j;for(j=f*a.length,c=[],e=0;j>e;)b=a[e>>>2]>>>l-d-e%f*d&i,c.push((b>>>f).toString(h)),c.push((b&g).toString(h)),e++;return c.join("")},fromHexToWords:function(a){var c,d,e,f;for(e=m(a),f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(b.fromHex(a));return f},calculateSigBytesForWords:function(a){var c,d,e,f,g,h,i,j;for(d=0,f=0,h=a.length;h>f;f++)for(e=a[f],j=b.fromWordToBytesArray(e),g=0,i=j.length;i>g;g++)c=j[g],c&&(d+=1);return d}}})}.call(this),function(){a("data-rewrite",function(a,b){var c,d,e,f,g,h;h=a("util"),d=a("expression"),c=h.rewriter({country:"user_attr_kx_geo_country",sub_section:"subsection",segment:"user_segments"}),f=h.rewriter({"=":"is","!=":"isnt",before:"<",after:">"}),g=function(a){return a=String(a),a.match(/,/)?"["+a.split(", ").join(",")+"]":a},e=b.expression=function(a){var b,e,i,j,k,l,m;if(e=f(a.operator),k=c(a.name),b=a.delimiter,m=h.isArray(a.value)?"["+a.value.join(",")+"]":g(a.value),j=function(a,b,c){var d,e,f,g;for(g=[],e=0,f=a.length;f>e;e++)d=a[e],g.push([b,"$"+c,d]);return g},i=h.isArray(d.get(k,b)),l=d.parse(m),h.isArray(l)){if("is"===e&&(e=i?"intersects":"memberOf"),"isnt"===e&&(e=i?"notIntersects":"notMemberOf"),"url"===k&&!i){if("contains"===e)return["or"].concat(j(l,e,k));if("notContains"===e)return["and"].concat(j(l,e,k))}}else i&&("is"===e&&(e="contains"),"isnt"===e&&(e="notContains"));return b=b?":"+b:"",[e,"$"+k+b,m]},b.tag=function(a){var b,c;return c=h.extend({},a,{criteria:["and"].concat(function(){var c,d,f,g;if(a.criteria){for(f=a.criteria,g=[],c=0,d=f.length;d>c;c++)b=f[c],g.push(e(b));return g}return[]}())}),c.freq_cap&&c.criteria.push(["<","$tag_deliveries_today",c.freq_cap]),c.user_percent&&c.criteria.push(["<",["random"],c.user_percent/100]),delete c.rules,/^\s*\/\/@eval\b/.test(c.content)&&(c.method="eval"),c.name=c.name||"Anonymous",c.timing=c.timing||"onload",c},d.setDelimiter("user_segments",","),b.contextTermExpression=function(a){var b,c,e;return b=f(a.operator),d=void 0,"is"===b?(e=a.occurrences.min||1,d=["or"].concat(function(){var b,d,f,g;for(f=a.values.split(","),g=[],b=0,d=f.length;d>b;b++)c=f[b],g.push([">=","$context_term_"+c,e]);return g}())):d=["and"].concat(function(){var b,d,e,f;for(e=a.values.split(","),f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(["is","$context_term_"+c,0]);return f}()),["and","$context_terms_processed",d]}})}.call(this),function(){a("data",function(a,b){var c,d,e,f,g,h,i,j,k,l;c=window,l=a("util"),k=b.root={},f=b.defs={},g=function(a){return a.match(/_/)?a:"_"+a},l.get=b.get=function(a){return k[g(a)]},l.set=b.set=function(a,b){var c,d;return l.isString(a)?(a=g(a),k[a]=b,l.fire("data:change",{key:a,value:b}),b):function(){var b;b=[];for(c in a)d=a[c],b.push(l.set(c,d));return b}()},l.removeData=b.remove=function(a){delete k[a]},l.append=b.append=function(a,b){var c,d,e;return l.isString(a)?(a=g(a),d=null!=l.get(a)?l.get(a):[],l.isArray(d)||(d=[d]),d.push(b),l.set(a,l.uniq(d))):function(){var b;b=[];for(c in a)e=a[c],b.push(l.append(c,e));return b}()},b.raw=function(){return k},e=b.define=function(a,b){var c,d;if(!l.isString(a))for(c in a)return d=a[c],e(c,d);f[a]=b},d=b.defaults=function(a,b){var c,e,f;if(!l.isString(a))for(c in a)return e=a[c],d(c,e);return f=l.get(a),null!=f?f:l.set(a,b)},i=b.namespace=function(a,b){var c,d,e,f,g;return f=a+"_",d=void 0,g=new RegExp(f+"(.+)"),c=l.attributes({get:function(a){return l.get(f+a)},set:function(a,b){return l.set(f+a,b)},all:function(){var a,b,c;b={};for(a in k)c=k[a],d=a.match(g),null!=d&&(b[d[1]]=c);return b},values:b}),e=void 0,c.change=function(a){e||(e=[],l.on("data:change",function(b){var c,f;if(d=b.key.match(g),null!=d)for(c=0,f=e.length;f>c;c++)(a=e[c])(b)})),e.push(a)},c},b.user_attr=i("user_attr"),b.page_attr=i("page_attr"),a("routes").simple("set",l.set),a("routes").simple("get",l.get),a("routes").simple("append",l.append),a("routes").regexp(/data:(.+)/,function(a,b){return i(a[1],b)}),j=c.navigator,h=j.language||j.browserLanguage||j.userLanguage||j.systemLanguage,h&&(h=h.replace("_","-"),h=h.toLowerCase()),b.user_attr("kx_lang",h),b.user_attr("kx_tech_browser_language",h)})}.call(this),function(){a("dataprovider",function(a,b){var c,d,e,f,g;d=a("http"),g=a("util"),f=b.userMatch=function(a,b,c){return d.pixel({url:g.get("url_um"),data:{partner:a,r:b,_kdpid:c}})},c=b.exelate=function(){return f("exelate","//loadm.exelator.com/load/","e4942ff0-4070-4896-a7ef-e6a5a30ce9f9")},e=a("routes"),e.simple("dataprovider.exelate",c)})}.call(this),function(){a("dom-iframe",function(a,b){var c,d;c=window,d=a("util"),b.IFrame=function(){var b,e;return b=function(b){this.options=d.extend({},e,b||{}),this.node=a("dom").createElement("iframe",this.options.attr),this.insert(),(!this.options.attr.src||this.options.html)&&this.html(this.options.html||"")},e={target:null,targetAction:"append",html:"",attr:{}},b.prototype={insert:function(){var d,e,f;e=this.options,d=e.targetAction,f=e.target||c.document.body,a("dom").insert(d,f,this.node),this.win=b.window(this.node),this.doc=b.document(this.node)},html:function(a){var b;b=this.doc,a.match(/^<html>/)||(a="<html><head></head><body>"+a+"</body></html>"),b.open(),b.write(a),b.close()}},b.window=function(a){return a.contentWindow},b.document=function(a){return b.window(a).document},b}()})}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}},c=[].slice;a("dom",function(a,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;for(e=window,M=a("util"),D=a("sniff"),F=[a("dom-iframe"),D],l=e.document,C=e.setTimeout,f=l.documentElement.attachEvent?"attachEvent":"addEventListener",N=0,O=F.length;O>N;N++){E=F[N];for(v in E)K=E[v],d[v]=K}d.browserBucket=D.bucket,B=new M.Set(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed"]),u=function(a){return!!B[a]},i=d.attr=function(a,b,c){var d,e;if(e="",void 0!==c)return a.setAttribute(b,c),a;try{return a.getAttribute(b)||null!=(d=a.attributes[b])&&d.value||e}catch(f){return e}},d.removeAttr=function(a,b){return a.removeAttr(b)},H=d.text=function(a){return a.innerText||a.textContent},d.value=function(a){switch(a.nodeName){case"INPUT":return i(a,"value");case"TEXTAREA":return H(a)}},d.StringStream=g=function(){function a(){var a;return a=1<=arguments.length?c.call(arguments,0):[],this.stream=b(this.stream,this),this.data=b(this.data,this),this._buffer=a,this.stream.data=this.data,this.stream}return a.prototype.data=function(){return this._buffer.join("")},a.prototype.stream=function(){var a,b;return a=1<=arguments.length?c.call(arguments,0):[],(b=this._buffer).push.apply(b,a)},a}(),L=function(a,b,c){var d,e,f,h,i,j,k,l;null==b&&(b=new g),null==c&&(c=0),h=M.defaults(a,{attributes:{},children:[]}),j=h.tagName,d=h.attributes,f=h.children,i=u(j),b("<",j);for(v in d)K=d[v],b(" ",v,'="',K,'"');if(i)return b("/>");if(b(">"),"string"==typeof f)b(f);else for(k=0,l=f.length;l>k;k++)e=f[k],L(e,b,c+1);return b("</",j,">"),b},k=function(a,b,c){var d;return null==b&&(b={}),null==c&&(c=[]),d="string"!=typeof a?a:{tagName:a,attributes:b,children:c},L(d).data()},t=function(a){var b;return b=l.createElement("div"),b.innerHTML=a,b.childNodes},s=function(a){return t(a)[0]},d.byId=function(a){return(null!=a?a.nodeType:void 0)?a:l.getElementById(a)},r=d.head=function(a){return null==a&&(a=l),a.head||a.getElementsByTagName("head")[0]},d.document=function(a){return a.document||a.ownerDocument||a},d.window=function(a){var b;return b=d.document(a),b.parentWindow||b.defaultView},d.create=d.createElement=function(){var a;return a=1<=arguments.length?c.call(arguments,0):[],s(k.apply(null,a))},A=d.remove=function(a){a.parentNode.removeChild(a)},d.isNode=function(a){return!!a.nodeType},j=d.before=function(a,b){a.parentNode.insertBefore(b,a)},h=d.append=function(a,b){a.appendChild(b)},d.after=function(a,b){var c;return c=a.nextSibling,c?j(c,b):h(a.parentNode,b)},d.prepend=function(a,b){var c;return c=a.firstChild,c?j(c,b):h(a,b)},d.insert=function(a,b,c){return 3===arguments.length?d[a](b,c):(c=a,j(l.getElementsByTagName("script")[0],c))},d.replace=function(a,b){return j(a,b),A(a)},d.scriptEval=function(a){var b;b=l.createElement("script"),b.text=a,r(l).appendChild(b)},d.winEval=function(a,b){var c;return a.kxeval||(c="(function(){,\n  var win = this;,\n  win.kxeval = win.execScript ? ,\n    function(expr){return win.execScript(expr);} :,\n    function(expr){return win.eval(expr);};,\n})();",a.execScript?a.execScript(c):a.eval(c)),a.kxeval(b)},d.childElements=function(a){var b,c,d,e,f;for(c=[],f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],1===b.nodeType&&c.push(b);return c},d.onload=function(a,b){var c,d,e,g,h,i,j;"function"==typeof b&&(b={done:b}),c=b.done,g=b.fail,c=M.once(c||M.noop),g=M.once(g||M.noop),j=function(){return a.readyState&&a.readyState.match(/complete|loaded/)?c():void 0},e={load:c,error:g,readystatechange:j},i=a.attachEvent?"on":"";for(d in e)h=e[d],a[f](i+d,h,!0)
},q="_krux_hash",p=1,o=d.hash=function(a){return a[q]||(a[q]=p++)},w={},d.meta=function(a){var b;return b=o(a),w[b]||(w[b]={node:a,hash:b})},a("events"),y=!!e.window.attachEvent,P=d._on_=y?"attachEvent":"addEventListener",J=d.type={ready:{target:e.document},load:{target:e},unload:{target:e},beforeunload:{target:e}},z=d.on=function(a,b,c,d){b=y?"on"+b:b,a[P](b,c,d||!1)},d.d2on=e.addEventListener?function(a,b,c){return a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c)}}}:function(a,b,c){return a.attachEvent(b,c),{remove:function(){a.detachEvent(b,c)}}};for(x in J)G=J[x],G.nativeName="ready"!==x?x:y?"readystatechanged":"DOMContentLoaded",d[x]=function(a){return function(b){M.onOnce("dom:"+a,b)}}(x);if(n=function(a,b){return null==b&&(b=void 0),"load"!==a?function(){M.fireOnce("dom:"+a,b)}:function(){M.fireOnce("dom:ready",b),M.fireOnce("dom:load",b)}},m=function(){try{l.documentElement.doScroll("left")}catch(a){return void C(m,1)}M.fireOnce("dom:ready")},d.createHead=function(b,c){var e,f,g;return g=a("sizzle"),(f=M.first(g.find('.kxhead[data-id="'+b+'"]')))?f:(d.kxhead=f=d.create("div",{"class":"kxhead","data-id":b,style:"display:none !important;"}),c?d.before(c,f):d.append(l.body,f),e=d.insert,d.insert=function(a){1===arguments.length?d.append(f,a):e.apply(d,arguments)},f)},d.kruxDomain=function(a){var b;return b=String(a).replace(/:\d+$/,""),/(?:\d{1,3}\.){3}\d{1,3}/.test(b)?"":b.replace(/.*?((?:(^|\.)[^\.]+){1,2}(?:\.com)?)$/,"$1").replace(/^\./,"")},d.safeMode=function(){return e.location.href.indexOf("krux_safe")>-1||D.ie&&D.version<8||D.ff&&D.version<4||!e.document.readyState||function(){var a;try{return null==(null!=(a=e.JSON)&&"function"==typeof a.parse?a.parse("true"):void 0)}catch(b){return!0}}()},/^(complete|loaded)$/.test(e.document.readyState))n("load")();else{if(D.ie){z(e,J.load.nativeName,n("ready")),I=!1;try{I=null==e.window.frameElement}catch(Q){}l.documentElement.doScroll&&I&&m()}for(x in J)G=J[x],z(G.target,G.nativeName,n(x),!1)}C(function(){return n("load",{timedout:!0})},6e3)})}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a("events",function(a,c){var d,e,f,g,h,i,j;for(g=a("util"),c.Events=d=function(){function a(){this.clear=b(this.clear,this),this.happened=b(this.happened,this),this.onOnceAll=b(this.onOnceAll,this),this.fireOnce=b(this.fireOnce,this),this.onOnce=b(this.onOnce,this),this.fire=b(this.fire,this),this.off=b(this.off,this),this.on=b(this.on,this),this._handlers={ALL:[]},this._happened={}}return a.prototype.on=function(a,b){g.isString(a)?(null==this._handlers[a]&&(this._handlers[a]=[]),this._handlers[a].push(b)):g.isFunction(a)?this._handlers.ALL.push(a):this.on(function(c){a.test(c.type)&&b(c)})},a.prototype.off=function(a,b){this._handlers[a]=b?g.remove(this._handlers[a],b):[]},a.prototype.fire=function(a,b){var c,d,e,f,h,i,j;if(b=b||{},b.type||(b.type=a),this._happened[a]=b,"data:change"!==b.type&&g.log(b),null!=this._handlers[a])for(i=this._handlers[a],d=0,f=i.length;f>d;d++)(c=i[d])(b);if(null!=this._handlers.ALL)for(j=this._handlers.ALL,e=0,h=j.length;h>e;e++)(c=j[e])(b);return b},a.prototype.onOnce=function(a,b){var c;return(c=this._happened[a])?g.defer(b,c):this.on(a,g.once(b))},a.prototype.fireOnce=function(a,b){return!this._happened[a]&&this.fire(a,b)},a.prototype.onOnceAll=function(a,b){var c,d,e,f;for(a=a.split(" "),b=g.once(b),c=function(c){return function(){var d,e,f;for(e=0,f=a.length;f>e;e++)if(d=a[e],!c._happened[d])return;b()}}(this),e=0,f=a.length;f>e;e++)d=a[e],this.onOnce(d,c)},a.prototype.happened=function(a){return this._happened[a]},a.prototype.clear=function(a){var b,c,d;c=this._happened,this._happened={};for(b in c)d=c[b],a&&0!==b.indexOf(a)&&(this._happened[b]=d)},a}(),e=c.instance=new d,j=["on","off","fire","onOnce","fireOnce","onOnceAll","happened"],h=0,i=j.length;i>h;h++)f=j[h],g[f]=e[f]})}.call(this),function(){a("expression",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(q=a("util"),j=q.isArray,k=q.isString,e={},f={},r=void 0,i=b.getDelimiter=function(a){return q.get(a+"DELIM")},o=b.setDelimiter=function(a,b){i(a)!==b&&q.set(a+"DELIM",b)},h=b.get=function(a,b){var c;return c=q.get(a),b&&o(a,b),b=i(a),q.isArray(c)?c:b?c?c.split(b):[]:c},n=b.parse=function(a){var b,c,d,e,f,g,i,j,k,l;switch(!1){case!!q.isString(a):return a;case!(b=a.match(/^\$([^:]+)(?::(.*))?$/)):return h(b[1],b[2]);case!(b=a.match(/^\[\s*((?:"|').*(?:"|'))\s*]$/)):for(i=b[1].replace(/("|')\s*,\s*\\?("|')/g,'"$DELIM$"').split("$DELIM$"),k=[],d=0,f=i.length;f>d;d++)c=i[d],k.push(n(c));return k;case!(b=a.match(/^\[\s*(.*)\s*]$/)):for(j=b[1].split(/\s*,\s*/),l=[],e=0,g=j.length;g>e;e++)c=j[e],l.push(n(c));return l;case!(b=a.match(/^"(.*)"$/)):return b[1];default:return a}},g=function(a){var b;return b=r(a),b&&(e[b]||f[b])},d=function(a,b){var c,d,e,f,g;if(b)return a.slice(1);for(f=a.slice(1),g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(r(c));return g},c=function(a){var b;return b=g(a[0]),b.apply(this,d(a,b.isMacro))},r=b.eval=function(a){return j(a)?c(a):k(a)?n(a):a},q.extend(e,{is:function(a,b){return q.isString(a)?a.toLowerCase()===String(b).toLowerCase():a===b},matches:function(a,b){return new RegExp(b).test(a)},startsWith:function(a,b){return e.matches(a,"^"+q.escapeRegexp(b))},endsWith:function(a,b){return e.matches(a,q.escapeRegexp(b)+"$")},contains:function(a,b){var c;return a=a||[],c=(""+b).toLowerCase(),q.isArray(a)?q.any(a,function(a){return(""+a).toLowerCase()===c}):(""+a).toLowerCase().indexOf(c)>=0},memberOf:function(a,b){return e.contains(b,a)},intersection:function(a,b){return q.intersection(a,b)},intersects:function(a,b){return a=q.isArray(a)?a:[a],b=q.isArray(b)?b:[b],q.any(a,function(a){return e.contains(b,a)})},random:function(){return Math.random()},now:function(){return new Date}}),u=["<",">","<=",">="],s=0,t=u.length;t>s;s++)p=u[s],e[p]=new Function("a","b","return a "+p+" b");q.extend(e,{isnt:q.negate(e.is),notMemberOf:q.negate(e.memberOf),notContains:q.negate(e.contains),notIntersects:q.negate(e.intersects)}),q.extend(f,{and:function(){return q.every(arguments,r)},or:function(){return q.any(arguments,r)}});for(m in f)l=f[m],l.isMacro=!0})}.call(this),function(){a("feature",function(a){var b;return b=a("sniff"),{hasThirdPartyCookies:function(){return b.is!==b.Browsers.SAFARI}}})}.call(this),function(){var b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a("fingerprint-scraper",function(a,c){var d,e,f,g,h;h=a("util"),d=c.all=function(a,b){var c,d,e,f;null==b&&(b=h.yes),d=h.deref(a),f=[];for(c in d)e=d[c],b(e,c,d)&&null!=e&&f.push(e);return f},c.path=h.deref,e=function(a){return function(c,d){return a(c,function(a,c){return b.call(d,c)>=0})}},c.keys=e(d),f=c.pluckAll=function(a,b){var c,d,e,f,g,i,j;for(null==b&&(b=h.yes),c=h.deref(a),c.length||(c=h.values(c)),f=[],i=0,j=c.length;j>i;i++){e=c[i];for(d in e)g=e[d],e.hasOwnProperty(d)&&b(g,d,e)&&f.push(g)}return f},g=c.pluckKeys=e(f),c.pluckKeysWhere=function(a,b,c){var d,e,f,h,i,j;for(e=g(a,b),j=[],d=h=0,i=e.length;i>h;d=++h)f=e[d],c(f,d,e)&&j.push(f);return j},c.primitives=h.partial(d,h._,h.isPrimitive),c.serializable=h.partial(d,h._,h.isSerializable)})}.call(this),function(){a("fingerprint",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return c=window,o=a("util"),d=a("cache"),j=a("fingerprint-scraper"),m=a("sha1"),a("data"),h=o.partial(j.keys,"navigator"),k=o.partial(j.keys,"screen"),n=function(a){return a[0]*a[1]},l=o.compose(k,n),e=o.partial(o.deref,c),b.canvas=function(){var a,b,c;return a=document.createElement("canvas"),b=a.getContext("2d"),c="F1ng3r Print",b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText(c,2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText(c,4,17),[a.toDataURL()]},b.mimeTypes=o.partial(j.pluckKeysWhere,"navigator.mimeTypes",["type","description","suffixes"],function(a){return""!==a&&o.isString(a)||o.isNumber(a)&&!o.isNaN(a)}),b.navigatorPrimitives=o.partial(h,["onLine","product","appCodeName","platform","appVersion","appName","vendorSub","vendor","productSub","cookieEnabled","language"]),b.plugins=o.partial(j.pluckKeys,"navigator.plugins",["name","filename","description"]),b.screenDepth=o.partial(k,["pixelDepth","colorDepth"]),b.screenResolution=o.partial(l,["availWidth","availHeight"]),b.screenSize=o.partial(l,["width","height"]),b.timezone=function(){return[(new Date).getTimezoneOffset()]},b.ua=function(){var a;return a=j.path("navigator.userAgent"),[String(a).replace(/([a-z0-9]){8}\-(\1{4})\-\2\-\2\-\1{12}/i,"")]},i=function(){var a,c,d,e;c=[];for(e in b){a=b[e];try{d=a(),c.push.apply(c,d)}catch(f){}}return c},f=function(){return m(i().sort().join(""))},g=function(a){var b,c;return c=a.get("fp_id"),b=d(f,{ttl:30*o.MINUTES})(),o.set("fp",b),a.set("fp",b),o.set("fp_id",c),o.onOnce("user_data_response",function(b){b.kfuid&&(o.set("fp_id",b.kfuid),a.set("fp_id",b.kfuid))}),b},o.extend(g,b,{raw:i})})}.call(this),function(){a("flash",function(a,b){var c,d,e,f;c=window,d=function(a){try{return a.GetVariable("$version")}catch(b){}return""},e=function(a){var b;return b=a.split(","),{installed:!0,raw:a,major:parseInt(b[0].split(" ")[1],10),minor:parseInt(b[1],10),revision:parseInt(b[2],10),revisionStr:b[2]}},f=function(a){var b,c,d;return b=a.split(RegExp(" +")),c=b[2].split(/\./),d=b[3],{installed:!0,raw:a,major:parseInt(c[0],10),minor:parseInt(c[1],10),revision:parseInt(d.replace(/[a-zA-Z]/g,""),10)||d,revisionStr:d}},b.version=function(){var b,g,h;if(h=a("util"),g="",b=null,null!=c.navigator.plugins&&c.navigator.plugins.length>0){if(g=h.deref(c.navigator,"mimeTypes.application/x-shockwave-flash.enabledPlugin.description"))return f(g)}else if(-1===c.navigator.appVersion.indexOf("Mac")&&null!=window.execScript){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),g="6,0,21",b.AllowScriptAccess="always",g=d(b)}catch(i){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),g=d(b)}catch(i){}if(g)return e(g)}return{installed:!1,raw:"",major:"",minor:"",revision:"",revisionStr:""}}})}.call(this),function(){a("geo",function(a,b){var c,d,e,f,g,h,i,j,k,l,m;return d=window,m=a("util"),e=a("config"),j=a("privacy"),k=a("store"),a("data"),a("events"),h=function(a){return String(a).toLowerCase()},i=function(a){var b,c,d;for(b in a)d=a[b],c=h(b),c!==b&&(delete a[b],a[c]=d);return a},f=function(a){var b,c,d,e;for(e=["country","region","city","dma"],c=0,d=e.length;d>c;c++)b=e[c],m.set("user_attr_kx_geo_"+b,a[b]||a[b.toUpperCase()])},l=function(a){k.impl&&k.set("geo",m.paramString(a),24*k.HOURS)},g=function(){return k.impl?m.parseParams(k.get("geo")):{}},c="geo",b=m.extend(function(){var a,f,h,i,k;if(f=e(),f.get("params.no_pii")||j.isOptOut()){for(h in b)i=b[h],m.isFunction(i)&&(b[h]=m.noop);return f.set(c,{}),b}return k=f.get(c),m.isString(k)&&f.set(c,k=d.JSON.parse(k)),m.isEmpty(k)?(m.on("user_data_response",function(a){var c;c=(a||{}).geo||{},l(c),b.receive(c)}),a=g(),m.isEmpty(a)||b.receive(a)):(b.receive(k),l(k)),b},{get:function(a){var b;return b=m.get(c)||{},a?b[h(a)]:b},set:function(a,d){return null!=d?m.get(c)[h(a)]=d:m.set(c,i(a)),b},receive:function(a){return b.set(a),f(a),m.fireOnce("geo:ready",b),b}})})}.call(this),function(){var b=[].slice;a("hash-set",function(a){var c,d;return d=a("util"),c=function(){function a(){var a,c;a=arguments[0],c=2<=arguments.length?b.call(arguments,1):[],this._hash=function(b){var c;return c=d.isFunction(a)?a(b):b,String(void 0!==c?c:b)},this._q=[],this.put.apply(this,c),this._items={}}return a.prototype.put=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this._q).push.apply(c,a),this},a.prototype.get=function(a){return this._thunk(),this._items[this._hash(a)]},a.prototype.has=function(a){return this._thunk(),this._hash(a)in this._items},a.prototype.remove=function(){var a,c,d,e;for(c=1<=arguments.length?b.call(arguments,0):[],this._thunk(),d=0,e=c.length;e>d;d++)a=c[d],delete this._items[this._hash(a)];return this},a.prototype.toArray=function(){var a,b,c,d;this._thunk(),c=this._items,d=[];for(b in c)a=c[b],d.push(a);return d},a.prototype.fromArray=function(a){return this.put.apply(this,a),this},a.prototype.toString=function(){var a;return this._thunk(),function(){var b;b=[];for(a in this._items)b.push(a);return b}.call(this).join(",")},a.prototype.empty=function(){return this._q=[],this._items={},this},a.prototype.size=function(){var a;return this._thunk(),function(){var b;b=[];for(a in this._items)b.push(a);return b}.call(this).length},a.prototype._thunk=function(){var a,b,c,d;for(d=this._q.splice(0,this._q.length),b=0,c=d.length;c>b;b++)a=d[b],this._items[this._hash(a)]=a;return this},a}(),d.extend(function(){var a,d,e;return d=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],a=new c(d),a.put.apply(a,e),a},{HashSet:c})})}.call(this),function(){a("http-jsonp",function(a,b){var c,d,e,f,g,h;c=window,h=a("util"),g=a("ns"),e=c.document,f=g.self.inFlightKeys=g.self.inFlightKeys||{},b.Request=d=function(){function b(c){var d,e;if(c.data=c.data||{},this.options=c,!c.callback)throw new Error("Callback name is required");for(d in c)e=c[d],this[d]=e;this.self&&(this.done=function(a){var b;return(b=this.self).done.apply(b,a)},this.fail=function(a){var b;return(b=this.self).fail.apply(b,a)}),this.plantReceiver(),this.src=a("http").src(this),b.all.push(this)}return b.all=[],b.prototype.fail=function(a){var b;b=a&&a.status||"unknown",h.fire("error",{message:"jsonp failed with status "+b+" src: "+this.src})},b.prototype.done=function(){},b.prototype.receive=function(a){return this.time.end=new Date,a.status?"200"===String(a.status)?this.done(a.body):this.fail(a):this.done(a)},b.prototype.plantReceiver=function(){var a;a=this.options.callback,this.data.callback=g.path+"."+a,f[a]=f[a]||0,f[a]++,g.self[a]=function(b){return function(){f[a]--,0===f[a]&&delete g.self[a],b.receive.apply(b,arguments)}}(this)},b.prototype.sendInline=function(){var a;return a='<script src="'+this.src+'" type="text/javascript"></script>',e.write(a),this},b.prototype.send=function(){var a,b;return this.time={start:new Date},this.inline?this.sendInline():(a=e.createElement("script"),a.type="text/javascript",a.src=this.src,b=e.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b),this)},b.clear=function(){return b.all=[]},b}(),b.call=function(a){return new d(a).send()},b.clear=d.clear})}.call(this),function(){a("http",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;c=window,n=a("util"),j=a("sniff"),m=a("uuid"),i=b.protocol="https:"===c.location.protocol?"https:":"http:",d=b.REQUEST_ID_KEY="request_id",b.maxUrlLength=j.is===j.Browsers.IE?2030:8e3,h=b.param=function(a,b){var d;return d=n.isString(b)||n.isNumber(b)?b:c.JSON.stringify(b),""+encodeURIComponent(a)+"="+encodeURIComponent(d)},l=function(a,b){return a.match(/^\/\//)&&(a=i+a),b.length>0?""+a+"?"+b.join("&"):a},g=n.compose(function(a){return a.length>b.maxUrlLength},l),f=function(a,b){return[""+d+"="+b].concat(a)},e=function(a){return""+a+"&pageview=false"},k=b.srcs=function(a){var b,c,d,e,i,j,k,o,p,q,r,s,t;if(a=n.clone(a),o=a.url=a.url||"no_url",j=m(),k=n.partial(l,o),c=n.partial(g,o),i=function(){var b,c;b=a.data,c=[];for(d in b)p=b[d],c.push(h(d,p));return c}(),a.noClip)return[k(i)];for(b=function(a,d){var e;for(d=d||[],e=[],a=f(a,j);c(a)&&a.length;)e.push(a.pop());return d.push(a),e.length>0&&a.length>0?b(e,d):(1===d.length&&d[0].shift(),d)},s=b(i),t=[],q=0,r=s.length;r>q;q++)e=s[q],t.push(k(e));return t},b.src=function(a){var c;return c=k(a),c.length>1&&n.fire("http:error",{code:"overflow",message:"Too many params for a single URL (max = "+b.maxUrlLength+").\nUsing first URL chunk; use http#srcs instead to handle long URLs"}),n.head(c)},b.willClip=function(a){var c;return c=b.src(n.extend({noClip:!0},a)),c.length>b.maxUrlLength&&c.length-b.maxUrlLength},b.pixel=function(a){var b,d,f,g,h;try{for(h=k(a),b=f=0,g=h.length;g>f;b=++f)d=h[b],(new c.Image).src=b>0?e(d):d;n.fire("http:pixel",a)}catch(i){}},b.jsonp=function(b){return a("http-jsonp").call(b)},b.clearRequestList=function(){return a("http-jsonp").clear()}})}.call(this),function(){a("impression",function(a,b){var c,d,e;e=a("util"),c=a("pixel"),a("data"),d=b.send=function(a){e.set("url_pixel",a.url),c.sendImpl(a)},b.init=function(a){d(a)}})}.call(this),function(){a("index",function(a){a("init")})}.call(this),function(){!function(b){var c;return c=b,window.postscribe=null,a("init",function(a){var b,d;return b=window,d=b.Krux||((b.Krux=function(){b.Krux.q.push(arguments)}).q=[]),d.postscribe=b.postscribe,b.postscribe=c,!d.commit||d.ns?(d.commit=d.commit||1,b.Krux=function(c,e){var f,g;e.params=e.params||{},g=e.params.control_tag_namespace,b.Krux=d,f=a("ns").init(g,function(){return a("routes").call}),f&&("marketer"===e.params.client_type?a("marketer")(f,e):a("publisher")(f,e))}):void 0})}(window.postscribe)}.call(this),function(){a("jslog",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;c=window,q=a("util"),f=a("dom"),k=a("http"),o=a("sniff"),e=c.location.search.indexOf("kxdebug")>-1,h=[],n=[],j=function(a){if(c.console&&e,q.happened("jslog.pixel")){if(a.msg===n[n.length-1])return;if(n.length>10*Math.random())return;n.push(a.msg),a.type+="-postload",h.push(a),k.pixel(i()),h=[]}else h.push(a)},m=function(a){var b;return b=/https*:\/\/([^\/]+)\/([^?\/]+)/.exec(a),b&&"apiservices.krxd.net"===b[1]?"service:"+b[2]:b&&b[1].indexOf("krxd.net")>-1?"controltag":""},g=b.errorTypes=["controltag","tag","test","http","js"],l=c.onerror||function(){return!1},c.onerror=function(a,b,d){var e,f;try{return"string"!=typeof a?l.apply(c,arguments):(f=m(b)||"js",j({type:f,url:b,line:d,msg:a}),l.apply(c,arguments))}catch(g){e=g,c.console}return l.apply(c,arguments)},p=b.sortByPriority=function(a){var b;return b=function(a){var b;return b=q.indexOf(g,a.type),-1!==b?b:g.length},q.clone(a).sort(function(a,c){var d,e;return d=b(a),e=b(c),e>d?-1:d>e?1:0})},q.on("tag:fail",function(a){j({type:"tag",tagid:a.id,msg:a.error})}),q.on("test:fail",function(a){j({type:"test",msg:a.code+":"+a.data})}),d=void 0,i=b.getPixelOptions=function(a){var b,e;for(b=a||{url:q.get("url_log"),data:{control_tag_version:c.Krux.version,commit:c.Krux.commit,pubid:q.get("pubid"),siteid:q.get("siteid"),site_name:q.get("site"),browser_bucket:o.bucket,version_bucket:d,lang:o.lang,log_version:1.1,errors:p(h)}},e=b.data.errors;k.willClip(b)&&e.length;)e.pop();return b},q.on("test:all_done",function(){var a;a="alpha"===q.get("config_param_control_tag_version")?1:.1,h.length>0&&q.rate(a)&&(k.pixel(i()),q.fire("jslog.pixel",{errors:h.length}),h=[])}),q.on("http:error",function(a){j({type:"http",msg:a.code+": "+a.message})})})}.call(this),function(){a("krux-uid",function(){var a,b,c;return a=function(){function a(a){var b,c,d,e,f;for(this.charMap=a,this._indexMap=[],f=this.charMap,c=d=0,e=f.length;e>d;c=++d)b=f[c],this._indexMap[b]=c}return a.SHORT_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"],a.LONG_ALPHABET=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],a.SHORT_CODEC=new a(a.SHORT_ALPHABET),a.LONG_CODEC=new a(a.LONG_ALPHABET),a.prototype.encode=function(a){var b,c,d;for(c=this.charMap.length,b=[];a>0;)d=a%c,a=Math.floor(a/c),b.push(this.charMap[d]);return b.reverse().join("")},a.prototype.decode=function(a){var b,c,d,e,f;for(d=a.length,e=0,b=f=0;d>=0?d>f:f>d;b=d>=0?++f:--f){if(c=this._indexMap[a.charAt(b)],null==c)throw new Error("Cannot decode "+a+" as a KruxUID.");e+=c,d-1>b&&(e*=this.charMap.length)}return e},a}(),b=function(){function b(c){var d,e;this.uid=c,this.uid=function(){switch(!1){case"number"!=typeof c:return c;case!b.isFallback(c):return this._fallback=c,-1;default:try{return a.LONG_CODEC.decode(c)}catch(f){d=f;try{return a.SHORT_CODEC.decode(c)}catch(f){return e=f,this._fallback=c,-1}}}}.call(this)}return b.prototype._fallback=void 0,b._guidRe=/^[a-z0-9]{8}-(?:[a-z0-9]{4}-){3}[a-z0-9]{12}$/i,b._oldIpSeparator=".",b.prototype.toShortId=function(){return null!=this._fallback?this._fallback:a.SHORT_CODEC.encode(this.uid)},b.prototype.toLongId=function(){return null!=this._fallback?this._fallback:a.LONG_CODEC.encode(this.uid)},b.prototype.toNumericId=function(){return this.uid},b.isFallback=function(a){return b._guidRe.test(a)||-1!==("function"==typeof a.indexOf?a.indexOf(b._oldIpSeparator):void 0)},b.fromShort=function(c){return new b(b.isFallback(c)?c:a.SHORT_CODEC.decode(c))},b.fromLong=function(c){return new b(b.isFallback(c)?c:a.LONG_CODEC.decode(c))},b}(),c=function(a){return new b(a)},c.fromShort=b.fromShort,c.fromLong=b.fromLong,c})}.call(this),function(){a("kxinterchange",function(a){var b;b=window,function(){var c,d,e,f;e=function(a){var c,d,e,f;return e=function(){try{return this.localStorage}catch(a){return c=a,null}}.call(this),d="kx"+a,((f=e)?f[d]||"":(f=b.document.cookie)&&(f=f.match("\\b"+d+"=([^;]*)"))&&decodeURIComponent(f[1]))||""},f=a("util"),c=b.Krux,d={Krux:{user:c.user,segments:c.segments,dartKeyValues:c.dartKeyValues},store:{user:e("user"),segs:e("segs")}},a("test").module("kxinterchange-support-snippet",function(a){var b,e,f,g,h,i;for(a.eq("Krux.user exported",d.Krux.user,d.store.user),e=d.store.segs,a.eq("Krux.segments exported",d.Krux.segments,e&&e.split(",")||[]),i=d.Krux.segments,g=0,h=i.length;h>g;g++)b=i[g],a("Krux.dartKeyValues contains segment "+b,c.dartKeyValues.indexOf("ksgmnt="+b)>=0);f=d.store.user,f&&a("Krux.dartKeyValues contains user",c.dartKeyValues.indexOf("u="+f)>=0)})}()})}.call(this),function(){a("marketer",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return d=window,u=a("util"),g=a("config"),h=a("dom"),i=a("fingerprint"),k=a("impression"),n=a("privacy"),o=a("data-rewrite").tag,p=a("routes"),q=a("sizzle"),r=a("store"),s=a("tag"),t=a("timing"),c="data-kx-id",e=/^https?:\/\/([a-z0-9_\-\.]+\.)?krxd\.net(:\d{1,5})?(\/|$)/i,f=function(a,b){return h.attr(b,c,a),b},j=b.getParams=function(a){return u.urlParams(h.attr(a,"src"))},m=b.next=function(a){var b;if(b=u.find(q.find("script[src*="+a+"]"),function(a){return!h.attr(a,c)&&e.test(a.src)}),!b)throw new Error("No node found for "+a);return b},l=function(b,c){var e,l,q,v,w,x,y,z,A,B,C,D;if(y=new Date,l=g(c),q=l.get("confid"),D=q+"-"+y.getTime(),t.start(),s.claimOneTimers(l.get("tags")),u.set("tags",l.get("tags")||[]),a("jslog"),v=a("data"),v.user_attr=v.namespace("user_attr"),v.page_attr=v.namespace("page_attr"),a("scrape"),a("dataprovider"),a("events"),a("segments"),x=f(D,m(q)),z=j(x),A=l.get("services"),!A||!A.impression)throw new Error("impression service not specified");return z.url=A.impression,u.set("confid",q),u.set("pubid",u.get("pubid")||l.get("publisher.uuid")),l.get("params.no_pii")&&(u.set("pixel_data__knopii",1),v.user_attr("kx_lang",null),v.user_attr("kx_tech_browser_language",null)),a("test").init(),a("test-visualtags").init(),u.set("tags",l.get("tags")),u.set("config",l.toJSON()),u.set("version_bucket",l.get("params.control_tag_version")),u.set("max_segments",l.get("params.max_segments")),u.set("prioritized_segments",l.get("prioritized_segments")),v.namespace("url",l.get("services")),v.namespace("config_param",l.get("params")),w=!/localStorage/.test(u.get("config_param_client_side_storage")),a("store").init(w),n(),a("geo")(),h.safeMode()?(u.onOnce("dom:load",u.bind(u.fireOnce,null,"report")),void t.end()):(l.get("params.fingerprint")&&!n.isOptOut()&&i(r),C=function(){var a,b,c,d;for(c=u.get("tags")||[],d=[],a=0,b=c.length;b>a;a++)B=c[a],d.push(o(B));return d}(),u.set("tags",C),u.set("config_segments",l.get("realtime_segments")),u.onOnceAll("dom:load tag:all_done",function(){u.fireOnce("report")}),e=a("adm-events"),e.parseConfig(l.get("realtime_segments",[])),e.check3rdParty(),a("stats"),a("social"),p.api(),l.has("context_terms")&&u.onOnce("dom:load",function(){a("context-terms").process(l.get("context_terms"))}),z._kpid=u.get("pubid"),k.init(z),d.setTimeout(s.init,250),void t.end())},u.extend(l,b)})}.call(this),function(){a("ns",function(b,c){var d,e,f,g,h,i,j,k;e=window,k=b("util"),j=b("version"),f=e.Krux,g=c.NS_RE=/^ns:([\w\W]+)/,d=c.DEFAULT_NS="_default",i=c.parseArgs=i=function(a){var b,c,e;return c=a[0],e=void 0,b=c.match(g),b?(c=b[1],e=k.rest(a)):(c=d,e=a),{nsName:c,rest:e}},h=function(c){var d;return d={version:j.version,commit:j.commit,require:b,define:a,_:k},k.extend(c,d),c.isDefault&&k.extend(e.Krux,d),c},c.router=f.nsRouter||function(){var a;return a=function(){var b,c;return b=i(arguments),c=a.ns[b.nsName],b.rest.length?c?c.apply(c,b.rest):void a.q.push(arguments):c},a.ns={},a.q=[],a.defineNamespace=function(b,c){var e,f,g,h,i,j;if(f=b||d,a.ns[f])return a.ns[f];for(g=a.ns[f]=c(b),k.extend(g,{nsName:f,isDefault:f===d,path:"Krux.ns."+f}),a.creator=a.creator||g,j=a.q.splice(0,a.q.length),h=0,i=j.length;i>h;h++)e=j[h],a.apply(null,e);return g},a.nsRouter=a,k.extend(a,f),e.Krux=a}(),c.init=function(a,b){var d;return d=c.self=c.router.defineNamespace(a,b),d&&(c.name=d.nsName,c.isDefault=d.isDefault,c.path=d.path,h(d)),d}})}.call(this),function(){a("pixel",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;c=window,v=a("util"),n=a("http"),g=a("config")(),i=a("dom"),h=a("data"),j=a("feature"),s=a("sniff"),t=a("store"),o=a("privacy"),d=c.Krux,q=b.sendImpl=function(a){var b,c,d,e,f;c={};for(b in a)f=a[b],(f=k(b,f))&&(c[b]=f);e=v.get("config_param_control_tag_pixel_throttle"),d=100*Math.random(),e&&d>e||(n.pixel({url:v.get("url_pixel"),data:c}),setTimeout(function(){var a;return(null!=(a=v.get("user"))?a.length:void 0)>0?void 0:o.fetch()},500))},u=b.stringifyValue=function(a){var b;return null==a&&(a=""),v.isArray(a)?function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],null!=b&&e.push(u(b));return e}().join(f):String(a)},l=b.formatters=[],e=b.addFormatter=function(a,b){l.push({test:a,formatter:b})},k=b.format=function(a,b){var c,d,e,f,g,h;for(d=void 0,g=0,h=l.length;h>g;g++)if(c=l[g],("function"==typeof(f=c.test).test?f.test(a):void 0)||c.test===a){d=c;break}return(e=(null!=d?d.formatter:void 0)||u)(b)},b.tuppleSeparator=":",f=b.arraySeparator=",",p=b.send=function(a,b){var c;c=m(a,b),q(c),v.fireOnce("pixel",{phase:a,data:c})},m=b.gather=function(b,f){var i,k,l,m,n,o,p,q,r,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;x={source:"smarttag",fired:b,confid:v.get("confid"),_kpid:v.get("pubid"),_kcp_s:v.get("site"),_kcp_sc:v.get("section"),_kcp_ssc:v.get("subsection"),_kcp_d:v.get("domain"),_knifr:c.frames.length,_kpref_:c.document.referrer},f===!1&&(x.pageview=String(f)),1!==v.get("pixel_data__knopii")&&(x.geo_country=v.get("user_attr_kx_geo_country"),x.geo_region=v.get("user_attr_kx_geo_region"),x.geo_city=v.get("user_attr_kx_geo_city"),x.geo_dma=v.get("user_attr_kx_geo_dma")),v.size(v.get("config_segments"))&&(x.rtsegs=a("segments").realtime()),H=function(a,b){var c,d;for(c in b)d=b[c],x[a+c]=d},H("_kua_",h.user_attr()),H("_kpa_",h.page_attr()),H("",h.namespace("pixel_data")()),r=null!=(K=c.performance)?K.navigation:void 0,D=null!=(L=c.performance)?L.timing:void 0,!r||!D||s.ff&&s.version<9||(k=function(a,b){var c;return null==b&&(b=void 0),null==b&&(b=""+a+"End",a=""+a+"Start"),c=D[a]&&D[b]&&D[b]-D[a],null==c||0>c||c>3e4?-1:c},v.extend(x,{t_navigation_type:r.type,t_dns:k("domainLookup"),t_tcp:k("connect"),t_http_request:k("request"),t_http_response:k("response"),t_content_ready:k("navigationStart","domInteractive"),t_window_load:k("navigationStart","loadEventStart"),t_redirect:k("redirect")})),B=a("scrape"),F=v.happened("user_data_response"),u=a("ns"),o=u.isDefault?d:d[u.name]||{},v.extend(x,{interchange_ran:o.hasOwnProperty("user"),store_user:o.user,store_segs:o.segments,dart_user:B.dart("u"),dart_segs:B.dart("ksgmnt")||B.dart("ksg"),userdata_was_requested:!!v.happened("user_data_request"),userdata_did_respond:!!F,store_user_after:t.get("user"),store_segs_after:t.get("segs")}),F&&v.extend(x,{userdata_user:[F.kuid,F.kuid_long],userdata_segs:F.segments}),w=t.get("org_user_id"),null!=w&&""!==w?v.extend(x,{_kuid:w}):g.get("params.target_fingerprint",!1)&&!j.hasThirdPartyCookies()&&v.extend(x,{_kuid:v.get("fp_id")}),g.get("params.no_pii",!1)?v.extend(x,{browser_bucket:s.browser,browser_version:s.version}):g.get("params.fingerprint",!1)&&(m=v.get("fp"),n=v.get("fp_id"),v.extend(x,{kfuid:n,kxfp:m})),M={user:"_kua_",page:"_kpa_"};for(E in M){y=M[E],N=h[""+E+"_attr"]();for(q in N)G=N[q],x[y+q]=G}try{A=c.sessionStorage}catch(Q){l=Q,A=null}if(A)try{x.sview=A.krux_views=+(A.krux_views||0)+1}catch(Q){}for(O=v.get("tags"),p=I=0,J=O.length;J>I;p=++I)C=O[p],(null!=(P=C.time)?P.end:void 0)&&(x["kplt"+p]=C.id,H("tag"+C.id+"_timing",{duration:C.time.duration}));return e(/tag.*_timing/i,function(){return!1}),i=a("http-jsonp").Request.all,x.jsonp_requests=function(){var a,b,c;for(c=[],a=0,b=i.length;b>a;a++)z=i[a],c.push([z.url,z.time.end-z.time.start]);return c}(),x},r=b.sendOnce=v.once(p),b.init=function(){v.onOnce("report",function(){var a;a=v.partial(r,"report"),v.happened("user_data_fetch_scheduled")?(v.onOnce("user_data_response",function(){v.defer(a)}),c.setTimeout(function(){r("user_data_timeout")},300)):a()}),v.onOnce("dom:beforeunload",function(){r("dom:beforeunload")}),v.onOnce("dom:unload",function(){r("dom:unload")}),v.on("navigation",function(a){var b;b={source:"smarttag",type:"navigation",_kpid:v.get("pubid"),_kcp_s:v.get("site"),_kcp_sc:a.section,_kcp_ssc:a.subsection},q(b)}),a("test").module("pixel",function(a){a("pixel",v.happened("pixel"))})}})}.call(this),function(){a("privacy",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return w=a("util"),g=a("config"),h=a("feature"),k=a("http"),r=a("routes"),s=a("sniff"),t=a("store"),j=a("krux-uid").fromShort,a("events"),a("data"),c="optout:",f=6*w.MONTHS,d={ATTEMPT_CHANGE:c+"attemptChange",CHANGE:c+"change",ERROR:c+"error",REQUEST:c+"request",RESPONSE:c+"response",USER_UPDATE:"user:update"},e=b.OPTOUT_ALLOWED_KEYS=[/^tag\d*\.day$/,"optout"],b.Events=w.clone(d),n=function(a){return w.extend({code:"success",type:"no_change",time:new Date},a)},p=!1,i=function(a){w.fire(d.REQUEST),k.jsonp({callback:"kxjsonp_optOutCheck",done:a,fail:w.partial(w.fire,d.ERROR),url:g().get("services.is_optout")})},q=function(a){var b;w.fire(d.ATTEMPT_CHANGE),b=w.partial(w.fire,d.CHANGE),h.hasThirdPartyCookies()?k.jsonp({callback:"kxjsonp_optOutChange",done:b,fail:w.partial(w.fire,d.ERROR),url:g().get("services.set_opt"+(a?"out":"in"))}):b(n({type:"optout_change"}))},o=b.optOut=function(a,b){null==a&&(a=!0),null==b&&(b=!1),a?(m()||q(a),t.allowOnly.apply(t,e),t.clear(),(!b||h.hasThirdPartyCookies())&&t.set("optout","true")):(m()&&q(a),t.allowAll(),t.remove("optout")),p=a,g().set("dnt",p)},v=function(){return"true"===("function"==typeof t.get?t.get("optout"):void 0)},l=b.isDnt=function(){var a;return s.ie&&s.version>=10?!1:(a=w.deref("doNotTrack"),null==a&&(a=w.deref("navigator.doNotTrack")),/(?:yes|1)/i.test(a))},m=b.isOptOut=function(){return Boolean(p||g().get("dnt")||v()||l())},u=function(a){var b,c;null==a&&(a=w.get("user")||("function"==typeof t.get?t.get("kuid"):void 0)),c="function"==typeof t.get?t.get("org_user_id"):void 0,p||null==a&&""===c||(w.set("user",c||a),b=function(){switch(!1){case""===c:return c;case!g().get("params.dfp_premium",!1):return j(a).toLongId();default:return a}}(),"function"==typeof t.set&&t.set("user",b,f),"function"==typeof t.set&&t.set("kuid",a,f),w.fire(d.USER_UPDATE,{kuid:b,"short":a,"long":j(a).toLongId()}))},b.handler=function(a){var b;w.fire(d.RESPONSE,a),b=a._kuid_||a.kuid,a.optout||/^(?:OPTOUT|DNT)$/i.test(a._kuid_||"")?o():(null==a||null!=(null!=a?a.optout:void 0)||null!=b)&&o(!1),u(b)},w.extend(function(){var a;w.onOnce("dom:load",function(){return i(b.handler)}),a=function(){l()?o(!0,!0):m()&&o(),w.off(t.READY_EVENT,a)},w.onOnce(t.READY_EVENT,a),r.simple("optout",function(a,b){var c,e,f;
return null==b&&(b=w.noop),null==a?m():a===m()?void b(null,n()):(e=function(){w.off(d.CHANGE,f),w.off(d.ERROR,c)},f=function(a){return b(null,a),e()},c=function(a){return b(new Error(a.message),a),e()},w.on(d.CHANGE,f),w.on(d.ERROR,c),void o(a))})},b,{Events:d,fetch:function(a){return null==a&&(a=w.noop),i(function(c){return b.handler(c),a(c)})},storeKuid:u,USER_ID_EXPIRY:f})})}.call(this),function(){a("publisher",function(a){var b,c,d,e,f,g,h,i,j,k,l;return b=window,c=a("config"),d=b.document,e=a("feature"),f=a("fingerprint"),h=a("privacy"),i=a("data-rewrite").tag,j=a("store"),l=a("util"),k=a("timing"),g=b.location,function(m,n){var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;if(k.start(),p=c(n),s=a("dom"),a("jslog"),r=a("data"),r.user_attr=r.namespace("user_attr"),r.page_attr=r.namespace("page_attr"),w=a("routes"),a("scrape"),a("dataprovider"),a("events"),d.getElementById("kxinterchange")&&a("kxinterchange"),q=p.get("confid"),l.set("confid",q),l.set("pubid",l.get("pubid")||p.get("publisher.uuid")),l.set("domain",s.kruxDomain(g.host)),l.set("site",l.get("site")||p.get("site.name")||l.get("domain")),l.set("siteid",l.get("siteid")||p.get("site.id")),p.get("params.no_pii")&&(l.set("pixel_data__knopii",1),r.user_attr("kx_lang",null),r.user_attr("kx_tech_browser_language",null)),a("pixel").init(),a("test").init(),a("test-visualtags").init(),l.set("tags",p.get("tags")),l.set("url",b.location.href),l.set("config",p.toJSON()),l.set("version_bucket",p.get("params.control_tag_version")),l.set("max_segments",p.get("params.max_segments")),l.set("prioritized_segments",p.get("prioritized_segments")),r.namespace("url",p.get("services")),r.namespace("config_param",p.get("params")),t=!/localStorage/.test(l.get("config_param_client_side_storage")),x=j.init(t),h(),a("geo")(),s.safeMode())return b.console,l.onOnce("dom:load",l.bind(l.fireOnce,null,"report")),void k.end();for(p.get("params.fingerprint")&&!h.isOptOut()&&f(j),u=null,C=p.get("params.user_id_cookie","").split(","),A=0,B=C.length;B>A;A++)v=C[A],null==u&&(u=j.cookie.get(v,null),null!=u&&(u=""+v+"_"+u));null==u||e.hasThirdPartyCookies()?x.remove("org_user_id"):(x.set("org_user_id",u),l.set("user",u)),z=function(){var a,b,c,d;for(c=l.get("tags")||[],d=[],a=0,b=c.length;b>a;a++)y=c[a],d.push(i(y));return d}(),l.set("tags",z),l.set("config_segments",p.get("realtime_segments")),l.onOnceAll("dom:load tag:all_done",function(){l.fireOnce("report")}),o=a("adm-events"),o.parseConfig(p.get("realtime_segments",[])),o.check3rdParty(),a("segments"),a("stats"),a("social"),w.api(),p.get("context_terms")&&l.onOnce("dom:load",function(){a("context-terms").process(p.get("context_terms"))}),a("tag").init(),p.get("params.recommend")&&a("recommend"),k.end()}})}.call(this),function(){a("recommend",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;return b=window,d=604800,c=2500,p=a("util"),h=a("dom"),o=a("store"),g=a("config")(),l=a("routes"),a("data"),f=function(b){var c,d;return null!=b&&(d=h.byId(b)),null!=d&&(c=h.text(d)),null==c&&(c='<ul>{{#entry}}<li><a href="{{actionlink}}">{{title}}</a> - {{description}}</li>{{/entry}}</ul>'),a("hogan-3").compile(c)},e=function(a){var c;null!=a&&(c=b.document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.href=a,h.append(h.head(b.document),c))},k=function(a){var b,c;for(b in a)c=a[b],(null==c||""===c)&&delete a[b];return a},i=function(){return{entry:[]}},n=function(a){return p.get("url_contentConnector")+a},m=function(a){return o.set("rec",b.JSON.stringify(a),d)},j=function(){var a;return a=o.get("rec"),null!=a?b.JSON.parse(a):i()},l.simple("recommend",function(d,q){var r,s,t,u,v,w,x,y,z,A,B,C,D,E;if(g.get("params.recommend")){if(q=p.defaults(q||{},{test:0,links:5,template:null,filter:"",content_type:"",click_event:"",impression_event:""}),r=q.content_type.length?"type=='"+q.content_type+"'":"",q.filter=q.filter.length&&r.length?"("+q.filter+(") and ("+r+")"):r,(y=/^(before|after|inside):(.+)$/.exec(d))?(w=y[1],d=y[2]):w="inside",E=a("sizzle").find(d),!E)throw new Error("Could not find target element for '"+d+"'");return E=E[0],A=p.get("pubid"),C=o.get("allsegs",""),s=""+window.location.protocol+"//"+window.location.host+"/"+window.location.pathname,B=function(a,c){var d,g,j,k,m,n,o,r,s,t,u;for(null!=a&&b.clearTimeout(a),p.defaults(c,{ad:i(),user:i(),item:i()}),p.shuffle(c.user.entry),p.shuffle(c.item.entry),r=i(),r.entry=[].concat.apply([],[c.user.entry.slice(0,q.links),c.item.entry.slice(0,q.links),c.ad.entry.slice(0,q.links)]),p.shuffle(r.entry),r.entry=r.entry.slice(0,q.links),d=q.click_event?"&kx_event_uid="+q.click_event:"",g="http://apiservices.krxd.net/click_tracker/track?kx_cc=1"+d+"&clk=",k={},j=1,u=r.entry,s=0,t=u.length;t>s;s++)m=u[s],k["url"+j]=m.actionlink,j+=1,m.actionlink=g+encodeURIComponent(m.actionlink);r.entry.length>0&&(e(q.stylesheet),n=f(q.template).render(r),"inside"===w?E.innerHTML=n:(o=b.document.createElement("div"),o.innerHTML=n,"before"===w?h.before(E,o):"after"===w&&h.after(E,o)),q.impression_event&&l.call("admEvent",q.impression_event,p.extend({event_type:"ccvw"},k)))},z=function(a,b,c){return p.defaults(b,c),null!=b.ad&&null!=b.item&&null!=b.user?B(a,b):void 0},D=function(a){return b.setTimeout(function(){return z(null,a,{user:j()})},c)},v=function(c,d){var e;return null!=p.get("url_contentConnector")?(e=k({pubid:A,lang:b.navigator.language,filter:q.filter,seg:C,nv:"1.0",ni:q.links}),a("http").jsonp({url:n("user"),callback:"kxjsonp_contentConnectorUser",data:e,done:function(a){m(a),z(c,d,{user:a})},fail:function(){z(c,d,{user:j()})}})):z(c,d,{user:i()})},u=function(c,d){var e;return e=k({pubid:A,lang:b.navigator.language,filter:q.filter,url:s,nv:"1.0",ni:q.links}),a("http").jsonp({url:n("item"),callback:"kxjsonp_contentConnectorItem",data:e,done:function(a){z(c,d,{item:a})},fail:function(){z(c,d,{item:i()})}})},t=function(c,d){var e,f,h;return g.get("params.content_connector_ads")&&null!=p.get("url_contentConnector")?(f=a("flash").version(),h=a("geo"),e=k({allimps:1,test:q.test,pubid:A,site_id:p.get("siteid"),url:s,cat:q.cat,search:q.search,utc:(new Date).getTimezoneOffset(),lang:b.navigator.language,fv:[f.major,f.minor].join("."),h:b.screen.height,w:b.screen.width,co:h.get("country"),st:h.get("region"),met:h.get("dma"),pcode:h.get("zip"),seg:C,nm:(q.fields||[0,1,2,3]).join(","),nv:"1.0",ni:q.links,filter:q.filter}),a("http").jsonp({url:n("ad"),callback:"kxjsonp_contentConnectorAd",data:e,done:function(a){z(c,d,{ad:a})},fail:function(){z(c,d,{ad:i()})}})):z(c,d,{ad:i()})},(x=function(){var a,b;return a={},b=D(a),v(b,a),u(b,a),t(b,a)})()}})})}.call(this),function(){a("rollout",function(a){var b,c,d;return d=a("util"),c=a("store"),b="ro_",function(a,e,f){var g,h,i,j;return null==e&&(e=.001),null==f&&(f=6*d.MONTHS),g=""+b+a,i=d.param(a),h=null!=i?/1|true/.test(i):void 0,j=d.rate(e)||"1"===c.get(g,"0"),null!=h&&(j=h),j?c.set(g,"1",f):c.remove(g),j}})}.call(this),function(){a("routes",function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o;d=window,o=b("util"),h=b("ns"),l=c.routes=[],i=c.q=d.Krux&&d.Krux.q||[],g=c.getHandler=function(a){var b,c,d;for(c=0,d=l.length;d>c;c++)if(b=l[c],b[0].test(a))return b},f=c.call=function(a){var c,d,e;return c=arguments,h.NS_RE.test(a)&&(d=h.router(a),null!=d)?o.size(c)>1?d.apply(d,o.tail(c)):d:o.isFunction(a)?a.call(null,b):(e=g(a))?e[1].apply(null,c):void i.push(o.toArray(c))},n=c.understands=function(a){return!!g(a)},k=c.replay=function(){var a,b,c,d;for(b=o.clone(i),i.length=0,c=0,d=b.length;d>c;c++)a=b[c],f.apply(null,a)},e=c.add=function(a,b){l.push([a,b]),k()},j=c.regexp=function(a,b){e(a,function(c){return b.apply(this,[c.match(a)].concat(o.rest(arguments)))})},m=c.simple=function(a,b){var c;c=new RegExp("^"+a+"$"),j(c,function(){return b.apply(null,o.rest(arguments))})},c.once=function(a,b){var d;d=function(){return l=c.routes=o.remove(l,d),b.apply(this,arguments)},m(a,d)},c.namespace=function(a,b){var c;c=new RegExp("^"+a+"\\.(.*)"),j(c,function(a){b[a[1]].apply(b,o.rest(arguments))})},c.api=function(){j(/^fire:(.+)/,function(a,b){return o.fire(a[1],b)}),j(/^on:(.+)/,function(a,b){return o.on(a[1],b)}),j(/^fireOnce:(.+)/,function(a,b){return o.fireOnce(a[1],b)}),j(/^onOnce:(.+)/,function(a,b){return o.onOnce(a[1],b)}),j(/^require:?(.*)/,function(a,c){return a[1]?b(a[1]):c?b(c):b}),m("define",a),m("JSON.stringify",d.JSON.stringify),m("log",o.log),m("page:load",function(a,c){var e,g,h;g=b("http"),h=b("pixel");try{o.set("url",String(d.location)),f("tag:reload",function(b){return a&&a(b),h.send("ajax",null!=c?c.pageView:void 0),g.clearRequestList()})}catch(i){e=i,a&&a(e)}})},m("understands",n)})}.call(this),function(){a("scrape",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;c=window,r=a("util"),f=a("data"),p=a("sizzle"),n=a("routes"),j=a("dom"),i=b.defaultExcludes=["sz","dcopt","ord","tile","pos","uri","click","ksgmnt","null","undefined"],s=b._dart=function(){var a,d,e,g,h,i,j,k,l,m,n,o,q,s,t,u,v,w,x,y;for(g=function(a){return p.find("script[src*="+j+"]",a).concat(p.find("iframe[src*="+j+"]",a))},j=".doubleclick.net",u={},e=[],e=e.concat(g(c.document)),i=p.find("iframe[src*=://"+c.location.hostname+"]").concat(p.find("iframe[src^=/]")),v=0,x=i.length;x>v;v++){h=i[v];try{a=h.contentWindow.document,e=e.concat(g(a))}catch(z){}}for(b.dartElements=e,w=0,y=e.length;y>w;w++){d=e[w],t=p.attr(d,"src"),m=t.match(/[^;]*;(.*)/),l=m&&m[1],o=r.parseKeyValues(l,";");for(k in o)n=o[k],q=u[k],q&&q!==n?(r.isArray(q)||(q=[q]),r.isArray(n)?q=q.concat(n):q.push(n),u[k]=r.uniq(q)):u[k]=n}return d=e[0],d&&(t=p.attr(e[0],"src"),m=t.match(/\.doubleclick\.net(\/[^;]*)/),s=m?m[1]:"",f.page_attr({dfpsite:s.split("/")[2],dfpzone:s.split("/")[3]})),u},e=void 0,d=function(a){var b,c,d,g,h,j,k;if((!e||r.isEmpty(e))&&(e=s()),b=new r.Set(a&&a._excludes||i),null==a)return e;if(r.isString(a))return e[a];k=[];for(c in a)h=a[c],g=f.namespace(c),k.push(r.isArray(h)?function(){var a,b,c;for(c=[],a=0,b=h.length;b>a;a++)d=h[a],c.push(e[d]?g(d,e[d]):void 0);return c}():"*"===h?function(){var a;a=[];for(d in e)j=e[d],a.push(b[d]?void 0:g(d,j));return a}():r.set(c,e[h]));return k},h=void 0,g=function(a){var b,d;return b=function(){var a,b,d,e,f,g,h,i,j,k,l;if(h={},null==c.dataLayer)return h;for(g=r.clone(c.dataLayer);g.length>0;){b=g.shift();for(d in b)if(j=b[d],r.isPrimitive(j))null!=h[d]?h[d].push(j):h[d]=[j];else if(r.isArray(j))for(k=0,l=j.length;l>k;k++)a=j[k],f={},f[d]=a,g.push(f);else if(r.isObject(j)){f={};for(e in j)i=j[e],f[""+d+"."+e]=i;g.push(f)}}return h},null==h&&(h=b()),(null!=(d=h[a])?d.length:void 0)<=1?h[a][0]:h[a]},b.clearDataLayerCache=function(){return h=void 0},l=b.extensions={},k=b.extension=function(a,c){return l[a]=b[a]=c,n.simple("scrape."+a,c),c},t={dart:d,dataLayer:g,dom:function(a){var b,c,d;return b=a.match(/^(.+):([^:]+)$/),c=p.find(b[1])[0],d=b[2],c&&d&&("text"===d?j.text(c):"value"===d?j.value(c):"@"===d.charAt(0)&&j.attr(c,d.substr(1)))},link_rel:function(a){return b.dom("link[rel="+a+"]:@href")},link_rev:function(a){return b.dom("link[rev="+a+"]:@href")},meta_name:function(a){return b.dom("meta[name="+a+"]:@content")},meta_property:function(a){return b.dom("meta[property="+a+"]:@content")},opengraph:function(a){return b.meta_property("og:"+a)},url_path:function(a){return b.location.pathname.split("/")[a]},url_param:function(a){var c;return c=b.location.href.match("\\b"+a+"(?:=|\\b)([^&]*)"),c&&(decodeURIComponent(c[1])||!0)},url_hash:function(a){return[""].concat(String(c.location.hash).replace(/^(?:#|\/){0,}/,"").split("/"))[a]},url_host:function(a){return b.location.hostname.split(".").reverse()[a-1]},url_domain:function(a){return r.last(b.location.hostname.split("."),a).join(".")},cookie:function(a){var b;return b=c.document.cookie,b&&(b=b.match("\\b"+a+"=([^;]*)"))&&decodeURIComponent(b[1])},data:function(a){return r.get(a)},javascript:function(a){var b;try{return c.eval(a)}catch(d){b=d,r.fire("error",b)}},js_global:function(a){var b,d;try{for(d=c,b=a.split(".");d&&b[0];)d=d[b.shift()];return d}catch(e){}}};for(m in t)q=t[m],k(m,q);b.location=c.location,o=b.scrape=function(a){var b,c,d,e,f;e={};for(d in a){c=a[d],b=void 0;for(m in c)if(null!=l[m]){b=m;break}if(null==b){r.fire("error",{message:"No extension found",scrape:a});break}f=l[b](c[b]),e[d]=f}return e},n.simple("scrape",function(a){var b;return b=o(a),r.set(b),b})})}.call(this),function(){var b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a("segments",function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;z=a("util"),f=a("cache"),i=a("config")(),j=a("data"),u=a("privacy"),x=a("rollout"),y=a("store"),s=z.param("segs"),null!=s&&z.set("user_segments",s.split(",")),d=c.allRealtime=z.pluck(z.get("config_segments"),"id"),p=a("expression").eval,w=c.realtime=function(){var a,b,c,d,e,f,g;if(u.isOptOut())return[];for(d=[],g=z.get("config_segments")||[],b=24*y.HOURS,c=0,f=g.length,a=void 0,e=void 0;f>c;)a=g[c],e="rt_"+a.id,p(a.test)&&y.set(e,"1",b),y.get(e)&&d.push(a.id),++c;return d},t=c.prioritizedSegments=function(){return z.get("prioritized_segments")||[]},q=c.maxSegments=function(){return z.get("max_segments")||0},g=c.compute=function(){var a,c,e,f,g,h,i,j;return u.isOptOut()?(z.set("user_segments",[]),y.set("segs",""),z.set("all_user_segments",[]),void y.set("allsegs","")):void(s||(i=y.get("segs"),i=i?i.split(","):[],j=z.difference(i,d),z.set("user_segments",j),g=w(),c=g.concat(j),z.set("all_user_segments",c),y.set("allsegs",c.join(",")),z.set("user_segments",c),y.set("segs",c.join(",")),f=t(),e=q(),f.length>0&&e>0&&c.length>e&&(a=function(){var a,d,e;for(e=[],a=0,d=f.length;d>a;a++)h=f[a],b.call(c,h)>=0&&e.push(h);return e}().slice(0,e),z.set("user_segments",a),y.set("segs",a.join(",")))))},o=c.handleUserDataResponse=function(a){var b,c,d,e;d=a.segments,c=a.kuid,e=a.technographics,null!=d&&y.set("segs",d.join(","),72*y.HOURS),u.storeKuid(c),null!=e&&(y.set("tech",z.paramString(e),30*y.DAYS),v()),i.get("params.fingerprint")&&(b=null!=a.kfuid?a.kfuid:z.get("fp"),y.set("fp_id",b),z.set("fp_id",b)),g(),z.fire("user_data_response",a)},v=c.readTechFromStore=function(){var a,b,c,d;if(b=y.get("tech")){if(1!==z.get("pixel_data__knopii")){d=z.parseKeyValues(b);for(a in d)c=d[a],z.set("user_attr_kx_tech_"+a,c)}return!0}return!1},l={url:z.get("url_userdata"),callback:"kxjsonp_userdata",done:o,data:{pub:z.get("pubid")}},r=y.get("org_user_id"),r&&(l.data._kuid=r),i.get("params.fingerprint",!1)&&x("fp")&&(m=z.get("fp"),l.data.kxfp=m,n=z.get("fp_id"),n.length!==m.length&&(l.data.kfuid=n)),v()||(l.data.technographics=1),k=c.fetch=function(){z.fireOnce("user_data_request"),a("http").jsonp(l)},z.get("segWait")||(z.set("segWait",1,5*y.MINUTES),z.onOnce("dom:load",k),z.fire("user_data_fetch_scheduled")),y.get("segs"),y.get("allsegs"),g(),e=y.get("allsegs")?y.get("allsegs").split(","):[],z.set("all_user_segments",e),h=z.throttle(g,100),j.user_attr.change(h),j.page_attr.change(h),j.namespace("event").change(g),a("test").module("segments",function(a){z.happened("user_data_fetch_scheduled")&&a("user_data_response",z.happened("user_data_response"))})})}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a("sha1",function(a){var c,d,e,f,g,h;return f=a("crypto-util"),h=a("routes"),e=[],c={20:1518500249,40:1859775393,60:1894007588,80:899497514},d=function(){function a(a){this._message=null!=a?a:"",this._process=b(this._process,this),this._append=b(this._append,this),this.update=b(this.update,this),this.reset=b(this.reset,this),this.clone=b(this.clone,this),this.toString=b(this.toString,this),this.finalize=b(this.finalize,this),this.reset(),this._append(this._message)}return a.prototype._minBufferSize=0,a.prototype.finalize=function(){var a,b,c;return c=this._data,a=f.calculateSigBytesForWords(c),b=8*a,c[b>>>5]|=128<<24-b%32,c[(b+64>>>9<<4)+14]=Math.floor(b/f.MAX_WORD),c[(b+64>>>9<<4)+15]=b,this._process(),String(this)},a.prototype.toString=function(){return f.fromWordsToHex(this._hash)},a.prototype.clone=function(){var b;return b=new a(this._message),b._hash=this._hash.slice(0),b},a.prototype.reset=function(){return this._hash=this._getInitial(),this._data=[],this},a.prototype.update=function(a){return this._append(a),this},a.prototype._append=function(a){var b;return this._message+=a,b=f.fromUtf8ToWords(a),this._data.push.apply(this._data,b),this},a.prototype._process=function(){var a,b,c,d,e,g,h,i;if(i=this._data,c=i.length*f.BYTES_PER_WORD,a=16,b=4*a,d=c/b,e=d*a,h=void 0,e){for(g=0;e>g;)this._processBlock(i,g),g+=a;h=i.splice(0,e)}return h},a.prototype._processBlock=function(a,b){var d,f,g,h,i,j,k,l,m;for(d=this._hash,f=d[0],g=d[1],h=d[2],i=d[3],j=d[4],k=0;80>k;)16>k?e[k]=0|a[b+k]:(l=e[k-3]^e[k-8]^e[k-14]^e[k-16],e[k]=l<<1|l>>>31),m=(f<<5|f>>>27)+j+e[k],m+=20>k?(g&h|~g&i)+c[20]:40>k?(g^h^i)+c[40]:60>k?(g&h|g&i|h&i)-c[60]:(g^h^i)-c[80],j=i,i=h,h=g<<30|g>>>2,g=f,f=m,k++;d[0]=d[0]+f|0,d[1]=d[1]+g|0,d[2]=d[2]+h|0,d[3]=d[3]+i|0,d[4]=d[4]+j|0},a.prototype._getInitial=function(){var a;return a=[1732584193,4023233417,2562383102,271733878,3285377520],function(){return a.slice(0)}}(),a}(),g=function(a){return new d(a).finalize()},h.simple("hash:sha1",g),g})}.call(this),function(){a("sizzle",function(a,b){var c,d,e,f,g,h,i,j,k;e=window,k=a("util"),g=a("dom"),d=/^(?:(\w+)|(\*(?=\W|$))|\.([\w\-]+)|#([\w\-]+))([#\.\w\-]*)/,c=/^\[([\w\-]+)(?:(\W?=)(["']?)([^\]]*)\3(["']?))?\]/,f=b.attr=g.attr,j=b.hasAttr=function(a,b){var c;return a.hasAttribute?a.hasAttribute(b):!(!(c=a.attributes[b])||!c.nodeValue)},h=function(a,b,c,d){var e,g,h,i,l,m,n;for(h=function(a){return function(c){return!!f(c,b).match(a)}},e=d&&k.escapeRegexp(d),i=c?"="===c?function(a){return f(a,b)===d}:"!="===c?function(a){return f(a,b)!==d}:"*="===c?function(a){return f(a,b).indexOf(d)>=0}:"~="===c?h("(^|\\s)"+e+"(\\s|$)"):"|="===c?h("^"+e+"\\b"):"$="===c?h(e+"$"):"^="===c?h("^"+e):"false":function(a){return j(a,b)},n=[],l=0,m=a.length;m>l;l++)g=a[l],i(g)&&n.push(g);return n},i=b.getElementsByClassName=function(a,b){return k.isString(a)&&(b=a,a=e.document),a.getElementsByClassName?a.getElementsByClassName(b):h(a.getElementsByTagName("*"),"class","~=",b)},b.find=function(a,b){var f,g,j,l,m,n,o,p,q,r,s,t;for(t=function(){throw new Error("Error parsing selector query: "+a)},b=b||e.document,k.isArray(b)||(b=[b]),f=b,s=[],r=void 0,l=0,j=function(a,b){return b[1]?k.toArray(a.getElementsByTagName(b[1])):b[2]?k.toArray(a.getElementsByTagName("*")):b[3]?k.toArray(i(a,b[3])):b[4]&&(b=a.getElementById(b[4]))?[b]:[]},g=function(){s=s.concat(f===b?[]:f),f=b},q=function(a,b){return function(){var c;return(c=r.match(a))?(b(c),c[0].length):0}},o=q(d,function(a){var b,c,d,e,g,i;for(c=[],g=0,i=f.length;i>g;g++)d=f[g],c=c.concat(j(d,a));for(f=c,e=a[5]||"";b=e.match(/^([\.#])([\w\-]+)/);)f="."===b[1]?h(f,"class","~=",b[2]):h(f,"id","=",b[2]),e=e.slice(b[0].length);if(e)throw new Error("parse error")}),m=q(c,function(a){f=h(f,a[1],a[2],a[4])}),p=q(/\s*/,function(){}),n=q(/,/,g);r=a.slice(l);)l+=o()||m()||n()||p()||t();return g(),s}})}.call(this),function(){a("sniff",function(a){var b,c,d,e,f;return c=window,f=a("util"),d="0",b={CHROME:"Chrome",FIREFOX:"Firefox",IE:"IE",OPERA:"Opera",OTHER:"Other",PHANTOM:"Phantom",SAFARI:"Safari"},e=function(a,e){var g,h,i,j,k,l,m,n,o,p;return null==a&&(a=null!=(p=c.navigator)?p.userAgent:void 0),null==e&&(e=c.navigator),l=function(c){var d;switch(null==c&&(c=a),d=f.partial(f.matchAll,c),!1){case!(d("Chrome","OPR")||d("Presto")):return b.OPERA;case!(d("Chrome")||d("CriOS")):return b.CHROME;case!(d("Trident","Windows")||d("MSIE")):return b.IE;case!d("PhantomJS"):return b.PHANTOM;case!((d("Safari","like Gecko")||d("iPhone")||d("iPad"))&&!d("Linux")&&d("KHTML")):return b.SAFARI;case!d("Gecko","Firefox"):return b.FIREFOX;default:return b.OTHER}},n=function(c,e){var f;switch(null==e&&(e=a),f=function(a){var b;return null!=(b=e.match(a))?b[1]:void 0},!1){case c!==b.SAFARI:return f(/Version\/(\d+)/i);case c!==b.CHROME:return f(/(?:Chrome|CriOS)\/(\d+)/i);case c!==b.IE:return f(/(?:MSIE\s|rv:)(\d+)/i);case c!==b.FIREFOX:return f(/Firefox\/(\d+)/);case c!==b.OPERA:return f(/(?:OPR|Version)\/(\d+)/);case c!==b.PHANTOM:return f(/(?:PhantomJS)\/(\d+)/);default:return d}},m=function(){var a,b,c,d,f;for(f=["language","systemLanguage","browserLanguage","userLanguage"],c=0,d=f.length;d>c;c++)if(a=f[c],b=null!=e?e[a]:void 0,null!=b)return b.substring(0,2);return""},g=l(),o=n(g),k=g===b.IE,i=function(a){return k&&o===""+a},j=g===b.FIREFOX,{UNKNOWN_VERSION:d,Browsers:b,browser:g,bucket:function(){switch(!1){case!k:return"IE."+o;case!j:return h=Number(o)<4?"3x":"4plus",""+g+"."+h;default:return g}}(),is:g,ff:j,ie:k,ie6:i(6),ie7:i(7),ie8:i(8),ie9:i(9),ie10:i(10),ie11:i(11),lang:m(),msie:k,parse:function(b){return null==b&&(b=a),g=l(b),{browser:g,version:n(g,b),language:m()}},ua:a.toLowerCase(),version:o}},f.extend(e,e())})}.call(this),function(){a("social",function(a,b){var c,d,e,f,g,h,i;c=window,i=a("util"),i.on("social",function(b){var d;d=i.rewriter({facebook:"fb",twitter:"twttr"}),a("http").pixel({url:i.get("url_social"),data:{_kpid:i.get("pubid"),_kcp_s:i.get("site"),_ksoc_t:d(b.provider),_ksoc_e:b.action,_ksoc_url:b.url,_kpa_title:c.document.title}})}),e=function(a,b,c){i.fire("social",{provider:a,action:b,url:c})},d=function(a,b){e("facebook",a,b)},h=function(a){e("twitter","tweet",a)},f=b.init_facebook=function(){var a;a=(a=c.FB)&&(a=a.Event)&&a.subscribe&&i.bind(a.subscribe,a),a?(a("edge.create",i.bind(d,null,"like")),a("edge.remove",i.bind(d,null,"unlike")),a("message.send",i.bind(d,null,"send")),a="done"):a="fail",i.fire("social.init_facebook",{status:a})},g=b.init_twitter=function(){var a;a=(a=c.twttr)&&(a=a.events)&&a.bind&&i.bind(a.bind,a),a?(a("tweet",function(a){h(a&&a.target&&"IFRAME"===a.target.nodeName?a.target.src:null)}),a="done"):a="fail",i.fire("social.init_twitter",{status:a})},a("routes").simple("social.init",function(){c.setTimeout(function(){f(),g()},1e3)})})}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a("stateful",function(a,c){var d,e,f,g,h;return e=window,h=a("util"),d="all",g=/(?:([a-z]*):)?([^:]+)$/i,f=function(){function a(a,c){this._raw=null!=a?a:{},this._defaults=null!=c?c:{},this._mkRemover=b(this._mkRemover,this),this._addHandler=b(this._addHandler,this),this._fire=b(this._fire,this),this.toString=b(this.toString,this),this.watch=b(this.watch,this),this.remove=b(this.remove,this),this.has=b(this.has,this),this.set=b(this.set,this),this.get=b(this.get,this),this._handlers={all:[]}}return a.prototype.get=function(a){var b;return b=this._raw[a],null!=b?b:this._defaults[a]},a.prototype.set=function(a,b){var c;return c=this._raw[a],this._raw[a]=b,this._fire("set",a,c,b),this},a.prototype.has=function(a,b){return null!=this._raw[a]||b&&null!=this._defaults[a]},a.prototype.remove=function(a,b){var c,d;return c=function(b){return function(c,d){null!=d&&b._fire(c,a,d,void 0)}}(this),d=this._raw[a],delete this._raw[a],c("remove",d),b&&(d=this._defaults[a],delete this._defaults[a],c("removeDefault",d)),this},a.prototype.watch=function(a,b,c){var e,f,i,j;if(!h.isFunction(b))throw new Error("Watch expected function, but got: "+b+" \nContext: "+this);return j=void 0,e=void 0,f=a.match(g),a===d?(e="",j=a):f[1]&&f[1]!==d?(j=f[1],e=f[2]):(e=f[2],j=d,a=""+j+":"+e),i=this._mkRemover(a,b),this._addHandler(a,{context:c,fn:b,key:e,remove:i,type:j}),i},a.prototype.toString=function(){return"Stateful"+e.JSON.stringify(this._raw)},a.prototype._fire=function(a,b,c,e,f){var g,h,i,j,k,l,m,n;for(i=this._handlers,j=function(a){return a.fn.call(a.context||null,b,c,e)},g=function(b){return i[d].concat(i[""+d+":"+b]||[]).concat(i[""+a+":"+b]||[])},n=g(b),l=0,m=n.length;m>l;l++)h=n[l],k=j(h),null!=k&&((f||this._raw)[b]=k);return this},a.prototype._addHandler=function(a,b){var c;return c=this._handlers[a],c||(c=this._handlers[a]=[]),c.push(b),this},a.prototype._mkRemover=function(a,b){return function(c){return function(){var d;c._handlers[a]=function(){var c,e,f,g;for(f=this._handlers[a],g=[],c=0,e=f.length;e>c;c++)d=f[c],d.fn!==b&&g.push(d);return g}.call(c)}}(this)},a}(),h.extend(function(a,b){return new f(a,b)},{Stateful:f},c)})}.call(this),function(){a("stats",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;n=a("util"),k=a("sniff"),a("events"),a("data"),e={counter:{},time:{}},f=b.get=function(a,b){return e[a][b]},j=b.set=function(a,b,c){e[a][b]=c},b.time=function(a,b){j("time",a,b)},g=b.inc=function(a){var b;b=f("counter",a)||0,j("counter",a,b+1)},h=b.incPath=function(a){var b;b=a.split("."),n.times(b.length,function(a){g(n.first(b,a+1).join("."))})},l=0,c="."+k.bucket,d="."+n.get("config_param_control_tag_version"),m=d+c,h("views"+m),n.on("social",function(a){g(a.provider+"."+a.action)}),n.on("tag:done",function(){h("tags_delivered"+m)}),i=0,n.on("error",function(){var a;try{if(i>10)return;i++,h("js_errors"+m)}catch(b){return void(a=b)}}),l=".alpha"===d?1:".beta"===d||".stable"===d?.01:.001,Math.random()<l&&n.onOnce("tag:all_done",function(){var b,c,d,f;b=function(a,b,c){return"controltagv2."+b+":"+c+"|"+a},d=function(){var a,d;a=e.counter,d=[];for(c in a)f=a[c],d.push(b("c",c,f));return d}().concat(function(){var a,d;a=e.time,d=[];for(c in a)f=a[c],d.push(b("ms",c,f));return d}()).join(","),a("http").pixel({url:n.get("url_stats"),data:{q:d,format:"gif"}})})})}.call(this),function(){var b=[].slice;a("store",function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;for(e=window,C=a("util"),A=a("whitelist"),a("events"),s=function(){try{return e.localStorage}catch(a){return o=a,null}}(),n=e.document,B=["set","get","remove","namespace"],p=B.concat(["clear"]),w="",z=c.whitelist=A(A.ALL),F=["allowAll","allowNone","allowOnly"],D=0,E=F.length;E>D;D++)t=F[D],c[t]=C.bind(z[t],z);i=C.SECONDS,g=C.MINUTES,f=C.HOURS,d=C.DAYS,C.extend(c,{SECONDS:i,MINUTES:g,HOURS:f,DAYS:d}),h=c.READY_EVENT="store:ready",y=function(a){return new Date(C.now()+1e3*a)},j=function(a){return c.prefix&&0!==a.indexOf(w)&&(a=w+a),a},x=function(a){return c.prefix?a.replace(new RegExp("^"+w),""):a},m={domain:function(a){return"; domain="+a}},q=function(a){return z.has(x(a))||z.has(a)},l=c.cookie={_COOKIE_START:"(?:^|\\s|;)",set:function(a){return q(a)?l._set.apply(l,arguments):""},get:function(a,b){var c,d;return null==b&&(b=""),c=""+l._COOKIE_START+a+"=([^;]*)",t=null!=(d=n.cookie)?d.match(c):void 0,null!=t?e.decodeURIComponent(t[1]):b},remove:function(a){l._set(a,0,-1)},namespace:function(a){var b,c;return b={},c=new RegExp(""+l._COOKIE_START+a+"([^=]*)=([^;]*)","g"),n.cookie.replace(c,function(a,c){b[decodeURIComponent(a)]=decodeURIComponent(c)}),b},clear:function(a){var b,c,d,e,f,g,h;for(null==a&&(a=C.yes),g=n.cookie.split(/\s*;\s*/),e=0,f=g.length;f>e;e++)c=g[e],h=c.split("="),b=h[0],d=h[1],q(b)&&a(d,x(b))||l.remove(j(b))},_set:function(a,b,c,d){var e,f;return e=c?"; expires="+y(c).toUTCString():"",f=""+a+"="+encodeURIComponent(b)+l._optionsToCookie(d)+";path=/"+e,n.cookie=f,f},_optionsToCookie:function(a){var b,c,d;c="";for(b in a)d=a[b],b in m&&(c+=m[b](d));return c}},u=function(a){var c,d,e,f,g;for(c=C.clone(a),d=function(c){return function(){var d;d=1<=arguments.length?b.call(arguments,0):[];try{return a[c].apply(a,d)}catch(e){}}},f=0,g=B.length;g>f;f++)e=B[f],c[e]=d(e);return c},r=c.local=s&&u({set:function(a,b,c){return q(a)?(s.setItem(a,b),c?s.setItem("_"+a,+y(c)):s.removeItem("_"+a),b):""},get:function(a,b){var c,d;return null==b&&(b=""),d=s.getItem(a),c=s.getItem("_"+a),c&&c<=new Date&&(d=null),d||b},remove:function(a){s.removeItem(a),s.removeItem("_"+a)},namespace:function(a){var b,d;d={};for(b in s)t=b.match("^"+a+"(.*)"),t&&(d[t[1]]=c.get(t[1]));return d},clear:function(a){var b;null==a&&(a=C.yes);for(b in s)q(b)&&a(r.get(b),x(b))||r.remove(j(b))}}),v=a("ns"),w=c.prefix="kx"+(v.isDefault?"":""+v.name+"_"),k=function(a){var c,d,e;for(c=C.clone(a),d=0,e=B.length;e>d;d++)t=B[d],c[t]=function(a,c){return function(){var d,e;return e=arguments[0],d=2<=arguments.length?b.call(arguments,1):[],null==e&&(e=""),a[c].apply(a,[j(e)].concat(b.call(d)))}}(a,t);return c},c.init=function(a){var b,d,e,f;if(d=void 0,r&&!a)try{r.set("kxtest","test"),d="test"===r.get("kxtest")&&r,r.remove("kxtest")}catch(g){}for(d=d||l,b=c.impl=k(d),e=0,f=p.length;f>e;e++)t=p[e],c[t]=b[t];return C.fire(h),b}})}.call(this),function(){a("tag-actions",function(a,b){var c,d,e,f,g,h;h=a("util"),d=a("tag-delivery"),e=a("tag-delivery-timing"),f=a("events").instance,c="tag:all_done",g=function(a,b){return function(a){var g,i,j;f.clear("tag"),i=function(){var a,c,e,f;for(e=h.get("tags"),f=[],a=0,c=e.length;c>a;a++)j=e[a],b(j)&&(d.forget(j),f.push(j));return f}(),e(i),h.on(c,g=function(){a(null),h.off(c,g)})}},b.DEFAULT="all",b[b.DEFAULT]=g("*",h.yes)})}.call(this),function(){a("tag-delivery-timing",function(a,b){var c,d,e,f,g;return g=a("util"),c=a("config"),d=a("tag-delivery"),e=a("dom"),f=b.isDone=function(a){return!!(a.time&&a.time.end||a.error||a.metCriteria===!1)},g.extend(function(a){var b,h,i,j,k;for(j=0,k=a.length;k>j;j++)i=a[j],d.uniqueName(i);return b=function(){g.all(a,f)&&(b=g.noop,g.fireOnce("tag:all_done"))},g.on("tag:done",function(){b()}),g.on("tag:fail",function(){b()}),b(),h=function(c){var e,f,g;for(f=0,g=a.length;g>f;f++)e=a[f],e.timing===c&&d.meetsCriteria(e)&&d.deliver(e);b()},e.ready(g.once(function(){return e.createHead(c().get("confid")),h("asap"),h("onready")})),e.load(g.once(h,null,"onload")),d.init(),{deliver:h,isDone:function(){return b!==g.noop}}},b,d)})}.call(this),function(){a("tag-delivery",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c=window,z=a("util"),e=a("config"),f=c.document,g=a("dom"),h=a("geo"),j=a("hash-set"),o=a("ns"),s=a("store"),y=a("x-frame"),a("data"),i=function(a){var b;return a&&a.nodeType?a:a&&(b=a.match(/^(head|body)$/))?f[b[1]]:f.getElementById(a)},t=new Date,t=new Date(+t+864e5),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=b.mode=function(){return"1"===z.param("writeCapture")?"writeCapture":"1"===z.param("writeNativeIframe")?"nativeIframe":"1"===z.param("writeOld")?"old":"newWriter"}(),b.forget=function(a){return a.metCriteria=void 0,a.time={},a},u={},z.set("tagsByName",u),w=b.uniqueName=function(a){var b,c;if(!a.named){for(c=a.name,b=1;null!=u[c];)b++,c=""+a.name+"_"+b;a.name=c,a.named=!0,u[c]=a}},x=function(a,b,d,e){var f,g,h,i,j;if(a.root=b,h=0===a.template_replacement?a.content:r(a.content),j=c.Krux,f=function(){return o.isDefault?void 0:c.Krux=o.self},g=function(){return o.isDefault?void 0:c.Krux=j},"writeCapture"===l)return c.$(b).attr("data-writeCapture","true"),c.$(b).writeCapture().html(h,{done:d});if("nativeIframe"===a.method||"native"===l&&a.target)return b.ownerDocument.write(h),d();try{return c.Krux.postscribe(b,h,{afterDequeue:f,afterStreamStart:g,done:d,error:e,name:a.name,releaseAsync:!0})}catch(k){return i=k,e(i)}},a("routes").simple("nativeTag",function(a){"native"===l&&b.deliver(z.get("tagsByName")[a])}),a("routes").simple("writeHtml",function(a,c,d){return b.deliver({name:d||"Anonymous",content:c,target:a[0]||a})}),q=function(a,b){var c,d;return d=a.target?i(a.target):g.kxhead||f.getElementsByTagName("script")[0].parentNode,d&&(c=a.target_action||"append",g[c](d,b)),d},d=function(a){var b;return b={"class":"kxtag","data-id":a.id,"data-alias":a.name},b["class"]+=a.target?" kxtargeted":" kxinvisible",b},k={eval:function(a,b,c){var d,e;e=void 0;try{e=z.globalEval(a.content)}catch(f){d=f,c(d)}return b(),e},apply:function(a,b,c){var d,e;e=void 0;try{e=a.content.apply(null)}catch(f){d=f,c(d)}return b(),e},document:function(a,b,c){var e,f;return e=g.createElement("span",d(a)),f=q(a,e),f?x(a,e,b,c):b(),e},iframeCommon:function(a,b,e,f){var h,i,j,k,l;return h=d(a),h.width=h.height=0,h.scrolling="no",h.style="overflow:hidden;",k=a.name.match(/(\d+)x(\d+)/),k&&(h.width=k[1]+"px",h.height=k[2]+"px"),i=g.createElement("iframe",h),l=q(a,i),l?(j=i.contentWindow.document,j.open(),j.write("<html><head></head><body style='margin:0;'>"),f.leaveOpen||j.close(),f.onIframe&&f.onIframe(i),i.contentWindow.Krux=c.Krux,x(a,i.contentWindow.document.body,b,e)):b(),i
},nativeIframe:function(a,b,c,d){return d.leaveOpen=!0,k.iframeCommon(a,b,c,d)},iframe:function(a,b,c,d){return k.iframeCommon(a,b,c,d)}},v=b.templateData=function(){return{pubid:z.get("pubid"),site:z.get("site"),geo:h.get(),now:new Date}},r=b.runTemplate=function(b){return a("underscore").templateSettings={evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g,escape:/\{%-([\s\S]+?)%\}/g},z.template(b,v())},b.meetsCriteria=function(b){var c;return b.once_per_page&&p.has(b)?b.metCriteria=!1:b.criteria?"native"===l&&b.target?b.metCriteria=!1:(z.set("now",new Date),b.freq_cap&&(c="tag"+b.id+".day",y=+s.get(c)||0,z.set("tag_deliveries_today",y)),b.metCriteria=a("expression").eval(b.criteria)):b.metCriteria=!0},m=0,p=o.self._oneTimeTags=o.self._oneTimeTags||j(function(a){return a.id}),b.deliver=function(a,b){var c,d,e,f,g,h;if(g=a.once_per_page,g&&p.has(a))return p.get(a).id;b=b||{},w(a),a.id=a.id||m++,a.time={mode:"async",start:z.ms()},a.method=a.method||(z.isFunction(a.content)?"apply":"document"),"nativeIframe"===l&&a.target&&(a.method="nativeIframe"),e=function(){a.time.end=z.ms(),a.time.duration=a.time.end-a.time.start},f=function(b){a.error=b&&b.message&&b||{message:"unknown error"},z.fire("tag:fail",{id:a.id,alias:a.name,error:a.error.message})},z.fire("tag:started",{id:a.id,alias:a.name}),c=function(){var b,c;e(),a.freq_cap&&(b="tag"+a.id+".day",y=Number(s.get(b))||0,c=(n-new Date)/1e3,s.set(b,y+1,c)),z.fire("tag:done",{id:a.id,alias:a.name})};try{h=k[a.method](a,c,f,b),g&&p.put({id:a.id})}catch(i){d=i,f(d)}return h},b.claimOneTimers=function(a){var b,c,d,e;null!=a&&(d=function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)e=a[b],e.once_per_page&&d.push(e);return d}()),b=z.now(),c=function(){var a,c,f,g;for(f=d||[],g=[],a=0,c=f.length;c>a;a++)e=f[a],g.push({id:e.id,claimId:b});return g}(),c.length&&(y.broadcast({tags:c}),y.listen(function(a){var b,d,f,g,h,i,j,k;for(f=[],k=a.data.tags,g=0,i=k.length;i>g;g++){for(e=k[g],d=void 0,h=0,j=c.length;j>h;h++)if(b=c[h],b.id===e.id){d=b;break}e.claimId<(null!=d?d.claimId:void 0)&&f.push(e)}p.put.apply(p,f)}))},b.init=z.once(function(){a("test").module("tag-delivery",function(a){var b,c,d,e,f,g,h,i,j,k;for(h={},g=function(b){var c;return c=b.timing,a("tag_valid_timing_name",c,c),h[c]=h[c]||{lastStart:0}},k=z.get("tags"),i=0,j=k.length;j>i;i++)d=k[i],z.happened("dom:beforeunload")||z.happened("dom:unload")||a("tag_considered",null!=d.metCriteria,d.name),d.metCriteria&&(e=d.time||{},c=e.start,b=e.end,a("tag_delivered",b,d.name),f=g(d),a("tag_order",c>=f.lastStart,d.name),f.lastStart=c)})})})}.call(this),function(){a("tag",function(a,b){var c,d,e,f,g,h,i;i=a("util"),c=a("tag-actions"),d=a("config"),e=a("tag-delivery-timing"),f=a("privacy"),g=a("routes"),h=a("store"),a("data"),i.extend(b,e,{Timing:e}),b.init=function(){f.storeKuid(),i.onOnce("user_data_response",function(){f.storeKuid()}),e(i.get("tags"))},g.regexp(/^tag:reload:?(.*)$/,function(a,b){var d,e;if(d=a[1]||c.DEFAULT,d in c)try{c[d](b)}catch(f){e=f,b(e)}else b(new TypeError("Krux('tags') has no method: "+d))})})}.call(this),function(){a("test-visualtags",function(a,b){var c,d,e,f,g,h,i,j,k;j=function(a){var b,i,j,k,l,m,n,o,p,q,r;for(l=c(".kxtargeted"),b=0,i=l.length;i>b;)q=l[b].getAttribute("data-id"),o=l[b].getAttribute("data-alias"),j=h(q),k=c("#"+j),r=1===k.length?k[0]:l[b].parentNode,p=Math.max(g("width",l[b]),f("width",r)),n=Math.max(g("height",l[b]),f("height",r)),m=p*n,a("visualtag-not-blank",m,"Tag area appears to be empty ("+o+")"),r.style&&d(r.style.width)&&a("visualtag-expected-width",e(d(r.style.width),p)<10,"Tag width ain't right ("+o+")"),r.style&&d(r.style.height)&&a("visualtag-expected-height",e(d(r.style.height),n)<10,"Tag height ain't right ("+o+")"),b++},d=function(a){return(""+a).indexOf("px")>-1?parseInt(a.replace("px",""),10)||0:0},e=function(a,b){return Math.floor(Math.abs(a-b)/b*100)},h=function(a){var b,c;c=k.get("tagsByName");for(b in c)if(c[b].id===a)return c[b].target||"";return""},g=function(a,b){var c;return c="offset"+("width"===a?"Width":"Height"),b[c]||0},f=function(a,b){var c,d,e;if(i++,i>1e3)return 0;for(e=0,d="offset"+("width"===a?"Width":"Height"),c=0;c<b.childNodes.length;)e=Math.max(e,b.childNodes[c][d]||0),b.childNodes[c].childNodes.length&&(e=Math.max(e,f(a,b.childNodes[c]))),c++;return e},k=a("util"),c=a("sizzle").find,b.init=function(){a("test").module("visualtags",function(a){j(a)})},i=0})}.call(this),function(){var b=[].slice;a("test",function(a,c){var d,e,f,g,h,i,j,k,l;d=window,l=a("util"),h={},g="test",c.status="NOT_STARTED",k=c.test=function(a,b,d){var e;return e=b?"pass":"fail",c.results.push({module:g,code:a,data:d,assertion:b,time:new Date,status:e}),l.fire("test:"+e,{code:a,data:d}),b},f=function(a,b){return l.isArray(a)&&l.isArray(b)?a.length===b.length&&l.all(a,function(a,c){return f(a,b[c])}):a===b},k.eq=function(a,b,c){return k(a,f(b,c),{actual:b,expected:c})},e=function(){"NOT_STARTED"!==c.status&&k("tests_not_started",!1,c.status)},c.module=function(a,b){e(),h[a]=b},j=function(a,b){var c;g=a;try{b(k)}catch(d){c=d,k("tests_module_threw",!1,"module_"+a+"_threw:"+c.message)}},i=c.run=function(){var a,e,f,g,i,m,n,o,p,q,r,s,t,u;c.results=[],c.failureGroup=null,k("tests_to_run",!l.isEmpty(h));for(n in h)m=h[n],j(n,m);if(p=c.report=l.groupBy(c.results,"status"),p.total=c.results.length,p.toString=function(){var a,e,f,g,h,i,j;try{for(a=[],g=function(){var c;c=1<=arguments.length?b.call(arguments,0):[],a.push(c.join(""))},g("Test Summary: "+c.status),g("Version: "+d.Krux.version+", "+d.Krux.commit),c.failureGroup&&g("Failure Group:"+c.failureGroup),g("Phase: "+c.phase),g("Status,Code,Data"),j=c.results,h=0,i=j.length;i>h;h++)f=j[h],g(f.status,",",f.code,",",f.data);return a.join("\n")}catch(k){return e=k,"report.toString failed: "+e}},r=c.status=p.status=p.fail?"FAIL":"PASS","PASS"!==r){for(i=-1,o=void 0,e=1e3,a=[],g={tests_to_run:e--,tests_module_threw:e--,pixel:e--,tag_delivered:e--},u=p.fail,s=0,t=u.length;t>s;s++)q=u[s],f=g[q.code]||0,a.push(q.code+": "+q.data),f>i&&(i=f,o=q);c.failureGroup=o.code+(o.data?":"+o.data:""),c.phase=l.happened("dom:load")?"after_load":l.happened("dom:ready")?"after_ready_before_load":"before_ready"}l.fire("test:all_done",{status:r})},c.init=function(){var a;a=l.once(i),l.on("pixel",a),l.on("dom:beforeunload",a),l.on("dom:unload",a)}})}.call(this),function(){a("timing",function(a){var b,c,d;return b=a("data"),d=a("util").now,c=function(a){return function(){return b.set(a,d())}},{start:c("started"),end:c("ended")}})}.call(this),function(){var b=[].slice;a("util",function(a,c){var d,e,f,g,h,i,j,k,l;e=window,l=a("underscore"),l.extend(c,l,{_:l}),l=c,l.globalEval=function(a,b){b=b||e,a&&/\S/.test(a)&&!function(a){b.eval.call(b,a)}(a)},l.parseParams=l.parseKeyValues=function(a,b,c,d){var e,f;return b=b||"&",c=c||"=",d=d||decodeURIComponent,e={},"string"!=typeof a?e:(f=new RegExp(b+"*([^"+c+b+"]+)"+c+"([^"+b+"]+)"+b+"*","g"),a.replace(f,function(a,b,c){c=function(){try{return d(c)}catch(a){return c}}(),e[b]=e[b]?l.isArray(e[b])?e[b].concat([c]):[e[b],c]:c}),e)},l.shuffle=function(a){var b,c,d;for(b=a.length;b>0;)c=Math.floor(Math.random()*b),b--,d=[a[c],a[b]],a[b]=d[0],a[c]=d[1];return a},l.urlParams=function(a){var b;return b=(a||e.location.href).match(/[^\#?]+(?:\?([^#]*))?(?:#(.*))?/),l.parseParams(l.compact(b.slice(1)).join("&"))},l.paramString=function(a,b,c,d){var e,f,g,h,i,j;b=b||"&",c=c||"=",d=d||encodeURIComponent,f=[];for(e in a)for(h=a[e],h=l.isArray(h)?h:[h],i=0,j=h.length;j>i;i++)g=h[i],null!=g&&""!==g&&f.push(d(e)+c+d(g));return f.join(b)},l.isPrimitive=function(a){return null==a||!/^object|function$/.test(typeof a)&&!l.isNaN(a)},l.isSerializable=function(a){return l.isPrimitive(a)||!/[object [^\]]*]/.test(String(a))},l.remove=function(a,b){var c,d,e,f;if(a){for(f=[],d=0,e=a.length;e>d;d++)c=a[d],c!==b&&f.push(c);return f}},l.escapeRegexp=function(){var a,b;return b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],a=new RegExp("(\\"+b.join("|\\")+")","g"),function(b){return(""+b).replace(a,"\\$1")}}(),l.noop=function(){},l.defer=function(a){var b;b=l.rest(arguments),e.setTimeout(function(){a.apply(null,b)},0)},k=[],k.toString=function(){return e.JSON.stringify(k)},l.log=function(a){return l.isString(a)&&e.console?void 0:a?(a.time=new Date,void k.push(a)):k},l.Set=i=function(a){var b;for(b=0;b<a.length;)this[a[b]]=!0,b++},l.negate=function(a){return function(){return!a.apply(this,arguments)}},l.G=e,l.bind=function(a,b){var c,d;return a.isBound&&arguments.length<3?a:(d=l.rest(arguments,2),c=function(){return a.apply(b,d.concat(l.toArray(arguments)))},c.actual=a,c.isBound=!0,c)},l.interpolate=function(a,b){return b.replace(/\$\{([^{}]*)\}/g,function(b,c){var d;return d=a[c],"string"==typeof d||"number"==typeof d?d:b})},l.rewriter=function(a){return function(b){return a[b]||b}},l.extend(l,{max:Math.max,min:Math.min}),l.once=function(a){var b,c;return a.isOnce&&arguments.length<3?a:(b=!1,a=l.bind.apply(null,arguments),c=function(){return!b&&(b=!0)&&a.apply(null,arguments)},c.isOnce=!0,c.actual=a,c)},l.ms=function(){return new Date-l.get("started")},l.param=function(a){var b;return(b=e.location.href.match("\\bkx"+a+"(?:=|\\b)([^&\\#]*)"))&&(b[1]||!0)},l.keys=function(a){var b,c;c=[];for(b in a)c.push(b);return c},l.values=function(a){var b,c,d;switch(!1){case!(null==a):return[];case!l.isArray(a):return a.slice(0);default:d=[];for(b in a)c=a[b],d.push(c);return d}},l.attributes=function(a){var b;return b=function(a,c){var d;return d=arguments.length,0===d?b.all():l.isString(a)?1===d?b.get(a):b.set(a,c):b.set(a)},b.get=a.get,b.all=a.all,b.set=function(b,c){var d,e,f;if(null!=c)return a.set(b,c);if(l.isObject(b)){f=[];for(d in b)e=b[d],f.push(a.set(d,e));return f}},a.values&&b.set(a.values),b},l.range=function(a,b,c){var d,e,f;for(arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1,e=Math.max(Math.ceil((b-a)/c),0),d=0,f=new Array(e);e>d;)f[d++]=a,a+=c;return f},l.deref=l.dereference=function(a,b){var c,d,f,g;1===arguments.length&&(b=a,a=e);try{for(g=b.split("."),d=0,f=g.length;f>d;d++)c=g[d],a=a[c];return a}catch(h){}},l.yes=function(){return!0},l.matchAll=function(){var a,c,d,e,f;for(d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[],e=0,f=c.length;f>e;e++)if(a=c[e],!(null!=a.test?a.test(d):-1!==d.indexOf(a)))return!1;return!0},l.rate=function(a){return Math.random()<=a},g=60,f=60*g,d=24*f,h=30*d,j=365*h,l.extend(c,{SECONDS:1,MINUTES:g,HOURS:f,DAYS:d,MONTHS:h,YEARS:j})})}.call(this),function(){a("uuid",function(a){var b;return b=a("util").now,function(){return(""+b()+Math.random()).replace(/[^\d]*/g,"")}})}.call(this),a("version",function(){return{commit:"6024558",version:"5.49.1"}}),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},e=[].slice;a("whitelist",function(a){var c,f;return f=a("util"),c=function(a){function c(){var a;a=1<=arguments.length?e.call(arguments,0):[],this._none=b(this._none,this),this._all=b(this._all,this),this._hasMatch=b(this._hasMatch,this),this.toString=b(this.toString,this),this.allowNone=b(this.allowNone,this),this.allowAll=b(this.allowAll,this),this.allowOnly=b(this.allowOnly,this),this.put=b(this.put,this),this.has=b(this.has,this),this.get=b(this.get,this),c.__super__.constructor.apply(this,[String].concat(e.call(a)))}return d(c,a),c.ALL={toString:function(){return"ALL"}},c.NONE={toString:function(){return"NONE"}},c.prototype.get=function(a){switch(!1){case!this._all():return a;case!this._none():return null;default:return c.__super__.get.call(this,a)}},c.prototype.has=function(a){switch(!1){case!this._none():return!1;case!this._all():return!0;default:return c.__super__.has.call(this,a)||this._hasMatch(a)}},c.prototype.put=function(){var a;return a=1<=arguments.length?e.call(arguments,0):[],(this._all()||this._none())&&(this._items={}),c.__super__.put.apply(this,a)},c.prototype.allowOnly=function(){var a;return a=1<=arguments.length?e.call(arguments,0):[],this.empty(),this.put.apply(this,a)},c.prototype.allowAll=function(){return this.empty(),this._items=c.ALL,this},c.prototype.allowNone=function(){return this.empty(),this._items=c.NONE,this},c.prototype.toString=function(){return f.isSerializable(this._items)?String(this._items):c.__super__.toString.call(this)},c.prototype._hasMatch=function(a){var b,c,d;this._thunk(),d=this._items;for(c in d)if(b=d[c],null!=b.test&&f.isFunction(b.test)&&b.test(a))return!0;return!1},c.prototype._all=function(){return this._items===c.ALL},c.prototype._none=function(){return this._items===c.NONE},c}(a("hash-set").HashSet),f.extend(function(a){var b;return b=new c,a&&a!==c.ALL?a===c.NONE?b.allowNone():b.put.apply(b,arguments):b.allowAll(),b},{Whitelist:c,ALL:c.ALL,NONE:c.NONE})})}.call(this),function(){a("x-frame",function(a,b){var c,d,e,f,g,h,i;c=window,i=a("util"),e=a("dom"),g=e.d2on,d=c.location.origin,f=b.isFramed=function(){return c.top!==c},h=b.send=function(a,b,d){if(i.isFunction(a.postMessage))try{"document"in a&&a.postMessage(c.JSON.stringify(b),d)}catch(e){}},b.broadcast=function(a,b){var e,g,j,k,l;for(null==b&&(b={}),b=i.defaults(b,{container:!0,domain:d,self:!1}),e=f()?c.parent:c,b.container&&(f()||b.self)&&h(e,a,b.domain),g=e.frames,j=k=0,l=g.length-1;l>=0?l>=k:k>=l;j=l>=0?++k:--k)(g[j]!==c||b.self)&&h(g[j],a,b.domain)},b.listen=function(a,b){var e;return e=i.defaults(b||{},{origin:d,strict:!0,win:c.window}),g(e.win,"message",function(b){e.strict&&0!==String(b.origin||"").indexOf(e.origin)||a.call(this,{data:i.isString(b.data)?c.JSON.parse(b.data):b.data,event:b})})},b.init=function(a){d=a}})}.call(this),function(){function a(a,g){a=a||"",g=g||{};for(var h in b)b.hasOwnProperty(h)&&(g.autoFix&&(g["fix_"+h]=!0),g.fix=g.fix||g["fix_"+h]);var i=[],j=function(a){return"string"==typeof a?a.replace(/(&#\d{1,4};)/gm,function(a){var b=a.substring(2,a.length-1);return String.fromCharCode(b)}):a},k=function(b){a+=b},l=function(b){a=b+a},m={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},n={comment:function(){var b=a.indexOf("-->");return b>=0?{content:a.substr(4,b),length:b+3}:void 0},endTag:function(){var b=a.match(d);return b?{tagName:b[1],length:b[0].length}:void 0},atomicTag:function(){var b=n.startTag();if(b){var c=a.slice(b.length);if(c.match(new RegExp("</\\s*"+b.tagName+"\\s*>","i"))){var d=c.match(new RegExp("([\\s\\S]*?)</\\s*"+b.tagName+"\\s*>","i"));if(d)return{tagName:b.tagName,attrs:b.attrs,content:d[1],length:d[0].length+b.length}}}},startTag:function(){var b=a.match(c);if(b){var d={};return b[2].replace(e,function(a,b){var c=arguments[2]||arguments[3]||arguments[4]||f.test(b)&&b||null;d[b]=j(c)}),{tagName:b[1],attrs:d,unary:!!b[3],length:b[0].length}}},chars:function(){var b=a.indexOf("<");return{length:b>=0?b:a.length}}},o=function(){for(var b in m)if(m[b].test(a)){var c=n[b]();return c?(c.type=c.type||b,c.text=a.substr(0,c.length),a=a.slice(c.length),c):null}},p=function(a){for(var b;b=o();)if(a[b.type]&&a[b.type](b)===!1)return},q=function(){var b=a;return a="",b},r=function(){return a};return g.fix&&!function(){var b=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,d=[];d.last=function(){return this[this.length-1]},d.lastTagNameEq=function(a){var b=this.last();return b&&b.tagName&&b.tagName.toUpperCase()===a.toUpperCase()},d.containsTagName=function(a){for(var b,c=0;b=this[c];c++)if(b.tagName===a)return!0;return!1};var e=function(a){return a&&"startTag"===a.type&&(a.unary=b.test(a.tagName)||a.unary),a},f=o,h=function(){var b=a,c=e(f());return a=b,c},i=function(){var a=d.pop();l("</"+a.tagName+">")},j={startTag:function(a){var b=a.tagName;"TR"===b.toUpperCase()&&d.lastTagNameEq("TABLE")?(l("<TBODY>"),m()):g.fix_selfClose&&c.test(b)&&d.containsTagName(b)?d.lastTagNameEq(b)?i():(l("</"+a.tagName+">"),m()):a.unary||d.push(a)},endTag:function(a){var b=d.last();b?g.fix_tagSoup&&!d.lastTagNameEq(a.tagName)?i():d.pop():g.fix_tagSoup&&k()}},k=function(){f(),m()},m=function(){var a=h();a&&j[a.type]&&j[a.type](a)};o=function(){return m(),e(f())}}(),{append:k,readToken:o,readTokens:p,clear:q,rest:r,stack:i}}var b=function(){var a,b={},c=this.document.createElement("div");return a="<P><I></P></I>",c.innerHTML=a,b.tagSoup=c.innerHTML!==a,c.innerHTML="<P><i><P></P></i></P>",b.selfClose=2===c.childNodes.length,b}(),c=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,d=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,e=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i;a.supports=b,a.tokenToString=function(a){var b={comment:function(a){return"<--"+a.content+"-->"},endTag:function(a){return"</"+a.tagName+">"},atomicTag:function(a){return b.startTag(a)+a.content+b.endTag(a)},startTag:function(a){var b="<"+a.tagName;for(var c in a.attrs){var d=a.attrs[c];b+=" "+c+'="'+(d?d.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return b+(a.unary?"/>":">")},chars:function(a){return a.text}};return b[a.type](a)},a.escapeAttributes=function(a){var b={};for(var c in a){var d=a[c];b[c]=d&&d.replace(/(^|[^\\])"/g,'$1\\"')}return b};for(var g in b)a.browserHasFlaw=a.browserHasFlaw||!b[g]&&g;this.htmlParser=a}(),function(){function a(){}function b(a){return a!==m&&null!==a}function c(a){return"function"==typeof a}function d(a,b,c){var d,e=a&&a.length||0;for(d=0;e>d;d++)b.call(c,a[d],d)}function e(a,b,c){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}function f(a,b){return e(b,function(b,c){a[b]=c}),a}function g(a,c){return a=a||{},e(c,function(c,d){b(a[c])||(a[c]=d)}),a}function h(a){try{return o.call(a)}catch(b){var c=[];return d(a,function(a){c.push(a)}),c}}function i(a){return a&&"tagName"in a?!!~a.tagName.toLowerCase().indexOf("script"):!1}function j(a){return a&&"tagName"in a?!!~a.tagName.toLowerCase().indexOf("style"):!1}var k={afterAsync:a,afterDequeue:a,afterStreamStart:a,afterWrite:a,beforeEnqueue:a,beforeWrite:function(a){return a},done:a,error:function(a){throw a},releaseAsync:!1},l=this,m=void 0;if(!l.postscribe){var n=!1,o=Array.prototype.slice,p=function(a){return a[a.length-1]},q=function(){function a(a,c,d){var e=k+c;if(2===arguments.length){var f=a.getAttribute(e);return b(f)?String(f):f}b(d)&&""!==d?a.setAttribute(e,d):a.removeAttribute(e)}function g(b,c){var d=b.ownerDocument;f(this,{root:b,options:c,win:d.defaultView||d.parentWindow,doc:d,parser:htmlParser("",{autoFix:!0}),actuals:[b],proxyHistory:"",proxyRoot:d.createElement(b.nodeName),scriptStack:[],writeQueue:[]}),a(this.proxyRoot,"proxyof",0)}var k="data-ps-";return g.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var a;!this.deferredRemote&&this.writeQueue.length;)a=this.writeQueue.shift(),c(a)?this.callFunction(a):this.writeImpl(a)},g.prototype.callFunction=function(a){var b={type:"function",value:a.name||a.toString()};this.onScriptStart(b),a.call(this.win,this.doc),this.onScriptDone(b)},g.prototype.writeImpl=function(a){this.parser.append(a);for(var b,c,d,e=[];(b=this.parser.readToken())&&!(c=i(b))&&!(d=j(b));)e.push(b);this.writeStaticTokens(e),c&&this.handleScriptToken(b),d&&this.handleStyleToken(b)},g.prototype.writeStaticTokens=function(a){var b=this.buildChunk(a);if(b.actual)return b.html=this.proxyHistory+b.actual,this.proxyHistory+=b.proxy,this.proxyRoot.innerHTML=b.html,n&&(b.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),n&&(b.actualInnerHTML=this.root.innerHTML),b},g.prototype.buildChunk=function(a){var b=this.actuals.length,c=[],e=[],f=[];return d(a,function(a){if(c.push(a.text),a.attrs){if(!/^noscript$/i.test(a.tagName)){var d=b++;e.push(a.text.replace(/(\/?>)/," "+k+"id="+d+" $1")),"ps-script"!==a.attrs.id&&"ps-style"!==a.attrs.id&&f.push("atomicTag"===a.type?"":"<"+a.tagName+" "+k+"proxyof="+d+(a.unary?" />":">"))}}else e.push(a.text),f.push("endTag"===a.type?a.text:"")}),{tokens:a,raw:c.join(""),actual:e.join(""),proxy:f.join("")}},g.prototype.walkChunk=function(){for(var c,d=[this.proxyRoot];b(c=d.shift());){var e=1===c.nodeType,f=e&&a(c,"proxyof");if(!f){e&&(this.actuals[a(c,"id")]=c,a(c,"id",null));var g=c.parentNode&&a(c.parentNode,"proxyof");g&&this.actuals[g].appendChild(c)}d.unshift.apply(d,h(c.childNodes))}},g.prototype.handleScriptToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b),a.src=a.attrs.src||a.attrs.SRC,a.src&&this.scriptStack.length?this.deferredRemote=a:this.onScriptStart(a);var c=this;this.writeScriptToken(a,function(){c.onScriptDone(a)})},g.prototype.handleStyleToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b),a.type=a.attrs.type||a.attrs.TYPE||"text/css",this.writeStyleToken(a),b&&this.write()},g.prototype.writeStyleToken=function(a){var b=this.buildStyle(a);this.insertStyle(b),a.content&&(b.styleSheet&&!b.sheet?b.styleSheet.cssText=a.content:b.appendChild(this.doc.createTextNode(a.content)))},g.prototype.buildStyle=function(a){var b=this.doc.createElement(a.tagName);return b.setAttribute("type",a.type),e(a.attrs,function(a,c){b.setAttribute(a,c)}),b},g.prototype.insertStyle=function(a){this.writeImpl('<span id="ps-style"/>');var b=this.doc.getElementById("ps-style");b.parentNode.replaceChild(a,b)},g.prototype.onScriptStart=function(a){a.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(a)},g.prototype.onScriptDone=function(a){return a!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,a.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},g.prototype.writeScriptToken=function(a,b){var c=this.buildScript(a),d=this.shouldRelease(c),e=this.options.afterAsync;a.src&&(c.src=a.src,this.scriptLoadHandler(c,d?e:function(){b(),e()}));try{this.insertScript(c),(!a.src||d)&&b()}catch(f){this.options.error(f),b()}},g.prototype.buildScript=function(a){var b=this.doc.createElement(a.tagName);return e(a.attrs,function(a,c){b.setAttribute(a,c)}),a.content&&(b.text=a.content),b},g.prototype.insertScript=function(a){this.writeImpl('<span id="ps-script"/>');var b=this.doc.getElementById("ps-script");b.parentNode.replaceChild(a,b)},g.prototype.scriptLoadHandler=function(a,b){function c(){a=a.onload=a.onreadystatechange=a.onerror=null}function d(){c(),b()}function e(a){c(),g(a),b()}var g=this.options.error;f(a,{onload:function(){d()},onreadystatechange:function(){/^(loaded|complete)$/.test(a.readyState)&&d()},onerror:function(){e({message:"remote script failed "+a.src})}})},g.prototype.shouldRelease=function(a){var b=/^script$/i.test(a.nodeName);return!b||!!(this.options.releaseAsync&&a.src&&a.hasAttribute("async"))},g}();l.postscribe=function(){function b(){var a,b=j.shift();b&&(a=p(b),a.afterDequeue(),b.stream=d.apply(null,b),a.afterStreamStart())}function d(c,d,g){function j(a){a=g.beforeWrite(a),m.write(a),g.afterWrite(a)}m=new q(c,g),m.id=i++,m.name=g.name||m.id,e.streams[m.name]=m;var k=c.ownerDocument,l={close:k.close,open:k.open,write:k.write,writeln:k.writeln};f(k,{close:a,open:a,write:function(){return j(h(arguments).join(""))},writeln:function(){return j(h(arguments).join("")+"\n")}});var n=m.win.onerror||a;return m.win.onerror=function(a,b,c){g.error({msg:a+" - "+b+":"+c}),n.apply(m.win,arguments)},m.write(d,function(){f(k,l),m.win.onerror=n,g.done(),m=null,b()}),m}function e(d,e,f){c(f)&&(f={done:f}),f=g(f,k),d=/^#/.test(d)?l.document.getElementById(d.substr(1)):d.jquery?d[0]:d;var h=[d,e,f];return d.postscribe={cancel:function(){h.stream?h.stream.abort():h[1]=a}},f.beforeEnqueue(h),j.push(h),m||b(),d.postscribe}var i=0,j=[],m=null;return f(e,{streams:{},queue:j,WriteStream:q})}()}}(),b("index")}();