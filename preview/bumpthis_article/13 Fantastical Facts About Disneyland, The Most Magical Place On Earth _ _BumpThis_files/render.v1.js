if("undefined"==typeof console)var console={log:function(){},time:function(){},timeEnd:function(){}};!function(a){"undefined"==typeof a.prototype.trim&&(a.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}(String),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){var b=[];if("object"==typeof a&&null!==a)for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),String.prototype.positiveIntegerHash=function(){var a,b,c,d=0;if(0==this.length)return d;for(a=0,c=this.length;c>a;a++)b=this.charCodeAt(a),d=(d<<5)-d+b,d|=0;return Math.abs(d)},function(){function a(){var a=new b,c=window,d={percentObscured:0,percentViewable:0,acceptedViewablePercentage:50,viewabiltyStatus:!1,duration:0};this.DEBUG_MODE=!1,this.checkViewability=function(a,b,f){arguments.length>2&&(c=f);var g=0,h=this,i=setInterval(function(){e(a)?g++:g=0,d.duration=100*g,g>=9&&(d.viewabiltyStatus=!0,h.DEBUG_MODE||clearInterval(i)),b(d)},100)};var e=function(a){var b=a.getBoundingClientRect(),c=b.width*b.height;return c>=242500&&(d.acceptedViewablePercentage=30),g(a)===!0?!1:h(a)===!0?!1:(f(a),d.percentViewable&&d.percentViewable<d.acceptedViewablePercentage?!1:!!d.percentViewable)},f=function(b){d.percentObscured=d.percentObscured||0;var e=a.getViewabilityState(b,c);return e.error||(d.percentViewable=e.percentViewable-d.percentObscured),e},g=function(a){var b=c.getComputedStyle(a,null),d=b.getPropertyValue("visibility"),e=b.getPropertyValue("display");return"hidden"==d||"none"==e},h=function(a){var b=a.getBoundingClientRect(),c=12,e=b.left+c,f=b.right-c,g=b.top+c,h=b.bottom-c,j=Math.floor(b.left+b.width/2),k=Math.floor(b.top+b.height/2),l=[{x:e,y:g},{x:j,y:g},{x:f,y:g},{x:e,y:k},{x:j,y:k},{x:f,y:k},{x:e,y:h},{x:j,y:h},{x:f,y:h}];for(var m in l)if(l[m]&&l[m].x>=0&&l[m].y>=0&&(elem=document.elementFromPoint(l[m].x,l[m].y),null!=elem&&elem!=a&&!a.contains(elem)&&(overlappingArea=i(b,elem.getBoundingClientRect()),overlappingArea>0&&(d.percentObscured=100*i(b,elem.getBoundingClientRect()),d.percentObscured>d.acceptedViewablePercentage))))return d.percentViewable=100-d.percentObscured,!0;return!1},i=function(a,b){var c=a.width*a.height,d=Math.max(0,Math.min(a.right,b.right)-Math.max(a.left,b.left)),e=Math.max(0,Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top));return d*e/c}}function b(){this.getViewabilityState=function(d,e){var f,g=a();if(g.area==1/0)return{error:"Failed to determine viewport"};var h=d.getBoundingClientRect(),i=h.width*h.height,j={};if(j.width=null,j.height=null,g.area/i<.5)f=Math.floor(100*g.area/i);else try{j=b(window.top),visibleAssetSize=c(d,e),visibleAssetSize.bottom>j.height&&(visibleAssetSize.height-=visibleAssetSize.bottom-j.height),visibleAssetSize.top<0&&(visibleAssetSize.height+=visibleAssetSize.top),visibleAssetSize.left<0&&(visibleAssetSize.width+=visibleAssetSize.left),visibleAssetSize.right>j.width&&(visibleAssetSize.width-=visibleAssetSize.right-j.width),f=Math.floor(100*(visibleAssetSize.width*visibleAssetSize.height)/i)}catch(k){}return{clientWidth:j.width,clientHeight:j.height,objTop:h.top,objBottom:h.bottom,objLeft:h.left,objRight:h.right,percentViewable:f}};var a=function(){for(var a=b(window),c=a.area,d=window;d!=window.top;)d=d.parent,viewPortSize=b(d),viewPortSize.area<c&&(c=viewPortSize.area,a=viewPortSize);return a},b=function(a){var b={width:1/0,height:1/0,area:1/0};return!isNaN(a.document.body.clientWidth)&&a.document.body.clientWidth>0&&(b.width=a.document.body.clientWidth),!isNaN(a.document.body.clientHeight)&&a.document.body.clientHeight>0&&(b.height=a.document.body.clientHeight),a.document.documentElement&&a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth)&&(b.width=a.document.documentElement.clientWidth),a.document.documentElement&&a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight)&&(b.height=a.document.documentElement.clientHeight),a.innerWidth&&!isNaN(a.innerWidth)&&(b.width=Math.min(b.width,a.innerWidth)),a.innerHeight&&!isNaN(a.innerHeight)&&(b.height=Math.min(b.height,a.innerHeight)),b.area=b.height*b.width,b},c=function(a,b){var e=b,f=b.parent,g={width:0,height:0,left:0,right:0,top:0,bottom:0};if(a){var h=d(a,b);if(h.width=h.right-h.left,h.height=h.bottom-h.top,g=h,e!=f){var i=c(e.frameElement,f);i.bottom<g.bottom&&(i.bottom<g.top&&(g.top=i.bottom),g.bottom=i.bottom),i.right<g.right&&(i.right<g.left&&(g.left=i.right),g.right=i.right),g.width=g.right-g.left,g.height=g.bottom-g.top}}return g},d=function(a,b){var c=b,e=b.parent,f={left:0,right:0,top:0,bottom:0};if(a){var g=a.getBoundingClientRect();c!=e&&(f=d(c.frameElement,e)),f={left:g.left+f.left,right:g.right+f.left,top:g.top+f.top,bottom:g.bottom+f.top}}return f}}!function(){function a(){if(!d.isReady){try{document.documentElement.doScroll("left")}catch(b){return void setTimeout(a,1)}d.ready()}}var b,c,d=function(a,b){},e=(window.an_jQuery,window.$an,!1),f=[];d.fn={ready:function(a){return d.bindReady(),d.isReady?a.call(document,d):f&&f.push(a),this}},d.isReady=!1,d.ready=function(){if(!d.isReady){if(!document.body)return setTimeout(d.ready,13);if(d.isReady=!0,f){for(var a,b=0;a=f[b++];)a.call(document,d);f=null}d.fn.triggerHandler&&d(document).triggerHandler("ready")}},d.bindReady=function(){if(!e){if(e=!0,"complete"===document.readyState)return d.ready();if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",d.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",c),window.attachEvent("onload",d.ready);var b=!1;try{b=null==window.frameElement}catch(f){}document.documentElement.doScroll&&b&&a()}}},b=d(document),document.addEventListener?c=function(){document.removeEventListener("DOMContentLoaded",c,!1),d.ready()}:document.attachEvent&&(c=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",c),d.ready())}),window.an_jQuery=window.$an=d}();var c=new function(){"use strict";var a="",b=null;this.activeWindow=function(){var a=window;try{if(window.top.document&&window.top!=window.self){a=window.top;a.document}else a=window}catch(b){a=window}return a},this.activeWindowDocument=function(){var a,b=this.activeWindow();try{a=b.document}catch(c){a=window.document}return a},this.isPreviewGenerator=function(){if(this.isPreview()){document.domain="adsnative.com";try{return!(!window.top.document||window.top==window.self||-1==window.top.document.location.href.indexOf("adsnative.com/preview/"))}catch(a){return!1}}return!1},this.isPreview=function(){var a=this.getPageHostName();return-1!=a.indexOf("adsnative.com")},this.getLocationHostname=function(a){var b=document.createElement("a");return b.href=a,b.hostname},this.getPageHostName=function(b){if(arguments.length>0&&"undefined"!==b&&b)return this.getLocationHostname(b);if(a)return a;try{a=window.top.document?window.top.document.location.host:window.document.location.host}catch(c){a=window.document.location.host}return a},this.isPreviewMode=function(){var a=this.getURLParams();return!(!this.isPreview()&&!a.hasOwnProperty("adsnative_preview"))},this.isProfilingMode=function(){var a=this.getURLParams();return!!(this.isPreviewMode()&&a.hasOwnProperty("profile")&&a.profile)},this.urlPrefix=function(){return"https:"==location.protocol?"https:":"http:"},this.getPreviewModeHost=function(){if(this.isPreview()&&this.isPreviewGenerator()){var a=this.getPageHostName();if("dev-www.adsnative.com"==a)return"http://dev-api.adsnative.com";if("stage.adsnative.com"==a)return this.urlPrefix()+"//stage-api.adsnative.com";if("demo2.adsnative.com"==a)return this.urlPrefix()+"//demo-api2.adsnative.com";if("demo.adsnative.com"==a)return this.urlPrefix()+"//demo-api.adsnative.com";if("console.adsnative.com"==a||"adsnative.com"==a)return this.urlPrefix()+"//api.adsnative.com"}else{var b=this.getURLParams();if(b.hasOwnProperty("server")){if("prod"==b.server)return this.urlPrefix()+"//api.adsnative.com";if("stage"==b.server)return this.urlPrefix()+"//stage-api.adsnative.com";if("demo"==b.server)return this.urlPrefix()+"//demo-api.adsnative.com";if("local"==b.server)return"http://dev-api.adsnative.com"}}return null},this.getURLParams=function(){if(b)return b;var a,c,d=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))};try{c=this.activeWindow().location.search.substring(1)}catch(g){c=window.location.search.substring(1)}for(b={};a=e.exec(c);)b[f(a[1])]=f(a[2]);return b},this.encodeQueryData=function(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},this.get_document_keywords=function(a){if(!arguments.length)var a=100;var b="",c=document.getElementsByTagName("meta");if(c)for(var d=0,e=c.length;e>d;d++)"keywords"==c[d].name.toLowerCase()&&(b+=c[d].content);var f=[],g="";if(""!=b){g="[",f=b.split(",");for(var h=0;h<f.length&&a>h;h++)g+='"'+f[h].trim()+'"',h!=f.length-1&&h!=a-1&&(g+=", ");g+="]"}return g},this.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.removeClickEvents=function(a){for(var b=a.getElementsByTagName("a"),c=0;c<b.length;c++)-1===b[c].className.indexOf("adsnative-share-button")&&-1===b[c].className.indexOf("adsnative-cta-button")&&(b[c].onclick=function(){return!1})},this.anyClickTags=function(a){for(var b=a.getElementsByTagName("a"),c=!1,d=0;d<b.length;d++)if(-1===b[d].className.search("adsnative")&&null!=b[d].getAttribute("href")){c=!0;break}return c},this.isScriptInBody=function(){for(var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b;c;c=c.parentNode){if("BODY"==c.tagName)return!0;if("HEAD"==c.tagName)return!1}return!1},this.checkCSSPath=function(a){for(var b=this.activeWindowDocument(),c={status:!1},d=b,e=a.trim().split(">"),f=0,g="before",h=0;h<e.length;h++){var i=e[h].trim(),j=!1;if("#"==i[0]){var k=i.split(":");if(d=b.getElementById(k[0].slice(1)),k.length>1&&(g=k[1]),!d)return!1}else{var k=i.split(":");if(!(k.length>1))return!1;var l=/eq\((\d+)\)/g.exec(k[1].trim());l&&l.length>1&&(f=parseInt(l[1])),k.length>2&&(g=k[2]),k=k[0].split(".");var m=k[0],n=null,o=0,p=d.childNodes;k.length>1&&(n=k[1]),m&&(p=d.getElementsByTagName(m)),n&&"getElementsByClassName"in document&&(p=d.getElementsByClassName(n));for(var q=0;q<p.length;q++)if(1==p[q].nodeType&&(!n||(" "+p[q].className+" ").indexOf(" "+n+" ")>-1)){if(o==f){d=p[q],j=!0;break}o++}if(0==j)return!1}}return c.status=!0,c.currentElement=d,c.position=g,c},this.dropTags=function(a,b,c,d){function e(a){for(var b=0;b<a.childNodes.length;b++)if("SCRIPT"==a.childNodes[b].tagName){var d=a.childNodes[b];a.removeChild(a.childNodes[b]),f(a,d,c)}else a.childNodes[b].childNodes.length&&e(a.childNodes[b])}function f(a,b){var e=!1,f=document.createElement("script");if(f.type=b.type,b.src&&(f.src=b.src,"undefined"==typeof window.an_doc_write_scripts&&(window.an_doc_write_scripts=[],window.an_doc_write_referenceElement=[]),window.an_doc_write_scripts.push(f.src),window.an_doc_write_referenceElement.push(a)),f.async="true",b.innerHTML&&(f.innerHTML=b.innerHTML),"undefined"!=typeof d&&d)for(var g in d)d.hasOwnProperty(g)&&f.setAttribute(g,d[g]);"undefined"!=typeof c&&(b.innerHTML&&!b.src||(f.onload=f.onreadystatechange=function(){try{e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,c(),f.onload=f.onreadystatechange=null)}catch(a){console.log(a)}}));for(var h=0;h<b.attributes.length;h++)!b.attributes[h].value||b.attributes[h].value in{"null":"","false":"",0:""}||"src"==b.attributes[h].name||f.setAttribute(b.attributes[h].name,b.attributes[h].value);a.appendChild(f)}var g=document.createElement("div");g.innerHTML=b;for(var h=g.childNodes,i=0,j=0;h.length&&j<h.length;i++){var k=h[j];"IMG"==k.tagName?(k.style.cssText="margin:0;padding:0;height:1px;width:1px;border:none;float:left;display:none;",a.appendChild(k)):"SCRIPT"==k.tagName?(f(a,k),j++):"IFRAME"==k.tagName?(arguments.length>2&&(k.onload=c),a.appendChild(k)):(a.appendChild(k),e(k))}},this.indexOf=function(a){var b;return b="function"==typeof Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b=-1,c=-1;for(b=0;b<this.length;b++)if(this[b]===a){c=b;break}return c},b.call(this,a)},this.getWindowSize=function(a){var b,c=a.toLowerCase(),d=this.activeWindow(),e=d.document,f=e.documentElement;if(void 0===d["inner"+a])b=f["client"+a];else if(d["inner"+a]!=f["client"+a])try{var g=document.createElement("body");g.id="vpw-test-b",g.style.cssText="overflow:scroll";var h=document.createElement("div");h.id="vpw-test-d",h.style.cssText="position:absolute;top:-1000px",h.innerHTML="<style>@media("+c+":"+f["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+c+":7px!important}}</style>",g.appendChild(h),f.insertBefore(g,document.head),b=7==h["offset"+a]?f["client"+a]:d["inner"+a],f.removeChild(g)}catch(i){b=d["inner"+a]}else b=d["inner"+a];return b},this.bindEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},this.broadcastEvent=function(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0),c.eventName=b,a.dispatchEvent(c)):(c=document.createEventObject(),c.eventType=b,c.eventName=b,a.fireEvent("on"+c.eventType,c))},this.sendPostMessage=function(a,b,c){a.contentWindow.postMessage(c,b)}},d=new function(){this.postRequest=function(a,b,c,d){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?arguments.length>2&&c(e.responseText):arguments.length>3&&d())},e.open("POST",a,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(b)},this.getJSONP=function(a,b,c){var d;d=arguments.length>2?c:Math.floor(1e9*Math.random()+1e4),window["an_callback_"+d]=function(a){b(a)};var e=document.createElement("script");e.src=a+"&callback=an_callback_"+d,document.getElementsByTagName("head")[0].appendChild(e)}},e=(new function(){function a(a,b,f,g,h){d=document.createElement("iframe"),d.width=b,d.height=f,d.setAttribute("src",a.embedUrl),d.style.margin="20px auto 10px",d.style.border="none",d.className="adsnative-video-embed",e=document.createElement("div"),e.innerHTML=a.summary,"story"==a.type&&(e.innerHTML=e.innerHTML+'&#32;<a href="'+a.url+'" class="adsnative-read-more" '+("_blank"==a.target?'target="_blank"':"")+">Read more</a>"),e.className="adsnative-video-summary",e.style.cssText="line-height:120%; font-size:14px; margin:10px auto 20px;","video"==a.type&&g.appendChild(d),g.appendChild(e),c=h+d.offsetHeight+e.offsetHeight,e.style.display="none",d.style.display="none"}function b(){f?(d.style.display="none",e.style.display="none"):(d.style.display="block",e.style.display="block")}var c,d,e,f=!1;this.expandStoryElement=function(d,e,g){c||a(d,e.clientWidth,180,e,g),f&&b();var h=c,i=g,j=300,k=(new Date).getTime(),l=parseInt(e.clientHeight),m=f?i:h,n=m-l;e.style.height=m;var o=setInterval(function(){var a=(new Date).getTime()-k;if(j>=a){var c=l+Math.floor(n*a/j);e.style.height=c+"px"}else clearInterval(o),e.style.height=m+"px",f||b(),f=!f},1)}},new function(){function a(){if(this.overlay)this.overlay.style.display="block";else{var a=c.activeWindow();this.overlay=a.document.createElement("div"),this.overlay.style.cssText="position:fixed;z-index:999999;width:100%;height:100%;text-align:center;top:0;left:0;background:rgba(0,0,0,0.7);",this.overlay.id="an-lightbox-overlay";this.overlay.onclick=function(){return f(),!1},a.document.getElementsByTagName("body")[0].appendChild(this.overlay)}}function b(){this.overlay.style.display="none"}function d(b){a();var d,e,j=c.activeWindow();i>h?(d=Math.floor(.8*h),e=Math.floor(3*d/4)):(e=Math.floor(.8*i),d=Math.floor(4*e/3)),this.lightbox_elem||(this.lightbox_elem=j.document.createElement("div"),this.lightbox_elem.style.cssText="background-color:#FFF;position:fixed;z-index:9999999;box-shadow:0px 0px 30px rgba(0,0,0,0.8);",this.lightbox_elem.style.width=d+"px",this.lightbox_elem.style.height=e-50+"px",this.lightbox_elem.style.left=Math.floor((h-d)/2)+"px",this.lightbox_elem.style.top=Math.floor((i-e)/2)+"px",this.lightbox_elem.id="an-lightbox");var k;k='<style>#an-lightbox-header a:hover h2 { color:#4775FF; }</style><div id="an-lightbox-header" style="text-align:center;margin:10px;"><a href="'+g.ad.url+'" target="_blank" style="text-decoration:none;color:#000000;"><h2 style="font-size: 20px; font-family:Georgia,sans-serif; padding: 0;margin: 10px;">'+g.ad.title+'</h2></a><span style="font-size: 15px;color: #666;">'+g.ad.promotedByTag+" "+g.ad.promotedBy+"</span></div>",this.lightbox_elem.innerHTML=k+b,j.document.getElementsByTagName("body")[0].appendChild(this.lightbox_elem),this.close_button=j.document.createElement("div"),this.close_button.style.cssText="width:32px;height:32px;cursor:pointer;position:fixed;z-index:99999999;background:url(http://static.adsnative.com/static/img/nativead/close3.png) 0px 0px no-repeat;display: inline-block;",this.close_button.style.marginLeft="-16px",this.close_button.style.top=Math.floor((i-e)/2)-16+"px",this.close_button.onclick=function(){return f(),!1},this.lightbox_elem.appendChild(this.close_button),this.lightbox_elem.style.display="block"}function e(){this.lightbox_elem.style.display="none",this.lightbox_elem.innerHTML=""}function f(){b(),e()}this.overlay=null,this.lightbox_elem=null;var g=this;this.ad=null;var h=(c.activeWindow(),c.getWindowSize("Width")),i=c.getWindowSize("Height");this.open=function(a,b){b=Boolean(b),g.ad=a,d('<iframe id="an-lightbox-player-iframe" src="'+a.embedUrl+"&auto_play="+b+'" style="width:100%;height:100%;overflow:hide;" frameborder="0" allowfullscreen="true" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe')},this.close=function(){f()}}),f=new function(){this.dropCookieMatchingPixel=function(){var a=document.createElement("img");a.src=c.urlPrefix()+"//rudy.adsnative.com/cm.gif",a.style.cssText="height:1px;width:1px;border:none;display:none;",document.getElementsByTagName("body").length?document.getElementsByTagName("body")[0].appendChild(a):$an.fn.ready(function(){document.getElementsByTagName("body")[0].appendChild(a)})}},g=function(b){"use strict";function f(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||o.forceMobile}function g(a){this.status=!1,this.apiKey=null,this.current_network_index=0,this.placement_finished_processing=!1,this.addVideoDetectiveListner=function(a){var b=function(b){var c=b.message||b.data;if(c.hasOwnProperty("video_detective")&&b.origin==o.apiUrl)try{a.getElementsByTagName("vd_title")[0].outerHTML=c.title,a.getElementsByTagName("vd_summary")[0].outerHTML=c.description}catch(d){}};window.addEventListener?window.addEventListener("message",b,!1):window.attachEvent&&window.attachEvent("onmessage",b)};(function(b){if(b.content=a,b.content.hasOwnProperty("zid")?b.apiKey=b.content.zid:o.apiKey&&(b.apiKey=o.apiKey),"OK"==b.content.status&&(b.status=!0),b.win=c.activeWindow(),b.win_doc=c.activeWindowDocument(),b.inview=!1,b.nativeAdElement=null,b.viewTracked=!1,b.filledWithAdsNativeAd=!1,o.inviewEvent&&o.outviewEvent){var d=window.addEventListener?"addEventListener":"attachEvent",e=window[d],f="attachEvent"==d?"onmessage":"message";e(f,function(a){var d=a.message||a.data;d==o.inviewEvent?(b.inview=!0,c.broadcastEvent(document,"adsnative.mrc50.view:in"),b.content.hasOwnProperty("ad")&&b.nativeAdElement&&b.filledWithAdsNativeAd&&(b.nativeAdElement.getElementsByTagName("iframe").length&&(c.sendPostMessage(b.nativeAdElement.getElementsByTagName("iframe")[0],c.urlPrefix()+"//api.adsnative.com","disqus.view:50in"),c.sendPostMessage(b.nativeAdElement.getElementsByTagName("iframe")[0],c.urlPrefix()+"//api.adsnative.com","adsnative.mrc50.view:in")),b.content.ad.hasOwnProperty("viewableTags")&&!b.viewTracked&&(c.dropTags(b.nativeAdElement,b.content.ad.viewableTags),b.viewTracked=!0))):d==o.outviewEvent&&(b.inview=!1,c.broadcastEvent(document,"adsnative.mrc50.view:out"),b.content.hasOwnProperty("ad")&&b.nativeAdElement&&b.filledWithAdsNativeAd&&b.nativeAdElement.getElementsByTagName("iframe").length&&(c.sendPostMessage(b.nativeAdElement.getElementsByTagName("iframe")[0],c.urlPrefix()+"//api.adsnative.com","disqus.view:50out"),c.sendPostMessage(b.nativeAdElement.getElementsByTagName("iframe")[0],c.urlPrefix()+"//api.adsnative.com","adsnative.mrc50.view:out")))})}})(this)}function h(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=document.createElement("div"),d="adsnative-dummy-";return o.apiKey?d+=o.apiKey:o.widgetId&&(d+=o.widgetId),c.id=d,b.parentNode.insertBefore(c,b.nextSibling),d}function i(a,b){var e=o.domainLookupUrl+o.domainLookupEndpoint+c.getPageHostName(o.currentPageUrl)+"/?";if(a&&("string"==typeof a||a instanceof String))var f="lookup_"+a.positiveIntegerHash();else var f="lookup";q.log("console","Loading host file from: "+e+"callback="+f),d.getJSONP(e,b,f)}function j(a,b,d,e){var f;f=arguments.length>3?function(a){r.end("GET AD DATA");try{e(a)}catch(b){q.log("error","name: "+b.name+" message: "+b.message,b)}}:function(a){r.end("GET AD DATA"),m(a)};var g=function(a){r.start("DOMAIN LOOKUP CHECK");for(var b=[],d=0;d<a.length;d++)c.checkCSSPath(a[d].cssPath)&&b.push(a[d].zid);return q.log("console","CSS path found: "),q.log("console",b),b},h=function(b,d){var e=[];if(b||!c.getPageHostName(o.currentPageUrl))j([b],d);else if(a.widgetId&&a.networkKey){for(var e=[],f=0;f<d.length;f++)if(d[f].hasOwnProperty("widgetId")&&d[f].widgetId==a.widgetId&&d[f].hasOwnProperty("networkKey")&&d[f].networkKey==a.networkKey){e.push(d[f].zid);break}j(e,d,!0)}else p.isScriptInBody?j(g(d),d):(r.start("SCRIPT IN BODY WAIT"),$an.fn.ready(function(){r.end("SCRIPT IN BODY WAIT"),j(g(d),d)}))},j=function(a,c,e){a.length?(k(a,c),arguments.length>2&&e?l(null,b,d,f):l(a,b,d,f)):arguments.length>2&&e?(q.log("console","Placements not found in criteo lookup. Fetching ad directly"),l(null,b,d,f)):q.log("console","No valid placements found for this domain")};r.start("HOST FILE FETCH"),i(a.apiKey,function(b){r.end("HOST FILE FETCH"),b&&b.length||q.log("console","No active placements in host file"),q.log("console","Domain placements: "),q.log("console",b),h(a.apiKey,b)})}function k(a,b){window.clientSideData=window.clientSideData||{};for(var c=function(a,b){r.start("PRELOAD CLIENT-SIDE AD DATA: "+a),d.getJSONP(b,function(b){r.end("PRELOAD CLIENT-SIDE AD DATA: "+a),window.clientSideData[a]=b})},e=0;e<b.length;e++)a.indexOf(b[e].zid)>-1&&b[e].clientUrl?c(b[e].zid,b[e].clientUrl):window.clientSideData[b[e].zid]={}}function l(a,b,e,f){var g,h={force_mobile:o.forceMobile?1:0},i=[],j="";if(a)for(g=a.length;g--;)i.push("zid="+a[g]);else{h.widget_id=o.widgetId,h.network_key=o.networkKey,o.safetyLevel&&(h.safety_level=o.safetyLevel),o.templateKey&&(h.template_key=o.templateKey),h.url=o.currentPageUrl;for(var k=0;k<o.categories.length;k++)i.push("cat="+o.categories[k])}if(j=i.join("&"),e&&(h.kw=e),b>0&&(h.num_ads=b),!h.hasOwnProperty("url")||!h.url)try{window.top.document&&window.top!=window.self&&"undefined"!=typeof window.top.location.href&&window.top.location.href?(h.url=window.top.location.href,h.ref=window.top.document.referrer):(h.url=window.location.href,h.ref=document.referrer)}catch(l){h.url=window.location.href,h.ref=document.referrer}p.isPreviewMode&&(p.forceCampaignID&&(h.preview=1,h.cid=p.forceCampaignID),p.forceCreativeID&&(h.crid=p.forceCreativeID),p.forceBidUrl&&(h.mock_bid_urls=p.forceBidUrl,h.mock_api_version=p.forceBidVersion?p.forceBidVersion:"v23"));var m=o.apiUrl+o.apiEndpoint+"?"+j+"&"+c.encodeQueryData(h);q.log("console","Loading ad data from: "+m),r.start("GET AD DATA"),d.getJSONP(m,f)}function m(a){p.apiData=a,n(a)}function n(a){if(r.start("TOTAL RENDER"),a instanceof Array)for(var b=0;b<a.length;b++){var c=new g(a[b]);c.processAd()}else{var c=new g(a);c.processAd()}r.end("TOTAL RENDER"),r.end("TOTAL CLIENT"),r.timeSincePageStart("TOTAL OVERALL")}var o={apiUrl:c.urlPrefix()+"//api.adsnative.com",apiEndpoint:"/v1/ad-template.json",domainLookupUrl:c.urlPrefix()+"//d2b3uqm49lqeua.cloudfront.net",domainLookupEndpoint:"/v1/host/",apiKey:"",apiData:null,staticUrl:c.urlPrefix()+"//static.adsnative.com/static/",version:"1.0",subversion:"1.428",onready:null,userCallbackOnAdLoad:null,processNativeAdElement:null,numAds:0,forceMobile:!1,callbackOnNoAds:null,blockAdLoad:!1,blockAdDisplay:!1,nativeAdElementId:null,keywords:null,autoPosition:!1,preview:!1,networkKey:null,currentPageUrl:null,categories:null,widgetId:null,safetyLevel:null,inviewEvent:null,outviewEvent:null,templateKey:null},p={isScriptInBody:!1,isPreviewMode:!1,isProfilingMode:!1,forceCampaignID:null,forceCreativeID:null,forceBidUrl:null,apiData:null,adUnits:{}},q=new function(){function a(a,b,c){var e=o.apiUrl+"/v1/log/error/?",f="level="+c+"&message_type="+encodeURIComponent(a)+"&data="+encodeURIComponent(b);d.postRequest(e,f)}this.log=function(b,d,e){if(p.isPreviewMode&&("string"==typeof d||d instanceof String?console.log("[AN] "+d):console.log(d),arguments.length>2&&console.log(e)),"error"==b){var f=(o.apiKey?o.apiKey:c.getPageHostName(),{settings:o,session:p,pageURL:c.activeWindow().location.href,userAgent:navigator.userAgent});if(arguments.length>2&&(f.error=e),"name: TypeError message: null is not an object (evaluating 'this.referenceElement.parentNode')"==d||"name: TypeError message: 'null' is not an object (evaluating 'this.referenceElement.parentNode')"==d||"name: TypeError message: Cannot read property 'parentNode' of null"==d)return;a(d,JSON.stringify(f),b)}}},r=new function(){this.timeSincePageStart=function(a){if(p.isProfilingMode)try{console.debug("[AN] "+a+": "+(Date.now()-c.activeWindow().performance.timing.navigationStart)+"ms")}catch(b){}},this.start=function(a){p.isProfilingMode&&console.time("[AN] "+a)},this.end=function(a){p.isProfilingMode&&console.timeEnd("[AN] "+a)}};(function(){o=c.extend(o,b),p.isScriptInBody=c.isScriptInBody(),p.isPreviewMode=c.isPreviewMode()||o.preview,p.isProfilingMode=c.isProfilingMode(),p.previewModeHost=c.getPreviewModeHost(),p.urlParams=c.getURLParams(),r.timeSincePageStart("TIME SINCE PAGE START"),r.start("TOTAL CLIENT"),p.isPreviewMode&&(p.previewModeHost?(o.apiUrl=p.previewModeHost,o.domainLookupUrl=p.previewModeHost):p.previewModeHost=o.apiUrl,p.urlParams.hasOwnProperty("zid")&&(o.apiKey=p.urlParams.zid),p.urlParams.hasOwnProperty("force_mobile")&&(o.forceMobile=Boolean(p.urlParams.force_mobile)),p.urlParams.hasOwnProperty("cid")&&(p.forceCampaignID=p.urlParams.cid),p.urlParams.hasOwnProperty("crid")&&(p.forceCreativeID=p.urlParams.crid),p.urlParams.hasOwnProperty("bid_url")&&(p.forceBidUrl=p.urlParams.bid_url),p.urlParams.hasOwnProperty("bid_version")&&(p.forceBidVersion=p.urlParams.bid_version)),o.currentPageUrl&&(o.currentPageUrl=decodeURIComponent(o.currentPageUrl))})();g.prototype.applyCommonStyle=function(a){var b=document.createElement("style");b.setAttribute("type","text/css");var c='div.adsnative-labels { } div.adsnative-powered-by { margin-right:5px !important; font-size: 11px; color: #777; float: right; text-align: right; margin-right: 0px; }div.adsnative-powered-by a { text-decoration: none; color: #333; font-size:14px;  font-family: "BenchNine", sans-serif; }div.adsnative-powered-by a:hover { color: #cc0033; }.adsnative-sponsored-label { font-size:12px; color: #999; margin-bottom:5px; }.adsnative-share-buttons { float: left; margin-left:8px; margin-bottom:5px; }.adsnative-share-button { text-decoration:none; display:block; height:24px; float:left; margin-right:10px; padding-left:25px; line-height:21px; font-size:14px; font-family:"Helvetica Neue", Helvetica, Arial, sans-serif;  }.adsnative-fb-share { background:url('+o.staticUrl+"img/facebook.png) no-repeat; color:#3a5899; }.adsnative-tw-share { background:url("+o.staticUrl+"img/twitter.png) no-repeat; color:#40aceb; }.adsnative-cta-button { display:block; float:left; width:100%; margin:8px 0px auto; border-radius: 0px; background:-webkit-gradient( linear, left top, left bottom, color-stop(5%, #ededed), color-stop(100%, #dfdfdf) ); border:1px solid #DDD; padding:8px 0; font-size:14px; font-family:Helvetica, Arial, sans-serif; text-decoration:none; text-align:center; text-shadow:none; color:#004276; text-shadow:0 1px 0 rgba(255,255,255, 1); }div.adsnative-reset { clear: both; }";c+='[class^="adsnative-icon-"], [class*=" adsnative-icon-"] { display:none; }';var d=document;if(o.autoPosition&&(d=this.win_doc),d.getElementsByTagName("head")[0].appendChild(b),Object.prototype.hasOwnProperty.call(b,"styleSheet"))b.styleSheet.cssText=c+a;else try{b.innerHTML=c+a}catch(e){try{b.textContent=c+a}catch(e){b.innerText=c+a}}},g.prototype.outputAd=function(b){var d=document.createElement("div");d.innerHTML=b.html;var e;if(d.childNodes.length>1?(e=d,b.backgroundColor&&(e.style.backgroundColor=b.backgroundColor),this.referenceElement.parentNode.insertBefore(e,this.referenceElement)):(e=d.firstChild,b.backgroundColor&&(e.style.backgroundColor=b.backgroundColor),this.referenceElement.parentNode.insertBefore(e,this.referenceElement)),b.hasOwnProperty("trackingTags")&&c.dropTags(e,b.trackingTags),o.processNativeAdElement&&o.processNativeAdElement(e),this.ctaButton=document.createElement("div"),this.ctaButton.innerHTML='<a href="'+b.ctaUrl+'" class="adsnative-cta-button" target="_blank">'+b.ctaTitle+"</a>",this.shareButtons=document.createElement("div"),this.shareButtons.innerHTML='<a href="https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(b.url)+'" class="adsnative-fb-share adsnative-share-button" target="_blank">Share</a><a href="https://twitter.com/intent/tweet/?text='+encodeURIComponent(b.title)+"&url="+b.url+'" class="adsnative-tw-share adsnative-share-button" target="_blank">Tweet</a><div class="adsnative-reset"></div>',this.shareButtons.style.cssText="display:block;margin-top:10px;",this.shareButtons.className="adsnative-share-buttons",b.hasOwnProperty("privacy")){var f=document.createElement("div");f.style.cssText="position: absolute;top: 0px;right: 0px;z-index:9999999;",f.innerHTML='<a href="'+b.privacy.optOutClickUrl+'" target="_blank"><img class="adsnative-privacy-button" src="'+b.privacy.optOutImageUrl+'"></a>',e.style.position="relative",e.appendChild(f)}var g=document.createElement("div");g.className="adsnative-reset";var h=document.createElement("div");h.style.cssText="",b.ctaUrl&&b.ctaTitle&&""!=b.ctaTitle?e.appendChild(this.ctaButton):h.appendChild(this.shareButtons),h.appendChild(g),h.className="adsnative-labels";try{this.origClientHeight=window.getComputedStyle(e).getPropertyValue("height")?parseInt(window.getComputedStyle(e).getPropertyValue("height").slice(0,-2)):e.clientHeight}catch(i){origClientHeight=e.getBoundingClientRect().bottom-e.getBoundingClientRect().top}this.setupClick(b,e);var j=this;if(b.hasOwnProperty("viewableTags")&&(!o.inviewEvent||!o.outviewEvent)){var k=new a;k.checkViewability(e,function(a){a.viewabiltyStatus&&(c.dropTags(e,b.viewableTags),q.log("console",j.apiKey+": Viewable!"))},c.activeWindow())}this.nativeAdElement=e,this.addVideoDetectiveListner(e)},g.prototype.setupClick=function(a,b){var d=this.origClientHeight,e=this;b.onclick=function(c){return c.target.className.indexOf("adsnative-privacy-button")>-1?!0:-1===c.target.className.indexOf("adsnative-share-button")&&-1===c.target.className.indexOf("adsnative-cta-button")&&-1===c.target.className.indexOf("adsnative-read-more")?e.onUserClick(a,b,d):void 0},c.anyClickTags(b)||!a.url&&("video"!=a.type||a.inlineVideo)||(b.style.cursor="pointer")},g.prototype.onUserClick=function(a,b,d){if("video"==a.type&&p.apiData&&p.adUnits.hasOwnProperty(p.apiData.zid)&&p.adUnits[p.apiData.zid].hasOwnProperty("onclick"))return p.adUnits[p.apiData.zid].onclick({type:a.type,url:a.url,
embedUrl:a.embedUrl,title:a.title,summary:a.summary,brand_name:a.promotedBy,image:a.imageSrc}),!1;if("video"!=a.type||a.inlineVideo){if(!(!f()&&c.anyClickTags(b)||a.inlineVideo)&&a.url){if("undefined"!=typeof a.clickCallback){var g=a.clickCallback["function"],h=a.clickCallback.args;"function"==typeof window[g]&&window[g].apply(this,h)}var i=c.activeWindow();if("_blank"==a.target){var j=i.open(a.url,"_blank");j.focus()}else i.location.href=a.url;return!1}if(!a.url)return!1}else if("autoplay_lightbox"==a.videoExperience)return e.open(a,!0),!1;return!0},g.prototype.outputHTML=function(a){var b=document.createElement("div");b.innerHTML=a;for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];this.referenceElement.parentNode.insertBefore(d,this.referenceElement)}},g.prototype.renderNativeAd=function(){if(this.content.hasOwnProperty("ads")&&!c.isEmpty(this.content.ads)){this.applyCommonStyle(this.content.ads[0].ad.style),this.outputHTML(this.content.htmlWrapperTop);for(var a=0;a<this.content.ads.length;a++)this.outputAd(this.content.ads[a].ad);this.outputHTML(this.content.htmlWrapperBottom)}else this.content.hasOwnProperty("ad")&&Object.getOwnPropertyNames(this.content.ad).length&&(this.applyCommonStyle(this.content.ad.style),this.outputAd(this.content.ad));this.filledWithAdsNativeAd=!0},g.prototype.renderNetworkAd=function(a){var b=this,d=!1,e=!1,f=!1,g=!1,h=!1,i=["ntent_feed","inmobi_feed","aol_feed","ebay_feed","gravity_feed","kixer_feed","admarketplace_feed","criteo_feed"];this.thirdPartyElement=document.createElement("div"),this.referenceElement.parentNode.insertBefore(this.thirdPartyElement,this.referenceElement),this.nativeAdElement=this.thirdPartyElement;var j=["ntent_feed","aol_feed","ebay_feed","gravity_feed","inmobi_feed","kixer_feed","triple_lift","federated_media","kixer","saymedia","contentad","connatix","outbrain","sharethrough","taboola","nativo","other","admarketplace_feed","medianet","dianomi","criteo_feed","criteo_secondary","openx","mobilemajority","nativeads","urx","rubiconproject","answermedia","distroscale","motiveinteractive","aol_marketplace","virool"],k=["openx","mobilemajority","nativeads","kixer","urx","rubiconproject","answermedia","distroscale","motiveinteractive","aol_marketplace","zergnet","taboola","virool","criteo_secondary"];if(c.indexOf.call(j,a.providerName)>-1){var l='<img src="'+a.trackingUrls.requests[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';c.dropTags(this.thirdPartyElement,l)}if(window._an_adFill=function(d){c.indexOf.call(k,d)>-1&&d==a.providerName&&(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),m=!0,b.finish())},window._an_adNoFill=function(d){c.indexOf.call(k,d)>-1&&d==a.providerName&&(q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),m=!0,b.fallbackNetwork())},c.indexOf.call(k,a.providerName)>-1){var m=!1;setTimeout(function(){m||(q.log("console","fallback (timeout): "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork(),b.trackNetworkTimeout())},1e3)}var n=null;if("connatix"==a.providerName&&(a.headerTags&&(a.html=a.headerTags,a.headerTags=""),c.bindEvent(window,"connatix_no_content",function(){q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork()}),c.bindEvent(window,"connatix_content_fill",function(){q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish()}),n={"data-connatix-event":"connatix_content_fill"}),i.indexOf(a.providerName)>-1){var o={};a.hasOwnProperty("customFields")&&!c.isEmpty(a.customFields)&&(o=a.customFields),this.fetchNetworkCreative(a.sid,a.providerName,o)}else c.dropTags(this.thirdPartyElement,a.html,function(){"medianet"==a.providerName||"dianomi"==a.providerName?(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish()):"kixer"==a.providerName?"function"==typeof __kx_ad_start&&(__kx_ad_start(),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags)):"triple_lift"==a.providerName?(window._an_noTripleLiftAdFill=function(){q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),d=!0,b.fallbackNetwork()},setTimeout(function(){d||(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish())},2e3)):"federated_media"==a.providerName?setTimeout(function(){e||(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish())},2e3):"saymedia"==a.providerName?setTimeout(function(){g||(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish())},2e3):"contentad"==a.providerName&&(a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish())},n);if("saymedia"==a.providerName&&(window._an_noSayMediaAdFill=function(){q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork(),g=!0}),"federated_media"==a.providerName&&(window._an_noFMAdFill=function(){q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork(),e=!0}),"other"==a.providerName&&(a.hasOwnProperty("trackingTags")&&c.dropTags(this.thirdPartyElement,a.trackingTags),this.finish()),"sharethrough"==a.providerName){var p=function(d){var e=d.message||d.data;if("http://btlr.sharethrough.com"==d.origin&&e){var g=window.JSON&&window.JSON.parse?window.JSON.parse(e.trim()):new Function("return "+e.trim())();g.response.creatives.length?(q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish(),f=!0):(q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork())}};window.addEventListener?window.addEventListener("message",p,!1):window.attachEvent&&window.attachEvent("onmessage",p)}a.hasOwnProperty("headerTags")&&a.headerTags&&c.dropTags(document.getElementsByTagName("head")[0],a.headerTags,function(){if("outbrain"==a.providerName||"taboola"==a.providerName)q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish();else if("nativo"==a.providerName){var d=_pr.prototype.Render_TemplateAd;b.an_nativo_fill=!1,_pr.prototype.Render_TemplateAd=function(e){h||b.placement_finished_processing||(b.an_nativo_fill=!0,q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish(),d(e))};var e=_pr.prototype.PushAd;_pr.prototype.PushAd=function(d){h||b.placement_finished_processing||(b.an_nativo_fill=!0,q.log("console","filled and done: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),a.hasOwnProperty("trackingTags")&&c.dropTags(b.thirdPartyElement,a.trackingTags),b.finish(),e.call(PostRelease,d))},setTimeout(function(){b.an_nativo_fill||b.placement_finished_processing||(h=!0,q.log("console","fallback: "+b.current_network_index+" - "+a.providerName+" (zid: "+b.apiKey+")"),b.fallbackNetwork(),b.trackNetworkTimeout())},800)}},n),a.hasOwnProperty("footerTags")&&a.footerTags&&c.dropTags(document.getElementsByTagName("body")[0],a.footerTags)},g.prototype.fallbackNetwork=function(){if(this.content.networks){var a=this.content.networks[this.current_network_index],b='<img src="'+a.trackingUrls.nofills[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';c.dropTags(this.thirdPartyElement,b)}this.placement_finished_processing||(this.content.networks&&this.content.networks.length>this.current_network_index+1?(this.cleanupNetwork(),this.current_network_index++,this.renderNetworkAd(this.content.networks[this.current_network_index])):!c.isEmpty(this.content.ad)&&this.content.ad.hasOwnProperty("html")?(this.cleanupNetwork(),this.renderNativeAd(),this.finish()):this.finish(!1))},g.prototype.trackNetworkTimeout=function(){if(this.content.networks){var a=this.content.networks[this.current_network_index],b='<img src="'+a.trackingUrls.timeout[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';c.dropTags(this.thirdPartyElement,b)}},g.prototype.fetchNetworkCreative=function(a,b,e){var f=this,g=function(a){q.log("console",a),a&&"OK"==a.status&&a.ads&&a.ads.length>0?(f.applyCommonStyle(a.ads[0].style),f.outputAd(a.ads[0]),f.finish()):f.fallbackNetwork()};if("admarketplace_feed"==b){var h=c.get_document_keywords(4);if(""==h)return void this.fallbackNetwork();e.kw=h}var i={sid:a,kw:e.hasOwnProperty("kw")?e.kw:"",pub_id:e.hasOwnProperty("pub_id")?e.pub_id:"",placement_id:e.hasOwnProperty("placement_id")?e.placement_id:"",platform:e.hasOwnProperty("platform")?e.platform:"",device:e.hasOwnProperty("device")?e.device:"",num_ads:e.hasOwnProperty("num_ads")?e.num_ads:1,ip:p.urlParams.hasOwnProperty("ip")?p.urlParams.ip:""};if("criteo_feed"==b){var j=0,k=10,l=40;window.checkClientSideResponse=function(){if(0==j&&r.start("CRITEO EXTRA WAIT TIME"),j++,"undefined"!=typeof window.clientSideData&&f.apiKey in window.clientSideData){r.end("CRITEO EXTRA WAIT TIME");var a=window.clientSideData[f.apiKey];return q.log("console",a),0==a.response_status?(i.provider_data=btoa(JSON.stringify(a)),d.getJSONP(o.apiUrl+"/v1/proxy/"+b+"/?"+c.encodeQueryData(i),g),!0):(q.log("console","Criteo returned 0 ads: using fallback"),f.fallbackNetwork(),!1)}return j>=l?(r.end("CRITEO EXTRA WAIT TIME"),q.log("console","Criteo failed to respond in time: using fallback"),f.fallbackNetwork(),f.trackNetworkTimeout(),!1):void window.setTimeout("window.checkClientSideResponse();",k)},window.checkClientSideResponse()}else d.getJSONP(o.apiUrl+"/v1/proxy/"+b+"/?"+c.encodeQueryData(i),g)},g.prototype.cleanupNetwork=function(){this.thirdPartyElement&&this.thirdPartyElement.parentNode&&this.thirdPartyElement.parentNode.removeChild(this.thirdPartyElement)},g.prototype.finish=function(a){if(0==arguments.length)var a=!0;o.userCallbackOnAdLoad&&o.userCallbackOnAdLoad(a),this.inview&&c.broadcastEvent(document,"adsnative.mrc50.view:in"),q.log("console","Finished: "),this&&this.referenceElement&&this.referenceElement.parentNode?this.referenceElement.parentNode.removeChild(this.referenceElement):q.log("console","No reference element found"),this.placement_finished_processing=!0},g.prototype.processAd=function(){if(q.log("console",this.content),o.userCallbackOnAdLoad&&"OK"!=this.content.status&&o.userCallbackOnAdLoad("OK"==this.content.status),this.content.hasOwnProperty("zid")&&p.adUnits.hasOwnProperty(this.content.zid)){var a={};this.status&&(a={type:this.content.ad.type,url:this.content.ad.url,embedUrl:this.content.ad.embedUrl,title:this.content.ad.title,summary:this.content.ad.summary,brand_name:this.content.ad.promotedBy,image:this.content.ad.imageSrc}),p.adUnits[this.content.zid].content=this.content,p.adUnits[this.content.zid].hasOwnProperty("callback")&&p.adUnits[this.content.zid].callback("OK"==this.content.status,this.apiKey,a)}if(!o.blockAdDisplay){if(!this.status)return o.callbackOnNoAds&&o.callbackOnNoAds(),void(this.content.hasOwnProperty("message")?"no active campaigns found"!=this.content.message&&"ad-unit is not active"!=this.content.message&&q.log("warning",this.content.message):q.log("warning","An unknown error occurred."));if(o.nativeAdElementId){if(this.referenceElement=c.activeWindowDocument().getElementById(o.nativeAdElementId),!this.referenceElement)return void q.log("warning","Given nativeAdElementId not found.")}else{if(o.autoPosition){var b;if(!this.content.hasOwnProperty("cssPath")||!this.content.cssPath)return void q.log("warning","No CSS path configured for this page.");if(b=this.content.cssPath,p.isScriptInBody){var d=this.insertReferenceElement(b);d?this.startRender():this.waitPositionAdAndRender(b)}else this.waitPositionAdAndRender(b);return}if(p.adUnits.hasOwnProperty(this.apiKey)&&p.adUnits[this.apiKey].hasOwnProperty("nativeAdElementId")){if(this.referenceElement=c.activeWindowDocument().getElementById(p.adUnits[this.apiKey].nativeAdElementId),!this.referenceElement)return void q.log("warning","Given nativeAdElementId not found for apiKey")}else o.apiKey?this.referenceElement=document.getElementById("adsnative-dummy-"+this.apiKey):this.referenceElement=document.getElementById("adsnative-dummy-"+o.widgetId)}this.startRender()}},g.prototype.waitPositionAdAndRender=function(a){var b=this;r.start("WAIT TO RENDER"),$an.fn.ready(function(){r.end("WAIT TO RENDER"),b.positionAdAndRender(a)})},g.prototype.positionAdAndRender=function(a){var b=this.insertReferenceElement(a),c=this;if(b)this.startRender();else{c.reTryCounter=0;var d=setInterval(function(){b=c.insertReferenceElement(a),b?(clearInterval(d),c.startRender()):(c.reTryCounter++,c.reTryCounter>=20&&(clearInterval(d),q.log("warning","Configured CSS path not found on this page.")))},200)}},g.prototype.startRender=function(){if(this.content.hasOwnProperty("networks")&&this.content.networks.length)this.renderNetworkAd(this.content.networks[0]);else if(this.content.hasOwnProperty("ad")&&this.content.ad.hasOwnProperty("customFields")&&this.content.ad.customFields.hasOwnProperty("network_feed")){var a={};this.content.ad.hasOwnProperty("customFields")&&!c.isEmpty(this.content.ad.customFields)&&(a=this.content.ad.customFields),this.fetchNetworkCreative(this.content.sid,this.content.ad.customFields.network_feed,a)}else this.renderNativeAd(),this.finish()},g.prototype.insertReferenceElement=function(a){r.start("CSS PATH SEARCH");var b=this.win_doc.createElement("div"),d=c.checkCSSPath(a);return d?("after"==d.position?d.currentElement.parentNode.insertBefore(b,d.currentElement.nextSibling):"append"==d.position?d.currentElement.appendChild(b):d.currentElement.parentNode.insertBefore(b,d.currentElement),this.referenceElement=b,r.end("CSS PATH SEARCH"),!0):!1},window.AdsNative=function(a,b){(function(c){c.apiKey=a,"undefined"!==b?c.keywords=b:c.keywords="",c.status=!1,c.adRendered=!1})(this)},window.AdsNative.prototype.fetchAd=function(a){var b=this;j({apiKey:this.apiKey},1,o.keywords?o.keywords:this.keywords,function(c){b.callbackData=c,b.placementProcessor=new g(b.callbackData),c.hasOwnProperty("status")&&"OK"==c.status&&(b.status=!0,b.adRendered=!1),a(b.status)})},window.AdsNative.prototype.displayAd=function(a){return this.status?this.adRendered?(q.log("console","Placement "+this.apiKey+" : This ad unit already rendered. A placement can be rendered only once."),!1):(this.elementId=document.getElementById(a),this.elementId?(this.placementProcessor.referenceElement=this.elementId,this.placementProcessor.startRender(),this.adRendered=!0,!0):(q.log("console","Placement "+this.apiKey+" : Element not found"),!1)):(q.log("console","Placement "+this.apiKey+" : No valid campaign returned"),!1)},window.AdsNative.prototype.refresh=function(){var a,b=this;if(this.status&&this.adRendered)a=this.placementProcessor.nativeAdElement;else{if(!this.elementId)return q.log("console","Placement "+this.apiKey+" : The placement was never fetched so cannot be refreshed."),!1;a=this.elementId}return this.fetchAd(function(c){b.placementProcessor.referenceElement=a,b.placementProcessor.startRender()}),!0},this.load=function(){if(q.log("console","RenderJS Loaded!"),o.onready&&o.onready(),o.blockAdLoad)return void q.log("console","Blocked initial load");if(o.hasOwnProperty("adUnits"))for(var a in o.adUnits){var b=o.adUnits[a];if(b.hasOwnProperty("apiKey")&&b.apiKey){var d=o.numAds;b.hasOwnProperty("numAds")&&(d=b.numAds);var e="";b.hasOwnProperty("keywords")&&b.keywords&&(e=b.keywords.join()),b.hasOwnProperty("nativeAdElementId")&&c.activeWindowDocument().getElementById(b.nativeAdElementId)&&(p.adUnits.hasOwnProperty(b.apiKey)||(p.adUnits[b.apiKey]={}),p.adUnits[b.apiKey].nativeAdElementId=b.nativeAdElementId),j({apiKey:b.apiKey},d,e)}}else!(o.apiKey||o.widgetId&&o.networkKey)||o.nativeAdElementId||o.autoPosition||h(),j(o,o.numAds,o.keywords)},this.fetchAds=function(a,b,c){o.blockAdDisplay=!0;for(var d=0;d<a.length;d++)p.adUnits.hasOwnProperty(a[d])||(p.adUnits[a[d]]={}),p.adUnits[a[d]].callback=c,j({apiKey:a[d]},1,o.keywords?o.keywords:b)},this.displayAd=function(a,b){if(p.adUnits.hasOwnProperty(a)&&p.adUnits[a].hasOwnProperty("content")){var c=p.adUnits[a].content,d=document.getElementById(b),e=new g(c);e.referenceElement=d,e.startRender()}},this.renderAd=function(a,b,c,d){var e=this;this.fetchAds([d],b,function(b,d){b&&e.displayAd(d,a),c(b)})},this.onClickHandler=function(a,b){p.adUnits.hasOwnProperty(a)||(p.adUnits[a]={}),p.adUnits[a].onclick=b},this.getVersion=function(){return o.version}};if("undefined"==typeof h)var h=[],i=[];"undefined"==typeof window._AdsNativeOpts?window._AdsNativeOpts={autoPosition:!0}:window._AdsNativeOpts.hasOwnProperty("apiKey")||window._AdsNativeOpts.hasOwnProperty("widgetId")||window._AdsNativeOpts.hasOwnProperty("adUnits")||window._AdsNativeOpts.hasOwnProperty("blockAdLoad")||(window._AdsNativeOpts.autoPosition=!0),i.push(window._AdsNativeOpts),h.push(new g(i[i.length-1])),h[h.length-1].load(),"undefined"==typeof window._AdsNative&&(window._AdsNative=new g({blockAdLoad:!0}),window._AdsNative.load()),f.dropCookieMatchingPixel()}();