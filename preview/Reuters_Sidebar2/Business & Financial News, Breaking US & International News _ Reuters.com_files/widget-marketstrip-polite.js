Reuters.utils.getKeys=function(a){var b=null,c;for(c in a)typeof a[c]!="function"&&(b==null?b=[c]:b.push(c));return b};if(typeof quote=="undefined"||quote==null)quote={};Reuters.namespace("marketHeader");Reuters.marketHeader.sRicsPerPanel=5;Reuters.marketHeader.timeInterval=12E3;
Reuters.marketHeader.oData=[{type:"indices",ric:[{".DJI":{displayName:"Dow",ric:".DJI"}},{".SPX":{displayName:"S&P 500",ric:".SPX"}},{".IXIC":{displayName:"Nasdaq",ric:".IXIC"}},{".HSI":{displayName:"Hang Seng",ric:".HSI"}},{".FTSE":{displayName:"FTSE",ric:".FTSE"}},{".N225":{displayName:"Nikkei",ric:".N225"}},{".GDAXI":{displayName:"DAX",ric:".GDAXI"}},{".FCHI":{displayName:"CAC",ric:".FCHI"}},{".BSESN":{displayName:"BSE Sensex",ric:".BSESN"}},{".NSEI":{displayName:"Nifty",ric:".NSEI"}}],status:false},
{type:"currencies",ric:[{EURUSD:{displayName:"EUR/USD"}},{JPYUSD:{displayName:"JPY/USD"}},{CNYUSD:{displayName:"CNY/USD"}},{GBPUSD:{displayName:"GBP/USD"}},{GBPEUR:{displayName:"GBP/EUR"}},{GBPJPY:{displayName:"GBP/JPY"}},{USDINR:{displayName:"USD/INR"}},{EURINR:{displayName:"EUR/INR"}},{GBPINR:{displayName:"GBP/INR"}},{JPYINR:{displayName:"JPY/INR"}}],status:false},{type:"commodities",ric:[{GCc1:{displayName:"Gold"}},{SBc1:{displayName:"Sugar"}},{CLc1:{displayName:"Oil"}},{HGc1:{displayName:"Copper"}},
{Cc1:{displayName:"Corn"}},{NGc1:{displayName:"Natural Gas"}},{SIc1:{displayName:"Silver"}}],status:false}];Reuters.marketHeader.iCurrentGroup=0;Reuters.marketHeader.payloadIndices=[];Reuters.marketHeader.extractRics=function(){for(var a={},b=0;b<Reuters.marketHeader.oData.length;b++)for(var c=0;c<Reuters.marketHeader.oData[b].ric.length;c++){var d=Reuters.utils.getKeys(Reuters.marketHeader.oData[b].ric[c]);a[d[0]]=Reuters.marketHeader.oData[b].ric[c][d[0]]}return a};
Reuters.marketHeader.getDataGroup=function(a,b){var c=Reuters.marketHeader.sRicsPerPanel;return Reuters.marketHeader.getRicsByType(a).slice(b*c-c,b*c)};
Reuters.marketHeader.getDynamicData=function(a){switch(a){case "currencies":typeof Reuters.marketHeader.payloadCurrencies=="undefined"&&$.ajax({url:"/assets/jsonCurrencies",data:{src:Reuters.marketHeader.sCurrenciesSrc,dest:Reuters.marketHeader.sCurrenciesDest},dataType:"jsonp",jsonpCallback:"Reuters.marketHeader.dataCallbackCurrencies",complete:function(){}});break;case "commodities":typeof Reuters.marketHeader.payloadCommodities=="undefined"&&$.ajax({url:"/assets/jsonCommodities",data:{commPairs:Reuters.marketHeader.getRicKeysArray(Reuters.marketHeader.getRicsByType("commodities")).join(",")},
dataType:"jsonp",jsonpCallback:"Reuters.marketHeader.dataCallbackCommodities",complete:function(){}})}};Reuters.marketHeader.getGroupCount=function(a){a=Reuters.marketHeader.getRicsByType(a);return Math.ceil(a.length/Reuters.marketHeader.sRicsPerPanel)};Reuters.marketHeader.getObjByType=function(a){for(var b=0;b<Reuters.marketHeader.oData.length;b++)if(Reuters.marketHeader.oData[b].type==a)return Reuters.marketHeader.oData[b];return null};Reuters.marketHeader.getRicsByType=function(a){return Reuters.marketHeader.getObjByType(a).ric};
Reuters.marketHeader.getRicKeysArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(Reuters.utils.getKeys(a[c])[0]);return b};Reuters.marketHeader.getStatusByType=function(a){return Reuters.marketHeader.getObjByType(a).status};
Reuters.marketHeader.setCurrentTab=function(a){for(var b=$("#marketStocksTabs li a"),c=0;c<b.length;c++)$(b[c]).html().toLowerCase()==a&&($(b[c]).parent().addClass("selected"),$(".selected").outerHeight()==29?$("#marketsHeader").css("background-position","0 -307px"):$(".selected").outerHeight()==28?$("#marketsHeader").css("background-position","0 -308px"):$("#marketsHeader").css("background-position","0 -309px"))};
Reuters.marketHeader.setStatusByType=function(a,b){Reuters.marketHeader.getObjByType(a).status=b};Reuters.marketHeader.oRics=Reuters.marketHeader.extractRics();Reuters.marketHeader.oDisplayCheck={indices:false,currencies:false,commodities:false};
Reuters.marketHeader.sCurrenciesSplit=function(){for(var a=[],b=[],c=Reuters.marketHeader.getRicsByType("currencies"),d=0;d<c.length;d++){var e=Reuters.utils.getKeys(c[d])[0];a[d]=e.substring(0,3);b[d]=e.substring(3)}Reuters.marketHeader.sCurrenciesSrc=a.join(",");Reuters.marketHeader.sCurrenciesDest=b.join(",")};Reuters.marketHeader.fadeIn=function(){Reuters.marketHeader.s=$("#marketStocksUl").fadeIn(800)};Reuters.marketHeader.stopFade=function(){Reuters.marketHeader.s&&clearRequestTimeout(Reuters.marketHeader.s)};
Reuters.marketHeader.isInitLoad=true;
Reuters.marketHeader.doFadeIn=function(a){Reuters.marketHeader.iCurrentGroup=1;Reuters.marketHeader.iLastPanel=Reuters.marketHeader.getGroupCount(a);Reuters.marketHeader.sCurrentType=a;Reuters.marketHeader.createModule(a,0);$("#marketStocksUl").hide();Reuters.marketHeader.fadeIn();Reuters.marketHeader.stopTiming();Reuters.marketHeader.isInitLoad?(Reuters.marketHeader.isInitLoad=false,Reuters.marketHeader.iCurrentGroup=0,Reuters.marketHeader.t=requestTimeout(Reuters.marketHeader.doTiming,50)):Reuters.marketHeader.t=
requestTimeout(Reuters.marketHeader.doTiming,Reuters.marketHeader.timeInterval+1500)};
window.clearRequestTimeout=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?msCancelRequestAnimationFrame(a.value):clearTimeout(a)};
Reuters.marketHeader.checkDoTiming=function(){Reuters.marketHeader.sIndices.split(",").length==Reuters.marketHeader.payloadIndices.length?Reuters.marketHeader.doTiming():setTimeout(Reuters.marketHeader.checkDoTiming,500)};
Reuters.marketHeader.doTiming=function(){var a=Reuters.marketHeader.iCurrentGroup+1,b=Reuters.marketHeader.sCurrentType,c=0;a<=Reuters.marketHeader.iLastPanel?(c=a*Reuters.marketHeader.sRicsPerPanel-Reuters.marketHeader.sRicsPerPanel,Reuters.marketHeader.iCurrentGroup=a):Reuters.marketHeader.iCurrentGroup=1;Reuters.marketHeader.createModule(b,c);$("#marketStocksUl").hide();Reuters.marketHeader.fadeIn();Reuters.marketHeader.t=requestTimeout(Reuters.marketHeader.doTiming,Reuters.marketHeader.timeInterval+
1500)};Reuters.marketHeader.doTimingAgain=function(){Reuters.marketHeader.t=requestTimeout(Reuters.marketHeader.doTiming,2E4)};Reuters.marketHeader.stopTiming=function(){Reuters.marketHeader.t&&clearRequestTimeout(Reuters.marketHeader.t)};Reuters.marketHeader.loadTab=function(a){Reuters.marketHeader.getStatusByType?(Reuters.marketHeader.doFadeIn(a),Reuters.marketHeader.t2&&window.clearRequestTimeout(Reuters.marketHeader.t2)):Reuters.marketHeader.t2=requestTimeout(Reuters.marketHeader.loadTab(a),1E3)};
Reuters.marketHeader.createModule=function(a,b){window.location.hostname.indexOf("uk");var c='<div class="marketStocksTicker">';c+='<ul class ="marketStocksData" id = "marketStocksUl" >';Reuters.marketHeader.arrayIndex=Reuters.marketHeader.displayRics;var d=Reuters.marketHeader.sRicsPerPanel+b,e=Reuters.marketHeader.getRicsByType(a),e=Reuters.marketHeader.getRicKeysArray(e);a=="indices"?c+='<li style="color:#fff;margin-right:4px;font-size:10px;"><a href="/finance/markets/indices" class="market-data-tag" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >INDICES</a> </li>':
a=="commodities"?c+='<li style="color:#fff;margin-right:4px;font-size:10px;"><a href="/finance/commodities" class="market-data-tag" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >COMMODITIES</a> </li>':a=="currencies"&&(c+='<li style="color:#fff;margin-right:4px;font-size:10px;"><a href="/finance/currencies" class="market-data-tag" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >CURRENCIES</a> </li>');
for(var f=b;f<d;f++)switch(a){case "indices":c+=Reuters.marketHeader.createDataIndices(e[f]);break;case "currencies":c+=Reuters.marketHeader.createDataCurrencies(e[f]);break;case "commodities":c+=Reuters.marketHeader.createDataCommodities(e[f])}c+="</ul></div>";$("#marketsHeader").html(c);$("#md-toggle").html('<div id="marketStocksTabs"><a onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":"prev"}); ><div class="md-toggle-left"></div></a><a onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":"next"}); ><div class="md-toggle-right"></div></a></div>');
$("#md-toggle").delay(3E3).fadeIn(500);$("#marketsHeader").css("background-color","#000000");$("#marketStocksTabs li").removeClass();$("#marketStocksTabs .md-toggle-left").mouseover(function(){a=="indices"?Reuters.marketHeader.getDynamicData("currencies"):a=="currencies"?Reuters.marketHeader.getDynamicData("commodities"):a=="commodities"&&Reuters.marketHeader.getDynamicData("indices")});$("#marketStocksTabs  .md-toggle-left").click(function(){if(a=="indices")return Reuters.marketHeader.loadTab("currencies"),
false;if(a=="currencies")return Reuters.marketHeader.loadTab("commodities"),false;if(a=="commodities")return Reuters.marketHeader.loadTab("indices"),false});$("#marketStocksTabs .md-toggle-right").mouseover(function(){a=="indices"?Reuters.marketHeader.getDynamicData("commodities"):a=="currencies"?Reuters.marketHeader.getDynamicData("indices"):a=="commodities"&&Reuters.marketHeader.getDynamicData("currencies")});$("#marketStocksTabs  .md-toggle-right").click(function(){if(a=="indices")return Reuters.marketHeader.loadTab("commodities"),
false;if(a=="currencies")return Reuters.marketHeader.loadTab("indices"),false;if(a=="commodities")return Reuters.marketHeader.loadTab("currencies"),false});Reuters.marketHeader.setCurrentTab(a);Reuters.marketHeader.fixList()};
Reuters.marketHeader.createDataIndices=function(a){var b="";if(a){var c=window.location.hostname.indexOf("uk")>-1?"/business/markets":"/finance/markets",b=Reuters.marketHeader.payloadIndices[a].positiveChange=="true"?"pos changeUp":"neg changeDown",b=Reuters.marketHeader.payloadIndices[a].netChange=="+0.00"?"noChange":b,d=Reuters.marketHeader.payloadIndices[a].quote=="--"?"noValueClass":b,e=Reuters.marketHeader.payloadIndices[a].positiveChange=="true"?"+":"-",f=Reuters.marketHeader.payloadIndices[a].currencyChars,
b='<li class="'+d+'">';b+='<span class="marketStocksRIC"><a onClick="Reuters.marketHeader.dcsMultiTrack_symbols(this,\''+Reuters.marketHeader.oRics[a].displayName+'\');" href="'+c+"/index?symbol="+Reuters.marketHeader.oRics[a].ric+'" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >'+Reuters.marketHeader.oRics[a].displayName+"</a></span>";b+=Reuters.marketHeader.payloadIndices[a].quote=="--"?'<span class="quoteValue noData">No Data</span></span>':
'<span class="quoteValue">'+Reuters.marketHeader.payloadIndices[a].quote.replace(f,"")+'</span><span class="'+d+'"><span class="valueContent">'+Reuters.marketHeader.payloadIndices[a].percentChange.replace(e,"")+"</span></span>";b+="</li>"}return b};
Reuters.marketHeader.createDataCurrencies=function(a){var b="";if(a){var c=window.location.hostname.indexOf("uk")>-1?"/business/currencies":"/finance/currencies",b=Reuters.marketHeader.payloadCurrencies[a].positiveChange=="true"?"pos changeUp":"neg changeDown",b=Reuters.marketHeader.payloadCurrencies[a].netChange=="+0.00"?"noChange":b,d=Reuters.marketHeader.payloadCurrencies[a].positiveChange=="true"?"+":"-",e=Reuters.marketHeader.payloadCurrencies[a].quote=="--"?"noValueClass":b,b='<li class="'+
e+'">';b+='<span class="marketStocksRIC"><a onClick="Reuters.marketHeader.dcsMultiTrack_symbols(this,\''+Reuters.marketHeader.oRics[a].displayName+'\');" href="'+c+"/quote?srcAmt=1&srcCurr="+Reuters.marketHeader.payloadCurrencies[a].from+"&destAmt=&destCurr="+Reuters.marketHeader.payloadCurrencies[a].to+'" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >'+Reuters.marketHeader.oRics[a].displayName+"</a></span>";b+=Reuters.marketHeader.payloadCurrencies[a].quote==
"--"?'<span class="'+e+' noData">No Data</span></span>':'<span class="'+e+'"><span class="quoteValue">'+Reuters.marketHeader.payloadCurrencies[a].quote+'</span><span class="valueContent">'+Reuters.marketHeader.payloadCurrencies[a].percentChange.replace(d,"")+"</span></span>";b+="</li>"}return b};
Reuters.marketHeader.createDataCommodities=function(a){var b="";if(a){var b=Reuters.marketHeader.payloadCommodities[a].positiveChange=="true"?"pos changeUp":"neg changeDown",b=Reuters.marketHeader.payloadCommodities[a].netChange=="+0.00"?"noChange":b,c=Reuters.marketHeader.payloadCommodities[a].positiveChange=="true"?"+":"-",d=Reuters.marketHeader.payloadCommodities[a].last=="--"?"noValueClass":b,b='<li class="'+d+'">';b+='<span class="marketStocksRIC"><a onClick="Reuters.marketHeader.dcsMultiTrack_symbols(this,\''+
Reuters.marketHeader.oRics[a].displayName+'\');" href="'+Reuters.marketHeader.payloadCommodities[a].url+'" onmousedown=dataLayer.push({"event":"click-event","category":"navigation","action":"data_strip","label":$(this).attr("href")}); >'+Reuters.marketHeader.oRics[a].displayName+"</a></span>";b+=Reuters.marketHeader.payloadCommodities[a].last=="--"?'<span class="'+d+' noData">No Data</span></span>':'<span class="'+d+'"><span class="quoteValue">'+Reuters.marketHeader.payloadCommodities[a].last+'</span><span class="valueContent">'+
Reuters.marketHeader.payloadCommodities[a].percentChange.replace(c,"")+"</span></span>";b+="</li>"}return b};Reuters.marketHeader.dcsMultiTrack_symbols=function(a,b){var c=a.getAttribute("href",2);typeof dcsMultiTrack=="function"&&dcsMultiTrack("DCSext.DartZone","","DCSext.ModID","","DCSext.ModImp","0","DCSext.VirtualEvent","1","DCSext.rNavChannel","Markets Bar","DCSext.NavSection",b,"DCSext.NavURL",c,"WT.z_navtest","1")};
Reuters.marketHeader.dcsMultiTrack=function(){typeof dcsMultiTrack=="function"&&dcsMultiTrack("DCSext.DartZone","","DCSext.ModID","","DCSext.ModImp","0","DCSext.VirtualEvent","1","DCSext.rNavChannel","Markets Strip","DCSext.NavSection","Markets Bar","DCSext.NavURL","/finance/markets","WT.z_navtest","1")};Reuters.marketHeader.fixList=function(){$("#marketsHeader ul.marketStocksData  li:first-child").addClass("first")};
window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();
requestTimeout=function(a,b){function c(){(new Date).getTime()-d>=b?a.call():e.value=requestAnimFrame(c)}if(!window.requestAnimationFrame&&!window.webkitRequestAnimationFrame&&(!window.mozRequestAnimationFrame||!window.mozCancelRequestAnimationFrame)&&!window.oRequestAnimationFrame&&!window.msRequestAnimationFrame)return window.setTimeout(a,b);var d=(new Date).getTime(),e={};e.value=requestAnimFrame(c);return e};
Reuters.marketHeader.callbackInit=function(){for(var a=0;a<arguments.length;a++)Reuters.marketHeader.payloadIndices[arguments[a].ric]=arguments[a];Reuters.marketHeader.setStatusByType("indices",true);Reuters.marketHeader.doFadeIn("indices");var b=Reuters.marketHeader.getGroupCount("indices");if(b>1)for(a=2;a<=b;a++)$.ajax({url:"/ajax/do/marketDataAjax",data:{type:"quote",symbol:Reuters.marketHeader.getRicKeysArray(Reuters.marketHeader.getDataGroup("indices",a)).join(",")},dataType:"jsonp",jsonpCallback:"Reuters.marketHeader.dataCallbackIndices"});
$("#marketsTabSponsor").css("visibility","visible")};Reuters.marketHeader.dataCallbackIndices=function(){for(var a=0;a<arguments.length;a++)Reuters.marketHeader.payloadIndices[arguments[a].ric]=arguments[a]};Reuters.marketHeader.dataCallbackCurrencies=function(){Reuters.marketHeader.payloadCurrencies=[];for(var a=0;a<arguments.length;a++)Reuters.marketHeader.payloadCurrencies[arguments[a].ric]=arguments[a];Reuters.marketHeader.setStatusByType("currencies",true)};
Reuters.marketHeader.dataCallbackCommodities=function(){Reuters.marketHeader.payloadCommodities=[];for(var a=0;a<arguments.length;a++)Reuters.marketHeader.payloadCommodities[arguments[a].ric]=arguments[a];Reuters.marketHeader.setStatusByType("commodities",true)};
Reuters.marketHeader.init=function(){Reuters.marketHeader.sCurrenciesSplit();var a=Reuters.marketHeader.getRicKeysArray(Reuters.marketHeader.getDataGroup("indices",1)).join(",");$.ajax({url:"/ajax/do/marketDataAjax",data:{type:"quote",symbol:a},dataType:"jsonp",jsonpCallback:"Reuters.marketHeader.callbackInit"})};Reuters.marketHeader.init();