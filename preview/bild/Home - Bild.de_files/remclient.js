window.rem_client=function(){function e(e){var n=document.createElement("script");n.async=!0,n.src=e,t("Requested script",n.src),document.getElementsByTagName("head")[0].appendChild(n)}var n="http://rem-track.bild.de/rem-1.1/track/mpt.js",t=function(e,n){self.debug&&console.log("[DEBUG] "+e+": "+JSON.stringify(n))},r=function(){if(window.remId&&parseInt(window.remId)==window.remId)return window.remId;var e=window.location.hash.substr(1);return e.substr(e.indexOf("remId=")).split("&")[0].split("=")[1]},a=function(){function a(e,n){for(var t=[],r=0,a=n.length;a>r;r++){var i=n[r];-1!=u(e,i.name)&&t.push(r)}for(var r=0;t.length>r;r++)n.splice(t[r],1);return n}function i(e){return a(["_u","_r","_c"],e)}function o(e){var n={};c.getParams().replace(RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,r,a){n[t]=a});var t=n[e];if(null!=t)return{name:"_"+e,value:t}}function s(){return"true"===m("REMOptOut")}function u(e,n,t){for(var r=t||0,a=e.length;a>r;r++)if(e[r]===n)return r;return-1}var c=this;this.listeners=[],this.params=[],this.debug=-1!=document.cookie.indexOf("rem_debug=1");var l=function(e,n,t){var r;if(t){var a=new Date;a.setTime(a.getTime()+1e3*60*60*24*t),r="; expires="+a.toGMTString()}else r="";document.cookie=e+"="+n+r+"; path=/"},m=function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;t.length>r;r++){for(var a=t[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return null},f=function(e){for(var n=0;c.listeners.length>n;n++)window[c.listeners[n]](e);t(e),c.listeners=[],c.params=[]};this.request=function(t,r,a){if(!s()){r=r||[],this.params=t||this.params,this.params=i(this.params),this.params.push({name:"_u",value:window.location.href}),this.params.push({name:"_r",value:document.referrer}),null!=h&&this.params.push({name:"_remid",value:h});var u="rem_callback_"+Math.floor(Math.random()*Math.pow(10,5));window[u]=function(e){for(var n=0;r.length>n;n++)window[r[n]](e);f(e)},this.params.push({name:"_c",value:u}),this.params.push(o("kid")),this.params.push(o("wid"));for(var c="?",l=0;this.params.length>l;l++)null!=this.params[l]&&(l>0&&(c+="&"),c+=this.params[l].name+"="+encodeURIComponent(this.params[l].value));var m=n+c;return"function"==typeof a?a(m):e(m),!0}},this.getParams=function(){return window.location.search};var h=r();null!=h&&l("remid",h,1e5)};return new a}();
