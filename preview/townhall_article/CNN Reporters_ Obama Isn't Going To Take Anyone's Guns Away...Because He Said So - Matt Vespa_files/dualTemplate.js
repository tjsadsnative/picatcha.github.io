var outbrain_dual_version="6.5.1.1",outbrain_dual_template_object="function"==typeof outbrain_dual_template_object?outbrain_dual_template_object:function(q){var g=this;outbrain_dual_template_object.baseConstructor.call(this,q);this.imagesPreload=function(){};this.positionFirstLine=this.positionSecondLine=!1;this.positionRec=this.positionDynSecondLine=!0;this.positionsStars=!1;outbrain_template_manager.isAdMarking=!0;this.adFieldsetId="outbrain_dual_ad_fs";this.adFieldsetClass="outbrain_dual_ad_class";
this.adUlElementId="outbrain_dual_ad_ul";this.adUlClassDual="outbrain_dual_ad_ul_class";this.regUlClassDual="outbrain_dual_reg_ul_class";this.adWhatsThisId="outbrain_dual_ad_whats";this.dividerId="outbrain_dual_divider";this.adWhatsThisClass="outbrain_dual_ad_whats_class";this.adWhatsThisHrfClass="outbrain_dual_ad_whats_A_class";this.buildDomDivider=function(a){a=[];a.push('<p id="'+this.dividerId+'_$INDEX_$TEMPLATE_NAME" style="height:5px;margin:0px;padding:0px;display:none"></p>');return a.join("")};
this.buildDomAdRecommendation=function(a,c){var b=outbrain_browsers.ie&&(outbrain_browsers.ie8Doc8||outbrain_browsers.ie9Doc8Plus)?" outbrain_dual_ad_ul_ie8_class":"",d=[];d.push('<fieldset style="display:none;$FIELDSET_STYLE" id="'+this.adFieldsetId+'_$INDEX_$TEMPLATE_NAME" class="$FIELDSET_CLASS '+this.adFieldsetClass+'" >');d.push('    <legend class="$RECOMMENDATIONS_LEGEND_CLASS"></legend>');d.push('  \t<ul id="'+this.adUlElementId+'_$INDEX_$TEMPLATE_NAME" class="'+this.adUlClassDual+' $RECOMMENDATIONS_UL_CLASS" '+
b+">");d.push("  \t</ul>");outbrain_whatIs.isBrandingCustom(a)?d.push('    <div style="clear:both;" id="'+this.adWhatsThisId+'_$INDEX_$TEMPLATE_NAME" class="'+this.adWhatsThisClass+' " ></div>'):d.push(outbrain_whatIs.buildLogicDomWhatIs(a));d.push("</fieldset>");return d.join("")};this.buildDomRecommendations=function(a){var c=outbrain_settings.get(a,"adMarkingOnTop",!0),b=[];!0==c&&(b.push(this.buildDomAdRecommendation(a,"outbrain_dual_ul_ad_top")),b.push(this.buildDomDivider(a)));b.push('<fieldset style="display:none;$FIELDSET_STYLE" id="$FIELDSET_ID_$INDEX_$TEMPLATE_NAME" class="$FIELDSET_CLASS" >');
b.push('      <div id="$RECOMMENDATIONS_WAIT_ID_outer_$INDEX" class="$RECOMMENDATIONS_WAIT_CLASS_outer" style="display:none;"><div class="$RECOMMENDATIONS_WAIT_CLASS_inner">');b.push('               <p><img style="border:0px !important"/></p>');b.push("       </div></div>");b.push('       <legend class="$RECOMMENDATIONS_LEGEND_CLASS"></legend>');b.push('  \t<ul id="$RECOMMENDATIONS_UL_ID_$INDEX_$TEMPLATE_NAME" class="'+this.regUlClassDual+' $RECOMMENDATIONS_UL_CLASS" style="display:block">');b.push("  \t</ul>");
b.push("</fieldset>");b.push('<table id="$RECOMMENDATIONS_STATUS_ID_$INDEX_$TEMPLATE_NAME" class="$RECOMMENDATIONS_STATUS_TABLE_CLASS" style="display:none;"><tr><td>');b.push('\t<div id="$RECOMMENDATIONS_PC_LEGEND_$INDEX_$TEMPLATE_NAME" class="$RECOMMENDATIONS_PC_LEGENED_CLS" style="display:none;"></div>');b.push("</td><td>");b.push('\t<div id="$RECOMMENDATIONS_MORE_DIV_ID_$INDEX_$TEMPLATE_NAME" class="$RECOMMENDATIONS_MORE_LINK_DIV_CLASS" style="display:none;"></div>');b.push("</td></tr></table>");
!0!=c&&(b.push(this.buildDomDivider(a)),b.push(this.buildDomAdRecommendation(a,"outbrain_dual_ul_ad_bottom")));return b.join("")};this.showRecommendations=function(a,c,b){var d=c.recTitle;c=c.jsonObj;if(!this.positionRec)return!1;if(this.recommendationsShowBefore(a))this.recommendationsLegendUpdate(a,d);else{var e=this.getElementWithFullName(this.constants.recommendationsUlId,a);b=this.getElementWithFullName(this.adUlElementId,a);this.recommendationsLegendUpdate(a,d);var m=outbrain_template_manager.getRecommendationsPerDoc(outbrain_template_manager.DATA_REC_REGULAR_ONLY,
c.response.documents.doc,null,null),d=outbrain_template_manager.getRecommendationsPerDoc(outbrain_template_manager.DATA_REC_AD_ONLY,c.response.documents.doc,null,null),f=outbrain_settings.get(a,"filterRegRecs",!1),k=outbrain_template_manager.isAllSameSource(c.response.documents),f="boolean"==typeof f&&!0==f?0:m.length,l=outbrain_settings.getNum(a,"defaultRecNumber"),g=l<=f?l:f,l=f-g,n=d.length;0<f&&(OB_widgetObjArray[a].SecLineOn=!1);var p=e&&"boolean"==typeof e.opened&&!0==e.opened;"number"==typeof OB_user_mode&&
1==OB_user_mode&&(p&&(g=f),this.clearRecommendations(a,l));for(var h=0;h<f;h++)this.renderOneRecommendation(a,e,m[h],h,k,h<g?!0:!1);for(e=0;e<n;e++)m=this.getCampType(a,c.response.documents),this.renderTitleAdRecommendation(a,b,e,c,m),this.renderOneRecommendation(a,b,d[e],h+e,k,!0);this.showHideElementByIdName(this.constants.fieldsetId,a,0<f);this.showHideElementByIdName(this.dividerId,a,0<n&&0<f);this.setAdBoxPlace(a,n);this.checkIfMoreRecs(a,l,p);this.showHideRecsElements(a,c);this.enableBlogExternalElements(a);
this.checkBottomTableWrapper(a)}};this.setAdBoxPlace=function(a,c){var b=this.getElementWithFullName(this.adFieldsetId,a);b&&"none"==b.style.display&&(b=outbrain_settings.get(a,"hookId",null),"string"==typeof b&&0<b.length&&0<c?this.hookAdsBox(b,a):this.showHideElementByIdName(this.adFieldsetId,a,0<c))};this.recommendationsShowBefore=function(a){var c=!1,c=this.getElementWithFullName(this.constants.fieldsetId,a),b=this.getElementWithFullName(this.adFieldsetId,a),c=c?"none"!=c.style.display||"none"!=
b.style.display:!1;!0==c&&("number"==typeof OB_user_mode&&1==OB_user_mode)&&(this.removeWaitClock(a),c=!1);return c};this.showHideRecsElements=function(a,c){this.setAdLegend(a,c);var b=this.getElementWithFullName(this.constants.rateStatusInfoTableId,a);b&&(b.style.display="none");if(b=this.getElementWithFullName(this.constants.rateStatusInfoTdId,a))b.style.display="none";if(b=this.getElementWithFullName(this.constants.fieldsetId,a))OB_widgetObjArray[a].hasRecommendations=!0};this.renderTitleAdRecommendation=
function(a,c,b,d,e){c=this.getpcName(a,d.response.documents);b="";b=null!=e&&2==e&&"function"==typeof outbrain_language_manager.getPiLegendText?outbrain_language_manager.getPiLegendText(a,c)+":":outbrain_language_manager.getPcLegendText(a,c)+":";this.adsLegendUpdate(a,b);this.adsWhatsThisUpdate(a)};this.adsWhatsThisUpdate=function(a){var c=outbrain_language_manager.whatsThis(a),b=this.callForToolTip(a,"this",!1),b='<a class="'+this.adWhatsThisHrfClass+'" href="javascript:void(0)" onClick="javascript:'+
b+'" >[$AD_TEXT]</a>',b=b.replace(/\$AD_TEXT/g,c);(a=this.getElementWithFullName(this.adWhatsThisId,a))&&g.dom.setInnerHTML(a,b)};this.showHideElementByIdName=function(a,c,b){if(a=this.getElementWithFullName(a,c))a.style.display=b?"block":"none"};this.adsLegendUpdate=function(a,c){var b=this.getElementWithFullName(this.adFieldsetId,a);b&&(b=b.getElementsByTagName("legend")[0])&&b.innerHTML!=c&&(b.className=this.constants.recommendationsLegendClass,g.dom.setInnerHTML(b,c))};this.createLinkOfPC=function(a,
c){return""};this.isSonOf=function(a,c){if(a&&0<a.childNodes.length&&c)for(var b=a.childNodes,d=0;d<b.length;d++)if(b[d].id==c.id)return c;return null};this.hookAdsBox=function(a,c){var b=this.adFieldsetId+"_"+c+"_"+this.templateName,d=this.getElementWithFullName(this.constants.voterDivName,c);try{new outbrain_timeout(function(){return document.getElementById(a+"_"+c)?!0:!1},function(){var e=document.getElementById(a+"_"+c);if(e){var f=document.getElementById(b);if(f){f.className+=!0==outbrain_language_manager.isRtl(c)?
" div-wrapper-right":" div-wrapper";g.cleanHookContainer(e,f);var k=f.cloneNode(!0);e.appendChild(k);k.style.display="block";e.style.display="block";d.removeChild(f)}}},null,function(){var a=document.getElementById(b);a&&(a.style.display="block")},1E3,15,!0)}catch(e){}};this.cleanHookContainer=function(a,c){try{null!==this.isSonOf(a,c)&&(a.innerHTML="")}catch(b){}};this.resetTemplate=function(a){if("number"==typeof OB_user_mode&&1==OB_user_mode){var c=this.getElementWithFullName(this.adFieldsetId,
a);c&&(c.style.display="none");if(c=this.getElementWithFullName(this.constants.fieldsetId,a))c.style.display="none";if(c=this.getElementWithFullName(this.constants.recommendationsPcLegendId,a))c.style.display="none"}};this.clearRecommendations=function(a,c){var b=this.getElementWithFullName(this.adUlElementId,a);null!=b&&(b.innerHTML="");b=this.getElementWithFullName(this.constants.recommendationsUlId,a);null!=b&&(b.innerHTML="");b=this.getElementWithFullName(this.constants.recommendationsMoreDivId,
a);null!=b&&1>c&&(b.innerHTML="")};this.showBalloon=!1};outbrain_dual_template_object.prototype=outbrain_template_object;outbrain_dual_template_object.prototype.constructor=outbrain_dual_template_object;outbrain_dual_template_object.baseConstructor=outbrain_template_object;outbrain_template_manager.addTemplate({dual:outbrain_dual_template_object});
