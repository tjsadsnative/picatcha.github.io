/*!
	zdc-welcome.js
	ZD Ads - Welcome Ad
	Author: Ziff Davis, LLC./ Milko Lima (@MilkoL)
	Version: 3.2 - 2015/06/09
*/
;var ZDCREATIVE_WELCOME=function(v){var A="undefined";var h=this;h.settings=v||{};h.settings.sessionId=Math.floor(Math.random()*1000000000);h.settings.containerId="zdCreative-"+h.settings.sessionId;h.settings.identifier=h.settings.containerId;window.zdcIdentifier=h.settings.identifier;h.reporting=(typeof(ZDCREATIVE_REPORTING)!==A?new ZDCREATIVE_REPORTING({adObj:h,ids:[h.settings.containerId],autoAdRender:false}):new function(){return{log:function(){}}});h.reporting.log("ad request");var s=function(){return e()||(window.top!=window.self)};var e=function(){return(typeof(inDapIF)!==A&&inDapIF==true)};var y=(typeof(h.settings.iframeBuster)!==A&&h.settings.iframeBuster===false);var I=(!s||y?document:window.top.document);var G=function(t){var P=new String(t);var i=Math.floor(Math.random()*10000000000);if(typeof(P)===A||!P){return""}return P.replace("[timestamp]",i).replace("[cachebuster]",i)};var n=function(t){var i=h.settings[t];return i};var m=h.settings.adImpressionTrackers;for(var L in m){var H=document.createElement("img");H.src=G(m[L]);H.width="1";H.height="1";document.body.appendChild(H)}var k={};var c;var u,b;var E;var d,w;var J;var f;var o=function(Q,t){var P="var p=[];with(obj){p.push('"+Q.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');";var i=!/\W/.test(Q)?k[Q]=k[Q]||o(Q):new Function("obj",P);return t?i(t):i};var D=function(Q,P,t){if(P.addEventListener){P.addEventListener(Q,t,false)}else{if(P.attachEvent){var i=P.attachEvent("on"+Q,t);return i}}};var F=function(){var t=!y?window.top:window,i="inner";if(!("innerWidth" in window)){i="client";t=I.documentElement||I.body}return{width:t[i+"Width"],height:t[i+"Height"]}};var x=function(){var t=I.getElementsByTagName("embed");for(var Q=0;Q<t.length;Q++){try{var U=t[Q];var V;if(!U.getAttribute("name")||U.getAttribute("name").substr(0,3)!=="NS_"){if(U.outerHTML&&U.insertAdjacentHTML){var T=U.outerHTML;if(T.match(/wmode\s*=\s*('|")[a-zA-Z]+('|")/i)){V=T.replace(/wmode\s*=\s*('|")window('|")/i,"wmode='transparent'")}U.insertAdjacentHTML("beforeBegin",V);U.parentNode.removeChild(U)}else{V=U.cloneNode(true);if(!V.getAttribute("wmode")||V.getAttribute("wmode").toLowerCase()==="window"){V.setAttribute("wmode","transparent")}U.parentNode.replaceChild(V,U)}}}catch(W){}}var X=I.getElementsByTagName("object");for(var Q=0;Q<X.length;Q++){try{var P=X[Q];var S;if(!P.getAttribute("id")||P.getAttribute("id").substr(0,3)!=="NS_"){if(P.outerHTML&&P.insertAdjacentHTML){var R=P.outerHTML;if(R.match(/<param\s+name\s*=\s*('|")wmode('|")\s+value\s*=\s*('|")[a-zA-Z]+('|")\s*\/?\>/i)){S=R.replace(/<param\s+name\s*=\s*('|")wmode('|")\s+value\s*=\s*('|")window('|")\s*\/?\>/i,"<param name='wmode' value='transparent' />")}else{S=R.replace(/<\/object\>/i,"<param name='wmode' value='transparent' />\n</object>")}P.insertAdjacentHTML("beforeBegin",S);P.parentNode.removeChild(P)}}}catch(W){}}};var j=function(){var i=h.settings.overlayStyle;return(i!=null&&i=="tabs")};var z=function(){if(typeof(E)===A||E.parentNode==null){return}if(u.parentNode!==C){return}h.reporting.log("overlay close");E.src="";c.style.display="none";u.style.display="none";C.removeChild(E);C.removeChild(c);C.removeChild(u);try{window.top.onresize=J||function(){}}catch(i){}I.onkeydown=f||function(){}};var M=function(){var P=F(),Q=(P.height-E.height)/2,i=(P.width-E.width)/2,R=h.settings.height,T=h.settings.overlayHeight;if(j()){c.style.height=(P.height-R)+"px";if(typeof(T)!==A&&T!==""){E.style.height=T+"px";var S=P.height-T-R;E.style.top=S+"px";u.style.top=S-20+"px"}else{E.style.height=(P.height-R-15)+"px";E.style.top="15px";u.style.top="0px"}E.style.left="50%";E.style.marginLeft=(-E.width/2)+"px";u.style.left=(i+parseInt(E.width,10)-28)+"px"}else{c.style.height="100%";E.style.top=Q+"px";E.style.left=i+"px";u.style.top=(Q-20)+"px";u.style.left=(i+parseInt(E.width,10)-20)+"px";if(d!=undefined){d.style.top=(Q-20)+"px";d.style.right=i+"px"}}c.style.width="100%";E.style.position="fixed"};var l=function(Q,i){var P=[];for(var t in i){Q.style[t]=i[t]}};var q=2147483645;var N=function(i,P,U){if(j()&&E!=null&&E.parentNode!=null){z()}var T=F(),V=h.settings;x();c=I.createElement("div");c.id="zdAdsOverlayBlackout";l(c,{border:"none",position:"fixed",display:"none",top:"0",left:"0",width:"100%",height:(j()?(T.height-V.height)+"px":"100%"),cursor:"pointer",zIndex:q,opacity:"0.75",filter:"alpha(opacity=75)",backgroundColor:"#000"});C.appendChild(c);u=I.createElement("div");u.id="zdAdsOverlayClose";l(u,{position:"fixed",display:"none",top:"0",left:"0",width:"40px",height:"40px",cursor:"pointer",zIndex:q+2,backgroundImage:"url(//static.adziff.com/netshelter/adwiz/images/closeButton.png)",backgroundRepeat:"no-repeat"});b=setTimeout(function(){C.appendChild(u);if(d!=undefined){clearInterval(w);C.removeChild(d)}},V.closeDelay*1000);E=I.createElement("iframe");E.id="zdAdsOverlayIFrame";E.src=i;E.width=P;E.overlayCloseButtonTimer=b;if(j()){E.height=(T.height-V.height)}else{E.height=U}E.scrolling="no";E.frameBorder="no";E.allowTransparency="true";E.style.position="fixed";E.style.zIndex=q+1;if(V.closeDelay>0&&V.closeDelayText!==""){d=I.createElement("div");d.id="zdAdsCloseDelayTextDiv";d.timer=V.closeDelay;l(d,{position:"fixed",top:"0",right:"40px",width:"100%",height:"40px",cursor:"pointer","text-align":"right",color:"red",font:"13px Arial",zIndex:q+2});var t=I.createTextNode(V.closeDelayText.replace("#",d.timer));d.appendChild(t);C.appendChild(d);w=setInterval(function(){d.timer--;d.childNodes[0].nodeValue=V.closeDelayText.replace("#",d.timer)},1000)}E.closeDelayTextTimer=w;C.appendChild(E);h.reporting.log("overlay open");var Q=E;setTimeout(function(){if(Q.contentWindow){Q.contentWindow.focus()}else{if(Q.contentDocument&&Q.contentDocument.documentElement){Q.contentDocument.documentElement.focus()}}},300);u.style.display=c.style.display="block";var R=I.getElementById("zdAdContainerBG");u.onclick=c.onclick=R.onclick=function(){z();return false};M();try{J=window.top.onresize;window.top.onresize=function(){M()}}catch(S){}f=I.onkeydown;I.onkeydown=function(W){W=W||window.event;if(W.keyCode===27){z();return false}}};var r=function(){var i=h.settings.overlayClickUrl;return i};var B=function(S){var t=h.settings.adClickUrl;var Y=h.settings.overlayImpressionTrackers;if(t){var U=r();var T=encodeURIComponent(G(U));var V=n("overlayImpressionTrackers");var W=V;var R=[];for(var Q in W){R[Q]=encodeURIComponent(G(W[Q]))}t+=(t.match(/\?/)?"&":"?")+"clickTracker="+T+"&impressionTrackers="+R.join("|")+"&sessionId="+h.settings.sessionId+"&tRender="+(typeof(h.reporting.getRenderCounter)!==A?h.reporting.getRenderCounter():"");var P=h.settings.overlayWidth;var X=h.settings.overlayHeight;N(t,P,X)}};h.settings.zindexFrom=q;var a=" 			#zdAdContainerBG { 				bottom: 0; 				left: 0; 				border: none; 				position: fixed; 				z-index: <%= zindexFrom %>; 				background-color: #000; 				opacity: 0.75; 				filter: alpha(opacity=75);             }             #<%= containerId %> { 				bottom: 0; 				left: 50%; 				position: fixed; 				overflow: hidden;             } 		";var p="         <div id='zdAdContainer-<%= containerId %>'></div> 		<div id='zdAdContainerBG'></div>         ";if(!s()){I.write(o("<style type='text/css'>"+a+"</style>"+p,h.settings))}else{var K=I.createElement("style");K.setAttribute("type","text/css");K.setAttribute("rel","stylesheet");var g=o(a,h.settings);if(K.styleSheet){K.styleSheet.cssText=g}else{K.appendChild(I.createTextNode(g))}I.getElementsByTagName("head")[0].appendChild(K);var O=I.createElement("div");O.innerHTML=o(p,h.settings);I.body.appendChild(O)}var C=I.getElementById("zdAdContainer-"+h.settings.containerId);B()};