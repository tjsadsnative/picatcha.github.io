(function(b){b.fn.idle=function(e){var h,f,g=false,c=true,a=b.extend({},{idle:6E4,events:"mousemove keypress mousedown",onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:false},e);return h=function(d,a){return g&&(a.onActive.call(),g=false),(a.keepTracking?clearInterval:clearTimeout)(d),f(a)},f=function(a){return(a.keepTracking?setInterval:setTimeout)(function(){g=true;a.onIdle.call()},a.idle)},this.each(function(){var d=f(a);b(this).on(a.events,function(){d=
h(d,a)});(e.onShow||e.onHide)&&b(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?c&&(c=false,a.onHide.call()):c||(c=true,a.onShow.call())})})}})(jQuery);