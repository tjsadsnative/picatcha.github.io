(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./app/scripts/addnow.js":[function(require,module,exports){
(function (global){
"use strict";var addnow=require("./widget/addnow");global._addnow=global._addnow||[],global._addnow.process?global._addnow.process():global._addnow=addnow.initiate(global._addnow);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./widget/addnow":"/opt/addnow/widget/app/scripts/widget/addnow.js"}],"/opt/addnow/widget/app/scripts/settings/config.js":[function(require,module,exports){
"use strict";module.exports=require("./production");
},{"./production":"/opt/addnow/widget/app/scripts/settings/production.js"}],"/opt/addnow/widget/app/scripts/settings/production.js":[function(require,module,exports){
var config={};config.facebookSdk={appId:"1501804420132548",status:!0,xfbml:!0,version:"v2.4"},config.domains={cdn:"cdn.addnow.com",addnow:"api.addnow.com",dmp:"dmp.gravity4.com"},config.events={tracker:["follow","share","copy","click"],dmp:["*"]},module.exports=config;
},{}],"/opt/addnow/widget/app/scripts/utilities/cache.js":[function(require,module,exports){
"use strict";var urlData={};exports.getUrlData=function(t){return void 0===urlData[t]&&(urlData[t]={jsonp:{},count:{},shortUrl:{},total:0}),urlData[t]};
},{}],"/opt/addnow/widget/app/scripts/utilities/filters.js":[function(require,module,exports){
"use strict";function getQueryString(e){var t=document.createElement("a");return t.href=e,t.search.substring(1)}function toRemove(e){var t=["spmailingid","spuserid","spjobid","spreportid","subid"];return 0===e.indexOf("utm")||-1!==t.indexOf(e.toLowerCase())}var jqLite=require("../utilities/jqLite");exports.toFixed=function(e,t){return Number(e.toFixed(t)).toString()},exports.shorterTotal=function(e){return e>=1e6?e=exports.toFixed(e/1e6,2)+"M":e>=1e3&&(e=exports.toFixed(e/1e3,1)+"k"),e},exports.removeSpecialParams=function(e){var t,r,i,o=!1,n=getQueryString(e),s=jqLite.deparam(n);for(i in s)toRemove(i)&&(delete s[i],o=!0);return o?(t=e.split("?")[0],r=jqLite.param(s),r&&(-1!==n.indexOf("+")&&(r=r.replace(/%20/g,"+")),t+="?"+r),t):e.split("#")[0]};
},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js"}],"/opt/addnow/widget/app/scripts/utilities/jqLite.js":[function(require,module,exports){
(function (global){
"use strict";function jsonResponseParserGenerator(e){return e instanceof Function?function(){var t;try{t=JSON.parse(this.responseText)}catch(n){t=this.responseText}e(t)}:exports.noop}function buildParams(e,t,n){var o;if(exports.isArray(t))exports.each(t,function(t,o){/\[\]$/.test(e)?n(e,o):buildParams(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n)});else if("object"===exports.type(t))for(o in t)buildParams(e+"["+o+"]",t[o],n);else n(e,t)}var modernizrLite=require("./modernizrLite.js");exports.noop=function(){},exports.param=function(e){var t,n=[],o=function(e,t){t=exports.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(t in e)buildParams(t,e[t],o);return n.join("&")},exports.deparam=function(e,t){var n={},o={"true":!0,"false":!1,"null":null};return exports.each(e.replace(/\+/g," ").split("&"),function(e,r){var s,a=r.split("="),i=decodeURIComponent(a[0]),c=n,p=0,l=i.split("]["),u=l.length-1;if(a.length>2&&(a=[a.shift(),a.join("=")]),/\[/.test(l[0])&&/\]$/.test(l[u])?(l[u]=l[u].replace(/\]$/,""),l=l.shift().split("[").concat(l),u=l.length-1):u=0,2===a.length)if(s=decodeURIComponent(a[1]),t&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==o[s]?o[s]:s),u)for(;u>=p;p++)i=""===l[p]?c.length:l[p],c=c[i]=u>p?c[i]||(l[p+1]&&isNaN(l[p+1])?{}:[]):s;else exports.isArray(n[i])?n[i].push(s):void 0!==n[i]?n[i]=[n[i],s]:n[i]=s;else i&&(n[i]=t?void 0:"")}),n},exports.ajax=function(e){var t,n=e.contentType||"application/x-www-form-urlencoded; charset=UTF-8",o=e.type,r=e.url,s=void 0===e.async?!0:e.async,a=e.data,i=jsonResponseParserGenerator(e.success),c=jsonResponseParserGenerator(e.error);if(a)switch(n){case"application/json; charset=UTF-8":a=JSON.stringify(a);break;case"application/x-www-form-urlencoded; charset=UTF-8":a=this.param(a);break;default:console.error('Unexpected contentType "'+n+'"')}modernizrLite.xhr2?(t=new XMLHttpRequest,t.open(o,r,s),a&&t.setRequestHeader("Content-Type",n),t.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?i.call(this):c.call(this))},t.send(a)):(t=new XDomainRequest,t.open(o,r),t.onload=i,t.onerror=c,t.send(a))},exports.getJSONP=function(e,t,n){var o,r,s;do s="jqLite"+Math.round(1e16*Math.random())+"_"+(new Date).getTime();while(s in global);s=n||s,global[s]=function(e){try{delete global[s]}catch(n){global[s]=void 0}t(e)},e=e.replace("{callback}",encodeURIComponent(s)),o=document.createElement("script"),o.type="text/javascript",o.async=!0,o.src=e,r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(o,r)},exports.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},exports.text=function(e,t){void 0!==e.textContent?e.textContent=t:e.innerText=t},exports.on=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.apply(e,arguments)})},exports.each=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&t(n,e[n])},exports.extend=function(e){var t,n;for(t=1;t<arguments.length;t+=1)n=arguments[t],n&&exports.each(n,function(t,n){"object"===exports.type(n)?("object"!==exports.type(e[t])&&(e[t]={}),exports.extend(e[t],n)):e[t]=n})},exports.type=function(e){var t;return t=void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},exports.hide=function(e){e.style.display="none"},exports.show=function(e){e.style.display="block"},exports.isHidden=function(e){return""===e.style.display||"none"===e.style.display},exports.isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},exports.isArray=function(e){return"array"===exports.type(e)},exports.isFunction=function(e){return"function"===exports.type(e)};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./modernizrLite.js":"/opt/addnow/widget/app/scripts/utilities/modernizrLite.js"}],"/opt/addnow/widget/app/scripts/utilities/mobile.js":[function(require,module,exports){
"use strict";exports.isMobile=function(){var e=Boolean(navigator.userAgent.match(/Android/i)),a=Boolean(navigator.userAgent.match(/BlackBerry/i)),r=Boolean(navigator.userAgent.match(/iPhone|iPad|iPod/i)),t=Boolean(navigator.userAgent.match(/Opera Mini/i)),n=Boolean(navigator.userAgent.match(/IEMobile/i));return Boolean(e||a||r||t||n)},exports.getSeparator=function(){var e=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),a="",r="";e&&(r=navigator.userAgent.indexOf("OS "),a=Number(navigator.userAgent.substr(r+3,3).replace("_",".")));var t="";return t=e&&a>=8?"&":e?";":"?"};
},{}],"/opt/addnow/widget/app/scripts/utilities/modernizrLite.js":[function(require,module,exports){
"use strict";var progEv=Boolean(window.ProgressEvent),fdata=Boolean(window.FormData),wCreds=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;exports.xhr2=Boolean(progEv&&fdata&&wCreds);
},{}],"/opt/addnow/widget/app/scripts/utilities/parallel.js":[function(require,module,exports){
"use strict";module.exports=function(){function n(n,r){n.done=!0,n.result=r[0];for(var u=[],o=0;o<t.length;o++){if(!t[o].done)return;u.push(t[o].result)}e(u)}for(var t=[],e=null,r=arguments.length-1,u=0;u<arguments.length;u++)u===r?e=arguments[u]:t.push({fn:arguments[u],done:!1,result:null});return 0===t.length?void e():void t.forEach(function(t){var e=function(){n(t,arguments)};t.fn(e)})};
},{}],"/opt/addnow/widget/app/scripts/widget/addnow.js":[function(require,module,exports){
(function (global){
"use strict";var process,getUserSettings,onSettingsLoad,sendViewEvent,parseWidgetAttributes,initWidget,createShortUrlsTasks,initConyak,urls=require("./urls"),options=require("./options"),copy=require("./copy"),jqLite=require("../utilities/jqLite"),parallel=require("../utilities/parallel"),events=require("./events"),counters=require("./counters"),dispatcher=require("./sdkDispatcher"),urlShortener=require("./urlShortener"),sharingHash=require("./sharingHash");exports.addStyles=function(){var e,t,s,i=!0,n=global.document.querySelectorAll("link");for(e=0;e<n.length;e+=1)if(t=n[e],"stylesheet"===t.getAttribute("rel")&&t.getAttribute("href")===urls.cssUrl){i=!1;break}i&&(t=global.document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",urls.cssUrl),t.setAttribute("type","text/css"),s=global.document.querySelector("script"),s.parentNode.insertBefore(t,s))},exports.push=function(e){var t,s=e.shift();switch(s){case"set":t=e.pop(),options.setOptions(options.siteOptions,e,t);break;case"domain":urls.setDomain(e);break;case"setSiteId":t=e.pop(),options.setOptions(options.siteOptions,["siteId"],t);break;default:global.console.warn('Unexpected command "'+s+'"')}},process=function(){urls.setDefaultDomains(),exports.addStyles(),getUserSettings(onSettingsLoad)},sendViewEvent=function(){var e={eventType:events.TYPES.view,url:options.siteOptions.url};events.sendEvent(e)},initConyak=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0],s=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.onload=e.onreadystatechange=null,e.parentNode.removeChild(e))};e.id="conyak-js",e.onreadystatechange=s,e.onload=s,e.src="//s.conyak.com/a/c.js?_="+(new Date).getTime(),e.async=!0,t.parentNode.insertBefore(e,t)},initWidget=function(){var e=global.document.querySelectorAll(".addnow"),t=[];initConyak(),sharingHash.sendSharingEventByHash(),sharingHash.addSharingHash(options.siteOptions.uuid),copy.initiate(),sendViewEvent();for(var s=0;s<e.length;s++){var i=parseWidgetAttributes(e[s]);e[s].attributes.getNamedItem("data-preview")||i.valid&&t.push({id:i.id,element:e[s]})}counters.getCounterJson(t)},onSettingsLoad=function(){var e=options.getWidgetsByType(options.WIDGET_TYPES.originButtons);if(e.length>0){var t=createShortUrlsTasks(e);t.push(function(){dispatcher.load(function(){initWidget()})}),parallel.apply(this,t)}else initWidget()},createShortUrlsTasks=function(e){var t=[];return e.forEach(function(e){e.buttons.forEach(function(s){t.push(function(t){urlShortener.getShortUrl(events.TOOLS.sharingButtons,s.service,e.url,null,e.vanityDomain,t)})})}),t},parseWidgetAttributes=function(e){var t,s,i,n,r,o=e.attributes;if(n=o.getNamedItem("data-id"),!n)return{id:null,valid:!0};if(n=n.value||n.nodeValue,r=options.getWidget(n),!r)return{id:n,valid:!1};for(t=0;t<o.length;t+=1)s=o[t].nodeName.split("-"),"data"===s.shift()&&(i=o[t].value||o[t].nodeValue,(1!==s.length||"id"!==s[0])&&options.addWidgetOption(n,s,i));return{id:n,valid:!0}},getUserSettings=function(e){var t=options.siteOptions.hash_id;t=null===t?options.siteOptions.siteId:encodeURIComponent(t),jqLite.ajax({type:"GET",url:urls.settingsUrl+"?idsite="+t,contentType:"application/json; charset=UTF-8",success:function(t){var s;for(s in t.follow)exports.push(["set","follow",s,t.follow[s]]);for(s in t.sharing)exports.push(["set","sharing",s,t.sharing[s]]);t.widget_configurations.forEach(function(e){options.addWidget(e)}),exports.push(["set","uuid",t.uuid]),exports.push(["set","hash_id",t.hash_id]),exports.push(["set","dmp",{shouldExecuteResponse:t.dmp_execute_code}]),exports.push(["set","vanityDomain",t.vanity_domain]),e&&e()}})},exports.initiate=function(e){var t,s={push:exports.push,process:process};for(t=0;t<e.length;t+=1)exports.push(e[t]);return process(),s};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../utilities/parallel":"/opt/addnow/widget/app/scripts/utilities/parallel.js","./copy":"/opt/addnow/widget/app/scripts/widget/copy.js","./counters":"/opt/addnow/widget/app/scripts/widget/counters.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./sdkDispatcher":"/opt/addnow/widget/app/scripts/widget/sdkDispatcher.js","./sharingHash":"/opt/addnow/widget/app/scripts/widget/sharingHash.js","./urlShortener":"/opt/addnow/widget/app/scripts/widget/urlShortener.js","./urls":"/opt/addnow/widget/app/scripts/widget/urls.js"}],"/opt/addnow/widget/app/scripts/widget/buttons-renderer.js":[function(require,module,exports){
"use strict";var jqLite=require("../utilities/jqLite"),options=require("./options"),utils=require("./common-utils"),events=require("./events"),cache=require("../utilities/cache"),ButtonsRenderer,generateFacebookMessengerButton,generateFacebookLikeButton,generateFacebookShareButton,generateGooglePlusButton,generateTwitterShareButton;ButtonsRenderer=function(){},ButtonsRenderer.prototype.generateButton=function(e,t,n){var a;return a=e===options.WIDGET_TYPES.originButtons?this.generateOriginButton(t,n):this.generateCustomButton(t,n)},ButtonsRenderer.prototype.generateOriginButton=function(e,t){var n,a={},o=e.service,r=t.url,s=events.TOOLS.sharingButtons,u=!1;switch(n=cache.getUrlData(r),n&&n.shortUrl&&(u=n.shortUrl[s]&&n.shortUrl[s][o],u&&n.shortUrl[s][o].url&&(r=n.shortUrl[s][o].url)),o){case"facebook-messenger":a.root=generateFacebookMessengerButton(r);break;case"facebook-like":a.root=generateFacebookLikeButton(r);break;case"facebook":a.root=generateFacebookShareButton(r);break;case"googlePlus":a.root=generateGooglePlusButton(r);break;case"twitter":a.root=generateTwitterShareButton(r);break;default:console.warn("Unsupported button service: ",o)}return a},generateFacebookMessengerButton=function(e){var t=document.createElement("div");return jqLite.addClass(t,"fb-send"),t.setAttribute("data-href",e),t.setAttribute("data-layout","button_count"),t},generateFacebookLikeButton=function(e){var t=document.createElement("div");return jqLite.addClass(t,"fb-like"),t.setAttribute("data-href",e),t.setAttribute("data-layout","button_count"),t.setAttribute("data-action","like"),t.setAttribute("data-show-faces","false"),t.setAttribute("data-width","90"),t},generateFacebookShareButton=function(e){var t=document.createElement("div");return jqLite.addClass(t,"fb-share-button"),t.setAttribute("data-href",e),t.setAttribute("data-layout","button_count"),t},generateTwitterShareButton=function(e){var t=document.createElement("a");return jqLite.addClass(t,"twitter-share-button"),t.setAttribute("href","https://twitter.com/intent/tweet"),t.setAttribute("data-url",e),t},generateGooglePlusButton=function(e){var t=document.createElement("div");return jqLite.addClass(t,"g-plusone"),t.setAttribute("data-width",90),t.setAttribute("data-href",e),t.setAttribute("data-recommendations",!1),t.setAttribute("data-size","medium"),t.setAttribute("data-annotation","bubble"),t.setAttribute("data-callback","googlePlusHandler"),t},window.googlePlusHandler=function(e){if("on"===e.state){var t={source:"googlePlus",tool:events.TOOLS.sharingButtons,eventType:events.TYPES.share,url:e.href};events.sendEvent(t)}},ButtonsRenderer.prototype.generateCustomButton=function(e,t){var n,a,o,r,s,u,i={},d=e.service,l=e.text;return t.popupWindow?n=document.createElement("li"):(n=document.createElement("div"),jqLite.addClass(n,"addnow-button-container")),i.root=n,a=utils.generateBlankLink(),t.popupWindow?jqLite.addClass(a,"pop-"+d):(jqLite.addClass(a,"addnow-button-"+d),jqLite.addClass(a,d)),n.appendChild(a),t.counter&&(o=document.createElement("span"),jqLite.addClass(o,"addnow-service-count"),a.appendChild(o),i.countElement=o),t.shareCallback&&jqLite.on(a,"click",t.shareCallback),r=document.createElement("span"),jqLite.addClass(r,"addnow-service-icon"),a.appendChild(r),t.follow&&(u="facebook"===d?"Like us on":"Follow us on",s=document.createElement("span"),jqLite.addClass(s,"addnow-follow-label"),jqLite.text(s,u),a.appendChild(s)),s=document.createElement("span"),jqLite.addClass(s,"addnow-service-label"),jqLite.text(s,l),a.appendChild(s),i},module.exports=new ButtonsRenderer;
},{"../utilities/cache":"/opt/addnow/widget/app/scripts/utilities/cache.js","../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./common-utils":"/opt/addnow/widget/app/scripts/widget/common-utils.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js"}],"/opt/addnow/widget/app/scripts/widget/common-utils.js":[function(require,module,exports){
"use strict";var urlShortener=require("./urlShortener"),popupjs=require("./popup");exports.generateBlankLink=function(){var r=document.createElement("a");return r.setAttribute("href","javascript:void(0)"),r},exports.generateShareUrlCallback=function(r,e,t,n){var u;return u=n?function(){urlShortener.getShortUrl(r,e,t.url,null,t.vanityDomain,popupjs.open(r,e,t))}:function(){var n=popupjs.open(r,e,t);n(t.url)}};
},{"./popup":"/opt/addnow/widget/app/scripts/widget/popup.js","./urlShortener":"/opt/addnow/widget/app/scripts/widget/urlShortener.js"}],"/opt/addnow/widget/app/scripts/widget/copy.js":[function(require,module,exports){
(function (global){
"use strict";function contains(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}function isDelimiter(e){var t=[" ","	","\n","\r",".",",",":",";","!","?"];return contains(t,e)}function getLimitedKeywords(e,t){var i,n,r;if(e.length<=t)return e;if(i=e.charAt(t),n=e.substring(0,t),isDelimiter(i))return n;for(var o=t-1;o>0;o--)if(r=n.charAt(o),isDelimiter(r))return n.substring(0,o-1);return""}var copyHandler,modernizrLite=require("../utilities/modernizrLite"),jqLite=require("../utilities/jqLite"),options=require("./options"),events=require("./events"),templateUtils=require("./templates/utils"),urlShortener=require("./urlShortener"),uuid,MAX_KEYWORDS_SIZE=1500;copyHandler=function(){if(options.siteOptions.sharing.copyPaste){var e,t,i=getSelection(),n=i.toString();t={keywords:getLimitedKeywords(n,MAX_KEYWORDS_SIZE),uuid:uuid,url:options.siteOptions.url,eventType:events.TYPES.copy,tool:events.TOOLS.copyPaste,source:"darkSocial"},events.sendEvent(t),e=options.getWidgetsByType(options.WIDGET_TYPES.copyPaste)[0],e&&(e.text=n,templateUtils.addCopyPastePopup(e.id)),urlShortener.getShortUrl(events.TOOLS.copyPaste,null,options.siteOptions.url,uuid,options.siteOptions.vanityDomain,function(e){var t=' Read more at: <a href="'+e+'">'+e+"</a>",r=global.document.createElement("div");n+=t,r.style.left="-99999px",r.style.position="absolute",r.innerHTML=n,global.document.body.appendChild(r),i.selectAllChildren(r),setTimeout(function(){global.document.body.removeChild(r)},0)},!1)}},exports.initiate=function(){"function"===jqLite.type(global.document.addEventListener)&&modernizrLite.xhr2&&global.document.addEventListener("copy",copyHandler),uuid=options.siteOptions.uuid};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../utilities/modernizrLite":"/opt/addnow/widget/app/scripts/utilities/modernizrLite.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./templates/utils":"/opt/addnow/widget/app/scripts/widget/templates/utils.js","./urlShortener":"/opt/addnow/widget/app/scripts/widget/urlShortener.js"}],"/opt/addnow/widget/app/scripts/widget/counters.js":[function(require,module,exports){
"use strict";var countRegister,googlePlusCounterRequest,redditCounterRequest,getCounterValue,mergeCounterData,updateTracker,trackerCounterJSON,fillLocalCache,modernizrLite=require("../utilities/modernizrLite"),filters=require("../utilities/filters"),cache=require("../utilities/cache"),jqLite=require("../utilities/jqLite"),parallel=require("../utilities/parallel"),urls=require("./urls"),render=require("./render"),options=require("./options"),events=require("./events"),urlShortener=require("./urlShortener"),numberOfAllRequest=0,requestCounter=0,updateTrackerJSON={},updateTrackerRate=.1;countRegister=[],mergeCounterData=function(e,t,r,n){var u;return requestCounter++,null!==e&&e!==t?(void 0===updateTrackerJSON[r]&&(updateTrackerJSON[r]={}),updateTrackerJSON[r][n]=e,u=e):u=t||0,requestCounter===numberOfAllRequest&&updateTracker(updateTrackerJSON),u},updateTracker=function(e){var t=Math.random();!jqLite.isEmptyObject(e)&&updateTrackerRate>t&&jqLite.ajax({type:"PATCH",url:urls.countersUrl+"/"+options.siteOptions.hash_id,contentType:"application/json; charset=UTF-8",data:e})},fillLocalCache=function(e,t){var r=cache.getUrlData(e);trackerCounterJSON[e]&&trackerCounterJSON[e][t]?r.count[t]=trackerCounterJSON[e][t]:r.count[t]=0,r.total+=r.count[t]},getCounterValue=function(e,t,r){var n,u=cache.getUrlData(e);if(!u.jsonp[t]&&(u.jsonp[t]=!0,"custom"!==t&&numberOfAllRequest++,fillLocalCache(e,t),exports.render(),n=function(r){var n=mergeCounterData(r,u[t],e,t);u.count[t]!==n&&(u.total+=n-u.count[t],u.count[t]=n),exports.render()},options.siteOptions.buttonOptions[t])){var o=function(e,t,n){"linkedin"===e?urlShortener.getShortUrl(events.TOOLS.sharingButtons,e,t,null,r,n):n(t)};o(t,e,function(){var e=function(e){var t,r,n=0;return"undefined"!=typeof e.count?(t=String(e.count),t=t.replace("Â ",""),n+=parseInt(t,10)):e.data&&e.data.children&&e.data.children.length>0?(r=e.data.children,r.forEach(function(e){e.data&&(n+=e.data.ups-e.data.downs)})):e.data&&e.data.length>0&&"undefined"!=typeof e.data[0].share_count?n+=parseInt(e.data[0].total_count,10):"undefined"!=typeof e[0]&&(n+=parseInt(e[0].total_posts,10)),n},r=[];switch(t){case"googlePlus":for(var u=0;u<arguments.length;u++)if(null!==arguments[u]){var o=arguments[u];r.push(function(e){googlePlusCounterRequest(o,e)})}r.push(function(e){var t=e.reduce(function(e,t){return e+t},0);n(t)});break;case"reddit":for(var u=0;u<arguments.length;u++)if(null!==arguments[u]){var o=arguments[u];r.push(function(e){redditCounterRequest(o,e)})}r.push(function(t){t.length>0&&n(e(t[0])),n(t.data)});break;case"delicious":for(var u=0;u<arguments.length;u++)if(null!==arguments[u]){var o=arguments[u];r.push(function(e){var r="jQuery16106213568835519254_1442596372918";jqLite.getJSONP(options.siteOptions.buttonOptions[t].countersUrl.replace("{url}",encodeURIComponent(o)),e,r)})}r.push(function(t){var r=t.map(function(t){return e(t)}),u=r.reduce(function(e,t){return e+t},0);n(u)});break;case"digg":r.push(function(){n(0)});break;default:for(var u=0;u<arguments.length;u++)if(null!==arguments[u]){var o=arguments[u];r.push(function(e){jqLite.getJSONP(options.siteOptions.buttonOptions[t].countersUrl.replace("{url}",encodeURIComponent(o)),e)})}r.push(function(t){var r=t.map(function(t){return e(t)}),u=r.reduce(function(e,t){return e+t},0);n(u)})}parallel.apply(this,r)})}},googlePlusCounterRequest=function(e,t){return modernizrLite.xhr2?void jqLite.ajax({type:"POST",url:"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",data:[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:e,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}],contentType:"application/json; charset=UTF-8",success:function(e){"undefined"!=typeof e[0].result&&t(e[0].result.metadata.globalCounts.count)},error:function(){}}):t(0)},redditCounterRequest=function(e,t){return modernizrLite.xhr2?void jqLite.ajax({type:"GET",url:"//www.reddit.com/api/info.json?url="+encodeURIComponent(e),contentType:"application/json; charset=UTF-8",success:function(e){t(e)},error:function(){}}):t(0)},exports.render=function(){var e;for(e=0;e<countRegister.length;e+=1)countRegister[e]()},exports.getCount=function(e,t,r,n){var u,o=cache.getUrlData(t);u="custom"===e?function(){n(filters.shorterTotal(o.total))}:function(){n(filters.shorterTotal(o.count[e]))},countRegister.push(u),getCounterValue(t,e,r),isNaN(o.count[e])||exports.render()},exports.getCounterJson=function(e){var t,r,n,u,o,a,i=[];for(n=0,o=e.length;o>n;n+=1)if(t=e[n],r=t.id?options.getWidget(t.id).url:options.getStaticWidget(t.element).url,0===i.length)i.push(r);else for(u=0,a=i.length;a>u&&i[u]!==r;u++)u+1===i.length&&i.push(r);jqLite.ajax({type:"POST",url:urls.countersUrl+"/"+options.siteOptions.hash_id,data:i,success:function(t){for(trackerCounterJSON=t,n=0;n<e.length;n+=1)render.renderWidget(e[n])}})};
},{"../utilities/cache":"/opt/addnow/widget/app/scripts/utilities/cache.js","../utilities/filters":"/opt/addnow/widget/app/scripts/utilities/filters.js","../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../utilities/modernizrLite":"/opt/addnow/widget/app/scripts/utilities/modernizrLite.js","../utilities/parallel":"/opt/addnow/widget/app/scripts/utilities/parallel.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./render":"/opt/addnow/widget/app/scripts/widget/render.js","./urlShortener":"/opt/addnow/widget/app/scripts/widget/urlShortener.js","./urls":"/opt/addnow/widget/app/scripts/widget/urls.js"}],"/opt/addnow/widget/app/scripts/widget/events.js":[function(require,module,exports){
"use strict";function getUrlToSendEvent(e){var t;switch(e){case"tracker":t=urls.trackEventUrl;break;case"dmp":t=urls.dmpEventUrl}return t}function checkPlatformForEvent(e,t){return-1!==config.events[e].indexOf("*")||-1!==config.events[e].indexOf(t.eventType)}function submitEvent(destination,params){var xhr,method,queryString,url=getUrlToSendEvent(destination);xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhr.onreadystatechange=function(){("dmp"!==destination||!options.siteOptions.dmp||options.siteOptions.dmp.shouldExecuteResponse)&&xhr.readyState===XMLHttpRequest.DONE&&200===xhr.status&&"dmp"===destination&&eval(xhr.statusText)},params=params||{},"dmp"===destination?(params.o=window.location.protocol+"//"+window.location.hostname,method="HEAD"):method="GET",queryString=jqLite.param(params),queryString&&(url+="?"+queryString),xhr.open(method,url,!0),"dmp"===destination&&(xhr.withCredentials=!0),xhr.send()}var urls=require("./urls"),options=require("./options"),config=require("../settings/config"),filters=require("../utilities/filters"),jqLite=require("../utilities/jqLite");exports.sendEvent=function(e){var t,i,o;return e?options.siteOptions.hash_id?(t={idsite:options.siteOptions.hash_id,e_c:e.eventType,e_n:filters.removeSpecialParams(e.url),e_i:document.title},e.source&&(t.e_a=e.source),e.tool&&(t.e_t=e.tool),e.keywords&&(t.e_k=e.keywords),e.time&&(t.e_v=e.time),e.uuid&&(t.e_u=e.uuid),i=checkPlatformForEvent("tracker",e),o=checkPlatformForEvent("dmp",e),i&&submitEvent("tracker",t),null===options.siteOptions.siteId?t.idsite=options.siteOptions.hash_id.split(":")[0]:t.idsite=options.siteOptions.siteId,void(o&&submitEvent("dmp",t))):void console.warn("no hash_id defined!"):void console.warn("No event options.")},exports.TOOLS={addressBar:"address-bar",sharingButtons:"sharing-buttons",copyPaste:"copy-paste",followButtons:"follow-buttons",mobile:"mobile"},exports.TYPES={follow:"follow",share:"share",copy:"copy",click:"click",view:"view"};
},{"../settings/config":"/opt/addnow/widget/app/scripts/settings/config.js","../utilities/filters":"/opt/addnow/widget/app/scripts/utilities/filters.js","../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./urls":"/opt/addnow/widget/app/scripts/widget/urls.js"}],"/opt/addnow/widget/app/scripts/widget/options.js":[function(require,module,exports){
(function (global){
"use strict";var jqLite=require("../utilities/jqLite"),mobile=require("../utilities/mobile"),sharingHash=require("./sharingHash"),siteOptions={siteId:null,url:document.URL,title:document.title,text:"",uuid:null,media:null,hash_id:null,vanityDomain:null,dsp:{share:null},dmp:{shouldExecuteResponse:!1},sharing:{byHash:!1,copyPaste:!1,hasShortUrls:!0},follow:{text:null,facebook:null,twitter:null,googlePlus:null,linkedin:null,instagram:null,pinterest:null},buttons:[{service:"facebook",is_extra_button:!1,text:"Facebook",is_short_link:!0,has_counter:!0},{service:"twitter",is_extra_button:!1,text:"Twitter",is_short_link:!0,has_counter:!0},{service:"linkedin",is_extra_button:!1,text:"LinkedIn",is_short_link:!0,has_counter:!0},{service:"googlePlus",is_extra_button:!1,text:"Google+",is_short_link:!0,has_counter:!0},{service:"pinterest",is_extra_button:!0,text:"Pinterest",is_short_link:!1,has_counter:!0},{service:"tumblr",is_extra_button:!0,text:"Tumblr",is_short_link:!0,has_counter:!0},{service:"reddit",is_extra_button:!0,text:"Reddit",is_short_link:!1,has_counter:!0},{service:"delicious",is_extra_button:!0,text:"Delicious",is_short_link:!0,has_counter:!0},{service:"gmail",is_extra_button:!0,text:"Gmail",is_short_link:!0,has_counter:!1},{service:"stumbleupon",is_extra_button:!0,text:"StumbleUpon",is_short_link:!0,has_counter:!0},{service:"digg",is_extra_button:!0,text:"Digg",is_short_link:!0,has_counter:!0},{service:"sms",is_extra_button:!0,text:"SMS",is_short_link:!0,has_counter:!1},{service:"whatsapp",is_extra_button:!0,text:"WhatsApp",is_short_link:!0,has_counter:!1},{service:"email",is_extra_button:!0,text:"Mail",is_short_link:!0,has_counter:!1}],buttonOptions:{googlePlus:{size:"medium",lang:"en-US",annotation:"",countersUrl:""},facebook:{action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US",countersUrl:"//graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback={callback}"},twitter:{count:"horizontal",hashtags:"",via:"",related:"",lang:"en",countersUrl:"//cdn.api.twitter.com/1/urls/count.json?url={url}&callback={callback}"},digg:{type:"DiggCompact",countersUrl:"//services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback={callback}"},delicious:{size:"medium",countersUrl:"//feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback={callback}"},stumbleupon:{layout:"1",countersUrl:""},linkedin:{counter:"",countersUrl:"//www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback={callback}"},pinterest:{media:"",description:"",layout:"horizontal",countersUrl:"//widgets.pinterest.com/v1/urls/count.json?url={url}&callback={callback}"},reddit:{media:"",description:"",layout:"horizontal",countersUrl:"//www.reddit.com/api/info.json?url={url}&callback={callback}"}}},widgets={};exports.siteOptions=siteOptions,exports.WIDGET_TYPES={sharingButtons:"sharing-buttons",originButtons:"origin-buttons",copyPaste:"copy-paste",newsletter:"newsletter",mobile:"mobile",followButtons:"follow-buttons",verticalFloat:"vertical-float"},exports.filterButtons=function(t){var e,o,i=[];return t.buttons.forEach(function(s){e=mobile.isMobile()||"whatsapp"!==s.service&&"sms"!==s.service,o="mail"!==s.service||t.type!==exports.WIDGET_TYPES.mobile,e&&o&&i.push(s)}),i},exports.addWidget=function(t){var e={},o=t.id;return o?(jqLite.extend(e,siteOptions),e.id=o,e.type=t.type,e.orientation=t.orientation,e.position=t.position,e.buttonSize=t.button_size,e.buttonStyle=t.button_style,e.counterPosition=t.counter_position,e.buttons=t.buttons,e.vanityDomain=t.vanity_domain,e.buttons=exports.filterButtons(e),e.type===exports.WIDGET_TYPES.mobile&&(e.minWidth=t.min_width||640),e.type===exports.WIDGET_TYPES.followButtons&&(e.follow_urls=t.follow_urls),sharingHash.isHashValid()?e.url=siteOptions.url.slice(0,siteOptions.url.indexOf(global.location.hash)):e.url=siteOptions.url,void(widgets[o]=e)):void console.warn("Incorrect format of widget data.")},exports.addWidgetOption=function(t,e,o){return widgets[t]?void(widgets[t][e]=o):void console.warn("Widget with id "+t+" not found")},exports.getWidget=function(t){return widgets[t]},exports.deleteWidget=function(t){delete widgets[t]},exports.getWidgetsByType=function(t){var e=[];for(var o in widgets)widgets.hasOwnProperty(o)&&widgets[o].type===t&&e.push(widgets[o]);return e},exports.setOptions=function(t,e,o,i){var s,n="default options",r=!1,l=t;for(s=0;s<e.length-1;s+=1){if("object"!==jqLite.type(l[e[s]])){r=!0;break}l=l[e[s]]}!r&&e[s]in l?l[e[s]]=o:r=!0,r&&(i&&(n='"'+i.outerHTML+'"'),console.warn('Unexpected option "'+e.join(".")+'" on '+n))},exports.getStaticWidget=function(t){var e,o,i,s=t.attributes,n={};for(jqLite.extend(n,exports.siteOptions),n.buttons=exports.filterButtons(n),e=0;e<s.length;e+=1)o=s[e].nodeName.split("-"),"data"===o.shift()&&(i=s[e].value||s[e].nodeValue,(1!==o.length||"layout"!==o[0])&&this.setOptions(n,o,i,t));return n};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../utilities/mobile":"/opt/addnow/widget/app/scripts/utilities/mobile.js","./sharingHash":"/opt/addnow/widget/app/scripts/widget/sharingHash.js"}],"/opt/addnow/widget/app/scripts/widget/popup.js":[function(require,module,exports){
(function (global){
"use strict";function popupWindow(t,e,o){var r=screen.width/2-e/2,n=screen.height/2-o/2,a=t+",width="+e+",height="+o+",top="+n+",left="+r;return global.open("","",a)}var generateSharePopupCallback,mobile=require("../utilities/mobile.js"),sharingHash=require("./sharingHash"),urls=require("./urls"),events=require("./events"),jqLite=require("../utilities/jqLite"),mailFormTemplates=require("./templates/mailFormTemplates");generateSharePopupCallback=function(t,e){var o=global.setInterval(function(){(null===t||t.closed)&&(global.clearInterval(o),e.follow.callback())},500)},exports.generators={gmail:function(t){var e=popupWindow("toolbar=0,status=0",900,600);return function(o){e.window.location.href="//mail.google.com/mail/u/0/?"+jqLite.param({view:"cm",fs:1,su:t.title,body:[t.text,o].join(" "),tf:1}),generateSharePopupCallback(e,t)}},googlePlus:function(t){var e=popupWindow("toolbar=0,status=0",900,500);return function(o){e.window.location.href="//plus.google.com/share?"+jqLite.param({hl:t.buttonOptions.googlePlus.lang,url:o}),generateSharePopupCallback(e,t)}},facebook:function(t){var e=popupWindow("toolbar=0,status=0",900,500);return function(o){e.window.location.href="//www.facebook.com/sharer/sharer.php?"+jqLite.param({u:o,t:t.title}),generateSharePopupCallback(e,t)}},twitter:function(t){var e=popupWindow("toolbar=0,status=0",650,360);return function(o){var r={text:t.text||t.title,url:o};t.buttonOptions.twitter.via&&(r.via=t.buttonOptions.twitter.via),e.window.location.href="//twitter.com/intent/tweet?"+jqLite.param(r),generateSharePopupCallback(e,t)}},digg:function(t){var e=popupWindow("toolbar=0,status=0",1100,670);return function(o){e.window.location.href="//digg.com/submit?"+jqLite.param({url:o}),generateSharePopupCallback(e,t)}},delicious:function(t){var e=popupWindow("toolbar=no",550,550);return function(o){e.window.location.href="//www.delicious.com/save?"+jqLite.param({v:5,noui:"",jump:"close",url:o,title:t.title}),generateSharePopupCallback(e,t)}},stumbleupon:function(t){var e=popupWindow("toolbar=no",550,550);return function(o){e.window.location.href="//www.stumbleupon.com/badge/?"+jqLite.param({url:o}),generateSharePopupCallback(e,t)}},linkedin:function(t){var e=popupWindow("toolbar=no",550,550);return function(o){e.window.location.href="//www.linkedin.com/cws/share?"+jqLite.param({url:o,token:"",isFramed:"true"}),generateSharePopupCallback(e,t)}},pinterest:function(t){var e;return t.media?(e=popupWindow("toolbar=no",700,300),function(o){e.window.location.href="//pinterest.com/pin/create/button/?"+jqLite.param({url:o,media:t.media,description:t.text||t.title}),generateSharePopupCallback(e,t)}):(e=function(){sharingHash.removingSharingHash();var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("charset","UTF-8"),t.setAttribute("src","//assets.pinterest.com/js/pinmarklet.js?r="+99999999*Math.random()),document.body.appendChild(t)})()},whatsapp:function(t){return function(e){var o="whatsapp://send?"+jqLite.param({text:(t.text||t.title)+": "+e});window.location.assign(o)}},sms:function(t){var e=mobile.getSeparator();return function(o){var r="sms:"+e+jqLite.param({body:(t.text||t.title)+": "+o});window.location.assign(r)}},tumblr:function(t){var e=popupWindow("toolbar=no",550,550);return function(o){e.window.location.href="//www.tumblr.com/share/link?"+jqLite.param({url:o,name:t.title,description:t.text}),generateSharePopupCallback(e,t)}},reddit:function(t){var e=popupWindow("toolbar=no",550,550);return function(o){e.window.location.href="//www.reddit.com/submit?"+jqLite.param({resubmit:!0,url:o,title:t.title}),generateSharePopupCallback(e,t)}},email:function(t){return function(e){var o,r=jqLite.param({url:e,text:t.text});o=mailFormTemplates.generatePopup(),global.document.body.appendChild(o.modal),o.iframe.setAttribute("src",urls.addNowMailFormUrl+"?"+r),jqLite.show(o.modal);var n=function(){o.modal.parentNode.removeChild(o.modal),generateSharePopupCallback(null,t)};jqLite.on(o.template.getCloseButton(),"click",n),jqLite.on(o.overlay,"click",n)}},follow:function(t){var e=t.buttons.filter(function(e){return e.service===t.source});1===e.length&&global.open(e[0].follow_url)}},exports.open=function(t,e,o){var r,n;return"follow-buttons"===o.type?(o.source=e,e="follow",n=events.TYPES.follow):n=events.TYPES.share,r={source:e,tool:t,eventType:n,url:o.url},events.sendEvent(r),exports.generators[e](o)};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../utilities/mobile.js":"/opt/addnow/widget/app/scripts/utilities/mobile.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./sharingHash":"/opt/addnow/widget/app/scripts/widget/sharingHash.js","./templates/mailFormTemplates":"/opt/addnow/widget/app/scripts/widget/templates/mailFormTemplates.js","./urls":"/opt/addnow/widget/app/scripts/widget/urls.js"}],"/opt/addnow/widget/app/scripts/widget/render.js":[function(require,module,exports){
(function (global){
"use strict";function getMainButtonsAndPlus(t){var e=[],o=!1;return t.forEach(function(t){t.is_extra_button?o=!0:e.push(t)}),o&&e.push(customButton),e}function getMainFollowButtons(t){var e=[];return exports.showPlus=!1,t.forEach(function(t){t.is_extra_button?exports.showPlus=!0:e.push(t)}),exports.showPlus&&e.push(customButton),e}var jqLite=require("../utilities/jqLite"),filters=require("../utilities/filters"),templateUtils=require("./templates/utils"),utils=require("./common-utils"),counters=require("./counters"),options=require("./options"),events=require("./events"),dispatcher=require("./sdkDispatcher"),WidgetRenderer=require("./widget-renderer"),ButtonsRenderer=require("./buttons-renderer"),allButtons=[{service:"facebook",text:"Facebook",is_short_link:!0,is_extra_button:!0},{service:"twitter",text:"Twitter",is_short_link:!0,is_extra_button:!0},{service:"linkedin",text:"LinkedIn",is_short_link:!0,is_extra_button:!1},{service:"googlePlus",text:"Google Plus",is_short_link:!0,is_extra_button:!0},{service:"pinterest",text:"Pinterest",is_short_link:!1,is_extra_button:!0},{service:"tumblr",text:"Tunblr",is_short_link:!0,is_extra_button:!0},{service:"gmail",text:"GMail",is_short_link:!0,is_extra_button:!0}],customButton={service:"custom",text:"Share",is_short_link:!1};exports.showPlus=!1,exports.hasExtraButtons=function(t){return t?t.filter(function(t){return t.is_extra_button}).length>0:!0},exports.renderWidget=function(t){var e,o,n,r,s=t.element,i=t.id;if(i?(e=options.getWidget(i),o="counter"===e.buttonStyle,WidgetRenderer.renderDynamic(s,e)):(n=s.getAttribute("data-layout"),e=options.getStaticWidget(s),o=WidgetRenderer.renderStatic(s,n)),r=exports.generateButtons(events.TOOLS.sharingButtons,s,e,o,options.siteOptions.buttonOptions),i&&e.type===options.WIDGET_TYPES.mobile){var u=s.parentNode.removeChild(s);"top"===e.position?document.body.insertBefore(u,document.body.firstChild):"bottom"===e.position&&document.body.appendChild(u)}r&&e.type!==options.WIDGET_TYPES.followButtons&&templateUtils.addWidgetPopups(r,e,events.TOOLS.sharingButtons),e.type===options.WIDGET_TYPES.originButtons&&dispatcher.evaluate()},exports.preview=function(t){var e,o,n;for(e=global.document.querySelectorAll(".addnow"),n=0;n<e.length;n++)if(e[n].attributes.getNamedItem("data-preview")){o=e[n];break}o&&(WidgetRenderer.renderDynamic(o,t),exports.generatePreviewShareButtons(o,t),t.type===options.WIDGET_TYPES.originButtons&&dispatcher.evaluate())},exports.generatePreviewShareButtons=function(t,e){var o,n,r,s;for(void 0!==e.buttons?o=e.type===options.WIDGET_TYPES.followButtons?getMainFollowButtons(e.buttons):getMainButtonsAndPlus(e.buttons):(o=allButtons.slice(),o.push(customButton)),s=0;s<o.length;s++)n=o[s],r=e.type===options.WIDGET_TYPES.followButtons?exports.generatePreviewFollowButton(n):exports.generatePreviewShareButton(n,e),null!==r&&t.appendChild(r)},exports.generateButtons=function(t,e,o,n,r,s){var i,u,l,a=null,p=!0;for(void 0!==o.buttons?i=getMainButtonsAndPlus(o.buttons):(i=allButtons.slice(),i.push(customButton)),l=0;l<i.length;l++)u=i[l],o.type===options.WIDGET_TYPES.followButtons?a=exports.generateFollowButton(t,u):("custom"===u.service&&(p=!1),a=exports.generateShareButton(t,u,o,n,p,s)),null!==a&&e.appendChild(a);return a},exports.generatePreviewShareButton=function(t,e){var o,n,r="counter"===e.buttonStyle;return o=ButtonsRenderer.generateButton(e.type,t,{counter:r,follow:!1,popupWindow:!1,shareCallback:null,url:e.url}),r&&(n=filters.shorterTotal(Math.floor(1e4*Math.random())),jqLite.text(o.countElement,n)),o.root},exports.generatePreviewFollowButton=function(t){var e;return void 0===t.follow_url||""===t.follow_url?null:e=exports.generateFollowButton("",t)},exports.generateShareButton=function(t,e,o,n,r,s){var i,u=e.service,l=e.is_short_link,a=null;return r&&(a=utils.generateShareUrlCallback(t,u,o,l)),i=ButtonsRenderer.generateButton(o.type,e,{counter:n,follow:!1,popupWindow:s,shareCallback:a,url:o.url}),counters.getCount(u,o.url,o.vanityDomain,function(t){n&&void 0!==t&&jqLite.text(i.countElement,t)}),i.root},exports.generateFollowButton=function(t,e){if(void 0===e.follow_url||""===e.follow_url)return null;var o,n=function(){var o,n={url:e.follow_url,eventType:events.TYPES.follow,tool:t,source:e.service};events.sendEvent(n),o=window.open(e.follow_url,"_blank"),o.focus()};return o=ButtonsRenderer.generateButton(options.WIDGET_TYPES.followButtons,e,{counter:!1,follow:!0,popupWindow:!1,shareCallback:n}),o.root};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/filters":"/opt/addnow/widget/app/scripts/utilities/filters.js","../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./buttons-renderer":"/opt/addnow/widget/app/scripts/widget/buttons-renderer.js","./common-utils":"/opt/addnow/widget/app/scripts/widget/common-utils.js","./counters":"/opt/addnow/widget/app/scripts/widget/counters.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./sdkDispatcher":"/opt/addnow/widget/app/scripts/widget/sdkDispatcher.js","./templates/utils":"/opt/addnow/widget/app/scripts/widget/templates/utils.js","./widget-renderer":"/opt/addnow/widget/app/scripts/widget/widget-renderer.js"}],"/opt/addnow/widget/app/scripts/widget/sdkDispatcher.js":[function(require,module,exports){
"use strict";var parallel=require("../utilities/parallel"),events=require("./events"),config=require("../settings/config"),loadSdkFile,SDK,sdkList=[];loadSdkFile=function(e,t,n){var s,o=document.getElementsByTagName("script")[0];return document.getElementById(e)?void n():(s=document.createElement("script"),s.id=e,s.src=t,s.async=!0,o.parentNode.insertBefore(s,o),s.onreadystatechange=n,void(s.onload=n))},SDK={},SDK.facebook={prepare:function(e){var t=this;loadSdkFile("facebook-jssdk","//connect.facebook.net/en_US/sdk.js",function(){t.init(),e()})},init:function(){FB.init(config.facebookSdk),FB.Event.subscribe("message.send",function(e){var t={source:"facebook-messenger",tool:events.TOOLS.sharingButtons,eventType:events.TYPES.share,url:e};events.sendEvent(t)}),FB.Event.subscribe("edge.create",function(e){var t={source:"facebook-like",tool:events.TOOLS.sharingButtons,eventType:events.TYPES.share,url:e};events.sendEvent(t)})},evaluateContent:function(){FB.XFBML.parse()}},SDK.googlePlus={prepare:function(e){this.init(),loadSdkFile("google-jssdk","https://apis.google.com/js/plusone.js",e)},init:function(){window.___gcfg={parsetags:"explicit"}},evaluateContent:function(){gapi.plusone.go()}},SDK.twitter={prepare:function(e){var t=this;loadSdkFile("twitter-jssdk","https://platform.twitter.com/widgets.js",function(){t.init(),e()})},init:function(){twttr.events.bind("tweet",function(e){if(e.target){var t,n=e.target.attributes;t=n.getNamedItem("data-url").value;var s={source:"twitter",tool:events.TOOLS.sharingButtons,eventType:events.TYPES.share,url:t};events.sendEvent(s)}})},evaluateContent:function(){twttr.widgets.load()}},sdkList.push(SDK.facebook),sdkList.push(SDK.googlePlus),sdkList.push(SDK.twitter),exports.load=function(e){var t=[];sdkList.forEach(function(e){t.push(function(t){e.prepare(t)})}),t.push(function(){e()}),parallel.apply(this,t)},exports.evaluate=function(){sdkList.forEach(function(e){e.evaluateContent()})};
},{"../settings/config":"/opt/addnow/widget/app/scripts/settings/config.js","../utilities/parallel":"/opt/addnow/widget/app/scripts/utilities/parallel.js","./events":"/opt/addnow/widget/app/scripts/widget/events.js"}],"/opt/addnow/widget/app/scripts/widget/sharingHash.js":[function(require,module,exports){
(function (global){
"use strict";var options=require("./options"),events=require("./events"),hashFormat={beginning:"#$$",middle:"&&",ending:"$$",coding:36};exports.isHashValid=function(){return global.location.hash.slice(0,hashFormat.beginning.length)===hashFormat.beginning&&global.location.hash.slice(-hashFormat.ending.length)===hashFormat.ending},exports.sendSharingEventByHash=function(){var s,i,n,a,e=global.location.hash;options.siteOptions.sharing.byHash&&exports.isHashValid()&&(s=parseInt(e.slice(hashFormat.beginning.length,e.indexOf(hashFormat.middle)),hashFormat.coding),i=e.slice(e.indexOf(hashFormat.middle)+hashFormat.middle.length,-hashFormat.ending.length),n=options.siteOptions.url.slice(0,options.siteOptions.url.indexOf(e)),options.setOptions(options.siteOptions,["url"],n),a={time:s,uuid:i,eventType:events.TYPES.click,tool:events.TOOLS.addressBar,url:options.siteOptions.url,source:"darkSocial"},sessionStorage&&sessionStorage.getItem("addnow-uuid")&&a.uuid===sessionStorage.getItem("addnow-uuid")||events.sendEvent(a))},exports.addSharingHash=function(s){var i,n;options.siteOptions.sharing.byHash&&(exports.isHashValid()||""===global.location.hash?(i=Math.floor((new Date).getTime()/1e3),n=[hashFormat.beginning,i.toString(hashFormat.coding),hashFormat.middle,s,hashFormat.ending],global.history.replaceState("sharingHash","sharingHash",n.join("")),sessionStorage.setItem("addnow-uuid",s)):global.console.warn("Can't share by hash. Current hash is invalid."))},exports.removingSharingHash=function(){if(options.siteOptions.sharing&&exports.isHashValid()){var s=global.window.location;global.history.replaceState("sharingHash","sharingHash",s.pathname+s.search)}};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./events":"/opt/addnow/widget/app/scripts/widget/events.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js"}],"/opt/addnow/widget/app/scripts/widget/templates/afterShareTemplates.js":[function(require,module,exports){
"use strict";var generatePopupItem,items,utils=require("../common-utils"),jqLite=require("../../utilities/jqLite"),Template=require("./baseTemplate"),events=require("../events");items=[{service:"facebook",title:"Facebook"},{service:"twitter",title:"Twitter"},{service:"googlePlus",title:"Google+"},{service:"linkedin",title:"LinkedIn"},{service:"pinterest",title:"Pinterest"},{service:"instagram",title:"Instagram"}],generatePopupItem=function(e,t,n,i,r){var a,l="follow-"+i,o=document.createElement("li"),s=document.createElement("a"),d=document.createElement("span");return s.setAttribute("target","_blank"),s.setAttribute("title",e),s.setAttribute("href",t),jqLite.addClass(s,l),jqLite.on(s,"click",function(){a={url:r.url,eventType:events.TYPES.follow,tool:n,source:i},events.sendEvent(a)}),o.appendChild(s),jqLite.addClass(d,"addnow-service-icon"),s.appendChild(d),o},exports.generatePopup=function(e,t){var n,i,r,a,l,o,s,d,u,c=[];if(!t.follow.text)return null;for(u=0;u<items.length;u+=1)o=items[u],d=t.follow[o.service],d&&c.push(generatePopupItem(o.title,d,e,o.service,t));if(c.length>0){for(r=document.createElement("div"),jqLite.addClass(r,"addnow-thankyou-box"),n=new Template,n.header("Thank you for sharing.",!0).addClass("addnow-after-share").content(r),i=n.getNode(),a=document.createElement("h2"),jqLite.text(a,t.follow.text),r.appendChild(a),l=document.createElement("ul"),r.appendChild(l),u=0;u<c.length;u+=1)l.appendChild(c[u]);return s=utils.generateBlankLink(),jqLite.addClass(s,"addnow-share-again"),jqLite.text(s,"share again"),r.appendChild(s),n.footer(),{popup:i,shareAgainButton:s}}return null};
},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../common-utils":"/opt/addnow/widget/app/scripts/widget/common-utils.js","../events":"/opt/addnow/widget/app/scripts/widget/events.js","./baseTemplate":"/opt/addnow/widget/app/scripts/widget/templates/baseTemplate.js"}],"/opt/addnow/widget/app/scripts/widget/templates/baseTemplate.js":[function(require,module,exports){
"use strict";var utils=require("../common-utils"),jqLite=require("../../utilities/jqLite"),generatePopupFooter,Template=function(){this.getNode=function(){return e},this.getCloseButton=function(){return t};var t=utils.generateBlankLink(),e=document.createElement("div");jqLite.addClass(this.getNode(),"addnow"),jqLite.addClass(this.getNode(),"addnow-popup"),jqLite.addClass(this.getNode(),"addnow-extra-shares"),jqLite.hide(this.getNode())};Template.prototype.addCloseButton=function(t){var e,o=this;return jqLite.addClass(this.getCloseButton(),"addnow-close-popup"),jqLite.text(this.getCloseButton(),"×"),t?jqLite.on(this.getCloseButton(),"click",t):jqLite.on(this.getCloseButton(),"click",function(){jqLite.hide(o.getNode())}),e=void 0!==this.getNode().getElementsByClassName("addnow-popup-header")[0]?this.getNode().getElementsByClassName("addnow-popup-header")[0]:this.getNode(),e.appendChild(this.getCloseButton()),this},Template.prototype.setCloseButtonHandler=function(t){return jqLite.on(this.getCloseButton(),"click",t),this},Template.prototype.header=function(t,e){var o=document.createElement("div");jqLite.addClass(o,"addnow-popup-header");var i=document.createElement("h3");return jqLite.text(i,t),o.appendChild(i),this.getNode().appendChild(o),e&&this.addCloseButton(),this},Template.prototype.content=function(t){return this.getNode().appendChild(t),this},Template.prototype.addClass=function(t){return jqLite.addClass(this.getNode(),t),this},Template.prototype.footer=function(){return this.getNode().appendChild(generatePopupFooter()),this},generatePopupFooter=function(){var t=document.createElement("div"),e=document.createElement("a"),o=document.createElement("a");return jqLite.addClass(t,"addnow-pop-footer"),o.setAttribute("href","http://www.addnow.com/"),o.setAttribute("class","addnow-logo"),o.setAttribute("target","_blank"),jqLite.text(o,"AddNow"),o.setAttribute("title","AddNow"),t.appendChild(o),e.setAttribute("href","http://gravity4.com/"),e.setAttribute("class","addnow-powered-by"),e.setAttribute("target","_blank"),jqLite.text(e,"powered by GRAVITY4"),e.setAttribute("title","Gravity4"),t.appendChild(e),t},module.exports=Template;
},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../common-utils":"/opt/addnow/widget/app/scripts/widget/common-utils.js"}],"/opt/addnow/widget/app/scripts/widget/templates/copyPasteTemplates.js":[function(require,module,exports){
(function (global){
"use strict";function getSelectionCoordinates(){var e,t,n,o,r,i;return e=getSelection(),t=e.getRangeAt(0).cloneRange(),t.collapse(!1),n=document.createElement("span"),t.insertNode(n),o=n.getBoundingClientRect(),n.parentNode.removeChild(n),r=o.left+o.width,i=o.top+o.height+window.scrollY,{x:r,y:i}}var jqLite=require("../../utilities/jqLite"),templateUtils=require("./utils"),render=require("../render"),options=require("../options"),Template=require("./baseTemplate"),events=require("../events");exports.generatePopup=function(e,t){var n,o,r,i,s,p,l,a,u=10;return n=global.document.getElementsByClassName(t)[0],n||(r=new Template,r.header("Share With Friends",!0),r.addClass(t),n=r.getNode(),p=options.getWidget(e),l="counter"===p.buttonStyle,s=document.createElement("ul"),r.content(s),i=render.generateButtons(events.TOOLS.copyPaste,s,p,l,options.siteOptions.buttonOptions,!0),i&&(a=templateUtils.addWidgetPopups(i,p,events.TOOLS.copyPaste,{popup:n}),a.extraPopup&&(a.extraPopup.popup.style.zIndex=2147483647)),r.footer()),o=getSelectionCoordinates(),n.style.left=o.x+u+"px",n.style.top=o.y+u+"px",jqLite.show(n),n};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../events":"/opt/addnow/widget/app/scripts/widget/events.js","../options":"/opt/addnow/widget/app/scripts/widget/options.js","../render":"/opt/addnow/widget/app/scripts/widget/render.js","./baseTemplate":"/opt/addnow/widget/app/scripts/widget/templates/baseTemplate.js","./utils":"/opt/addnow/widget/app/scripts/widget/templates/utils.js"}],"/opt/addnow/widget/app/scripts/widget/templates/extraPopupTemplates.js":[function(require,module,exports){
"use strict";var generateItem,jqLite=require("../../utilities/jqLite"),utils=require("../common-utils"),Template=require("./baseTemplate"),options=require("../options");generateItem=function(e,t,a){var n=document.createElement("li"),i=utils.generateBlankLink(),r=document.createElement("span"),o="pop-"+a.service,l=a.service,s=a.service,d=document.createElement("span");return jqLite.addClass(i,o),n.appendChild(i),jqLite.addClass(r,"addnow-service-icon"),i.appendChild(r),jqLite.addClass(d,"addnow-service-label"),jqLite.text(d,l),i.appendChild(d),jqLite.on(i,"click",utils.generateShareUrlCallback(e,s,t,a.is_short_link)),n},exports.generatePopup=function(e,t){var a,n,i,r;return i=(new Template).header("Share With Friends",!0),t.type===options.WIDGET_TYPES.mobile?i.addClass("addnow-mobile-popup"):i.addClass("addnow-popup"),n=document.createElement("ul"),i.content(n),t.buttons&&t.buttons.forEach(function(i){i.is_extra_button&&(r=generateItem(e,t,i),"email"===i.service&&(a=r),n.appendChild(r))}),i.footer(),{popup:i.getNode(),template:i,mailButton:a}};
},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../common-utils":"/opt/addnow/widget/app/scripts/widget/common-utils.js","../options":"/opt/addnow/widget/app/scripts/widget/options.js","./baseTemplate":"/opt/addnow/widget/app/scripts/widget/templates/baseTemplate.js"}],"/opt/addnow/widget/app/scripts/widget/templates/mailFormTemplates.js":[function(require,module,exports){
"use strict";var jqLite=require("../../utilities/jqLite"),Template=require("./baseTemplate");exports.generatePopup=function(){var e,a,d,t,r;return r=document.createElement("div"),jqLite.addClass(r,"addnow-modal"),d=document.createElement("div"),jqLite.addClass(d,"addnow-overlay"),r.appendChild(d),e=new Template,e.header("Share with friends",!0),e.addClass("addnow-window").addClass("addnow-mail-form"),a=e.getNode(),jqLite.show(a),t=document.createElement("iframe"),t.frameBorder=0,e.addCloseButton().content(t).footer(),r.appendChild(a),{modal:r,overlay:d,iframe:t,template:e}};
},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./baseTemplate":"/opt/addnow/widget/app/scripts/widget/templates/baseTemplate.js"}],"/opt/addnow/widget/app/scripts/widget/templates/utils.js":[function(require,module,exports){
(function (global){
"use strict";function setupFollowCallback(e,t,p){p.follow.callback=function(){e.forEach(function(e){jqLite.hide(e)}),t&&jqLite.show(t.popup)}}function createExtraPopup(e,t){var p=null;return render.hasExtraButtons(t.buttons)&&(p=extraPopupTemplates.generatePopup(e,t),global.document.body.appendChild(p.popup)),p}function setupCustomButtonHandler(e,t,p){t&&jqLite.on(e,"click",function(e){if(p&&jqLite.hide(p.popup),jqLite.isHidden(t.popup)){if(!t.popup.classList.contains("addnow-mobile-popup")){var o=e.target.classList.contains("addnow-button-custom")?e.target:e.target.parentElement,a=o.getBoundingClientRect();t.popup.style.top=Math.floor(a.top+a.height+window.pageYOffset)+"px",o.parentElement.parentElement.classList.contains("addnow-float-position-right")===!0?t.popup.style.right=a.width+"px":t.popup.style.left=Math.floor(a.left+a.width+window.pageXOffset)+"px"}jqLite.show(t.popup)}else jqLite.hide(t.popup)})}function createAfterSharePopup(e,t,p){var o=afterShareTemplates.generatePopup(e,t);return o&&(void 0!==t.type&&jqLite.addClass(o.popup,"addnow-aftershare-"+t.type),global.document.body.appendChild(o.popup),jqLite.on(o.shareAgainButton,"click",function(){jqLite.hide(o.popup),p&&jqLite.show(p.popup)})),o}var jqLite=require("../../utilities/jqLite"),render=require("../render"),afterShareTemplates=require("./afterShareTemplates"),extraPopupTemplates=require("./extraPopupTemplates"),copyPasteTemplates=require("./copyPasteTemplates");exports.addWidgetPopups=function(e,t,p,o){var a,r,n=[];return a=createExtraPopup(p,t),a&&(n=[a.popup]),o?n.push(o.popup):o=a,r=createAfterSharePopup(p,t,o),setupCustomButtonHandler(e,a,r),setupFollowCallback(n,r,t),{extraPopup:a,afterSharePopup:r}},exports.addCopyPastePopup=function(e){var t=copyPasteTemplates.generatePopup(e,"addnow-copy-paste");global.document.body.appendChild(t)};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","../render":"/opt/addnow/widget/app/scripts/widget/render.js","./afterShareTemplates":"/opt/addnow/widget/app/scripts/widget/templates/afterShareTemplates.js","./copyPasteTemplates":"/opt/addnow/widget/app/scripts/widget/templates/copyPasteTemplates.js","./extraPopupTemplates":"/opt/addnow/widget/app/scripts/widget/templates/extraPopupTemplates.js"}],"/opt/addnow/widget/app/scripts/widget/urlShortener.js":[function(require,module,exports){
"use strict";var generateShortUrlCallback,cache=require("../utilities/cache"),jqLite=require("../utilities/jqLite"),urls=require("./urls"),options=require("./options");generateShortUrlCallback=function(r,l){return function(t){var e;for(r.url=t.short_url,e=0;e<r.callbacks.length;e+=1)r.callbacks[e](r.url,l);r.callbacks=[]}},exports.getShortUrl=function(r,l,t,e,s,a,i){var o,c,u=cache.getUrlData(t);options.siteOptions.sharing.hasShortUrls?(l?(void 0===u.shortUrl[r]&&(u.shortUrl[r]={}),void 0===u.shortUrl[r][l]&&(u.shortUrl[r][l]={url:null,callbacks:[]}),o=u.shortUrl[r][l]):(void 0===u.shortUrl[r]&&(u.shortUrl[r]={url:null,callbacks:[]}),o=u.shortUrl[r]),o.url?a(o.url,t):(o.callbacks.push(a),c={original_url:t,site_id:options.siteOptions.hash_id,tool:r},e&&(c.uuid=e),l&&(c.service=l),document.title&&(c.title=document.title),s&&(c.vanity_domain=s),1===o.callbacks.length&&jqLite.ajax({type:"POST",url:urls.shortUrlUrl,async:i,data:c,success:generateShortUrlCallback(o,t)}))):a(t,t)};
},{"../utilities/cache":"/opt/addnow/widget/app/scripts/utilities/cache.js","../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js","./urls":"/opt/addnow/widget/app/scripts/widget/urls.js"}],"/opt/addnow/widget/app/scripts/widget/urls.js":[function(require,module,exports){
(function (global){
"use strict";var config=require("../settings/config"),generateUrl,CDN_DOMAIN=config.domains.cdn,ADDNOW_DOMAIN=config.domains.addnow,DMP_DOMAIN=config.domains.dmp,trackerPath="/tracker",dmpPath="/dmp/addnow";generateUrl=function(r,e){return e||(e="/"),("https:"===global.document.location.protocol?"https://":"http://")+r+e},exports.cssUrl=null,exports.shortUrlUrl=null,exports.addNowTrackerUrl=null,exports.addNowMailFormUrl=null,exports.settingsUrl=null,exports.dmpUrl=null,exports.setDefaultDomains=function(){exports.cssUrl||exports.setDomain(["cdn",CDN_DOMAIN]),exports.addNowTrackerUrl||exports.setDomain(["addnow",ADDNOW_DOMAIN]),exports.dmpUrl||exports.setDomain(["dmp",DMP_DOMAIN])},exports.setDomain=function(r){var e,t;if(2!==r.length)throw new Error("Unexpected number of arguments: "+r.length);switch(e=r.shift()){case"cdn":t=generateUrl(r[0],"/widget"),exports.cssUrl=t+"/styles/addnow.css";break;case"addnow":exports.addNowTrackerUrl=generateUrl(r[0],trackerPath+"/click"),exports.addNowMailFormUrl=generateUrl(r[0],trackerPath+"/send_email"),exports.shortUrlUrl=generateUrl(r[0],trackerPath+"/create_shortlink"),exports.settingsUrl=generateUrl(r[0],trackerPath+"/s"),exports.trackEventUrl=generateUrl(r[0],trackerPath+"/e"),exports.countersUrl=generateUrl(r[0],trackerPath+"/counters");break;case"dmp":exports.dmpEventUrl=generateUrl(r[0],dmpPath);break;default:throw new Error('Unexpected domain "'+e+'"')}};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../settings/config":"/opt/addnow/widget/app/scripts/settings/config.js"}],"/opt/addnow/widget/app/scripts/widget/widget-renderer.js":[function(require,module,exports){
(function (global){
"use strict";var jqLite=require("../utilities/jqLite"),options=require("./options"),renderMobileWidget,WidgetRenderer;WidgetRenderer=function(){},WidgetRenderer.prototype.renderDynamic=function(d,e){switch(e.type){case options.WIDGET_TYPES.verticalFloat:return jqLite.addClass(d,"addnow-floating-sidebar"),jqLite.addClass(d,"addnow-float-position-"+e.position),"counter"===e.buttonStyle?(jqLite.addClass(d,"counter-position-side"),jqLite.addClass(d,"addnow-has-counter")):"label"===e.buttonStyle&&jqLite.addClass(d,"addnow-has-label"),void jqLite.addClass(d,"addnow-widget-size-"+e.buttonSize);case options.WIDGET_TYPES.originButtons:return jqLite.addClass(d,"addnow-original-buttons-widget"),void jqLite.addClass(d,"addnow-original-buttons-widget-orientation-"+e.orientation);case options.WIDGET_TYPES.followButtons:return jqLite.addClass(d,"addnow-follow-widget"),void jqLite.addClass(d,"addnow-widget-orientation-"+e.orientation);case options.WIDGET_TYPES.mobile:return void renderMobileWidget(d,e);case options.WIDGET_TYPES.newsletter:case options.WIDGET_TYPES.copyPaste:case options.WIDGET_TYPES.sharingButtons:return jqLite.addClass(d,"addnow-widget-orientation-"+e.orientation),jqLite.addClass(d,"addnow-widget-size-"+e.buttonSize),void("label"===e.buttonStyle?(jqLite.addClass(d,"label-like"),jqLite.addClass(d,"addnow-has-label")):"counter"===e.buttonStyle&&(jqLite.addClass(d,"addnow-has-counter"),e.counterPosition&&jqLite.addClass(d,"addnow-counter-position-"+e.counterPosition)));default:return void console.warn("Unknown widget type: "+e.type,e)}},renderMobileWidget=function(d,e){jqLite.addClass(d,"addnow-mobile"),jqLite.addClass(d,"addnow-fixed"),jqLite.addClass(d,"addnow-mobile-position-"+e.position);var t=global.document.createElement("style"),i=document.createElement("script");t.type="text/css",i.type="text/javascript",i.async=!0;var a="@media screen and (max-width: %WIDTH%px) { .addnow.addnow-mobile { display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex; } }",o='var addnowMobileWidget = document.getElementsByClassName("addnow-mobile")[0];var body = document.body, html = document.documentElement;var iH = window.innerHeight || html.clientHeight || body.clientHeight;var height = Math.max(body.scrollHeight, body.offsetHeight, iH, html.scrollHeight, html.offsetHeight);';"bottom"===e.position&&(o+='document.onscroll = function() {   if (addnowMobileWidget.classList.contains("addnow-hidden") && window.pageYOffset + iH < height - 5) {     addnowMobileWidget.classList.remove("addnow-hidden");  } else if (window.pageYOffset + iH >= height - 5) {    addnowMobileWidget.classList.add("addnow-hidden");  }};if (window.pageYOffset + iH >= height - 5) {  addnowMobileWidget.classList.add("addnow-hidden");}'),"top"===e.position&&(o+='document.onscroll = function() {   if (addnowMobileWidget.classList.contains("addnow-hidden") && window.pageYOffset > 5) {     addnowMobileWidget.classList.remove("addnow-hidden");  } else if (window.pageYOffset < 5) {    addnowMobileWidget.classList.add("addnow-hidden");  }};if (window.pageYOffset < 5) {  addnowMobileWidget.classList.add("addnow-hidden");}'),a=a.replace(/%WIDTH%/g,e.minWidth);try{t.appendChild(document.createTextNode(a)),i.appendChild(document.createTextNode(o))}catch(n){t.styleSheet.cssText=a,i.text=o}var s=global.document.head||global.document.getElementsByTagName("head")[0];s.appendChild(t),s.appendChild(i)},WidgetRenderer.prototype.renderStatic=function(d,e){switch(e){case"icon-big-horizontal-side-shares":return jqLite.addClass(d,"addnow-widget-size-large"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-counter-position-side"),jqLite.addClass(d,"addnow-has-counter"),!0;case"icon-big-horizontal-shares":return jqLite.addClass(d,"addnow-widget-size-big"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-counter-position-top"),jqLite.addClass(d,"addnow-has-counter"),!0;case"icon-medium-horizontal":return jqLite.addClass(d,"addnow-widget-size-medium"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),!1;case"icon-medium-horizontal-side-shares":return jqLite.addClass(d,"addnow-widget-size-medium"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-counter-position-side"),jqLite.addClass(d,"addnow-has-counter"),!0;case"icon-small-horizontal":return jqLite.addClass(d,"addnow-widget-size-small"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),!1;case"icon-small-horizontal-shares":return jqLite.addClass(d,"addnow-widget-size-small"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-counter-position-side"),jqLite.addClass(d,"addnow-has-counter"),!0;case"label-horizontal":return jqLite.addClass(d,"addnow-widget-size-medium"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-has-label"),!1;case"label-horizontal-shares":return jqLite.addClass(d,"addnow-widget-size-small"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-has-label"),jqLite.addClass(d,"addnow-counter-position-side"),jqLite.addClass(d,"addnow-has-counter"),!0;case"label-horizontal-transparent":return jqLite.addClass(d,"addnow-widget-size-medium"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-has-label"),!1;case"icon-big-vertical":return jqLite.addClass(d,"addnow-widget-size-big"),jqLite.addClass(d,"addnow-widget-orientation-vertical"),!1;case"icon-big-vertical-shares":return jqLite.addClass(d,"addnow-widget-size-big"),jqLite.addClass(d,"addnow-widget-orientation-vertical"),jqLite.addClass(d,"addnow-counter-position-top"),jqLite.addClass(d,"addnow-has-counter"),!0;case"icon-medium-vertical":return jqLite.addClass(d,"addnow-widget-size-medium"),jqLite.addClass(d,"addnow-widget-orientation-vertical"),!1;default:return jqLite.addClass(d,"addnow-widget-size-medium-small"),jqLite.addClass(d,"addnow-widget-orientation-horizontal"),jqLite.addClass(d,"addnow-counter-position-top"),jqLite.addClass(d,"addnow-has-counter"),!0}},module.exports=new WidgetRenderer;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utilities/jqLite":"/opt/addnow/widget/app/scripts/utilities/jqLite.js","./options":"/opt/addnow/widget/app/scripts/widget/options.js"}]},{},["./app/scripts/addnow.js"])

