function xmenuHover(){var e=$(this);var t=0,n;var r=$(".nav-submenu").is(":visible");if(r){var i=0}else{var i=240}if(e.children("a").hasClass("active")){return false}n=setTimeout(function(){e.stop(true,true).siblings("li").removeClass("active").children("a").removeClass("active").siblings(".nav-submenu").hide();if(!e.children(".nav-submenu").length){e.append("<div class='nav-submenu ' style='display: none;'></div>")}if(e.children(".nav-submenu").children(".wrapper").children().length>0){e.children("a").addClass("activeFirst");e.children("a").addClass("active");e.imagesLoaded(function(){$(".loadAnim").hide()});$(".submenu > li > a").hover(function(e){e.preventDefault();$(this).parent("li").addClass("active").siblings("li").removeClass("active")});$("ul.SubHeader").parent().addClass("withHeader");e.children(".nav-submenu").fadeIn(i,function(){e.children("a").removeClass("activeFirst")})}else{if(mainMenuPreloaded===false){$.get("/static/nav-submenus/downloads.html",function(e){$("#dk_menu a[data-source='downloads']").siblings(".nav-submenu").children(".wrapper").html(e)});$.get("/static/nav-submenus/features.html",function(e){$("#dk_menu a[data-source='features']").siblings(".nav-submenu").children(".wrapper").html(e)});$.get("/static/nav-submenus/forums.html",function(e){$("#dk_menu a[data-source='forums']").siblings(".nav-submenu").children(".wrapper").html(e)});$.get("/static/nav-submenus/product-finder.html",function(e){$("#dk_menu a[data-source='product-finder']").siblings(".nav-submenu").children(".wrapper").html(e)});$.get("/static/nav-submenus/reviews.html",function(e){$("#dk_menu a[data-source='reviews']").siblings(".nav-submenu").children(".wrapper").html(e)});$.get("/static/nav-submenus/trending.html",function(e){$("#dk_menu a[data-source='trending']").siblings(".nav-submenu").children(".wrapper").html(e)});mainMenuPreloaded=true}e.children(".nav-submenu").children(".wrapper").load("/static/nav-submenus/"+e.children("a").data("source")+".html",function(){e.imagesLoaded(function(){$(".loadAnim").hide()});e.children("a").addClass("activeFirst");e.children("a").addClass("active");$(".submenu > li > a").hover(function(e){e.preventDefault();$(this).parent("li").addClass("active").siblings("li").removeClass("active")});$("ul.SubHeader").parent().addClass("withHeader");e.children(".nav-submenu").fadeIn(i,function(){e.children("a").removeClass("activeFirst")})})}},t);return false}function xmenuHoverOut(){var e=$(this);var t=0,n;setTimeout(function(){e.children("a").removeClass("active").siblings(".nav-submenu").fadeOut(100);clearTimeout(n);var t=240;return false},50)}function TSMainMenuInit(){function e(){$("#main-menu .wrapper > ul > li").hoverIntent({over:xmenuHover,out:xmenuHoverOut,interval:0})}function t(){$("#main-menu .wrapper > ul > li").hoverIntent({over:xmenuHover,out:xmenuHoverOut,interval:75})}$("#main-menu .wrapper > ul > li").hoverIntent({over:xmenuHover,out:xmenuHoverOut,interval:75});$("#main-menu").hoverIntent(e,t)}(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:6,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else{if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.sqrt((u-s)*(u-s)+(a-o)*(a-o))<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=true;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=false;return i.out.apply(t,[e])};var h=function(t){var n=e.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type==="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(!r.hoverIntent_s){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);(function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i=r.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp",a="",f,l=r.vars.direction==="vertical",c=r.vars.reverse,h=r.vars.itemWidth>0,p=r.vars.animation==="fade",d=r.vars.asNavFor!=="",v={},m=true;e.data(t,"flexslider",r);v={init:function(){r.animating=false;r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10);if(isNaN(r.currentSlide))r.currentSlide=0;r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" "));r.slides=e(r.vars.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(r.vars.sync).length>0;if(r.vars.animation==="slide")r.vars.animation="swing";r.prop=l?"top":"marginLeft";r.args={};r.manualPause=false;r.stopped=false;r.started=false;r.startTimeout=null;r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t){if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return true}}return false}();if(r.vars.controlsContainer!=="")r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer);if(r.vars.manualControls!=="")r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls);if(r.vars.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();r.setup("init");if(r.vars.controlNav)v.controlNav.setup();if(r.vars.directionNav)v.directionNav.setup();if(r.vars.keyboard&&(e(r.containerSelector).length===1||r.vars.multipleKeyboard)){e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):false;r.flexAnimate(n,r.vars.pauseOnAction)}})}if(r.vars.mousewheel){r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)})}if(r.vars.pausePlay)v.pausePlay.setup();if(r.vars.slideshow&&r.vars.pauseInvisible)v.pauseInvisible.init();if(r.vars.slideshow){if(r.vars.pauseOnHover){r.hover(function(){if(!r.manualPlay&&!r.manualPause)r.pause()},function(){if(!r.manualPause&&!r.manualPlay&&!r.stopped)r.play()})}if(!r.vars.pauseInvisible||!v.pauseInvisible.isHidden()){r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play()}}if(d)v.asNav.setup();if(o&&r.vars.touch)v.touch();if(!p||p&&r.vars.smoothHeight)e(window).bind("resize orientationchange focus",v.resize);r.find("img").attr("draggable","false");setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=true;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(i+"active-slide").eq(r.currentItem).addClass(i+"active-slide");if(!s){r.slides.on(u,function(t){t.preventDefault();var n=e(this),s=n.index();var o=n.offset().left-e(r).scrollLeft();if(o<=0&&n.hasClass(i+"active-slide")){r.flexAnimate(r.getTarget("prev"),true)}else if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass(i+"active-slide")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction,false,true,true)}})}else{t._slider=r;r.slides.each(function(){var t=this;t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",function(e){e.preventDefault();if(e.currentTarget._gesture)e.currentTarget._gesture.addPointer(e.pointerId)},false);t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<i?"next":"prev";r.flexAnimate(i,r.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!r.manualControls){v.controlNav.setupPaging()}else{v.controlNav.setupManual()}},setupPaging:function(){var t=r.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,s,o;r.controlNavScaffold=e('<ol class="'+i+"control-nav "+i+t+'"></ol>');if(r.pagingCount>1){for(var f=0;f<r.pagingCount;f++){o=r.slides.eq(f);s=r.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"/>':"<a>"+n+"</a>";if("thumbnails"===r.vars.controlNav&&true===r.vars.thumbCaptions){var l=o.attr("data-thumbcaption");if(""!=l&&undefined!=l)s+='<span class="'+i+'caption">'+l+"</span>"}r.controlNavScaffold.append("<li>"+s+"</li>");n++}}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);v.controlNav.set();v.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){r.direction=s>r.currentSlide?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls;v.controlNav.active();r.controlNav.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){s>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(s,r.vars.pauseOnAction)}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},set:function(){var t=r.vars.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+i+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(i+"active").eq(r.animatingTo).addClass(i+"active")},update:function(t,n){if(r.pagingCount>1&&t==="add"){r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>"))}else if(r.pagingCount===1){r.controlNavScaffold.find("li").remove()}else{r.controlNav.eq(n).closest("li").remove()}v.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+i+'direction-nav"><li><a class="'+i+'prev" href="#">'+r.vars.prevText+'</a></li><li><a class="'+i+'next" href="#">'+r.vars.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+i+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+i+"direction-nav li a",r)}v.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n;if(a===""||a===t.type){n=e(this).hasClass(i+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";if(r.pagingCount===1){r.directionNav.addClass(e).attr("tabindex","-1")}else if(!r.vars.animationLoop){if(r.animatingTo===0){r.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1")}else if(r.animatingTo===r.last){r.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1")}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}else{r.directionNav.removeClass(e).removeAttr("tabindex")}}},pausePlay:{setup:function(){var t=e('<div class="'+i+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+i+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+i+"pauseplay a",r)}v.pausePlay.update(r.vars.slideshow?i+"pause":i+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){if(e(this).hasClass(i+"pause")){r.manualPause=true;r.manualPlay=false;r.pause()}else{r.manualPause=false;r.manualPlay=true;r.play()}}if(a===""){a=t.type}v.setToClearWatchedEvent()})},update:function(e){e==="play"?r.pausePlay.removeClass(i+"pause").addClass(i+"play").html(r.vars.playText):r.pausePlay.removeClass(i+"play").addClass(i+"pause").html(r.vars.pauseText)}},touch:function(){var e,n,i,o,u,a,f=false,d=0,v=0,m=0;if(!s){t.addEventListener("touchstart",g,false);function g(s){if(r.animating){s.preventDefault()}else if(window.navigator.msPointerEnabled||s.touches.length===1){r.pause();o=l?r.h:r.w;a=Number(new Date);d=s.touches[0].pageX;v=s.touches[0].pageY;i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=l?v:d;n=l?d:v;t.addEventListener("touchmove",y,false);t.addEventListener("touchend",b,false)}}function y(t){d=t.touches[0].pageX;v=t.touches[0].pageY;u=l?e-v:e-d;f=l?Math.abs(u)<Math.abs(d-n):Math.abs(u)<Math.abs(v-n);var s=500;if(!f||Number(new Date)-a>s){t.preventDefault();if(!p&&r.transitions){if(!r.vars.animationLoop){u=u/(r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1)}r.setProps(i+u,"setTouch")}}}function b(s){t.removeEventListener("touchmove",y,false);if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var l=c?-u:u,h=l>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(l)>50||Math.abs(l)>o/2)){r.flexAnimate(h,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}t.removeEventListener("touchend",b,false);e=null;n=null;u=null;i=null}}else{t.style.msTouchAction="none";t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",w,false);t._slider=r;t.addEventListener("MSGestureChange",E,false);t.addEventListener("MSGestureEnd",S,false);function w(e){e.stopPropagation();if(r.animating){e.preventDefault()}else{r.pause();t._gesture.addPointer(e.pointerId);m=0;o=l?r.h:r.w;a=Number(new Date);i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o}}function E(e){e.stopPropagation();var n=e.target._slider;if(!n){return}var r=-e.translationX,s=-e.translationY;m=m+(l?s:r);u=m;f=l?Math.abs(m)<Math.abs(-r):Math.abs(m)<Math.abs(-s);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){t._gesture.stop()});return}if(!f||Number(new Date)-a>500){e.preventDefault();if(!p&&n.transitions){if(!n.vars.animationLoop){u=m/(n.currentSlide===0&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/o+2:1)}n.setProps(i+u,"setTouch")}}}function S(t){t.stopPropagation();var r=t.target._slider;if(!r){return}if(r.animatingTo===r.currentSlide&&!f&&!(u===null)){var s=c?-u:u,l=s>0?r.getTarget("next"):r.getTarget("prev");if(r.canAdvance(l)&&(Number(new Date)-a<550&&Math.abs(s)>50||Math.abs(s)>o/2)){r.flexAnimate(l,r.vars.pauseOnAction)}else{if(!p)r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,true)}}e=null;n=null;u=null;i=null;m=0}}},resize:function(){if(!r.animating&&r.is(":visible")){if(!h)r.doMath();if(p){v.smoothHeight()}else if(h){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(l){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{if(r.vars.smoothHeight)v.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!l||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,false,true);break;case"play":if(!n.playing&&!n.asNav){n.play()}break;case"pause":n.pause();break}},uniqueID:function(t){t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")});return t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)v.pauseInvisible.visProp=e[t]+"Hidden"}if(v.pauseInvisible.visProp){var n=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){if(v.pauseInvisible.isHidden()){if(r.startTimeout)clearTimeout(r.startTimeout);else r.pause()}else{if(r.started)r.play();else r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()}})}},isHidden:function(){return document[v.pauseInvisible.visProp]||false}},setToClearWatchedEvent:function(){clearTimeout(f);f=setTimeout(function(){a=""},3e3)}};r.flexAnimate=function(t,n,s,u,a){if(!r.vars.animationLoop&&t!==r.currentSlide){r.direction=t>r.currentSlide?"next":"prev"}if(d&&r.pagingCount===1)r.direction=r.currentItem<t?"next":"prev";if(!r.animating&&(r.canAdvance(t,a)||s)&&r.is(":visible")){if(d&&u){var f=e(r.vars.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;f.flexAnimate(t,true,false,true,a);r.direction=r.currentItem<t?"next":"prev";f.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1!==r.currentSlide&&t!==0){r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");t=Math.floor(t/r.visible)}else{r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");return false}}r.animating=true;r.animatingTo=t;if(n)r.pause();r.vars.before(r);if(r.syncExists&&!a)v.sync("animate");if(r.vars.controlNav)v.controlNav.active();if(!h)r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");r.atEnd=t===0||t===r.last;if(r.vars.directionNav)v.directionNav.update();if(t===r.last){r.vars.end(r);if(!r.vars.animationLoop)r.pause()}if(!p){var m=l?r.slides.filter(":first").height():r.computedW,g,y,b;if(h){g=r.vars.itemMargin;b=(r.itemW+g)*r.move*r.animatingTo;y=b>r.limit&&r.visible!==1?r.limit:b}else if(r.currentSlide===0&&t===r.count-1&&r.vars.animationLoop&&r.direction!=="next"){y=c?(r.count+r.cloneOffset)*m:0}else if(r.currentSlide===r.last&&t===0&&r.vars.animationLoop&&r.direction!=="prev"){y=c?0:(r.count+1)*m}else{y=c?(r.count-1-t+r.cloneOffset)*m:(t+r.cloneOffset)*m}r.setProps(y,"",r.vars.animationSpeed);if(r.transitions){if(!r.vars.animationLoop||!r.atEnd){r.animating=false;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(m)})}else{r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(m)})}}else{if(!o){r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing);r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.wrapup(m)}}if(r.vars.smoothHeight)v.smoothHeight(r.vars.animationSpeed)}};r.wrapup=function(e){if(!p&&!h){if(r.currentSlide===0&&r.animatingTo===r.last&&r.vars.animationLoop){r.setProps(e,"jumpEnd")}else if(r.currentSlide===r.last&&r.animatingTo===0&&r.vars.animationLoop){r.setProps(e,"jumpStart")}}r.animating=false;r.currentSlide=r.animatingTo;r.vars.after(r)};r.animateSlides=function(){if(!r.animating&&m)r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.animatedSlides=null;r.playing=false;if(r.vars.pausePlay)v.pausePlay.update("play");if(r.syncExists)v.sync("pause")};r.play=function(){if(r.playing)clearInterval(r.animatedSlides);r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed);r.started=r.playing=true;if(r.vars.pausePlay)v.pausePlay.update("pause");if(r.syncExists)v.sync("play")};r.stop=function(){r.pause();r.stopped=true};r.canAdvance=function(e,t){var n=d?r.pagingCount-1:r.last;return t?true:d&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?true:d&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?false:e===r.currentSlide&&!d?false:r.vars.animationLoop?true:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?false:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?false:true};r.getTarget=function(e){r.direction=e;if(e==="next"){return r.currentSlide===r.last?0:r.currentSlide+1}else{return r.currentSlide===0?r.last:r.currentSlide-1}};r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(h){return t==="setTouch"?e:c&&r.animatingTo===r.last?0:c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n}else{switch(t){case"setTotal":return c?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return c?e:e;case"jumpEnd":return c?e:r.count*e;case"jumpStart":return c?r.count*e:e;default:return e}}}();return i*-1+"px"}();if(r.transitions){i=l?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n);r.container.css("transition-duration",n)}r.args[r.prop]=i;if(r.transitions||n===undefined)r.container.css(r.args);r.container.css("transform",i)};r.setup=function(t){if(!p){var n,s;if(t==="init"){r.viewport=e('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(c){s=e.makeArray(r.slides).reverse();r.slides=e(s);r.container.empty().append(r.slides)}}if(r.vars.animationLoop&&!h){r.cloneCount=2;r.cloneOffset=1;if(t!=="init")r.container.find(".clone").remove();v.uniqueID(r.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(r.container);v.uniqueID(r.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(r.container)}r.newSlides=e(r.vars.selector,r);n=c?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(l&&!h){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.newSlides.css({width:r.computedW,"float":"left",display:"block"});r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});if(r.vars.smoothHeight)v.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(t==="init"){if(!o){r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)}else{r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2})}}if(r.vars.smoothHeight)v.smoothHeight()}if(!h)r.slides.removeClass(i+"active-slide").eq(r.currentSlide).addClass(i+"active-slide");r.vars.init(r)};r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=r.viewport===undefined?r.width():r.viewport.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(h){r.itemT=r.vars.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=i?i*r.itemT-t:r.w;r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth;r.visible=Math.floor(r.w/r.itemW);r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!h){if(e<r.currentSlide){r.currentSlide+=1}else if(e<=r.currentSlide&&e!==0){r.currentSlide-=1}r.animatingTo=r.currentSlide}if(r.vars.controlNav&&!r.manualControls){if(t==="add"&&!h||r.pagingCount>r.controlNav.length){v.controlNav.update("add")}else if(t==="remove"&&!h||r.pagingCount<r.controlNav.length){if(h&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}v.controlNav.update("remove",r.last)}}if(r.vars.directionNav)v.directionNav.update()};r.addSlide=function(t,n){var i=e(t);r.count+=1;r.last=r.count-1;if(l&&c){n!==undefined?r.slides.eq(r.count-n).after(i):r.container.prepend(i)}else{n!==undefined?r.slides.eq(n).before(i):r.container.append(i)}r.update(n,"add");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;if(isNaN(t)){e(t,r.slides).remove()}else{l&&c?r.slides.eq(r.last).remove():r.slides.eq(t).remove()}r.doMath();r.update(n,"remove");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.removed(r)};v.init()};e(window).blur(function(e){focused=false}).focus(function(e){focused=true});e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:false,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};e.fn.flexslider=function(t){if(t===undefined)t={};if(typeof t==="object"){return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1&&t.allowOneSlide===true||i.length===0){i.fadeIn(400);if(t.start)t.start(n)}else if(n.data("flexslider")===undefined){new e.flexslider(this,t)}})}else{var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),true);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),true);break;default:if(typeof t==="number")n.flexAnimate(t,true)}}}})(jQuery);(function(){var e,t;e=this.jQuery;t=e(window);e.fn.stick_in_parent=function(n){var r,i,s,o,u,a,f;null==n&&(n={});o=n.sticky_class;r=n.inner_scrolling;s=n.parent;i=n.offset_top;null==i&&(i=0);null==s&&(s=void 0);null==r&&(r=!0);null==o&&(o="is_stuck");u=function(n,u,a,f,l,c,h){var p,d,v,g,y,w,E,S,x,T;if(!n.data("sticky_kit")){n.data("sticky_kit",!0);w=n.parent();null!=s&&(w=w.closest(s));if(!w.length)throw"failed to find stick parent";p=v=!1;x=e("<div />");x.css("position",n.css("position"));E=function(){var e,t;e=parseInt(w.css("border-top-width"),10);t=parseInt(w.css("padding-top"),10);u=parseInt(w.css("padding-bottom"),10);a=w.offset().top+e+t;f=w.height();e=v?(v=!1,p=!1,n.insertAfter(x).css({position:"",top:"",width:"",bottom:""}),x.detach(),!0):void 0;l=n.offset().top-parseInt(n.css("margin-top"),10)-i;c=n.outerHeight(!0);h=n.css("float");x.css({width:n.outerWidth(!0),height:c,display:n.css("display"),"vertical-align":n.css("vertical-align"),"float":h});if(e)return T()};E();if(c!==f)return g=void 0,y=i,T=function(){var e,s,d,b;d=t.scrollTop();null!=g&&(s=d-g);g=d;v?(b=d+c+y>f+a,p&&!b&&(p=!1,n.css({position:"fixed",bottom:"",top:y}).trigger("sticky_kit:unbottom")),d<l&&(v=!1,y=i,"left"!==h&&"right"!==h||n.insertAfter(x),x.detach(),e={position:"",width:"",top:""},n.css(e).removeClass(o).trigger("sticky_kit:unstick")),r&&(e=t.height(),c>e&&!p&&(y-=s,y=Math.max(e-c,y),y=Math.min(i,y),v&&n.css({top:y+"px"})))):d>l&&(v=!0,e={position:"fixed",top:y},e.width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(e).addClass(o).after(x),"left"!==h&&"right"!==h||x.append(n),n.trigger("sticky_kit:stick"));if(v&&(null==b&&(b=d+c+y>f+a),!p&&b))return p=!0,"static"===w.css("position")&&w.css({position:"relative"}),n.css({position:"absolute",bottom:u,top:"auto"}).trigger("sticky_kit:bottom")},S=function(){E();return T()},d=function(){t.off("scroll",T);e(document.body).off("sticky_kit:recalc",S);n.off("sticky_kit:detach",d);n.removeData("sticky_kit");n.css({position:"",bottom:"",top:""});w.position("position","");if(v)return n.insertAfter(x).removeClass(o),x.remove()},t.on("touchmove",T),t.on("scroll",T),t.on("resize",S),e(document.body).on("sticky_kit:recalc",S),n.on("sticky_kit:detach",d),setTimeout(T,0)}};a=0;for(f=this.length;a<f;a++)n=this[a],u(e(n));return this}}).call(this);(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var s={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",s):e.eventie=s}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,r){return t(e,n,r)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return"[object Array]"===h.call(e)}function s(e){var t=[];if(i(e))t=e;else if("number"==typeof e.length)for(var n=0,r=e.length;r>n;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,n){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),f&&(this.jqDeferred=new f.Deferred);var i=this;setTimeout(function(){i.check()})}function u(e){this.img=e}function a(e){this.src=e,p[e]=this}var f=e.jQuery,l=e.console,c=l!==void 0,h=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var r=n.querySelectorAll("img"),i=0,s=r.length;s>i;i++){var o=r[i];this.addImage(o)}}},o.prototype.addImage=function(e){var t=new u(e);this.images.push(t)},o.prototype.check=function(){function e(e,i){return t.options.debug&&c&&l.log("confirm",e,i),t.progress(e),n++,n===r&&t.complete(),!0}var t=this,n=0,r=this.images.length;if(this.hasAnyBroken=!1,!r)return this.complete(),void 0;for(var i=0;r>i;i++){var s=this.images[i];s.on("confirm",e),s.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},f&&(f.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(f(this))}),u.prototype=new t,u.prototype.check=function(){var e=p[this.img.src]||new a(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return a.prototype=new t,a.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},a.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},a.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},a.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},o});(function(e){"use strict";var t={action:function(){},runOnLoad:false,duration:500};var n=t,r=false,i;var s={};s.init=function(){for(var t=0;t<=arguments.length;t++){var r=arguments[t];switch(typeof r){case"function":n.action=r;break;case"boolean":n.runOnLoad=r;break;case"number":n.duration=r;break}}return this.each(function(){if(n.runOnLoad){n.action()}e(this).resize(function(){s.timedAction.call(this)})})};s.timedAction=function(e,t){var s=function(){var e=n.duration;if(r){var t=new Date-i;e=n.duration-t;if(e<=0){clearTimeout(r);r=false;n.action();return}}o(e)};var o=function(e){r=setTimeout(s,e)};i=new Date;if(typeof t==="number"){n.duration=t}if(typeof e==="function"){n.action=e}if(!r){s()}};e.fn.afterResize=function(e){if(s[e]){return s[e].apply(this,Array.prototype.slice.call(arguments,1))}else{return s.init.apply(this,arguments)}}})(jQuery);$.fn.equalHeights=function(e,t){tallest=e?e:0,this.each(function(){$(this).height()>tallest&&(tallest=$(this).height())}),t&&tallest>t&&(tallest=t);return this.each(function(){$(this).height(tallest)})};(function(e){var t=[],n;getViewportDimensions=function(){var t=window.innerHeight,n=window.innerWidth,r=document.compatMode;if(r||!e.support.boxModel)n=r=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth,t=r=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight;return{height:t,width:n}},elementInView=function(t){var n=e(t).width(),r=e(t).height(),i=e(t).offset(),s=getViewportDimensions(),o=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,u=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;return i.top<o+s.height&&i.left<u+s.width&&i.top+r>o&&i.left+n>u},replaceLaterHtml=function(t){var n=e(t),r=n.html(),i=n.data("delay")||1;r=r.replace(/<l:script/g,"<script"),r=r.replace(/<\/[\s]*l:script>/g,"</script>"),setTimeout(function(){removeWrapper(n).replaceWith(r)},i)},removeWrapper=function(t){var n=e(t),r=n.parent(".x_later_html");r.length&&n.unwrap().siblings(".x_later_html_remove").remove();return n},e.fn.laterHtml=function(){var r=this.each(function(){var n=e(this);if(n.data("inview")){var r,i;n.wrap('<div class="x_later_html" />');var s=n.parent(".x_later_html");(r=n.data("placeholder-width"))&&s.width(r),(i=n.data("placeholder-height"))&&s.height(i),elementInView(s[0])?replaceLaterHtml(n):(s.prepend('<span class="x_later_html_remove">&nbsp;</span>'),t.push(n))}else replaceLaterHtml(this)});t.length&&(n=t.length,e(window).bind("scroll.xLaterHtml",function(){var r,s;for(i=0;i<t.length;i++)r=t[i][0],s=e(r).parent(".x_later_html"),s.length&&elementInView(s[0])&&(replaceLaterHtml(r),t[i][0]=null,n--);n<=0&&(e(window).unbind(".xLaterHtml"),t=[])}));return r},e(function(){e('script[type="text/x-later-html"]').laterHtml()})})(jQuery);(function(e){e.fn.jqSocialSharer=function(t){var n=e.extend({popUpWidth:550,popUpHeight:450,popUpTop:100,useCurrentLocation:false},t);return this.each(function(t,r){e(this).bind("click",function(t){t.preventDefault();var r=e(this).data("social"),i=n.popUpWidth,s=n.popUpHeight,o=screen.height,u=screen.width,a=Math.round(u/2-i/2),f=n.popUpTop,l,c=n.useCurrentLocation,h=c?window.location:encodeURIComponent(r.url),p=r.text,d=encodeURIComponent(r.image);switch(r.type){case"facebook":l="http://www.facebook.com/sharer.php?u="+h+"&t="+p;break;case"twitter":l="http://twitter.com/share?url="+h+"&text="+p;break;case"plusone":l="https://plusone.google.com/_/+1/confirm?hl=en&url="+h;break;case"pinterest":l="http://pinterest.com/pin/create/button/?url="+h+"&media="+d+"&description="+p;break}window.open(l,"","left="+a+" , top="+f+", width="+i+", height="+s+", personalbar=0, toolbar=0, scrollbars=1, resizable=1")})})}})(jQuery);mainMenuPreloaded=false;!function(e){function t(e){var t=[[60,"just now"],[90,"1 minute"],[3500,"minutes",60],[5400,"1 hour"],[86400,"hours",3600],[129600,"1 day"],[604800,"days",86400],[907200,"1 week"],[2628e3,"weeks",604800],[3942e3,"1 month"],[31536e3,"months",2628e3],[47304e3,"1 year"],[31536e5,"years",31536e3],[47304e5,"1 century"]];var n=(""+e).replace(/-/g,"/").replace(/[TZ]/g," "),r=new Date,i=(r-new Date(n)+r.getTimezoneOffset()*6e4)/1e3-18e3,s=" ago",o=0,u;if(i<0){i=Math.abs(i);s=""}while(u=t[o++]){if(i<u[0]){if(u.length==2){return u[1]+(o>1?s:"")}else{return Math.round(i/u[2])+" "+u[1]+(o>1?s:"")}}}if(i>47304e5)return Math.round(i/47304e5)+" Centuries"+s;return e}function r(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"}function i(e){var t=e+"=";var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}function s(e){r(e,"",-1)}function o(t){var n=e(window).scrollTop();var r=n+e(window).height();var i=e(t).offset().top;var s=i+e(t).height();return s<=r&&i>=n}function u(t){var n=e(window).scrollTop();var r=n+e(window).height();var i=e(t).offset().top;var s=i+e(t).height();return s<=r}e.fn.prettyDate=function(){return this.each(function(){var e=t(this.title);if(e)jQuery(this).text(e)})};var n=function(){var t=e("article .article-content time span[title]","#news_container");t=t.add(e(".comment cite time a[title]","#div_comments"));if(t.length){t.prettyDate();setTimeout("showPrettyDates()",3e4)}};window.showPrettyDates=n;window.createCookie=r;window.readCookie=i;window.eraseCookie=s;var a=e(document);var f={browser:{bot:/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)}};var l={init:function(){function n(e){e.preventDefault();return false}function i(){function t(t){var n=e("#"+t),r='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/follow_button.html?screen_name=techspot&show_count=false" style="width:70px; height:20px;"></iframe>';n.html(r)}e(".socialrow.fb .WidgetArea").html('<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Ftechspot&send=false&layout=button_count&width=100&show_faces=false&locale=en_US&action=like&colorscheme=light&font=arial&height=21&appId=216891305041073" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; margin: 0px 9px 0px 0px; float:left; height:21px;" allowTransparency="true"></iframe>');gapi.plusone.go();(function(){var e=document.createElement("SCRIPT");var t=document.getElementsByTagName("script")[0];e.type="text/javascript";e.defer="defer";e.async=true;e.src="http://platform.twitter.com/widgets.js";t.parentNode.insertBefore(e,t)})();t("twFollowBtn")}var t=this;e(".btnShare").jqSocialSharer();e(".espMobileMenu > li > a").click(function(e){n(e)});e(".espMobileLogin > li > a").prop("href","#Login");e(".espMobileLogin > li > a").click(function(e){n(e)});var r=0;if(e(window).width()<760){e(".login > a").click(function(t){e(this).parent().toggleClass("hover");n(t)});e(".group > a").click(function(t){e(this).parent().toggleClass("hover");n(t)});e(".search > a").click(function(t){e(this).parent().toggleClass("hover");n(t)});e(document,"#header-ts").mouseup(function(t){var n=e(".login");if(!n.is(t.target)&&n.has(t.target).length===0){n.removeClass("hover")}var r=e(".group");if(!r.is(t.target)&&r.has(t.target).length===0){r.removeClass("hover")}var i=e(".search");if(!i.is(t.target)&&i.has(t.target).length===0){i.removeClass("hover")}})}else{e(".login > a").click(function(t){window.location.href=e(this).attr("href")});e(".login").mouseenter(function(){e(this).addClass("hover")});e(".login").mouseleave(function(){e(this).removeClass("hover")});e(".group").mouseenter(function(){e(this).addClass("hover");if(r==0){i()}r=1});e(".group").mouseleave(function(){e(this).removeClass("hover")});e(".search").mouseenter(function(){e(this).addClass("hover")});e(".search").mouseleave(function(){e(".Val").removeClass("hover")});window.setInterval(function(){if(!e("#search_field").val()){e(".search").addClass("Val")}else{e(".search").removeClass("Val");e(document).mouseup(function(t){var n=e(".search");if(!n.is(t.target)&&n.has(t.target).length===0){n.addClass("Val").removeClass("hover");e("#search_field").val("")}})}},10)}e(".rating_bar").each(function(t){e(this).css("width",e(this).data("score")+"%")});e("#header-ts .header-top .right-links ul li.social.search").hover(function(){setTimeout(function(){e("#search_field").focus()},0)});e(".localScroll").click(function(t){t.preventDefault();var n=e.isNumeric(e(this).data("speed"))?e(this).data("speed"):2e3;e("html, body").animate({scrollTop:e(this.hash).offset().top},n)});e("#Stripes").parent().click(function(t){t.preventDefault();var n=e("#GlobalWrapper");if(n.children("#header-ts").hasClass("activebar")){n.removeClass("WrapperLayering");e("#Stripes").parent("a").removeClass("CoverEntirePage");setTimeout(function(){n.parent().children("#Mobileheader").removeClass("MenuLayering");n.parent().children("#Mobileheader").hide(0)},500)}else{n.parent().children("#Mobileheader").show();n.parent().children("#Mobileheader").addClass("MenuLayering");n.addClass("WrapperTrans");setTimeout(function(){e("#Stripes").parent("a").addClass("CoverEntirePage");n.addClass("WrapperLayering")},500)}n.children().addClass("flyout");n.children().toggleClass("activebar")});e("#masthead ul.variation-1").parent().parent().addClass("SmallHead");e("#masthead ul.variation-2").parent().parent().addClass("SmallHead");e("#masthead ul.variation-3").parent().parent().addClass("SmallHead");e("#masthead ul.variation-4").parent().parent().addClass("BigHead");e("#masthead ul.variation-5").parent().parent().addClass("BigHead");e("#masthead ul.variation-5a").parent().parent().addClass("SmallHead");e(".blink").each(function(){var t=e(this);setInterval(function(){if(t.css("visibility")=="hidden"){t.css("visibility","visible")}else{t.css("visibility","hidden")}},1200)});e("body.article section.title-group").click(function(t){e(this).toggleClass("centered")});e(".SideToggle").click(function(t){if(e(this).attr("href")=="#")t.preventDefault();e(this).parent("li").toggleClass("open")});e(".imgwrap").flexslider({animation:"slide",start:function(){e(".imgwrap .slides li").removeClass("hidden")}});e.ajaxSetup({cache:true});this.Login.init();this.Alerts.init();this.Search.init();if(e("#ts_section").length){var s=e("#ts_section").val();switch(s){case"index":case"top-stories":this.Home.init();break;case"story-preview":case"story":this.Story.init();break;case"downloads":case"download":case"download-preview":case"download_similar":this.DownloadsSection.init(s);break;case"drivers":case"driver":case"driver_essential":case"driver-preview":this.DriversSection.init(s);break;case"product-finder":case"pf_category":case"pf_product":this.ProductFinder.init(s);break;case"reviews":case"reviews_category":case"reviews_subcategory":case"review":case"review-preview":this.ReviewsSection.init(s);break;case"guides":case"guides_category":case"guides_subcategory":case"guide":case"article":this.FeaturesSection.init(s);break;case"gallery_by_review":this.Mediagallery.init(s);break}}},Slide:{init:function(){e(".slide-sort-selector ul li.active").ready(function(){e(".slide-sort-selector ul li.active").each(function(){var t=e(this).position();var n=e(this).outerWidth(false);var r=t.left+Math.floor(n/2)-3;e(this).parent("ul").children("li.indicator").css({left:r+"px"})})})},animate:function(e,t){e.preventDefault();var n=t.position();var r=t.outerWidth(false);var i=n.left+Math.floor(r/2)-3;t.parent().addClass("active").siblings().removeClass("active").closest("ul").children("li.indicator").animate({left:i+"px"},500,function(){})}},SocialColumn:{init:function(){e(window).load(function(){e("social-column").trigger("sticky_kit:recalc");e(window).resize(function(){e("social-column").trigger("sticky_kit:recalc")})});this.afterResize()},afterResize:function(){e(window).afterResize(function(){if(e(window).width()>760){e("body.article .social-column").css({height:e("#content-header").height()+e(".cta").height()+e(".articleBody").height()});e("body.news .social-column").css({height:e(".articleBody").height()-50});e(".scroll").stick_in_parent({parent:".social-column",offset_top:120})}else{e("body.article .social-column").css({height:35,"margin-bottom":25});e("body.news .social-column").css({height:35,"margin-bottom":25});e(".scroll").trigger("sticky_kit:detach")}},true,100)}},Login:{init:function(){a.on("click","#bt_ts_login",function(t){t.preventDefault();e.ajax({type:"POST",url:"/index.php?action=dologin",data:{lusername:e("#ts_login").val(),lpassword:e("#ts_password").val()},success:function(t){if(t=="error"){e("#ts_login").focus();e("#ts_login_error").fadeIn(500).delay(5e3).fadeOut(500)}else{window.location.href=window.location.href}},error:function(e){alert("An error occurred, please try again.")}})})}},Alerts:{init:function(){window.refreshAlerts=true;a.on("mouseenter",".login .loggedin",function(){var t=e("#alerts_list");var n=e("#alerts_loading");if(!window.refreshAlerts)return false;e.ajax({global:false,url:"/community/account/alerts-popup",data:{_xfToken:window._xf_token||XenForo._csrfToken,_xfResponseType:"json"},beforeSend:function(){window.refreshAlerts=false;n.show();t.html("<p>Loading&hellip;</p>")},success:function(n){n.templateHtml=n.templateHtml.replace("\n","").replace("	","").trim();var r=e(n.templateHtml);var i;r.find("[src],[href]").each(function(){i=e(this).attr("src")?"src":"href";if(e(this).attr(i).indexOf("://")<0)e(this).attr(i,"/community/"+e(this).attr(i))});t.html(r)},complete:function(){n.hide();e("#alerts_count").fadeOut(300,function(){e(this).remove()})},error:function(){t.html("<p>An error ocurred.</p>")},dataType:"json"});setTimeout("window.refreshAlerts = true;",6e4)});a.on("click","#alerts_list .list_item",function(t){if(t.target.nodeName.toLowerCase()!="a")window.location=e(this).find("h3 a:last").attr("href")})}},Search:{_search:"",init:function(){var t=this;var n=e('<input autofocus="autofocus" type="text" name="q" id="q" class="text" placeholder="what are you looking for?" value="" />');e(".search").mouseenter(function(){if(!t._search||typeof t._search==="undefined")t._search="";n.val(t._search);e(".search_form").append(n);n.focus()});e(".search").click(function(){n.focus()});e(".search").mouseleave(function(){t._search=n.val();n.remove()})}},Home:{_page:1,_news_type:"",_mode_news:"",_gaq:[],init:function(){var t=this;a.on("click","#read_more",function(e){e.preventDefault();t.loadNews("","",true)});l.Slide.init();e(".slide-sort-selector .post-type-selector li a").click(function(n){if(e(this).closest("li").hasClass("active"))return false;var r=e(this).attr("href").replace("#","");if(r=="/trending/"){location.href=r;return}else if(r=="trending")e(".slide-sort-selector .layout-selector").fadeOut(500);else e(".slide-sort-selector .layout-selector").fadeIn(500);t.loadNews(r,i("view_news"));l.Slide.animate(n,e(this));console.log(r);n.preventDefault()});e(".slide-sort-selector .layout-selector li a").click(function(n){if(e(this).closest("li").hasClass("active"))return false;var i=e(this).attr("href").replace("#","");r("view_news",i,365);t.loadNews("latest_news",i);l.Slide.animate(n,e(this))})},loadNews:function(t,r,i){var s=this;var o=e("#news_container");var u=e('<div class="loading">Loading</div>').fadeTo(0,.5);if(i){s._news_type="latest_news";e("#read_more").addClass("waiting");s._page++}else{s._page=1;s._news_type=typeof t=="undefined"?"latest_news":t;s._mode_news=typeof r=="undefined"?"headline":r;if(s._news_type=="latest_news")e("#read_more").show();else e("#read_more").hide();o.prepend(u)}if(s._gaq){var a=s._news_type;if(s._news_type=="latest_news"&&s._mode_news=="headline"){a+="_page_"+s._page}else if(s._news_type=="latest_news"&&s._mode_news=="full"){a+="_full"}s._gaq.push(["_trackPageview",window.location.pathname+"#"+a,"clicked"])}e.ajax({type:"POST",data:{mode_news:s._mode_news,news_type:s._news_type,page:s._page},url:"/index.php?action="+s._news_type,contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(t){alert("An error occurred, please try again.");e("#read_more").removeClass("waiting");u.remove()},success:function(t){if(i){e(".post-list article:last").addClass("next_page");e("#read_more").removeClass("waiting");o.append(t);e(".post-list article.next_page:last + article").addClass("new_page");e("html,body").animate({scrollTop:e(".next_page:last").next("article").offset().top-120},500)}else{u.remove();o.html(t)}if(s._mode_news=="full"&&s._news_type!="trending"){e(".comments-pager").removeClass("hidden");e("#read_more").addClass("hidden");o.addClass("fullview")}else if(s._news_type!="trending"){e("#read_more").removeClass("hidden");e(".comments-pager").removeClass("hidden");o.removeClass("fullview");if(s._page==5)e("#read_more").addClass("hidden")}if(s._news_type=="trending"){e("#read_more, .comments-pager").addClass("hidden");o.removeClass("fullview")}n()}})}},Story:{_page:1,_loading:false,_loadCommentsByHash:false,_comment_id:"",init:function(){function r(){var i=e("#numCom").val();var s={backgroundColor:"#fdfce5",border:"10px solid #fdfce5",marginLeft:"-10px"};if(t._page==1&&!t._loading&&i>0){var o=e("nav.page-nav.prev-next");if(t._loadCommentsByHash||o&&u(o)){e("#load_more").show().addClass("waiting");t._loading=true;e.ajax({type:"POST",data:{story_id:e("#story_id").val(),page:1},url:"/index.php?action=get-comments",success:function(o){e("#div_comments").append(o);t._page++;t._loading=false;e("#load_more").hide();if(i<=50)e("#load_more").hide();n();if(t._comment_id){if(t._comment_id.substring(9)>50){e("html,body").animate({scrollTop:e("#comment_50").offset().top-80},100);r()}else{e("html,body").animate({scrollTop:e(t._comment_id).offset().top-80},500);e(document).find(t._comment_id).css(s)}}}})}}else if(t._page==2&&!t._loading&&i>50){var o=e(".comment").eq(-10);if(t._loadCommentsByHash||o&&u(o)){e("#load_more").show().addClass("waiting");t._loading=true;e.ajax({type:"POST",data:{story_id:e("#story_id").val(),page:2},url:"/index.php?action=get-comments",success:function(r){e("#div_comments").append(r);t._page++;t._loading=false;e("#load_more").hide();n();if(t._comment_id&&t._comment_id.substring(9)>50){e("html,body").animate({scrollTop:e(t._comment_id).offset().top-80},500);e(document).find(t._comment_id).css(s)}}})}}}var t=this;l.SocialColumn.init();a.on("click","#mobComBut a",function(t){t.preventDefault();e("#comments").show();e("html,body").animate({scrollTop:e("#comments").offset().top-140},500);e(this).parent().parent("#mobComBut").hide()});if(window.location.hash=="#commentsOffset"&&e(window).width()<=768){e("#mobComBut a.ComBut").hide();e("#mobCom_load_more").show();window.onload=function(){e("#mobComBut a.ComBut").trigger("click")}}if(!f.browser.bot&&window.location.hash.substring(0,9)=="#comment_"){t._comment_id=window.location.hash;t._loadCommentsByHash=true;r()}e(window).scroll(function(){r()});this.init_comments()},init_comments:function(){function n(){if(e("#message").val().length>0){var t=e("#news_comments");var n=e("#post_new_comment");var r=n.text();story_table=false;if(e("#div_comments .comment").length<1){story_table=true;n_rows=0}else{n_rows=e("#div_comments .comment").length}n.find("span").html("&hellip;");n.attr("disabled","disabled");if(e("#thread_subscribe_email:checked").is(":checked"))watch_state="watch_email";else if(e("#thread_subscribe:checked").is(":checked"))watch_state="watch_no_email";else watch_state="";e.ajax({type:"POST",data:{message:e("#message").val(),category:e("#category").val(),urll:e("#urll").val(),story:e("#story").val(),ajax:true,watch_state:watch_state,row:n_rows,story_table:story_table,_xfToken:window._xf_token||XenForo._csrfToken},url:"/index.php?action=newpost",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){n.find("span").text(r);n.removeAttr("disabled");alert("An error occurred, please try again.")},success:function(t){t=e(t);n.find("span").text(r);n.removeAttr("disabled");e("#message").val("");o();if(e("#div_comments .comment").length<1){e("#comments").prepend(t)}else{e("#div_comments").append(t);n_comments=e("#n_comments").text();e("#n_comments").html(parseInt(n_comments)+1)}e("html,body").animate({scrollTop:t.offset().top-92},500);t.delay(500).fadeTo(500,1);var i=e('<p class="message">Comment added succesfully.</p>');i.hide();e("#message").before(i);i.delay(500).slideDown(500);if(e("#isSponsored").val()=="1"){tldr.click(tldr.CLICK_TYPE.comment)}}})}else{alert("Please insert a comment.")}}function o(){var t=e("#message");var n=e("#post_new_comment");var r=n.find("span");n.attr("data-text",n.text());t.attr("disabled","disabled");n.attr("disabled","disabled");r.html("Please wait <strong>15</strong>s&hellip;");s=14;i=setInterval("countDelay()",1e3)}function u(){var t=e("#message");var n=e("#post_new_comment");var r=n.find("strong");var o=n.find("span");if(s==0){e("#news_comments").find(".message").slideUp(500,function(){e(this).remove()});t.removeAttr("disabled");n.removeAttr("disabled");o.text(n.attr("data-text"));clearInterval(i);return}r.text(s);s--}var t=this;window.insertNewsComment=n;var i,s;window.countDelay=u;a.on("change","#thread_subscribe",function(t,n){var i=e(this).is(":checked");if(!i){r("subscribe_on_post","no",365);e("#thread_subscribe_email").removeAttr("checked").attr("disabled","disabled")}else{r("subscribe_on_post","yes",365);e("#thread_subscribe_email").attr("checked","checked").removeAttr("disabled")}});a.on("change","#thread_subscribe_email",function(){var t=e(this).is(":checked");r("subscribe_email_notification",t?"yes":"no",365)});a.on("change","#thread_subscribe_email",function(){var t=e(this).is(":checked");r("subscribe_email_notification",t?"yes":"no",365)});a.on("click",".opt_reply",function(t){t.preventDefault();post_id=e(this).attr("id").substring(6);e.ajax({type:"POST",url:"/index.php?action=reply",data:{post_id:post_id},success:function(t){msg=e("#message").val()+t;e("#message").val(msg);e("#message").focus()},error:function(e){alert("An error occurred, please try again.")}})});a.on("click",".opt_like",function(t){t.preventDefault();post_id=e(this).attr("id").substring(5);post_n=e(this).attr("href").substring(9);var n=e(this);var r=n.html();e.ajax({type:"POST",url:"/index.php?action=like",data:{post_id:post_id,story:e("#story").val(),type:r,post_n:post_n},success:function(e){el_like=n.closest("div.comment").find(".comment_likes");el_like.html(e);if(n.html()=="Like")n.html("Unlike");else n.html("Like");el_like.fadeOut(0).delay(100).fadeIn(500)},error:function(e){alert("An error occurred, please try again.")}})})}},DownloadsSection:{init:function(e){switch(e){case"downloads":this.Dw_Home.init();break;case"download":case"download-preview":case"download_similar":this.Download.init();break}},Dw_Home:{_page:1,_sort:"date",init:function(){var t=this;e("#more_downloads").click(function(e){e.preventDefault();t.loadDownloads("",true)})},loadDownloads:function(t,n){var r=this;var i=e("#downloads_list");var s=e('<div class="loading">Loading</div>').fadeTo(0,.5);if(n){r._page++;e("#more_downloads").addClass("waiting")}else{r._page=1;r._sort=typeof t=="undefined"?"date":t;i.prepend(s)}e.ajax({type:"POST",data:{sort:r._sort,page:r._page},url:"/downloads.php?action=downloads",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(t){alert("An error occurred, please try again.");e("#more_downloads").removeClass("waiting");s.remove()},success:function(t){if(n){i.find(".li_download:last").addClass("next_page");e("#more_downloads").removeClass("waiting");i.append(t);i.find(".next_page:last").next(".li_download").addClass("new_page");if(i.find(".new_page:last").length>0)e("html,body").animate({scrollTop:i.find(".new_page:last").offset().top-120},500)}else{s.remove();i.html(t)}if(r._page==3){e(".post-load-more").addClass("hidden")}}})}},Download:{description_loaded:false,similars_loaded:false,init:function(){var t=this;l.Slide.init();if(e("#ts_section").length&&e("#ts_section").val()=="download_similar")this.similars_loaded=true;else this.description_loaded=true;e(".slide-sort-selector .post-type-selector li a").click(function(n){n.preventDefault();var r=e(this).parent().attr("slider");e(this).closest("article").find(".ps-item").addClass("hide");e(this).closest("article").find("#"+r).removeClass("hide");if(e(this).closest("li").hasClass("active"))return false;if(e(this).closest("li").attr("id")=="similar-soft"){e("#sim-soft").removeClass("hidden");e("#pub-desc").addClass("hidden");if(!t.similars_loaded){e.ajax({type:"POST",data:{id:e("#download_id").val()},url:"/downloads.php?action=similars",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){alert("An error occurred, please try again.")},success:function(n){e("#sim-soft ul").html(n);t.similars_loaded=true}})}}else if(e(this).closest("li").attr("id")=="pub-description"){e("#pub-desc").removeClass("hidden");e("#sim-soft").addClass("hidden");if(!t.description_loaded){e.ajax({type:"POST",data:{id:e("#download_id").val()},url:"/downloads.php?action=description",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){alert("An error occurred, please try again.")},success:function(n){e("#pub-desc").html(n);t.description_loaded=true}})}}else if(e(this).closest("li").attr("id")=="similar-download"){location.href=e(this).attr("href")}l.Slide.animate(n,e(this))});e("#dw_vote").click(function(t){t.preventDefault();vote=e("#vote").val();if(vote>=1&&vote<=5){e.ajax({type:"POST",url:"/downloads.php?action=vote",data:{id:e("#download_id").val(),vote:vote},success:function(t){el=e("#userRating");if(e(t).filter("#msgVote").hasClass("voteError")){el.append(e(t).filter("#msgVote"))}else{el.html(t);el.fadeOut(0).delay(100).fadeIn(500)}},error:function(e){alert("An error occurred, please try again.")}})}else{html="<div id='msgVote' class='voteError'>Please select your rating.</div>";el=e("#userRating");console.log(el.find(".voteError").length);if(el.find(".voteError").length>0)el.find(".voteError").replaceWith(html);else el.append(html)}});e("#download_open_options").click(function(t){t.preventDefault();e(".download_options").animate({"background-color":"#F4CF0F"},{duration:250}).animate({"background-color":"#fff6b3"},{duration:250})})}}},DriversSection:{init:function(e){switch(e){case"drivers":this.Dr_Home.init();break;case"driver":case"driver_essential":case"driver-preview":this.Driver.init();break}},Dr_Home:{_page:1,_sort:"date",init:function(){var t=this;e("#more_drivers").click(function(e){e.preventDefault();t.loadDrivers("",true)})},loadDrivers:function(t,n){var r=this;var i=e("#downloads_list");var s=e('<div class="loading">Loading</div>').fadeTo(0,.5);if(n){r._page++;e("#more_drivers").addClass("waiting")}else{r._page=1;r._sort=typeof t=="undefined"?"date":t;i.prepend(s)}e.ajax({type:"POST",data:{sort:r._sort,page:r._page},url:"/driverController.php?action=drivers",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(t){alert("An error occurred, please try again.");e("#more_drivers").removeClass("waiting");s.remove()},success:function(t){if(n){i.find(".li_download:last").addClass("next_page");e("#more_drivers").removeClass("waiting");i.append(t);i.find(".next_page:last").next(".li_driver").addClass("new_page");if(i.find(".new_page:last").length>0)e("html,body").animate({scrollTop:i.find(".new_page:last").offset().top-120},500)}else{s.remove();i.html(t)}if(r._page==3){e(".post-load-more").addClass("hidden")}}})}},Driver:{description_loaded:false,similars_loaded:true,init:function(){var t=this;e(".download-product .see_related a").click(function(t){t.preventDefault();e(".slide-sort-selector .post-type-selector li#similar-soft a").trigger("click");e("html,body").animate({scrollTop:e(".slide-sort-selector .post-type-selector li#similar-soft a").offset().top-80},500)});l.Slide.init();if(e("#ts_section").length&&e("#ts_section").val()=="driver_similar")this.similars_loaded=true;else this.description_loaded=true;e(".slide-sort-selector .post-type-selector li a").click(function(n){n.preventDefault();var r=e(this).parent().attr("slider");e(this).closest("article").find(".ps-item").addClass("hide");e(this).closest("article").find("#"+r).removeClass("hide");if(e(this).closest("li").hasClass("active"))return false;if(e(this).closest("li").attr("id")=="similar-soft"){e("#sim-soft").removeClass("hidden");e("#pub-desc").addClass("hidden");if(!t.similars_loaded){e.ajax({type:"POST",data:{id:e("#driver_id").val()},url:"/driver.php?action=similars",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){alert("An error occurred, please try again.")},success:function(n){e("#sim-soft ul").html(n);t.similars_loaded=true}})}}else if(e(this).closest("li").attr("id")=="pub-description"){e("#pub-desc").removeClass("hidden");e("#sim-soft").addClass("hidden");if(!t.description_loaded){e.ajax({type:"POST",data:{id:e("#driver_id").val()},url:"/driverController.php?action=description",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){alert("An error occurred, please try again.")},success:function(n){e("#pub-desc").html(n);t.description_loaded=true}})}}l.Slide.animate(n,e(this))});e("#download_open_options").click(function(t){t.preventDefault();e(".download_options").animate({"background-color":"#F4CF0F"},{duration:250}).animate({"background-color":"#fff6b3"},{duration:250})})}}},ProductFinder:{init:function(e){switch(e){case"product-finder":this.PF_Home.init();this.ProductsFilter.init();break;case"pf_category":this.Category.init();this.ProductsFilter.init();break;case"pf_product":this.Product.init();break}},ProductsFilter:{init:function(){var t=this;this.sendFilterTimer=null;this.products_page=1;var n=e("#AddFilter");e("#go_back_search").click(function(t){t.preventDefault();e("#productsearch").val("");e(".ProdSearch").val("");e("#form_search").trigger("submit")});e("#form_search").submit(function(r){r.preventDefault();e("#productsearch").val(e("#form_search .ProdSearch").val());t.form_search(n,e("#form_search .ProdSearch"))});e("#form_search_mobil").submit(function(r){r.preventDefault();e("#productsearch").val(e("#form_search_mobil .ProdSearch").val());t.form_search(n,e("#form_search_mobil .ProdSearch"))});e("#load_more").click(function(n){n.preventDefault();t.products_page++;if(t.products_page>=5)e(this).hide();e(this).addClass("waiting");t.loadProducts(1,false,function(){e("#load_more").removeClass("waiting")})})},form_search:function(t,n){var r=this;t.find(".active").removeClass("active");if(n.val()!=""){e(".ListHeader h3").text("Search Results for: "+n.val());e(".comments-pager").hide()}else{e(".ListHeader h3").text(e(".ListHeader h3").data("text"));e(".comments-pager").show()}r.products_page=1;r.loadProducts(1)},loadProducts:function(t,n,r){var i=this;n=n==undefined?true:n;t=t||500;clearTimeout(this.sendFilterTimer);this.sendFilterTimer=setTimeout(function(){var t=e(".post-list-product");var s=e(".active input, .active select",this.context);if(e("#productsearch").val()!=""){e(".sorter").hide();s=s.add(e("#productsearch"))}else{e(".sorter").show()}if(e("#subcategories").val()!="")s=s.add(e("#subcategories"));if(e("#sort").val()!="")s=s.add(e("#sort"));var o=s.serialize();o+=(o.length?"&":"")+"page="+i.products_page;var u=e('<div class="loading">Loading</div>').fadeTo(0,.5);var a="";if(e("#ts_section").length&&e("#ts_section").val()=="product-finder")if(e("#productsearch").val()!="")var a="?action=pf_search";e.ajax({url:document.URL+a,data:o,beforeSend:function(){t.append(u);if(i.products_page==1)e("#load_more").show()},success:function(r){r=e.trim(r);var i=!!r.length;if(n)t.html(r);else t.append(r);if(e(r).filter("article").length<20)e("#load_more").hide();e("#results_message").toggleClass("hidden",i)},complete:function(){u.remove();r&&r.call()},dataType:"html"})},t)}},PF_Home:{init:function(){e(".products .post-list-product article:nth-child(even)").addClass("alternate")}},Category:{init:function(){e(".products .post-list-product article:nth-child(even)").addClass("alternate")}},Product:{init:function(){var t=this;this.reviews_page=1;this.reviews_type="all";e("ul","#pros_cons").equalHeights();e(".expand","#pros_cons").click(function(t){t.preventDefault();var n=e("#pros_cons");n.toggleClass("collapsed");e("ul",n).css("height","auto").equalHeights();var r=e(this).text();e(this).text(e(this).data("alt-label"));e(this).data("alt-label",r);e("html,body").animate({scrollTop:e("#pros_cons").offset().top-15},500)});e("#load_more").click(function(n){n.preventDefault();t.reviews_page++;if(t.reviews_page>=5)e(this).hide();e("#load_more").addClass("waiting");t.loadReviews(t.reviews_page,t.reviews_type,false,function(){e("#load_more").removeClass("waiting")})})},loadReviews:function(t,n,r,i){t=t||1;n=n||"all";r=r==undefined?true:r;var s=e(".reviews_list");var o=e('<div class="loading">Loading</div>').fadeTo(0,.5);e.ajax({url:document.URL,data:{type:n,page:t},beforeSend:function(){s.append(o)},success:function(t){if(r)s.html(t);else s.append(t);if(!e.trim(t).length||e(t).filter("div.comment").length<10)e("#load_more").hide()},complete:function(){o.remove();i&&i.call()},dataType:"html"})}}},FeatureComments:{_page:1,_loading:false,_top_comments_loaded:false,_comment_id:"",_loadCommentsByHash:false,init:function(){function i(){e("#load_all_comments").hide();e("#div_comments .likedposts").addClass("hidden");e("#div_comments .allcomments").removeClass("hidden");var t=e("#div_comments .allcomments");var n=e('<div class="loading">Loading</div>').fadeTo(0,.5);t.prepend(n);window.onload=function(){e("#allcomments").trigger("click")}}function s(){var r=e("#numCom").val();if(!t._top_comments_loaded&&!t._loading&&r>0){var i=e("nav.page-nav");if(i&&u(i)){e("#load_all_comments").show().addClass("waiting");t._loading=true;e.ajax({type:"POST",data:{id:e("#review_id").val(),page:1},url:"/reviews.php?action=get_top_rated_comments",success:function(r){e("#div_comments .likedposts").html(r);t._page++;t._loading=false;t._top_comments_loaded=true;e("#load_all_comments").removeClass("waiting");n()}})}}}var t=this;var r={backgroundColor:"#fdfce5",border:"10px solid #fdfce5",marginLeft:"-10px"};if(window.location.hash=="#allcomments"){i()}e("#load_all_comments").click(function(t){e("html,body").animate({scrollTop:e("#allcomments").offset().top-15},500);e("#allcomments").trigger("click")});e("#allcomments").click(function(i){e(this).hide();e("#load_all_comments").hide();e("#div_comments .likedposts").addClass("hidden");e("#div_comments .allcomments").removeClass("hidden");var s=e("#div_comments .allcomments");var o=e('<div class="loading">Loading</div>').fadeTo(0,.5);s.prepend(o);e.ajax({type:"POST",data:{story_id:e("#story_id").val(),page:-1},url:"/index.php?action=get-comments",contentType:"application/x-www-form-urlencoded;charset=ISO-8859-1",error:function(e){alert("An error occurred, please try again.")},success:function(i){var s='User Comments: <span id="n_comments">'+e("#reviewComments").val()+"</span>";e("#comments_title").html(s);e("#div_comments .allcomments").html(i);n();if(t._comment_id){e("html,body").animate({scrollTop:e(t._comment_id).offset().top-80},500);e(document).find(t._comment_id).css(r)}}})});if(!f.browser.bot&&window.location.hash.substring(0,9)=="#comment_"){t._comment_id=window.location.hash;t._loadCommentsByHash=true;i()}e(window).scroll(function(){s()})}},ReviewsSection:{init:function(e){switch(e){case"reviews":this.Rv_Home.init();break;case"reviews_category":case"reviews_subcategory":this.Category.init();break;case"review":case"review-preview":this.Review.init();break}},Rv_Home:{init:function(){e(".reviews .category ul li:nth-child(even)").addClass("alternate")}},Category:{init:function(){e(".reviews .category ul li:nth-child(even)").addClass("alternate")}},Review:{init:function(){l.SocialColumn.init();l.Story.init_comments();l.FeatureComments.init()}}},FeaturesSection:{init:function(e){switch(e){case"guides":this.Feat_Home.init();break;case"guides_category":case"guides_subcategory":this.Category.init();break;case"guide":case"article":this.Feature.init();break}},Feat_Home:{init:function(){e(".features .category ul li:nth-child(even)").addClass("alternate")}},Category:{init:function(){e(".features .category ul li:nth-child(even)").addClass("alternate")}},Feature:{init:function(){l.SocialColumn.init();l.Story.init_comments();l.FeatureComments.init()}}},Mediagallery:{init:function(e){switch(e){case"gallery_by_review":this.GalleryReview.init();break}},GalleryReview:{init:function(){e(".flex-next",".flex-direction-nav").ready(function(){var t=window.location.hash;if(t){t=t.substring(1,t.length);var n=e("ul li."+t+" a",".image_list");n.trigger("click")}});e(".flex-prev",".flex-direction-nav").click(function(t){t.preventDefault();var n=e("ul li.selected",".image_list");var r=n.prev();if(r.length<1)r=e("ul li:last",".image_list");var i=r.find("a").attr("href");e("a",".view_image").attr("href",i);e("a img",".view_image").attr("src",i);n.removeClass("selected");r.addClass("selected");var s=r.attr("data-href");if(history.pushState)history.pushState(null,null,s)});e(".flex-next",".flex-direction-nav").click(function(t){t.preventDefault();var n=e("ul li.selected",".image_list");var r=n.next();if(r.length<1)r=e("ul li:first",".image_list");var i=r.find("a").attr("href");e("a",".view_image").attr("href",i);e("a img",".view_image").attr("src",i);n.removeClass("selected");r.addClass("selected");var s=r.attr("data-href");if(history.pushState)history.pushState(null,null,s)});e("ul li a",".image_list").click(function(t){t.preventDefault();var n=e(this).attr("href");e("a",".view_image").attr("href",n);e("a img",".view_image").attr("src",n);e("ul li.selected",".image_list").removeClass("selected");var r=e(this).parent("li");r.addClass("selected");var i=r.attr("data-href");if(history.pushState)history.pushState(null,null,i)});e(document).keydown(function(t){if(t.keyCode==37){t.preventDefault();e(".flex-prev",".flex-direction-nav").trigger("click")}else if(t.keyCode==39){t.preventDefault();e(".flex-next",".flex-direction-nav").trigger("click")}})}}}};e(function(){l.init()})}(jQuery)