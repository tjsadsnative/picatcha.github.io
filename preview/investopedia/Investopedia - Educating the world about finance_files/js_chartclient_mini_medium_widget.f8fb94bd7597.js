/*
 The MIT license.
 @copyright Copyright (c) 2010 LearnBoost <dev@learnboost.com>
*/
'use strict';moment.locale(window.language,{months:[$.t("January"),$.t("February"),$.t("March"),$.t("April"),$.t("May"),$.t("June"),$.t("July"),$.t("August"),$.t("September"),$.t("October"),$.t("November"),$.t("December")],monthsShort:[$.t("Jan"),$.t("Feb"),$.t("Mar"),$.t("Apr"),$.t("May"),$.t("Jun"),$.t("Jul"),$.t("Aug"),$.t("Sep"),$.t("Oct"),$.t("Nov"),$.t("Dec")],weekdays:[$.t("Sunday"),$.t("Monday"),$.t("Tuesday"),$.t("Wednesday"),$.t("Thursday"),$.t("Friday"),$.t("Saturday")],weekdaysShort:[$.t("Sun"),
$.t("Mon"),$.t("Tue"),$.t("Wed"),$.t("Thu"),$.t("Fri"),$.t("Sat")],weekdaysMin:[$.t("Su",{context:"day_of_week"}),$.t("Mo",{context:"day_of_week"}),$.t("Tu",{context:"day_of_week"}),$.t("We",{context:"day_of_week"}),$.t("Th",{context:"day_of_week"}),$.t("Fr",{context:"day_of_week"}),$.t("Sa",{context:"day_of_week"})],longDateFormat:{LT:$.t("HH:mm"),LTS:$.t("HH:mm:ss"),L:$.t("MM/DD/YYYY"),l:$.t("M/D/YYYY"),LL:$.t("D MMMM YYYY"),ll:$.t("D MMM LT"),LLL:$.t("D MMMM YYYY LT"),lll:$.t("D MMM YYYY LT"),
LLLL:$.t("ddd D MMMM YYYY LT"),llll:$.t("ddd D MMM YYYY LT")},calendar:{sameDay:$.t("[Today at] LT"),nextDay:$.t("[Tomorrow at] LT"),nextWeek:$.t("dddd [at] LT"),lastDay:$.t("[Yesterday at] LT"),lastWeek:$.t("[Last] dddd [at] LT"),sameElse:"L"},relativeTime:{future:function(a){return a===$.t("just now")?a:$.t("in %s",{context:"time_range"}).replace("%s",a)},past:function(a){return a===$.t("just now")?a:$.t("%s ago",{context:"time_range"}).replace("%s",a)},s:$.t("just now"),m:function(a){return $.t("%d minute",
{count:a}).replace("%d",a)},mm:function(a){return $.t("%d minute",{count:a}).replace("%d",a)},h:$.t("an hour"),hh:function(a){return $.t("%d hour",{count:a}).replace("%d",a)},d:$.t("a day"),dd:function(a){return $.t("%d day",{count:a}).replace("%d",a)},M:$.t("a month"),MM:function(a){return $.t("%d month",{count:a}).replace("%d",a)},y:$.t("a year"),yy:function(a){return $.t("%d year",{count:a}).replace("%d",a)}},week:{dow:1,doy:4}});moment.locale(window.language);"use strict";
(function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"===typeof b?this.each(function(){var f=this;setTimeout(function(){a(f).focus();c&&c.call(f)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var e;c.length&&c[0]!==document;){e=c.css("position");
if("absolute"===e||"relative"===e||"fixed"===e)if(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e)return e;c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,e){function f(b,c,d,f){a.each(g,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0;d&&(c-=parseFloat(a.curCSS(b,
"border"+this+"Width",!0))||0);f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var g="Width"===e?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(c){return c===b?k["inner"+e].call(this):this.each(function(){a(this).css(h,f(this,c)+"px")})};a.fn["outer"+e]=function(b,c){return"number"!==typeof b?k["outer"+e].call(this,b):this.each(function(){a(this).css(h,
f(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,f){return!!a.data(b,f[3])},focusable:function(b){var e=b.nodeName.toLowerCase(),f=a.attr(b,"tabindex");if("area"===e){e=b.parentNode;f=e.name;if(!b.href||!f||"map"!==e.nodeName.toLowerCase())return!1;b=a("img[usemap=#"+f+"]")[0];return!!b&&c(b)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||!isNaN(f):!isNaN(f))&&c(b)},tabbable:function(b){var c=a.attr(b,"tabindex");return(isNaN(c)||0<=c)&&a(b).is(":focusable")}}),
a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===c.offsetHeight;a.support.selectstart="onselectstart"in c;b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,f){b=a.ui[b].prototype;for(var g in f)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([c,f[g]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var g=0;g<b.length;g++)a.options[b[g][0]]&&
b[g][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;c=c&&"left"===c?"scrollLeft":"scrollTop";var f=!1;if(0<b[c])return!0;b[c]=1;f=0<b[c];b[c]=0;return f},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,f,g,h,k){return a.ui.isOverAxis(b,f,h)&&a.ui.isOverAxis(c,g,k)}}))})(jQuery);
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,g;null!=(g=b[d]);d++)a(g).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||b&&!a.filter(b,[this]).length||a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var h=b.split(".")[0],k;b=b.split(".")[1];k=h+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][k]=function(c){return!!a.data(c,b)};
a[h]=a[h]||{};a[h][b]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=a.extend(!0,{},c.options);a[h][b].prototype=a.extend(!0,c,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:k},d);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(c,d){a.fn[c]=function(g){var h="string"===typeof g,k=Array.prototype.slice.call(arguments,1),l=this;g=!h&&k.length?a.extend.apply(null,[!0,g].concat(k)):g;if(h&&"_"===g.charAt(0))return l;
h?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[g])?d[g].apply(d,k):d;if(f!==d&&f!==b)return l=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(g||{})._init():a.data(this,c,new d(g,this))});return l}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(!0,{},this.options,this._getCreateOptions(),
b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(c,d){var g=c;if(0===arguments.length)return a.extend({},this.options);if("string"===typeof c){if(d===b)return this.options[c];g={};g[c]=d}this._setOptions(g);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var h=this.options[b];c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d=d||{};if(c.originalEvent){b=a.event.props.length;for(var k;b;)k=a.event.props[--b],c[k]=c.originalEvent[k]}this.element.trigger(c,d);return!(a.isFunction(h)&&!1===h.call(this.element[0],c,d)||c.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=
b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var c=this,d=1==b.which,e="string"==typeof this.options.cancel?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!d||e||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=
!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return b.originalEvent.mouseHandled=!0}},_mouseMove:function(b){if(a.browser.msie&&
!(9<=document.documentMode)&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=
!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,e=a.fn.offset;a.fn.position=function(f){if(!f||!f.of)return d.apply(this,arguments);f=a.extend({},f);var e=a(f.of),h=e[0],k=(f.collision||"flip").split(" "),l=f.offset?f.offset.split(" "):[0,0],m,t,q;9===h.nodeType?(m=e.width(),t=e.height(),q={top:0,left:0}):h.setTimeout?(m=e.width(),t=e.height(),q={top:e.scrollTop(),left:e.scrollLeft()}):h.preventDefault?(f.at="left top",m=t=0,q={top:f.of.pageY,left:f.of.pageX}):
(m=e.outerWidth(),t=e.outerHeight(),q=e.offset());a.each(["my","at"],function(){var a=(f[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]);a[0]=b.test(a[0])?a[0]:"center";a[1]=c.test(a[1])?a[1]:"center";f[this]=a});1===k.length&&(k[1]=k[0]);l[0]=parseInt(l[0],10)||0;1===l.length&&(l[1]=l[0]);l[1]=parseInt(l[1],10)||0;"right"===f.at[0]?q.left+=m:"center"===f.at[0]&&(q.left+=m/2);"bottom"===f.at[1]?q.top+=t:"center"===f.at[1]&&
(q.top+=t/2);q.left+=l[0];q.top+=l[1];return this.each(function(){var b=a(this),c=b.outerWidth(),d=b.outerHeight(),e=parseInt(a.curCSS(this,"marginLeft",!0))||0,g=parseInt(a.curCSS(this,"marginTop",!0))||0,h=c+e+(parseInt(a.curCSS(this,"marginRight",!0))||0),A=d+g+(parseInt(a.curCSS(this,"marginBottom",!0))||0),x=a.extend({},q),n;"right"===f.my[0]?x.left-=c:"center"===f.my[0]&&(x.left-=c/2);"bottom"===f.my[1]?x.top-=d:"center"===f.my[1]&&(x.top-=d/2);x.left=Math.round(x.left);x.top=Math.round(x.top);
n={left:x.left-e,top:x.top-g};a.each(["left","top"],function(b,e){a.ui.position[k[b]]&&a.ui.position[k[b]][e](x,{targetWidth:m,targetHeight:t,elemWidth:c,elemHeight:d,collisionPosition:n,collisionWidth:h,collisionHeight:A,offset:l,my:f.my,at:f.at})});a.fn.bgiframe&&b.bgiframe();b.offset(a.extend(x,{using:f.using}))})};a.ui.position={fit:{left:function(b,c){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=0<d?b.left-d:Math.max(b.left-c.collisionPosition.left,
b.left)},top:function(b,c){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=0<d?b.top-d:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window),d=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),e="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,l="left"===c.at[0]?c.targetWidth:-c.targetWidth,m=-2*c.offset[0];b.left+=0>c.collisionPosition.left?e+l+m:0<d?e+l+m:0}},top:function(b,
c){if("center"!==c.at[1]){var d=a(window),d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),e="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,l="top"===c.at[1]?c.targetHeight:-c.targetHeight,m=-2*c.offset[1];b.top+=0>c.collisionPosition.top?e+l+m:0<d?e+l+m:0}}}};a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),l=parseInt(a.curCSS(b,"top",!0),10)||0,m=parseInt(a.curCSS(b,
"left",!0),10)||0,e={top:c.top-e.top+l,left:c.left-e.left+m};"using"in c?c.using.call(b,e):d.css(e)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?this.each(function(){a.offset.setOffset(this,b)}):e.call(this):null})})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?
!1:(this.handle=this._getHandle(b))?!0:!1},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,
top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(b,!0);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(!1===this._trigger("drag",b,c))return this._mouseUp({}),!1;this.position=c.position}this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},
_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b));this.dropped&&(c=this.dropped,this.dropped=!1);if(!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){!1!==d._trigger("stop",b)&&d._clear()})}else!1!==this._trigger("stop",b)&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],
[b])):"clone"==c.helper?this.element.clone():this.element;b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&
(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=[("document"==b.containment?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==b.containment?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+
(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment)[0];if(c){var b=a(b.containment).offset(),d="hidden"!=a(c).css("overflow");this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),
10)||0),b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom]}}},_convertPositionTo:function(b,c){c||(c=this.position);b="absolute"==b?1:-1;var d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():
e?0:d.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;
this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*
c.grid[1],g=this.containment?g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3]?g-this.offset.click.top<this.containment[1]?g+c.grid[1]:g-c.grid[1]:g:g,f=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0],f=this.containment?f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2]?f-this.offset.click.left<this.containment[0]?f+c.grid[0]:f-c.grid[0]:f:f));return{top:g-this.offset.click.top-this.offset.relative.top-
this.offset.parent.top+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&526>a.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&
this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.11"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,
c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[];a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=
!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=
d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=
d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",
b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor"));b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;
b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(!0===b.iframeFix?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});
a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("opacity")&&(c._opacity=b.css("opacity"));b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=
a(this).data("draggable"),d=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(d.axis&&"x"==d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"==d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?
c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"==d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"==d.axis||
(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":
c.snap).each(function(){var c=a(this),e=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,k=c.offset.top,l=k+d.helperProportions.height,m=d.snapElements.length-1;0<=m;m--){var t=d.snapElements[m].left,q=t+d.snapElements[m].width,r=d.snapElements[m].top,p=r+d.snapElements[m].height;if(t-
f<g&&g<q+f&&r-f<k&&k<p+f||t-f<g&&g<q+f&&r-f<l&&l<p+f||t-f<h&&h<q+f&&r-f<k&&k<p+f||t-f<h&&h<q+f&&r-f<l&&l<p+f){if("inner"!=e.snapMode){var u=Math.abs(r-l)<=f,v=Math.abs(p-k)<=f,w=Math.abs(t-h)<=f,y=Math.abs(q-g)<=f;u&&(c.position.top=d._convertPositionTo("relative",{top:r-d.helperProportions.height,left:0}).top-d.margins.top);v&&(c.position.top=d._convertPositionTo("relative",{top:p,left:0}).top-d.margins.top);w&&(c.position.left=d._convertPositionTo("relative",{top:0,left:t-d.helperProportions.width}).left-
d.margins.left);y&&(c.position.left=d._convertPositionTo("relative",{top:0,left:q}).left-d.margins.left)}var A=u||v||w||y;"outer"!=e.snapMode&&(u=Math.abs(r-k)<=f,v=Math.abs(p-l)<=f,w=Math.abs(t-g)<=f,y=Math.abs(q-h)<=f,u&&(c.position.top=d._convertPositionTo("relative",{top:r,left:0}).top-d.margins.top),v&&(c.position.top=d._convertPositionTo("relative",{top:p-d.helperProportions.height,left:0}).top-d.margins.top),w&&(c.position.left=d._convertPositionTo("relative",{top:0,left:t}).left-d.margins.left),
y&&(c.position.left=d._convertPositionTo("relative",{top:0,left:q-d.helperProportions.width}).left-d.margins.left));!d.snapElements[m].snapping&&(u||v||w||y||A)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item}));d.snapElements[m].snapping=u||v||w||y||A}else d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1}}});
a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a});this[0].style.zIndex=c+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;b.css("zIndex")&&(c._zIndex=b.css("zIndex"));
b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize",
"none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==
this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var f=this.handles.split(",");this.handles={};for(var g=0;g<f.length;g++){var h=a.trim(f[g]),k=a('<div class="ui-resizable-handle ui-resizable-'+h+'"></div>');/sw|se|ne|nw/.test(h)&&k.css({zIndex:++c.zIndex});"se"==h&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[h]=".ui-resizable-"+h;this.element.append(k)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=
a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),f=0,f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(d,f);this._proportionallyResize()}a(this.handles[c])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}});c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var c=!1,f;for(f in this.handles)a(this.handles[f])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var e=this.options,f=this.element.position(),
g=this.element;this.resizing=!0;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:f.top,left:f.left});a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();var f=b(this.helper.css("left")),h=b(this.helper.css("top"));e.containment&&(f+=a(e.containment).scrollLeft()||0,h+=a(e.containment).scrollTop()||0);this.offset=
this.helper.offset();this.position={left:f,top:h};this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:f,top:h};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalMousePosition={left:c.pageX,top:c.pageY};this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:
this.originalSize.width/this.originalSize.height||1;e=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"==e?this.axis+"-resize":e);g.addClass("ui-resizable-resizing");this._propagate("start",c);return!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,g=this._change[this.axis];if(!g)return!1;c=g.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);c=this._respectSize(c,a);this._propagate("resize",
a);b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",a,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options;if(this._helper){var f=this._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),f=g&&a.ui.hasScroll(f[0],"left")?0:this.sizeDiff.height,g=g?0:
this.sizeDiff.width,g={width:this.helper.width()-g,height:this.helper.height()-f},f=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,h=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;c.animate||this.element.css(a.extend(g,{top:h,left:f}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!c.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateCache:function(a){this.offset=this.helper.offset();c(a.left)&&(this.position.left=a.left);c(a.top)&&(this.position.top=a.top);c(a.height)&&(this.size.height=a.height);c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,g=this.axis;a.height?a.width=c.height*this.aspectRatio:a.width&&(a.height=c.width/this.aspectRatio);"sw"==g&&(a.left=b.left+(c.width-a.width),a.top=null);"nw"==
g&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width));return a},_respectSize:function(a){var b=this.options,f=this.axis,g=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,h=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,k=c(a.width)&&b.minWidth&&b.minWidth>a.width,l=c(a.height)&&b.minHeight&&b.minHeight>a.height;k&&(a.width=b.minWidth);l&&(a.height=b.minHeight);g&&(a.width=b.maxWidth);h&&(a.height=b.maxHeight);var m=this.originalPosition.left+this.originalSize.width,t=this.position.top+this.size.height,
q=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);k&&q&&(a.left=m-b.minWidth);g&&q&&(a.left=m-b.maxWidth);l&&f&&(a.top=t-b.minHeight);h&&f&&(a.top=t-b.maxHeight);(b=!a.width&&!a.height)&&!a.left&&a.top?a.top=null:b&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var f=this._proportionallyResizeElements[c];if(!this.borderDif){var g=[f.css("borderTopWidth"),
f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")],h=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];this.borderDif=a.map(g,function(a,b){a=parseInt(a,10)||0;b=parseInt(h[b],10)||0;return a+b})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||f.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=
this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&7>a.browser.version,f=c?1:0,c=c?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+
b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,f]))},sw:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,f]))},ne:function(b,c,f){return a.extend(this._change.n.apply(this,
arguments),this._change.e.apply(this,[b,c,f]))},nw:function(b,c,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,f]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,
{version:"1.8.11"});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,
function(a){c(a)})},resize:function(b,c){var f=a(this).data("resizable");b=f.options;var g=f.originalSize,h=f.originalPosition,k={height:f.size.height-g.height||0,width:f.size.width-g.width||0,top:f.position.top-h.top||0,left:f.position.left-h.left||0},l=function(b,d){a(b).each(function(){var b=a(this),g=a(this).data("resizable-alsoresize"),h={},l=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(l,function(a,b){(a=(g[b]||0)+(k[b]||0))&&
0<=a&&(h[b]=a||null)});a.browser.opera&&/relative/.test(b.css("position"))&&(f._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"}));b.css(h)})};"object"!=typeof b.alsoResize||b.alsoResize.nodeType?l(b.alsoResize):a.each(b.alsoResize,function(a,b){l(a,b)})},stop:function(){var b=a(this).data("resizable"),c=b.options,f=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};b._revertToRelativePosition&&(b._revertToRelativePosition=
!1,"object"!=typeof c.alsoResize||c.alsoResize.nodeType?f(c.alsoResize):a.each(c.alsoResize,function(a){f(a)}));a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),f=c.options,g=c._proportionallyResizeElements,h=g.length&&/textarea/i.test(g[0].nodeName),k=h&&a.ui.hasScroll(g[0],"left")?0:c.sizeDiff.height,h={width:c.size.width-(h?0:c.sizeDiff.width),height:c.size.height-k},k=parseInt(c.element.css("left"),10)+(c.position.left-
c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(h,l&&k?{top:l,left:k}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};g&&g.length&&a(g[0]).css({width:f.width,height:f.height});c._updateCache(f);c._propagate("resize",
b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),e=c.element,f=c.options.containment;if(e=f instanceof a?f.get(0):/parent/.test(f)?e.parent().get(0):f)if(c.containerElement=a(e),/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(e),h=[];a(["Top",
"Right","Left","Bottom"]).each(function(a,c){h[a]=b(g.css("padding"+c))});c.containerOffset=g.offset();c.containerPosition=g.position();c.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};var f=c.containerOffset,k=c.containerSize.height,l=c.containerSize.width,l=a.ui.hasScroll(e,"left")?e.scrollWidth:l,k=a.ui.hasScroll(e)?e.scrollHeight:k;c.parentData={element:e,left:f.left,top:f.top,width:l,height:k}}},resize:function(b){var c=a(this).data("resizable"),f=c.options,g=c.containerOffset,
h=c.position;b=c._aspectRatio||b.shiftKey;var k={top:0,left:0},l=c.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g);h.left<(c._helper?g.left:0)&&(c.size.width+=c._helper?c.position.left-g.left:c.position.left-k.left,b&&(c.size.height=c.size.width/f.aspectRatio),c.position.left=f.helper?g.left:0);h.top<(c._helper?g.top:0)&&(c.size.height+=c._helper?c.position.top-g.top:c.position.top,b&&(c.size.width=c.size.height*f.aspectRatio),c.position.top=c._helper?g.top:0);c.offset.left=
c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;f=Math.abs(c.offset.left-k.left+c.sizeDiff.width);g=Math.abs((c._helper?c.offset.top-k.top:c.offset.top-g.top)+c.sizeDiff.height);h=c.containerElement.get(0)==c.element.parent().get(0);k=/relative|absolute/.test(c.containerElement.css("position"));h&&k&&(f-=c.parentData.left);f+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-f,b&&(c.size.height=c.size.width/c.aspectRatio));g+c.size.height>=c.parentData.height&&
(c.size.height=c.parentData.height-g,b&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,f=b.containerOffset,g=b.containerPosition,h=b.containerElement,k=a(b.helper),l=k.offset(),m=k.outerWidth()-b.sizeDiff.width,k=k.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:l.left-g.left-f.left,width:m,height:k});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:l.left-
g.left-f.left,width:m,height:k})}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,f=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,
width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("resizable"),c=b.options,f=b.size,g=b.originalSize,h=b.originalPosition,k=b.axis;c.grid="number"==typeof c.grid?[c.grid,c.grid]:c.grid;var l=Math.round((f.width-g.width)/(c.grid[0]||1))*(c.grid[0]||1),c=Math.round((f.height-g.height)/(c.grid[1]||1))*(c.grid[1]||1);/^(se|s|e)$/.test(k)?(b.size.width=
g.width+l,b.size.height=g.height+c):/^(ne)$/.test(k)?(b.size.width=g.width+l,b.size.height=g.height+c,b.position.top=h.top-c):(/^(sw)$/.test(k)?(b.size.width=g.width+l,b.size.height=g.height+c):(b.size.width=g.width+l,b.size.height=g.height+c,b.position.top=h.top-c),b.position.left=h.left-l)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=
this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget()[c?
"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var d=null,e=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e)return d=a(this),!1});a.data(b.target,"sortable-item")==e&&(d=a(b.target));if(!d)return!1;if(this.options.handle&&!c){var f=!1;a(this.options.handle,d).find("*").andSelf().each(function(){this==
b.target&&(f=!0)});if(!f)return!1}this.currentItem=d;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=
this.helper.css("position");a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
c.containment&&this._setContainment();c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+
c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)));!1!==d&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px");
this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--){var d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d);if(f&&e!=this.currentItem[0]&&this.placeholder[1==f?"next":"prev"]()[0]!=e&&!a.ui.contains(this.placeholder[0],e)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],e):1)){this.direction=1==f?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(d))this._rearrange(b,d);
else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this;c=d.placeholder.offset();d.reverting=!0;a(this.helper).animate({left:c.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?
0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",
null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))});!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||
"id")||"")});return d},_intersectsWith:function(a){var c=this.positionAbs.left,d=c+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,k=a.top,l=k+a.height,m=this.offset.click.top,t=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?e+m>k&&e+m<l&&c+t>g&&c+t<h:g<c+this.helperProportions.width/
2&&d-this.helperProportions.width/2<h&&k<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<l},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);c=c&&b;b=this._getDragVerticalDirection();var d=this._getDragHorizontalDirection();return c?this.floating?d&&"right"==d||"down"==b?2:1:b&&("down"==b?2:1):!1},_intersectsWithSides:function(b){var c=
a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"==e&&b||"left"==e&&!b:d&&("down"==d&&c||"up"==d&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=
this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(b=e.length-1;0<=b;b--)for(var f=a(e[b]),g=f.length-1;0<=g;g--){var h=a.data(f[g],"sortable");h&&h!=this&&!h.options.disabled&&d.push([a.isFunction(h.options.items)?
h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=d.length-1;0<=b;b--)d[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),
c=0;c<this.items.length;c++)for(var d=0;d<a.length;d++)a[d]==this.items[c].item[0]&&this.items.splice(c,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e)for(var f=e.length-1;0<=f;f--)for(var g=a(e[f]),h=g.length-1;0<=h;h--){var k=a.data(g[h],"sortable");k&&k!=this&&!k.options.disabled&&(d.push([a.isFunction(k.options.items)?
k.options.items.call(k.element[0],b,{item:this.currentItem}):a(k.options.items,k.element),k]),this.containers.push(k))}for(f=d.length-1;0<=f;f--)for(b=d[f][1],e=d[f][0],h=0,g=e.length;h<g;h++)k=a(e[h]),k.data("sortable-item",b),c.push({item:k,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;0<=c;c--){var d=this.items[c],e=this.options.toleranceElement?a(this.options.toleranceElement,
d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());e=e.offset();d.left=e.left;d.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)e=this.containers[c].element.offset(),this.containers[c].containerCache.left=e.left,this.containers[c].containerCache.top=e.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=
this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];e||(b.style.visibility="hidden");return b},update:function(a,b){if(!e||d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-
parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;0<=e;e--)a.ui.contains(this.currentItem[0],
this.containers[e].element[0])||(this._intersectsWith(this.containers[e].containerCache)?c&&a.ui.contains(this.containers[e].element[0],c.element[0])||(c=this.containers[e],d=e):this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var c=
1E4,e=null,f=this.positionAbs[this.containers[d].floating?"left":"top"],g=this.items.length-1;0<=g;g--)if(a.ui.contains(this.containers[d].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[d].floating?"left":"top"];Math.abs(h-f)<c&&(c=Math.abs(h-f),e=this.items[g])}if(e||this.options.dropOnEmpty)this.currentContainer=this.containers[d],e?this._rearrange(b,e,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",
b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]==this.currentItem[0]&&
(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width());(""==b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&
(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&
(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),
10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"==b.containment&&(b.containment=
this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=
a(b.containment)[0],b=a(b.containment).offset(),d="hidden"!=a(c).css("overflow");this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);b="absolute"==b?1:-1;var d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+
this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),
b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1],g=this.containment?g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3]?g-this.offset.click.top<this.containment[1]?g+c.grid[1]:g-c.grid[1]:g:g,f=this.originalPageX+Math.round((f-this.originalPageX)/
c.grid[0])*c.grid[0],f=this.containment?f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2]?f-this.offset.click.left<this.containment[0]?f+c.grid[0]:f-c.grid[0]:f:f));return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&
"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,c,d,e){d?d[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?c.item[0]:c.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem[0].parentNode&&
this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&
this.domPosition.parent==this.currentItem.parent()[0]||c||d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0]))for(c||d.push(function(a){this._trigger("remove",a,this._uiHash())}),e=this.containers.length-1;0<=e;e--)a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",
b,this._uiHash(this))}}.call(this,this.containers[e])));for(e=this.containers.length-1;0<=e;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",
this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(e=
0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.extend(a.ui.sortable,{version:"1.8.11"})})(jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options;this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");c.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
this.range=a([]);c.range&&(!0===c.range?(this.range=a("<div></div>"),c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&2!==c.values.length&&(c.values=[c.values[0],c.values[0]])):this.range=a("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),"min"!==c.range&&"max"!==c.range||this.range.addClass("ui-slider-range-"+c.range),this.range.addClass("ui-widget-header"));0===a(".ui-slider-handle",this.element).length&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
if(c.values&&c.values.length)for(;a(".ui-slider-handle",this.element).length<c.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?
a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)});this.handles.keydown(function(c){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,k;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e=
!1,!b._keySliding&&(b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(c,f),!1===g))return}k=b.options.step;g=b.options.values&&b.options.values.length?h=b.values(f):h=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===
b._valueMax())return;h=b._trimAlignValue(g+k);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-k)}b._slide(c,f,h);return e}}).keyup(function(c){var e=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,e),b._change(c,e),a(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();d=this._normValueFromMouse({x:b.pageX,y:b.pageY});e=this._valueMax()-this._valueMin()+1;g=this;this.handles.each(function(b){var c=Math.abs(d-g.values(b));e>c&&(e=c,f=a(this),h=b)});!0===c.range&&this.values(1)===c.min&&(h+=1,f=a(this.handles[h]));if(!1===this._start(b,
h))return!1;this._mouseSliding=!0;g._handleIndex=h;f.addClass("ui-state-active").focus();c=f.offset();this._clickOffset=a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:b.pageX-c.left-f.width()/2,top:b.pageY-c.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(b,h,d);return this._animateOff=!0},_mouseStart:function(){return!0},
_mouseDrag:function(a){var c=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c;"horizontal"===
this.orientation?(c=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));c=a/c;1<c&&(c=1);0>c&&(c=0);"vertical"===this.orientation&&(c=1-c);a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+c*a)},_start:function(a,c){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=
this.values(c),d.values=this.values());return this._trigger("start",a,d)},_slide:function(a,c,d){var e;this.options.values&&this.options.values.length?(e=this.values(c?0:1),2===this.options.values.length&&!0===this.options.range&&(0===c&&d>e||1===c&&d<e)&&(d=e),d!==this.values(c)&&(e=this.values(),e[c]=d,a=this._trigger("slide",a,{handle:this.handles[c],value:d,values:e}),this.values(c?0:1),!1!==a&&this.values(c,d,!0))):d!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[c],value:d}),
!1!==a&&this.value(d))},_stop:function(a,c){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("stop",a,d)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("change",a,d)}},value:function(a){arguments.length&&(this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0));return this._value()},values:function(b,c){var d,e,f;1<arguments.length&&(this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b));if(arguments.length)if(a.isArray(arguments[0])){d=this.options.values;e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();
else return this._values()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();
this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var c,d;if(arguments.length)return c=this.options.values[a],this._trimAlignValue(c);
c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,d=(a-this._valueMin())%c;a-=d;2*Math.abs(d)>=c&&(a+=0<d?c:-c);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,
c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,k,l,m;if(this.options.values&&this.options.values.length)this.handles.each(function(b){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100;g["horizontal"===d.orientation?"left":"bottom"]=f+"%";a(this).stop(1,1)[e?"animate":"css"](g,c.animate);if(!0===d.options.range)if("horizontal"===d.orientation){if(0===b)d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate);if(1===b)d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,
duration:c.animate})}else{if(0===b)d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate);if(1===b)d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate})}h=f});else{k=this.value();l=this._valueMin();m=this._valueMax();f=m!==l?(k-l)/(m-l)*100:0;g["horizontal"===d.orientation?"left":"bottom"]=f+"%";this.handle.stop(1,1)[e?"animate":"css"](g,c.animate);if("min"===b&&"horizontal"===this.orientation)this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate);if("max"===
b&&"horizontal"===this.orientation)this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate});if("min"===b&&"vertical"===this.orientation)this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate);if("max"===b&&"vertical"===this.orientation)this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate})}}});a.extend(a.ui.slider,{version:"1.8.11"})})(jQuery);
(function(a,b){function c(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),
weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,
beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=a('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function d(c,d){a.extend(c,d);for(var e in d)if(null==d[e]||d[e]==b)c[e]=d[e];return c}a.extend(a.ui,{datepicker:{version:"1.8.11"}});
var e=(new Date).getTime();a.extend(c.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){d(this._defaults,a||{});return this},_attachDatepicker:function(b,c){var d=null,e;for(e in this._defaults){var l=b.getAttribute("date:"+e);if(l){d=d||{};try{d[e]=eval(l)}catch(m){d[e]=l}}}e=b.nodeName.toLowerCase();l="div"==e||"span"==e;b.id||(this.uuid+=1,b.id="dp"+this.uuid);var t=this._newInst(a(b),
l);t.settings=a.extend({},c||{},d||{});"input"==e?this._connectDatepicker(b,t):l&&this._inlineDatepicker(b,t)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||
(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,b,d){c.settings[b]=d}).bind("getData.datepicker",function(a,b){return this._get(c,b)}),this._autoSize(c),a.data(b,"datepicker",c))},_attachments:function(b,c){var d=this._get(c,"appendText"),e=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a('<span class="'+this._appendClass+'">'+d+"</span>"),b[e?"before":"after"](c.append));
b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!=d&&"both"!=d||b.focus(this._showDatepicker);if("button"==d||"both"==d){var d=this._get(c,"buttonText"),l=this._get(c,"buttonImage");c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:l,alt:d,title:d}):a('<button type="button"></button>').addClass(this._triggerClass).html(""==l?d:a("<img/>").attr({src:l,alt:d,title:d})));b[e?"before":"after"](c.trigger);c.trigger.click(function(){a.datepicker._datepickerShowing&&
a.datepicker._lastInput==b[0]?a.datepicker._hideDatepicker():a.datepicker._showDatepicker(b[0]);return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",
this._formatDate(a,b).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv).bind("setData.datepicker",function(a,b,d){c.settings[b]=d}).bind("getData.datepicker",function(a,b){return this._get(c,b)}),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.dpDiv.show())},_dialogDatepicker:function(b,c,e,k,l){b=this._dialogInst;b||(this.uuid+=1,this._dialogInput=
a('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));d(b.settings,k||{});c=c&&c.constructor==Date?this._formatDate(b,c):c;this._dialogInput.val(c);this._pos=l?l.length?l:[l.pageX,l.pageY]:null;this._pos||(this._pos=[document.documentElement.clientWidth/
2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=e;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var c=
a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var e=b.nodeName.toLowerCase();a.removeData(b,"datepicker");"input"==e?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=e&&"span"!=e||c.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var e=
b.nodeName.toLowerCase();"input"==e?(b.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!=e&&"span"!=e||c.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,function(a){return a==b?null:a})}},_disableDatepicker:function(b){var c=a(b),d=a.data(b,"datepicker");if(c.hasClass(this.markerClassName)){var e=b.nodeName.toLowerCase();"input"==e?(b.disabled=
!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!=e&&"span"!=e||c.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,function(a){return a==b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(b){try{return a.data(b,
"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,e,h){var k=this._getInst(c);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?a.extend({},a.datepicker._defaults):k?"all"==e?a.extend({},k.settings):this._get(k,e):null;var l=e||{};"string"==typeof e&&(l={},l[e]=h);if(k){this._curInst==k&&this._hideDatepicker();var m=this._getDateDatepicker(c,!0),t=this._getMinMaxDate(k,"min"),q=this._getMinMaxDate(k,"max");d(k.settings,l);null!==t&&
l.dateFormat!==b&&l.minDate===b&&(k.settings.minDate=this._formatDate(k,t));null!==q&&l.dateFormat!==b&&l.maxDate===b&&(k.settings.maxDate=this._formatDate(k,q));this._attachments(a(c),k);this._autoSize(k);this._setDateDatepicker(c,m);this._updateDatepicker(k)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),
this._updateAlternate(a)},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(b){var c=a.datepicker._getInst(b.target),d=!0,e=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();d=!1;break;case 13:return d=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",c.dpDiv),d[0]?a.datepicker._selectDay(b.target,
c.selectedMonth,c.selectedYear,d[0]):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||
b.metaKey)&&a.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,e?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(c,"stepBigMonths"):-a.datepicker._get(c,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,e?-1:
1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(c,"stepBigMonths"):+a.datepicker._get(c,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36==b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d=a.datepicker._getInst(c.target);if(a.datepicker._get(d,"constrainInput")){var d=
a.datepicker._possibleChars(a.datepicker._get(d,"dateFormat")),e=String.fromCharCode(c.charCode==b?c.keyCode:c.charCode);return c.ctrlKey||c.metaKey||" ">e||!d||-1<d.indexOf(e)}},_doKeyUp:function(b){b=a.datepicker._getInst(b.target);if(b.input.val()!=b.lastVal)try{a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b))}catch(c){a.datepicker.log(c)}return!0},
_showDatepicker:function(b){b=b.target||b;"input"!=b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!=b){var c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!=c&&a.datepicker._curInst.dpDiv.stop(!0,!0);var e=a.datepicker._get(c,"beforeShow");d(c.settings,e?e.apply(b,[b,c]):{});c.lastVal=null;a.datepicker._lastInput=b;a.datepicker._setDateFromField(c);a.datepicker._inDialog&&(b.value="");a.datepicker._pos||
(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight);var k=!1;a(b).parents().each(function(){k|="fixed"==a(this).css("position");return!k});k&&a.browser.opera&&(a.datepicker._pos[0]-=document.documentElement.scrollLeft,a.datepicker._pos[1]-=document.documentElement.scrollTop);e={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;c.dpDiv.empty();c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(c);e=
a.datepicker._checkOffset(c,e,k);c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":k?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"});if(!c.inline){var e=a.datepicker._get(c,"showAnim"),l=a.datepicker._get(c,"duration"),m=function(){a.datepicker._datepickerShowing=!0;var b=c.dpDiv.find("iframe.ui-datepicker-cover");if(b.length){var d=a.datepicker._getBorders(c.dpDiv);b.css({left:-d[0],top:-d[1],width:c.dpDiv.outerWidth(),height:c.dpDiv.outerHeight()})}};c.dpDiv.zIndex(a(b).zIndex()+
1);a.effects&&a.effects[e]?c.dpDiv.show(e,a.datepicker._get(c,"showOptions"),l,m):c.dpDiv[e||"show"](e?l:null,m);e&&l||m();c.input.is(":visible")&&!c.input.is(":disabled")&&c.input.focus();a.datepicker._curInst=c}}},_updateDatepicker:function(b){var c=this,d=a.datepicker._getBorders(b.dpDiv);b.dpDiv.empty().append(this._generateHTML(b));var e=b.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-d[0],top:-d[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()});b.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",
function(){a(this).removeClass("ui-state-hover");-1!=this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!=this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){c._isDisabledDatepicker(b.inline?b.dpDiv.parent()[0]:b.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&
a(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();d=this._getNumberOfMonths(b);e=d[1];1<e?b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");b.dpDiv[(1!=d[0]||1!=d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b==a.datepicker._curInst&&a.datepicker._datepickerShowing&&b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&b.input[0]!=document.activeElement&&b.input.focus();if(b.yearshtml){var l=b.yearshtml;setTimeout(function(){l===b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);l=b.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),
parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),l=b.dpDiv.outerHeight(),m=b.input?b.input.outerWidth():0,t=b.input?b.input.outerHeight():0,q=document.documentElement.clientWidth+a(document).scrollLeft(),r=document.documentElement.clientHeight+a(document).scrollTop();c.left-=this._get(b,"isRTL")?e-m:0;c.left-=d&&c.left==b.input.offset().left?a(document).scrollLeft():0;c.top-=d&&c.top==b.input.offset().top+t?a(document).scrollTop():0;c.left-=Math.min(c.left,
c.left+e>q&&q>e?Math.abs(c.left+e-q):0);c.top-=Math.min(c.top,c.top+l>r&&r>l?Math.abs(l+t):0);return c},_findPos:function(b){for(var c=this._get(this._getInst(b),"isRTL");b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var c=this._curInst;if(c&&(!b||c==a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(c,"showAnim");var d=this._get(c,"duration"),e=function(){a.datepicker._tidyDialog(c);
this._curInst=null};a.effects&&a.effects[b]?c.dpDiv.hide(b,a.datepicker._get(c,"showOptions"),d,e):c.dpDiv["slideDown"==b?"slideUp":"fadeIn"==b?"fadeOut":"hide"](b?d:null,e);b||e();(b=this._get(c,"onClose"))&&b.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._datepickerShowing=!1;this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){a.datepicker._curInst&&(b=a(b.target),b[0].id==a.datepicker._mainDivId||0!=b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.hasClass(a.datepicker._triggerClass)||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI||a.datepicker._hideDatepicker())},_adjustDate:function(b,c,d){b=a(b);var e=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(e,c+("M"==d?this._get(e,"showCurrentAtPos"):0),
d),this._updateDatepicker(e))},_gotoToday:function(b){b=a(b);var c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate();c.drawMonth=c.selectedMonth=d.getMonth();c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c);this._adjustDate(b)},_selectMonthYear:function(b,c,d){b=a(b);var e=this._getInst(b[0]);e._selectingMonthYear=
!1;e["selected"+("M"==d?"Month":"Year")]=e["draw"+("M"==d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(b)},_clickMonthYear:function(b){var c=this._getInst(a(b)[0]);c.input&&c._selectingMonthYear&&setTimeout(function(){c.input.focus()},0);c._selectingMonthYear=!c._selectingMonthYear},_selectDay:function(b,c,d,e){var l=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])||(l=this._getInst(l[0]),l.selectedDay=l.currentDay=
a("a",e).html(),l.selectedMonth=l.currentMonth=c,l.selectedYear=l.currentYear=d,this._selectDate(b,this._formatDate(l,l.currentDay,l.currentMonth,l.currentYear)))},_clearDate:function(b){b=a(b);this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(b,c){b=this._getInst(a(b)[0]);c=null!=c?c:this._formatDate(b);b.input&&b.input.val(c);this._updateAlternate(b);var d=this._get(b,"onSelect");d?d.apply(b.input?b.input[0]:null,[c,b]):b.input&&b.input.trigger("change");b.inline?this._updateDatepicker(b):
(this._hideDatepicker(),this._lastInput=b.input[0],"object"!=typeof b.input[0]&&b.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c=this._get(b,"altField");if(c){var d=this._get(b,"altFormat")||this._get(b,"dateFormat"),e=this._getDate(b),l=this.formatDate(d,e,this._getFormatConfig(b));a(c).each(function(){a(this).val(l)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=
a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";b="object"==typeof b?b.toString():b+"";if(""==b)return null;for(var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,m=(c?c.dayNames:null)||this._defaults.dayNames,t=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,
q=(c?c.monthNames:null)||this._defaults.monthNames,r=c=-1,p=-1,u=-1,v=!1,w=function(b){(b=F+1<a.length&&a.charAt(F+1)==b)&&F++;return b},y=function(a){var c=w(a);a=new RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2)+"}");a=b.substring(n).match(a);if(!a)throw"Missing number at position "+n;n+=a[0].length;return parseInt(a[0],10)},A=function(a,c,d){a=w(a)?d:c;for(c=0;c<a.length;c++)if(b.substr(n,a[c].length).toLowerCase()==a[c].toLowerCase())return n+=a[c].length,c+1;throw"Unknown name at position "+
n;},x=function(){if(b.charAt(n)!=a.charAt(F))throw"Unexpected literal at position "+n;n++},n=0,F=0;F<a.length;F++)if(v)"'"!=a.charAt(F)||w("'")?x():v=!1;else switch(a.charAt(F)){case "d":p=y("d");break;case "D":A("D",e,m);break;case "o":u=y("o");break;case "m":r=y("m");break;case "M":r=A("M",t,q);break;case "y":c=y("y");break;case "@":var D=new Date(y("@"));c=D.getFullYear();r=D.getMonth()+1;p=D.getDate();break;case "!":D=new Date((y("!")-this._ticksTo1970)/1E4);c=D.getFullYear();r=D.getMonth()+1;
p=D.getDate();break;case "'":w("'")?x():v=!0;break;default:x()}-1==c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=d?0:-100));if(-1<u){r=1;p=u;do{d=this._getDaysInMonth(c,r-1);if(p<=d)break;r++;p-=d}while(1)}D=this._daylightSavingAdjust(new Date(c,r-1,p));if(D.getFullYear()!=c||D.getMonth()+1!=r||D.getDate()!=p)throw"Invalid date";return D},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",
RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,m=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var t=function(b){(b=v+1<a.length&&a.charAt(v+1)==b)&&v++;return b},
q=function(a,b,c){b=""+b;if(t(a))for(;b.length<c;)b="0"+b;return b},r=function(a,b,c,d){return t(a)?d[b]:c[b]},p="",u=!1;if(b)for(var v=0;v<a.length;v++)if(u)"'"!=a.charAt(v)||t("'")?p+=a.charAt(v):u=!1;else switch(a.charAt(v)){case "d":p+=q("d",b.getDate(),2);break;case "D":p+=r("D",b.getDay(),d,e);break;case "o":p+=q("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":p+=q("m",b.getMonth()+1,2);break;case "M":p+=r("M",b.getMonth(),m,c);break;case "y":p+=t("y")?b.getFullYear():
(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":p+=b.getTime();break;case "!":p+=1E4*b.getTime()+this._ticksTo1970;break;case "'":t("'")?p+="'":u=!0;break;default:p+=a.charAt(v)}return p},_possibleChars:function(a){for(var b="",c=!1,d=function(b){(b=e+1<a.length&&a.charAt(e+1)==b)&&e++;return b},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":d("'")?
b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,m;e=m=this._getDefaultDate(a);var t=this._getFormatConfig(a);try{e=this.parseDate(c,d,t)||m}catch(q){this.log(q),d=b?"":d}a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();a.currentDay=
d?e.getDate():0;a.currentMonth=d?e.getMonth():0;a.currentYear=d?e.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},l=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):
null)||new Date,g=e.getFullYear(),h=e.getMonth(),e=e.getDate(),l=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=l.exec(c);k;){switch(k[2]||"d"){case "d":case "D":e+=parseInt(k[1],10);break;case "w":case "W":e+=7*parseInt(k[1],10);break;case "m":case "M":h+=parseInt(k[1],10);e=Math.min(e,a.datepicker._getDaysInMonth(g,h));break;case "y":case "Y":g+=parseInt(k[1],10),e=Math.min(e,a.datepicker._getDaysInMonth(g,h))}k=l.exec(c)}return new Date(g,h,e)};if(c=(c=null==c||""===c?d:"string"==typeof c?l(c):"number"==
typeof c?isNaN(c)?d:e(c):new Date(c.getTime()))&&"Invalid Date"==c.toString()?d:c)c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,m=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=
b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();e==a.selectedMonth&&m==a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(b){var c=new Date,c=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth(),c.getDate())),d=this._get(b,"isRTL"),
k=this._get(b,"showButtonPanel"),l=this._get(b,"hideIfNoPrevNext"),m=this._get(b,"navigationAsDateFormat"),t=this._getNumberOfMonths(b),q=this._get(b,"showCurrentAtPos"),r=this._get(b,"stepMonths"),p=1!=t[0]||1!=t[1],u=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),v=this._getMinMaxDate(b,"min"),w=this._getMinMaxDate(b,"max"),q=b.drawMonth-q,y=b.drawYear;0>q&&(q+=12,y--);if(w)for(var A=this._daylightSavingAdjust(new Date(w.getFullYear(),
w.getMonth()-t[0]*t[1]+1,w.getDate())),A=v&&A<v?v:A;this._daylightSavingAdjust(new Date(y,q,1))>A;)q--,0>q&&(q=11,y--);b.drawMonth=q;b.drawYear=y;var A=this._get(b,"prevText"),A=m?this.formatDate(A,this._daylightSavingAdjust(new Date(y,q-r,1)),this._getFormatConfig(b)):A,A=this._canAdjustMonth(b,-1,y,q)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+e+".datepicker._adjustDate('#"+b.id+"', -"+r+", 'M');\" title=\""+A+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+
'">'+A+"</span></a>":l?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+A+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"e":"w")+'">'+A+"</span></a>",x=this._get(b,"nextText"),x=m?this.formatDate(x,this._daylightSavingAdjust(new Date(y,q+r,1)),this._getFormatConfig(b)):x,l=this._canAdjustMonth(b,1,y,q)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+e+".datepicker._adjustDate('#"+b.id+"', +"+r+", 'M');\" title=\""+x+'"><span class="ui-icon ui-icon-circle-triangle-'+
(d?"w":"e")+'">'+x+"</span></a>":l?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+x+'"><span class="ui-icon ui-icon-circle-triangle-'+(d?"w":"e")+'">'+x+"</span></a>",r=this._get(b,"currentText"),x=this._get(b,"gotoCurrent")&&b.currentDay?u:c,r=m?this.formatDate(r,x,this._getFormatConfig(b)):r,m=b.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+e+'.datepicker._hideDatepicker();">'+this._get(b,
"closeText")+"</button>",k=k?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(d?m:"")+(this._isInRange(b,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+e+".datepicker._gotoToday('#"+b.id+"');\">"+r+"</button>":"")+(d?"":m)+"</div>":"",m=parseInt(this._get(b,"firstDay"),10),m=isNaN(m)?0:m,r=this._get(b,"showWeek"),x=this._get(b,"dayNames");this._get(b,"dayNamesShort");var n=this._get(b,"dayNamesMin"),F=this._get(b,
"monthNames"),D=this._get(b,"monthNamesShort"),z=this._get(b,"beforeShowDay"),G=this._get(b,"showOtherMonths"),J=this._get(b,"selectOtherMonths");this._get(b,"calculateWeek");for(var H=this._getDefaultDate(b),M="",C=0;C<t[0];C++){for(var N="",O=0;O<t[1];O++){var K=this._daylightSavingAdjust(new Date(y,q,b.selectedDay)),I=" ui-corner-all",E="";if(p){E+='<div class="ui-datepicker-group';if(1<t[1])switch(O){case 0:E+=" ui-datepicker-group-first";I=" ui-corner-"+(d?"right":"left");break;case t[1]-1:E+=
" ui-datepicker-group-last";I=" ui-corner-"+(d?"left":"right");break;default:E+=" ui-datepicker-group-middle",I=""}E+='">'}for(var E=E+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+I+'">'+(/all|left/.test(I)&&0==C?d?l:A:"")+(/all|right/.test(I)&&0==C?d?A:l:"")+this._generateMonthYearHeader(b,q,y,v,w,0<C||0<O,F,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),P=r?'<th class="ui-datepicker-week-col">'+this._get(b,"weekHeader")+"</th>":"",I=0;7>I;I++)var L=(I+m)%
7,P=P+("<th"+(5<=(I+m+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+x[L]+'">'+n[L]+"</span></th>");E+=P+"</tr></thead><tbody>";P=this._getDaysInMonth(y,q);y==b.selectedYear&&q==b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,P));for(var I=(this._getFirstDayOfMonth(y,q)-m+7)%7,P=p?6:Math.ceil((I+P)/7),L=this._daylightSavingAdjust(new Date(y,q,1-I)),B=0;B<P;B++){for(var E=E+"<tr>",S=r?'<td class="ui-datepicker-week-col">'+this._get(b,"calculateWeek")(L)+"</td>":"",I=0;7>I;I++){var R=
z?z.apply(b.input?b.input[0]:null,[L]):[!0,""],Q=L.getMonth()!=q,T=Q&&!J||!R[0]||v&&L<v||w&&L>w,S=S+('<td class="'+(5<=(I+m+6)%7?" ui-datepicker-week-end":"")+(Q?" ui-datepicker-other-month":"")+(L.getTime()==K.getTime()&&q==b.selectedMonth&&b._keyEvent||H.getTime()==L.getTime()&&H.getTime()==K.getTime()?" "+this._dayOverClass:"")+(T?" "+this._unselectableClass+" ui-state-disabled":"")+(Q&&!G?"":" "+R[1]+(L.getTime()==u.getTime()?" "+this._currentClass:"")+(L.getTime()==c.getTime()?" ui-datepicker-today":
""))+'"'+(Q&&!G||!R[2]?"":' title="'+R[2]+'"')+(T?"":' onclick="DP_jQuery_'+e+".datepicker._selectDay('#"+b.id+"',"+L.getMonth()+","+L.getFullYear()+', this);return false;"')+">"+(Q&&!G?"&#xa0;":T?'<span class="ui-state-default">'+L.getDate()+"</span>":'<a class="ui-state-default'+(L.getTime()==c.getTime()?" ui-state-highlight":"")+(L.getTime()==u.getTime()?" ui-state-active":"")+(Q?" ui-priority-secondary":"")+'" href="#">'+L.getDate()+"</a>")+"</td>");L.setDate(L.getDate()+1);L=this._daylightSavingAdjust(L)}E+=
S+"</tr>"}q++;11<q&&(q=0,y++);E+="</tbody></table>"+(p?"</div>"+(0<t[0]&&O==t[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");N+=E}M+=N}M+=k+(a.browser.msie&&7>parseInt(a.browser.version,10)&&!b.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");b._keyEvent=!1;return M},_generateMonthYearHeader:function(b,c,d,k,l,m,t,q){var r=this._get(b,"changeMonth"),p=this._get(b,"changeYear"),u=this._get(b,"showMonthAfterYear"),v='<div class="ui-datepicker-title">',
w="";if(m||!r)w+='<span class="ui-datepicker-month">'+t[c]+"</span>";else{t=k&&k.getFullYear()==d;for(var y=l&&l.getFullYear()==d,w=w+('<select class="ui-datepicker-month" onchange="DP_jQuery_'+e+".datepicker._selectMonthYear('#"+b.id+"', this, 'M');\" onclick=\"DP_jQuery_"+e+".datepicker._clickMonthYear('#"+b.id+"');\">"),A=0;12>A;A++)(!t||A>=k.getMonth())&&(!y||A<=l.getMonth())&&(w+='<option value="'+A+'"'+(A==c?' selected="selected"':"")+">"+q[A]+"</option>");w+="</select>"}u||(v+=w+(!m&&r&&p?
"":"&#xa0;"));b.yearshtml="";if(m||!p)v+='<span class="ui-datepicker-year">'+d+"</span>";else{q=this._get(b,"yearRange").split(":");var x=(new Date).getFullYear();t=function(a){a=a.match(/c[+-].*/)?d+parseInt(a.substring(1),10):a.match(/[+-].*/)?x+parseInt(a,10):parseInt(a,10);return isNaN(a)?x:a};c=t(q[0]);q=Math.max(c,t(q[1]||""));c=k?Math.max(c,k.getFullYear()):c;q=l?Math.min(q,l.getFullYear()):q;for(b.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+e+".datepicker._selectMonthYear('#"+
b.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+e+".datepicker._clickMonthYear('#"+b.id+"');\">";c<=q;c++)b.yearshtml+='<option value="'+c+'"'+(c==d?' selected="selected"':"")+">"+c+"</option>";b.yearshtml+="</select>";a.browser.mozilla?v+='<select class="ui-datepicker-year"><option value="'+d+'" selected="selected">'+d+"</option></select>":(v+=b.yearshtml,b.yearshtml=null)}v+=this._get(b,"yearSuffix");u&&(v+=(!m&&r&&p?"":"&#xa0;")+w);return v+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+
("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!=c&&"Y"!=c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");
b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a);
c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,
"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=
function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick).find("body").append(a.datepicker.dpDiv),a.datepicker.initialized=!0);var c=Array.prototype.slice.call(arguments,1);return"string"==typeof b&&("isDisabled"==b||"getDate"==b||"widget"==b)||"option"==b&&2==arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+
b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.8.11";window["DP_jQuery_"+e]=a})(jQuery);
jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],
16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?k.transparent:k[a.trim(b).toLowerCase()]}function d(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"===
typeof a[c]&&(b[c]=a[c]);return b}function e(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in m||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function f(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function g(b,c,d,e){"object"==typeof b&&(e=c,d=null,c=b,b=c.effect);a.isFunction(c)&&(e=c,d=null,c={});if("number"==typeof c||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null);c=c||{};d=d||c.duration;d=a.fx.off?0:"number"==typeof d?
d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default;e=e||c.complete;return[b,c,d,e]}function h(b){return!b||"number"===typeof b||a.fx.speeds[b]||"string"===typeof b&&!a.effects[b]?!0:!1}a.effects={};a.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(b,d){a.fx.step[d]=function(b){if(!b.colorInit){var e;e=b.elem;var f=d,g;do{g=a.curCSS(e,f);if(""!=g&&"transparent"!=g||a.nodeName(e,"body"))break;f="backgroundColor"}while(e=
e.parentNode);e=c(g);b.start=e;b.end=c(b.end);b.colorInit=!0}b.elem.style[d]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],
maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},l=["add","remove","toggle"],m={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,g,h){a.isFunction(g)&&(h=g,g=null);return this.queue("fx",function(){var k=a(this),m=k.attr("style")||
" ",w=e(d.call(this)),y,A=k.attr("className");a.each(l,function(a,c){b[c]&&k[c+"Class"](b[c])});y=e(d.call(this));k.attr("className",A);k.animate(f(w,y),c,g,function(){a.each(l,function(a,c){b[c]&&k[c+"Class"](b[c])});"object"==typeof k.attr("style")?(k.attr("style").cssText="",k.attr("style").cssText=m):k.attr("style",m);h&&h.apply(this,arguments)});w=a.queue(this);y=w.splice(w.length-1,1)[0];w.splice(1,0,y);a.dequeue(this)})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?
a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,
[{add:c,remove:b},d,e,f])}});a.extend(a.effects,{version:"1.8.11",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c;switch(a[0]){case "top":c=0;break;case "middle":c=.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=
0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});b.wrap(d);d=b.parent();"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):
(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return d.css(c).show()},removeWrapper:function(a){return a.parent().is(".ui-effects-wrapper")?a.parent().replaceWith(a):a},setTransition:function(b,c,d,e){e=e||{};a.each(c,function(a,c){unit=b.cssUnit(c);0<unit[0]&&(e[c]=unit[0]*d+unit[1])});return e}});a.fn.extend({effect:function(b){var c=
g.apply(this,arguments),d={options:c[1],duration:c[2],callback:c[3]},c=d.options.mode,e=a.effects[b];return a.fx.off||!e?c?this[c](d.duration,d.callback):this.each(function(){d.callback&&d.callback.call(this)}):e.call(this,d)},_show:a.fn.show,show:function(a){if(h(a))return this._show.apply(this,arguments);var b=g.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(h(a))return this._hide.apply(this,arguments);var b=g.apply(this,arguments);b[1].mode=
"hide";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(h(b)||"boolean"===typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=g.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,
c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*
((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,
b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>
(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=0,g=d;if(0==b)return c;if(1==(b/=e))return c+d;f||(f=.3*e);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return-(g*Math.pow(2,10*--b)*Math.sin(2*(b*e-a)*Math.PI/f))+c},easeOutElastic:function(a,b,c,d,e){var f=0,g=d;if(0==b)return c;if(1==(b/=e))return c+d;f||(f=.3*e);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return g*Math.pow(2,-10*b)*Math.sin(2*(b*e-a)*Math.PI/f)+
d+c},easeInOutElastic:function(a,b,c,d,e){var f=0,g=d;if(0==b)return c;if(2==(b/=e/2))return c+d;f||(f=.3*e*1.5);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return 1>b?-.5*g*Math.pow(2,10*--b)*Math.sin(2*(b*e-a)*Math.PI/f)+c:g*Math.pow(2,-10*--b)*Math.sin(2*(b*e-a)*Math.PI/f)*.5+d+c},easeInBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,
d,e,f,g){g==b&&(g=1.70158);return 1>(c/=f/2)?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:.5*a.easing.easeOutBounce(b,
2*c-f,0,e,f)+.5*e+d}})}(jQuery);"use strict";(function(a){a.fn.contextMenu=function(b){a(this).bind("contextmenu",function(a){b(a);return!1})}})(jQuery);"use strict";
(function(a){function b(b){if("string"===typeof b.data){var d=b.handler,e=b.data.toLowerCase().split(" ");b.handler=function(b){if(this===b.target||!/textarea|select/i.test(b.target.nodeName)&&"text"!==b.target.type){var c="keypress"!==b.type&&a.hotkeys.specialKeys[b.which],h=String.fromCharCode(b.which).toLowerCase(),k="",l={};b.ctrlKey&&"ctrl"!==c&&(k+="ctrl+");b.altKey&&"alt"!==c&&(k+="alt+");b.metaKey&&!b.ctrlKey&&"meta"!==c&&(k+="meta+");b.shiftKey&&"shift"!==c&&(k+="shift+");c?l[k+c]=!0:(l[k+
h]=!0,l[k+a.hotkeys.shiftNums[h]]=!0,"shift+"===k&&(l[a.hotkeys.shiftNums[h]]=!0));c=0;for(h=e.length;c<h;c++)if(l[e[c]])return d.apply(this,arguments)}}}}a.hotkeys={version:"0.8",specialKeys:{8:/mac/i.test(navigator.platform)?"del":"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",
104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:b}})})(jQuery);"use strict";
(function(a){a.fn.selectable=function(b){return this.each(function(){var c=a(this);c.css("user-select",b?"text":"none");c.css("-moz-user-select",b?"text":"-moz-none");c.css("-webkit-user-select",b?"auto":"none");(a.browser.msie||a.browser.opera)&&c.attr("unselectable",b?"off":"on")})}})(jQuery);"use strict";this.JSON||(this.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=h[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,h,r,p,u=f,v,w=d[a];w&&"object"===typeof w&&"function"===typeof w.toJSON&&(w=w.toJSON(a));"function"===typeof k&&(w=k.call(d,a,w));switch(typeof w){case "string":return b(w);case "number":return isFinite(w)?String(w):"null";case "boolean":case "null":return String(w);
case "object":if(!w)return"null";f+=g;v=[];if("[object Array]"===Object.prototype.toString.apply(w)){p=w.length;for(e=0;e<p;e+=1)v[e]=c(e,w)||"null";r=0===v.length?"[]":f?"[\n"+f+v.join(",\n"+f)+"\n"+u+"]":"["+v.join(",")+"]";f=u;return r}if(k&&"object"===typeof k)for(p=k.length,e=0;e<p;e+=1)h=k[e],"string"===typeof h&&(r=c(h,w))&&v.push(b(h)+(f?": ":":")+r);else for(h in w)Object.hasOwnProperty.call(w,h)&&(r=c(h,w))&&v.push(b(h)+(f?": ":":")+r);r=0===v.length?"{}":f?"{\n"+f+v.join(",\n"+f)+"\n"+
u+"}":"{"+v.join(",")+"}";f=u;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;g=f="";if("number"===typeof d)for(e=0;e<d;e+=1)g+=" ";else"string"===typeof d&&(g=d);if((k=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();
var Featuresets=function(){var a={};if("undefined"!=typeof Featuresets)return Featuresets;var b={custom_items_in_context_menu:{},websocket_connection:{},countdown:{},extended_hours:{},symbol_search_parser_mixin:{},show_pro_features:{},daily_timeframe_suffix:{},symbollist_context_menu:{},pay_attention_to_ticker_not_symbol:{},graying_disabled_tools_enabled:{},update_study_formatter_on_symbol_resolve:{},constraint_dialogs_movement:{},same_data_requery:{},phone_verification:{},show_interval_dialog_on_key_press:{},
header_interval_dialog_button:{subsets:["show_interval_dialog_on_key_press"]},header_fullscreen_button:{},header_symbol_search:{},header_resolutions:{subsets:["header_interval_dialog_button"]},header_chart_type:{},header_settings:{},header_indicators:{},header_compare:{},header_undo_redo:{},header_screenshot:{},header_saveload:{},header_saveload_to_the_right:{},header_widget:{subsets:"header_widget_dom_node header_symbol_search header_resolutions header_chart_type header_settings header_indicators header_compare header_undo_redo header_fullscreen_button".split(" ")},
chart_property_page:{subsets:"chart_property_page_style chart_property_page_scales chart_property_page_background chart_property_page_timezone_sessions chart_property_page_evetns_alerts chart_property_page_trading chart_property_page_template_button".split(" ")},disable_userlink_popup:{},left_toolbar:{},control_bar:{},widget_logo:{},timeframes_toolbar:{},edit_buttons_in_legend:{},pane_context_menu:{},scales_context_menu:{},legend_context_menu:{},context_menus:{subsets:["pane_context_menu","scales_context_menu",
"legend_context_menu"]},items_favoriting:{},save_chart_properties_to_local_storage:{},use_localstorage_for_settings:{subsets:["items_favoriting","save_chart_properties_to_local_storage"]},plain_studymarket:{},disable_resolution_rebuild:{},border_around_the_chart:{},narrow_chart_enabled:{},charting_library_debug_mode:{},log_data_request_time:{},saveload_requires_authentication:{},saveload_storage_customization:{},new_chart_creation_available:{},volume_force_overlay:{},create_volume_indicator_by_default:{},
saved_charts_count_restriction:{},lean_chart_load:{},stop_study_on_restart:{},star_some_intervals_by_default:{},predefined_items_only_may_be_starred:{},move_logo_to_main_pane:{},link_to_tradingview:{},right_bar_stays_on_scroll:{},short_name_may_differ_from_fullname:{},chart_content_overrides_by_deafults:{},14851:{},show_dialog_on_snapshot_ready:{},allow_supported_resolutions_set_only:{},study_market_minimized:{},widgetbar_tabs:{},collapsible_header:{},show_extension_popup:{},study_templates:{},side_toolbar_in_fullscreen_mode:{},
remove_library_container_border:{},whotrades_auth_only:{},support_multicharts:{},display_market_status:{},datasource_copypaste:{},line_tool_templates:{},expand_symbolsearch_items:{},symbol_search_three_columns_exchanges:{},symbol_search_flags:{},symbol_search_limited_exchanges:{},symbol_search_quandl:{},footer_share_buttons:{},footer_publish_idea_button:{},text_notes:{},symbol_info:{},no_bars_status:{},clear_bars_on_series_error:{},hide_loading_screen_on_series_error:{},seconds_resolution:{},dont_show_boolean_study_arguments:{},
hide_last_na_study_output:{},price_scale_always_last_bar_value:{},cqg_trading_confirm_risks:{},linetoolpropertieswidget_template_button:{},use_overrides_for_overlay:{},tv_production:{subsets:"show_pro_features countdown extended_hours symbol_search_parser_mixin symbollist_context_menu websocket_connection header_fullscreen_button header_widget left_toolbar control_bar timeframes_toolbar context_menus edit_buttons_in_legend use_localstorage_for_settings saveload_requires_authentication volume_force_overlay new_chart_creation_available saved_charts_count_restriction create_volume_indicator_by_default charts_auto_save right_bar_stays_on_scroll save_old_chart_before_save_as chart_property_page_trading chart_content_overrides_by_deafults alerts show_dialog_on_snapshot_ready show_extension_popup header_saveload header_saveload_to_the_right header_layouttoggle datasource_copypaste alerts show_saved_watchlists watchlists_from_to_file chart_property_page support_multicharts display_market_status support_manage_drawings widgetbar_tabs study_templates collapsible_header line_tool_templates caption_buttons_text_if_possible footer_share_buttons footer_publish_idea_button text_notes symbol_info linetoolpropertieswidget_template_button cqg_trading_confirm_risks symbol_search_three_columns_exchanges symbol_search_flags symbol_search_limited_exchanges symbol_search_quandl phone_verification chart_events".split(" ")},
browser_extension:{subsets:["disable_userlink_popup","show_pro_features","show_saved_watchlists","display_market_status","widgetbar_tabs"]},widget:{subsets:"show_pro_features countdown extended_hours symbol_search_parser_mixin symbollist_context_menu websocket_connection left_toolbar control_bar timeframes_toolbar context_menus edit_buttons_in_legend use_localstorage_for_settings saveload_requires_authentication volume_force_overlay create_volume_indicator_by_default right_bar_stays_on_scroll show_dialog_on_snapshot_ready header_widget_dom_node header_symbol_search header_resolutions header_chart_type header_compare header_indicators header_resolutions header_symbol_search header_widget_dom_node left_toolbar saveload_requires_authentication show_dialog_on_snapshot_ready star_some_intervals_by_default symbol_search_parser_mixin symbollist_context_menu timeframes_toolbar use_localstorage_for_settings volume_force_overlay websocket_connection display_market_status symbol_info linetoolpropertieswidget_template_button symbol_search_three_columns_exchanges symbol_search_flags symbol_search_limited_exchanges widgetbar_tabs".split(" ")},
bovespa_widget:{subsets:["widget","header_settings","extended_hours","chart_property_page_timezone_sessions","linetoolpropertieswidget_template_button"]},charting_library_base:{subsets:"14851 adapt_onchart_logo_background allow_supported_resolutions_set_only border_around_the_chart collapsible_header constraint_dialogs_movement context_menus control_bar create_volume_indicator_by_default custom_items_in_context_menu datasource_copypaste daily_timeframe_suffix display_market_status edit_buttons_in_legend graying_disabled_tools_enabled header_widget lean_chart_load left_toolbar link_to_tradingview pay_attention_to_ticker_not_symbol plain_studymarket predefined_items_only_may_be_starred refresh_saved_charts_list_on_dialog_show right_bar_stays_on_scroll saveload_storage_customization short_name_may_differ_from_fullname show_dialog_on_snapshot_ready stop_study_on_restart study_market_minimized timeframes_toolbar update_study_formatter_on_symbol_resolve update_timeframes_set_on_symbol_resolve use_localstorage_for_settings volume_force_overlay widget_logo countdown use_overrides_for_overlay chart_property_page_style chart_property_page_scales chart_property_page_background chart_property_page_timezone_sessions chart_property_page_evetns_alerts".split(" ")},
charting_library:{subsets:["charting_library_base","header_screenshot","header_saveload"]},static_charts_service:{subsets:["charting_library","disable_resolution_rebuild","log_data_request_time","same_data_requery"]},trading_terminal:{subsets:["charting_library_base","header_saveload_to_the_right","header_saveload","support_multicharts","header_layouttoggle"]},cqg_terminal:{subsets:"charting_library_base chart_property_page_trading header_saveload header_saveload_to_the_right expand_symbolsearch_items caption_buttons_text_if_possible clear_bars_on_series_error no_bars_status hide_loading_screen_on_series_error support_multicharts header_layouttoggle".split(" ")}},
c={},d;for(d in b){for(var e=b[d].subsets||[],f=0;f<e.length;++f)c[e[f]]=1;c[d]=1}var g={};for(d in c)for(var h in c)e=b[h],"undefined"!=typeof e&&e.subsets&&0<=e.subsets.indexOf(d)&&(g.hasOwnProperty(d)||(g[d]=[]),g[d].push(h));var k={};a.enabled=function(a){var b=g.hasOwnProperty(a)?g[a]:[];if(0==k[a])return!1;a=k[a];for(var c=0;c<b.length;++c)a|=Featuresets.enabled(b[c]);return a};a._uniqueSets=function(){return Object.keys(c)};a.enable=function(a){k[a]=!0};a.setEnabled=function(a,b){k[a]=b};"undefined"!=
typeof __initialDisabledFeaturesets&&__initialDisabledFeaturesets&&__initialDisabledFeaturesets.map(function(b){a.setEnabled(b,!1)});"undefined"!=typeof __initialEnabledFeaturesets&&__initialEnabledFeaturesets&&__initialEnabledFeaturesets.map(function(b){a.enable(b)});return a}();"undefined"!=typeof module&&(module.exports=Featuresets);var TradingView=TradingView||{},PineAddons={};TradingView.className=function(a){for(var b in this)if(TradingView[b]===a)return b;return null};
TradingView.isMobileView=/mobile=1/i.test(window.location.search);TradingView.isOnFeaturePage=/on-features-page=1/i.test(window.location.search);TradingView.wrapUrl=function(a){Featuresets.enabled("charting_library_base")&&(a=a.replace("/static/",""));return a};TradingView.RESOURCES_ROOT=TradingView.wrapUrl("/static/chart-client/css/");TradingView.THEME_RESOURCES_ROOT=TradingView.wrapUrl("/static/chart-client/css/images/");
TradingView.resourceFullPath=function(a){return TradingView.RESOURCES_ROOT+a};TradingView.themeResourceFullPath=function(a){return TradingView.THEME_RESOURCES_ROOT+a};
TradingView.isMobile=function(){var a=/Android/i.test(navigator.userAgent),b=/BlackBerry/i.test(navigator.userAgent),c=/iPhone|iPad|iPod/i.test(navigator.userAgent),d=/Opera Mini/i.test(navigator.userAgent),e=TradingView.winMobileMode,f=TradingView.isMobileView||a||b||c||d||e;return{Android:function(){return a},BlackBerry:function(){return b},iOS:function(){return c},Opera:function(){return d},Windows:function(){return e},any:function(){return f}}}();
TradingView.supportTouch=function(){return Modernizr.touch||TradingView.isMobile.any()};TradingView.onWidget=function(){return/widgetembed|widgetpopup|idea-popup/.test(window.location.pathname)};"undefined"!=typeof jQuery&&(TradingView.debugReady=$.Deferred());
(function(){var a,b,c;(function(){var d={},e={};a=function(a,b,c){d[a]={deps:b,callback:c}};c=b=function(a){function g(b){if("."!==b.charAt(0))return b;b=b.split("/");for(var c=a.split("/").slice(0,-1),d=0,e=b.length;d<e;d++){var g=b[d];".."===g?c.pop():"."!==g&&c.push(g)}return c.join("/")}c._eak_seen=d;if(e[a])return e[a];e[a]={};if(!d[a])throw Error("Could not find module "+a);for(var h=d[a],k=h.deps,h=h.callback,l=[],m,t=0,q=k.length;t<q;t++)"exports"===k[t]?l.push(m={}):l.push(b(g(k[t])));k=
h.apply(this,l);return e[a]=m||k}})();a("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,g=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function d(a){return function(c){e[a]=c;0===--f&&b(e)}}var e=[],f=a.length,r;0===f&&b([]);for(var p=0;p<a.length;p++)(r=a[p])&&g(r.then)?r.then(d(p),c):(e[p]=r,0===--f&&b(e))})}});a("promise/asap",["exports"],function(a){function b(){return function(){process.nextTick(h)}}
function c(){var a=0,b=new l(h),d=document.createTextNode("");b.observe(d,{characterData:!0});return function(){d.data=a=++a%2}}function g(){return function(){m.setTimeout(h,1)}}function h(){for(var a=0;a<t.length;a++){var b=t[a];(0,b[0])(b[1])}t=[]}var k="undefined"!==typeof window?window:{},l=k.MutationObserver||k.WebKitMutationObserver,m="undefined"!==typeof global?global:void 0===this?window:this,t=[],q;q="undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?b():l?c():g();
a.asap=function(a,b){1===t.push([a,b])&&q()}});a("promise/config",["exports"],function(a){var b={instrument:!1};a.config=b;a.configure=function(a,c){if(2===arguments.length)b[a]=c;else return b[a]}});a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){var g=a.Promise,h=b.isFunction;c.polyfill=function(){var a;a="undefined"!==typeof global?global:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&
"race"in a.Promise&&function(){var b;new a.Promise(function(a){b=a});return h(b)}()||(a.Promise=g)}});a("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,g,h,k,l,m){function t(a){if(!z(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this._subscribers=[];q(a,this)}function q(a,b){function c(a){w(b,a)}function d(a){A(b,a)}try{a(c,d)}catch(e){d(e)}}function r(a,b,c,d){var e=z(c),f,g,h,k;if(e)try{f=c(d),h=!0}catch(l){k=!0,g=l}else f=d,h=!0;v(b,f)||(e&&h?w(b,f):k?A(b,g):a===H?w(b,f):a===M&&A(b,f))}function p(a,b,c,d){a=a._subscribers;var e=a.length;a[e]=b;a[e+H]=c;a[e+M]=d}function u(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],r(b,c,d,f);a._subscribers=null}function v(a,b){var c=null,d;try{if(a===
b)throw new TypeError("A promises callback cannot return that same promise.");if(D(b)&&(c=b.then,z(c)))return c.call(b,function(c){if(d)return!0;d=!0;b!==c?w(a,c):y(a,c)},function(b){if(d)return!0;d=!0;A(a,b)}),!0}catch(e){if(d)return!0;A(a,e);return!0}return!1}function w(a,b){a===b?y(a,b):v(a,b)||y(a,b)}function y(a,b){a._state===G&&(a._state=J,a._detail=b,F.async(x,a))}function A(a,b){a._state===G&&(a._state=J,a._detail=b,F.async(n,a))}function x(a){u(a,a._state=H)}function n(a){u(a,a._state=M)}
var F=a.config,D=b.objectOrFunction,z=b.isFunction;a=c.all;g=g.race;h=h.resolve;k=k.reject;F.async=l.asap;var G=void 0,J=0,H=1,M=2;t.prototype={constructor:t,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;F.async(function(){r(c._state,d,e[c._state-1],c._detail)})}else p(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};t.all=a;t.race=g;t.resolve=h;t.reject=k;m.Promise=t});a("promise/race",
["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,c){for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"===typeof d.then?d.then(b,c):b(d)})}});a("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});a("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});
a("promise/utils",["exports"],function(a){function b(a){return"function"===typeof a}var c=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=function(a){return b(a)||"object"===typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});b("promise/polyfill").polyfill()})();
(function(){function a(a){var b=.75*a.length,c=a.length,d=0,e,m,t,q;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);for(var r=new ArrayBuffer(b),p=new Uint8Array(r),b=0;b<c;b+=4)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b]),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+1]),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+2]),q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b+
3]),p[d++]=e<<2|m>>4,p[d++]=(m&15)<<4|t>>2,p[d++]=(t&3)<<6|q&63;return r}function b(a){a=new Uint8Array(a);var b="",c;for(c=0;c<a.length;c+=3)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[c]>>2],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[c]&3)<<4|a[c+1]>>4],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[c+1]&15)<<2|a[c+2]>>6],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[c+2]&63];2===a.length%
3?b=b.substring(0,b.length-1)+"=":1===a.length%3&&(b=b.substring(0,b.length-2)+"==");return b}var c=/^~~local_forage_type~([^~]+)~/,d=this,e={serialize:function(a,c){var d="";a&&(d=a.toString());if(a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var e,l="__lfsc__:";a instanceof ArrayBuffer?(e=a,l+="arbf"):(e=a.buffer,"[object Int8Array]"===d?l+="si08":"[object Uint8Array]"===d?l+="ui08":"[object Uint8ClampedArray]"===d?l+="uic8":"[object Int16Array]"===
d?l+="si16":"[object Uint16Array]"===d?l+="ur16":"[object Int32Array]"===d?l+="si32":"[object Uint32Array]"===d?l+="ui32":"[object Float32Array]"===d?l+="fl32":"[object Float64Array]"===d?l+="fl64":c(Error("Failed to get type for BinaryArray")));c(l+b(e))}else if("[object Blob]"===d)d=new FileReader,d.onload=function(){var d="~~local_forage_type~"+a.type+"~"+b(this.result);c("__lfsc__:blob"+d)},d.readAsArrayBuffer(a);else try{c(JSON.stringify(a))}catch(m){console.error("Couldn't convert value into a JSON string: ",
a),c(null,m)}},deserialize:function(b){if("__lfsc__:"!==b.substring(0,9))return JSON.parse(b);var e=b.substring(13);b=b.substring(9,13);var h;if("blob"===b&&c.test(e)){var k=e.match(c);h=k[1];e=e.substring(k[0].length)}e=a(e);switch(b){case "arbf":return e;case "blob":var l;e=[e];h={type:h};e=e||[];h=h||{};try{l=new Blob(e,h)}catch(m){if("TypeError"!==m.name)throw m;l=new (d.BlobBuilder||d.MSBlobBuilder||d.MozBlobBuilder||d.WebKitBlobBuilder);for(b=0;b<e.length;b+=1)l.append(e[b]);l=l.getBlob(h.type)}return l;
case "si08":return new Int8Array(e);case "ui08":return new Uint8Array(e);case "uic8":return new Uint8ClampedArray(e);case "si16":return new Int16Array(e);case "ur16":return new Uint16Array(e);case "si32":return new Int32Array(e);case "ui32":return new Uint32Array(e);case "fl32":return new Float32Array(e);case "fl64":return new Float64Array(e);default:throw Error("Unkown type: "+b);}},stringToBuffer:a,bufferToString:b};"undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?module.exports=
e:"function"===typeof define&&define.amd?define("localforageSerializer",function(){return e}):this.localforageSerializer=e}).call(window);
(function(){function a(a,b){a=a||[];b=b||{};try{return new Blob(a,b)}catch(c){if("TypeError"!==c.name)throw c;for(var d=new (window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder),e=0;e<a.length;e+=1)d.append(a[e]);return d.getBlob(b.type)}}function b(a){return new v(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){if(4===d.readyState){if(200===d.status)return b({response:d.response,
type:d.getResponseHeader("Content-Type")});c({status:d.status,response:d.response})}};d.send()})}function c(c){return(new v(function(d,e){var f=a([""],{type:"image/png"}),g=c.transaction(["local-forage-detect-blob-support"],"readwrite");g.objectStore("local-forage-detect-blob-support").put(f,"key");g.oncomplete=function(){var a=c.transaction(["local-forage-detect-blob-support"],"readwrite").objectStore("local-forage-detect-blob-support").get("key");a.onerror=e;a.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);
b(c).then(function(a){d(!(!a||"image/png"!==a.type))},function(){d(!1)}).then(function(){URL.revokeObjectURL(c)})}}}))["catch"](function(){return!1})}function d(a){return"boolean"===typeof y?v.resolve(y):c(a).then(function(a){return y=a})}function e(a){return new v(function(b,c){var d=new FileReader;d.onerror=c;d.onloadend=function(c){c=btoa(c.target.result||"");b({__local_forage_encoded_blob:!0,data:c,type:a.type})};d.readAsBinaryString(a)})}function f(b){for(var c=atob(b.data),d=c.length,e=new ArrayBuffer(d),
f=new Uint8Array(e),g=0;g<d;g++)f[g]=c.charCodeAt(g);return a([e],{type:b.type})}function g(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=a[d];return new v(function(a,d){var e=w.open(c.name,c.version);e.onerror=function(){d(e.error)};e.onupgradeneeded=function(a){e.result.createObjectStore(c.storeName);1>=a.oldVersion&&e.result.createObjectStore("local-forage-detect-blob-support")};e.onsuccess=function(){c.db=e.result;b._dbInfo=c;a()}})}function h(a,b){var c=this;"string"!==typeof a&&(window.console.warn(a+
" used as a key, but it is not a string."),a=String(a));var d=new v(function(b,d){c.ready().then(function(){var e=c._dbInfo,g=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null);a&&a.__local_forage_encoded_blob&&(a=f(a));b(a)};g.onerror=function(){d(g.error)}})["catch"](d)});u(d,b);return d}function k(a,b){var c=this,d=new v(function(b,d){c.ready().then(function(){var e=c._dbInfo,g=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).openCursor(),
h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;d&&d.__local_forage_encoded_blob&&(d=f(d));d=a(d,c.key,h++);if(void 0!==d)b(d);else c["continue"]()}else b()};g.onerror=function(){d(g.error)}})["catch"](d)});u(d,b);return d}function l(a,b,c){var f=this;"string"!==typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var g=new v(function(c,g){var h;f.ready().then(function(){h=f._dbInfo;return d(h.db)}).then(function(a){return!a&&b instanceof Blob?e(b):
b}).then(function(b){var d=h.db.transaction(h.storeName,"readwrite"),e=d.objectStore(h.storeName);null===b&&(b=void 0);var f=e.put(b,a);d.oncomplete=function(){void 0===b&&(b=null);c(b)};d.onabort=d.onerror=function(){g(f.error?f.error:f.transaction.error)}})["catch"](g)});u(g,c);return g}function m(a,b){var c=this;"string"!==typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new v(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,
"readwrite"),g=f.objectStore(e.storeName)["delete"](a);f.oncomplete=function(){b()};f.onerror=function(){d(g.error)};f.onabort=function(){d(g.error?g.error:g.transaction.error)}})["catch"](d)});u(d,b);return d}function t(a){var b=this,c=new v(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readwrite"),f=e.objectStore(d.storeName).clear();e.oncomplete=function(){a()};e.onabort=e.onerror=function(){c(f.error?f.error:f.transaction.error)}})["catch"](c)});u(c,a);
return c}function q(a){var b=this,c=new v(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName).count();e.onsuccess=function(){a(e.result)};e.onerror=function(){c(e.error)}})["catch"](c)});u(c,a);return c}function r(a,b){var c=this,d=new v(function(b,d){if(0>a)b(null);else c.ready().then(function(){var e=c._dbInfo,f=!1,g=e.db.transaction(e.storeName,"readonly").objectStore(e.storeName).openCursor();g.onsuccess=function(){var c=
g.result;c?0===a?b(c.key):f?b(c.key):(f=!0,c.advance(a)):b(null)};g.onerror=function(){d(g.error)}})["catch"](d)});u(d,b);return d}function p(a){var b=this,c=new v(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,"readonly").objectStore(d.storeName).openCursor(),f=[];e.onsuccess=function(){var b=e.result;b?(f.push(b.key),b["continue"]()):a(f)};e.onerror=function(){c(e.error)}})["catch"](c)});u(c,a);return c}function u(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}
var v="undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?require("promise"):this.Promise,w=w||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(w){var y,A={_driver:"asyncStorage",_initStorage:g,iterate:k,getItem:h,setItem:l,removeItem:m,clear:t,length:q,key:r,keys:p};"undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?module.exports=A:"function"===typeof define&&define.amd?define("asyncStorage",function(){return A}):
this.asyncStorage=A}}).call(window);
(function(){function a(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var b="undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?require("promise"):this.Promise,c=this,d=null,e=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;e=this.localStorage}catch(f){return}var g=3;"undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?g=2:"function"===typeof define&&define.amd&&(g=1);var h={_driver:"localStorageWrapper",_initStorage:function(a){var e=
{};if(a)for(var f in a)e[f]=a[f];e.keyPrefix=e.name+"/";this._dbInfo=e;return(new b(function(a){1===g?require(["localforageSerializer"],a):2===g?a(require("./../utils/serializer")):a(c.localforageSerializer)})).then(function(a){d=a;return b.resolve()})},iterate:function(b,c){var f=this,g=f.ready().then(function(){for(var a=f._dbInfo.keyPrefix.length,c=e.length,g=0;g<c;g++){var h=e.key(g),l=e.getItem(h);l&&(l=d.deserialize(l));l=b(l,h.substring(a),g+1);if(void 0!==l)return l}});a(g,c);return g},getItem:function(b,
c){var f=this;"string"!==typeof b&&(window.console.warn(b+" used as a key, but it is not a string."),b=String(b));var g=f.ready().then(function(){var a=e.getItem(f._dbInfo.keyPrefix+b);a&&(a=d.deserialize(a));return a});a(g,c);return g},setItem:function(c,f,g){var h=this;"string"!==typeof c&&(window.console.warn(c+" used as a key, but it is not a string."),c=String(c));var q=h.ready().then(function(){void 0===f&&(f=null);var a=f;return new b(function(b,g){d.serialize(f,function(d,f){if(f)g(f);else try{e.setItem(h._dbInfo.keyPrefix+
c,d),b(a)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||g(l),g(l)}})})});a(q,g);return q},removeItem:function(b,c){var d=this;"string"!==typeof b&&(window.console.warn(b+" used as a key, but it is not a string."),b=String(b));var f=d.ready().then(function(){e.removeItem(d._dbInfo.keyPrefix+b)});a(f,c);return f},clear:function(b){var c=this,d=c.ready().then(function(){for(var a=c._dbInfo.keyPrefix,b=e.length-1;0<=b;b--){var d=e.key(b);0===d.indexOf(a)&&e.removeItem(d)}});
a(d,b);return d},length:function(b){var c=this.keys().then(function(a){return a.length});a(c,b);return c},key:function(b,c){var d=this,f=d.ready().then(function(){var a=d._dbInfo,c;try{c=e.key(b)}catch(f){c=null}c&&(c=c.substring(a.keyPrefix.length));return c});a(f,c);return f},keys:function(b){var c=this,d=c.ready().then(function(){for(var a=c._dbInfo,b=e.length,d=[],f=0;f<b;f++)0===e.key(f).indexOf(a.keyPrefix)&&d.push(e.key(f).substring(a.keyPrefix.length));return d});a(d,b);return d}};2===g?module.exports=
h:1===g?define("localStorageWrapper",function(){return h}):this.localStorageWrapper=h}).call(window);
(function(){function a(a){var b=this,c={db:null};if(a)for(var d in a)c[d]="string"!==typeof a[d]?a[d].toString():a[d];d=new m(function(a){u===p.DEFINE?require(["localforageSerializer"],a):u===p.EXPORT?a(require("./../utils/serializer")):a(t.localforageSerializer)});var e=new m(function(d,e){try{c.db=r(c.name,String(c.version),c.description,c.size)}catch(f){return b.setDriver(b.LOCALSTORAGE).then(function(){return b._initStorage(a)}).then(d)["catch"](e)}c.db.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+c.storeName+
" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){b._dbInfo=c;d()},function(a,b){e(b)})})});return d.then(function(a){q=a;return e})}function b(a,b){var c=this;"string"!==typeof a&&(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&
(d=q.deserialize(d));b(d)},function(a,b){d(b)})})})["catch"](d)});l(d,b);return d}function c(a,b){var c=this,d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.storeName,[],function(c,d){for(var e=d.rows,f=e.length,g=0;g<f;g++){var h=e.item(g),k=h.value;k&&(k=q.deserialize(k));k=a(k,h.key,g+1);if(void 0!==k){b(k);return}}b()},function(a,b){d(b)})})})["catch"](d)});l(d,b);return d}function d(a,b,c){var d=this;"string"!==typeof a&&
(window.console.warn(a+" used as a key, but it is not a string."),a=String(a));var e=new m(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b;q.serialize(b,function(b,g){if(g)e(g);else{var h=d._dbInfo;h.db.transaction(function(d){d.executeSql("INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})}})})["catch"](e)});l(e,c);return e}function e(a,b){var c=this;"string"!==typeof a&&(window.console.warn(a+
" used as a key, but it is not a string."),a=String(a));var d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("DELETE FROM "+e.storeName+" WHERE key = ?",[a],function(){b()},function(a,b){d(b)})})})["catch"](d)});l(d,b);return d}function f(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.storeName,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});
l(c,a);return c}function g(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})["catch"](c)});l(c,a);return c}function h(a,b){var c=this,d=new m(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=
c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});l(d,b);return d}function k(a){var b=this,c=new m(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})["catch"](c)});l(c,a);return c}function l(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var m="undefined"!==typeof module&&
module.exports&&"undefined"!==typeof require?require("promise"):this.Promise,t=this,q=null,r=this.openDatabase;if(r){var p={DEFINE:1,EXPORT:2,WINDOW:3},u=p.WINDOW;"undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?u=p.EXPORT:"function"===typeof define&&define.amd&&(u=p.DEFINE);var v={_driver:"webSQLStorage",_initStorage:a,iterate:c,getItem:b,setItem:d,removeItem:e,clear:f,length:g,key:h,keys:k};u===p.DEFINE?define("webSQLStorage",function(){return v}):u===p.EXPORT?module.exports=
v:this.webSQLStorage=v}}).call(window);
(function(){function a(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function b(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(t(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function c(a){for(var b in g)if(g.hasOwnProperty(b)&&g[b]===a)return!0;return!1}function d(c){this._config=b({},k,c);this._driverSet=null;this._ready=!1;this._dbInfo=null;for(c=0;c<h.length;c++)a(this,
h[c]);this.setDriver(this._config.driver)}var e="undefined"!==typeof module&&module.exports&&"undefined"!==typeof require?require("promise"):this.Promise,f={},g={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},h="clear getItem iterate key keys length removeItem setItem".split(" "),k={description:"",driver:[g.INDEXEDDB,g.WEBSQL,g.LOCALSTORAGE].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},l=3;"undefined"!==typeof module&&module.exports&&
"undefined"!==typeof require?l=2:"function"===typeof define&&define.amd&&(l=1);var m=function(a){var b=b||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.OIndexedDB||a.msIndexedDB,c={};c[g.WEBSQL]=!!a.openDatabase;c[g.INDEXEDDB]=!!function(){if("undefined"!==typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent))return!1;try{return b&&"function"===typeof b.open&&"undefined"!==typeof a.IDBKeyRange}catch(c){return!1}}();
var d=g.LOCALSTORAGE,e;try{e=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(f){e=!1}c[d]=!!e;return c}(this),t=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},q=this;d.prototype.INDEXEDDB=g.INDEXEDDB;d.prototype.LOCALSTORAGE=g.LOCALSTORAGE;d.prototype.WEBSQL=g.WEBSQL;d.prototype.config=function(a){if("object"===typeof a){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a)"storeName"===
b&&(a[b]=a[b].replace(/\W/g,"_")),this._config[b]=a[b];"driver"in a&&a.driver&&this.setDriver(this._config.driver);return!0}return"string"===typeof a?this._config[a]:this._config};d.prototype.defineDriver=function(a,b,d){var g=new e(function(b,d){try{var g=a._driver,k=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),l=Error("Custom driver name already in use: "+a._driver);if(a._driver)if(c(a._driver))d(l);else{for(var v=h.concat("_initStorage"),l=0;l<v.length;l++){var t=
v[l];if(!t||!a[t]||"function"!==typeof a[t]){d(k);return}}var q=e.resolve(!0);"_support"in a&&(q=a._support&&"function"===typeof a._support?a._support():e.resolve(!!a._support));q.then(function(c){m[g]=c;f[g]=a;b()},d)}else d(k)}catch(u){d(u)}});g.then(b,d);return g};d.prototype.driver=function(){return this._driver||null};d.prototype.ready=function(a){var b=this,c=new e(function(a,c){b._driverSet.then(function(){null===b._ready&&(b._ready=b._initStorage(b._config));b._ready.then(a,c)})["catch"](c)});
c.then(a,a);return c};d.prototype.setDriver=function(a,b,d){function g(){h._config.driver=h.driver()}var h=this;"string"===typeof a&&(a=[a]);this._driverSet=new e(function(b,d){var g=h._getFirstSupportedDriver(a),k=Error("No available storage method found.");g?(h._dbInfo=null,h._ready=null,c(g)?(new e(function(a){if(1===l)require([g],a);else if(2===l)switch(g){case h.INDEXEDDB:a(require("./drivers/indexeddb"));break;case h.LOCALSTORAGE:a(require("./drivers/localstorage"));break;case h.WEBSQL:a(require("./drivers/websql"))}else a(q[g])})).then(function(a){h._extend(a);
b()}):f[g]?(h._extend(f[g]),b()):(h._driverSet=e.reject(k),d(k))):(h._driverSet=e.reject(k),d(k))});this._driverSet.then(g,g);this._driverSet.then(b,d);return this._driverSet};d.prototype.supports=function(a){return!!m[a]};d.prototype._extend=function(a){b(this,a)};d.prototype._getFirstSupportedDriver=function(a){if(a&&t(a))for(var b=0;b<a.length;b++){var c=a[b];if(this.supports(c))return c}return null};d.prototype.createInstance=function(a){return new d(a)};var r=new d;1===l?define("localforage",
function(){return r}):2===l?module.exports=r:this.localforage=r}).call(window);"use strict";var localForageDriver=[localforage.INDEXEDDB,localforage.LOCALSTORAGE,localforage.WEBSQL],localForageBackupDriver=[localforage.LOCALSTORAGE,localforage.WEBSQL,localforage.INDEXEDDB];window.localForageReady=$.Deferred();
(function(){var a=window.console||{};"undefined"!=typeof TradingView&&TradingView.debugReady&&(a={log:function(a){TradingView.debugReady.done(function(){TradingView.logNormal(a)})},error:function(a){TradingView.debugReady.done(function(){TradingView.logError(a)})}});var b=function(b){a.log("localForage driver: "+JSON.stringify(b));localforage.config({name:"tradingview",driver:b});window.localForageReady.resolve()};try{var c=window.indexedDB.open("tradingviewCheckIndexedDB");c.onerror=function(c){a.error("IndexedDB is NOT available");
b(localForageBackupDriver)};c.onsuccess=function(c){a.log("IndexedDB is available");b(localForageDriver)}}catch(d){a.error("IndexedDB is NOT available, "+d),b(localForageBackupDriver)}})();"use strict";this.io={version:"0.6.2",setPath:function(a){window.console&&console.error&&console.error("io.setPath will be removed. Please set the variable WEB_SOCKET_SWF_LOCATION pointing to WebSocketMain.swf");this.path=/\/$/.test(a)?a:a+"/";WEB_SOCKET_SWF_LOCATION=a+"lib/vendor/web-socket-js/WebSocketMain.swf"}};
"jQuery"in this&&(jQuery.io=this.io);if("undefined"!=typeof window&&"undefined"===typeof WEB_SOCKET_SWF_LOCATION)var WEB_SOCKET_SWF_LOCATION="/socket.io/lib/vendor/web-socket-js/WebSocketMain.swf";
(function(){var a=!1;io.util={ios:!1,load:function(b){if(/loaded|complete/.test(document.readyState)||a)return b();"attachEvent"in window?window.attachEvent("onload",b):window.addEventListener("load",b,!1)},inherit:function(a,c){for(var d in c.prototype)a.prototype[d]=c.prototype[d]},indexOf:function(a,c,d){var e=a.length;for(d=0>d?Math.max(0,e+d):d||0;d<e;d++)if(a[d]===c)return d;return-1},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},merge:function(a,c){for(var d in c)c.hasOwnProperty(d)&&
(a[d]=c[d])}};io.util.ios=/iphone|ipad/i.test(navigator.userAgent);io.util.android=/android/i.test(navigator.userAgent);io.util.opera=/opera/i.test(navigator.userAgent);io.util.load(function(){a=!0})})();
(function(){var a=io.Transport=function(a,c){this.base=a;this.options={timeout:6E4};io.util.merge(this.options,c)};a.prototype.send=function(){throw Error("Missing send() implementation");};a.prototype.connect=function(){throw Error("Missing connect() implementation");};a.prototype.disconnect=function(){throw Error("Missing disconnect() implementation");};a.prototype._encode=function(a){var c="",d;a=io.util.isArray(a)?a:[a];for(var e=0,f=a.length;e<f;e++)null===a[e]||void 0===a[e]?d="":(d=a[e],"[object Object]"==
Object.prototype.toString.call(d)?"JSON"in window?d="~j~"+JSON.stringify(d):("console"in window&&console.error&&console.error("Trying to encode as JSON, but JSON.stringify is missing."),d='{ "$error": "Invalid message" }'):d=String(d)),c+="~m~"+d.length+"~m~"+d;return c};a.prototype._decode=function(a){var c=[],d,e;do{if("~m~"!==a.substr(0,3))break;a=a.substr(3);d="";for(var f=0,g=a.length;f<g;f++)if(e=Number(a.substr(f,1)),a.substr(f,1)==e)d+=e;else{a=a.substr(d.length+3);d=Number(d);break}c.push(a.substr(0,
d));a=a.substr(d)}while(""!==a);return c};a.prototype._onData=function(a){this._setTimeout();if((a=this._decode(a))&&a.length)for(var c=0,d=a.length;c<d;c++)this._onMessage(a[c])};a.prototype._setTimeout=function(){var a=this;this._timeout&&clearTimeout(this._timeout);this._timeout=setTimeout(function(){a._onTimeout()},this.options.timeout)};a.prototype._onTimeout=function(){this._onDisconnect({code:4E3,reason:"socket.io timeout",wasClean:!1})};a.prototype._onMessage=function(a){this.sessionid?"~h~"==
a.substr(0,3)?this._onHeartbeat(a.substr(3)):"~j~"==a.substr(0,3)?this.base._onMessage(JSON.parse(a.substr(3))):this.base._onMessage(a):(this.sessionid=a,this._onConnect())};a.prototype._onHeartbeat=function(a){this.send("~h~"+a)};a.prototype._onConnect=function(){this.connected=!0;this.connecting=!1;this.base._onConnect();this._setTimeout()};a.prototype._onDisconnect=function(a){this.connected=this.connecting=!1;this.sessionid=null;this.base._onDisconnect(a)};a.prototype._prepareUrl=function(){return(this.base.options.secure?
"https":"http")+"://"+this.base.host+":"+this.base.options.port+"/"+this.base.options.resource+"/"+this.type+(this.sessionid?"/"+this.sessionid:"/")}})();
(function(){var a=new Function,b="XMLHttpRequest"in window?void 0!=(new XMLHttpRequest).withCredentials:!1,c=function(a){if("XDomainRequest"in window&&a)return new XDomainRequest;if("XMLHttpRequest"in window&&(!a||b))return new XMLHttpRequest;if(!a){try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}return!1},d=io.Transport.XHR=function(){io.Transport.apply(this,arguments);this._sendBuffer=[]};io.util.inherit(d,io.Transport);d.prototype.connect=
function(){this._get();return this};d.prototype._checkSend=function(){if(!this._posting&&this._sendBuffer.length){var a=this._encode(this._sendBuffer);this._sendBuffer=[];this._send(a)}};d.prototype.send=function(a){io.util.isArray(a)?this._sendBuffer.push.apply(this._sendBuffer,a):this._sendBuffer.push(a);this._checkSend();return this};d.prototype._send=function(b){var c=this;this._posting=!0;this._sendXhr=this._request("send","POST");this._sendXhr.onreadystatechange=function(){var b;if(4==c._sendXhr.readyState){c._sendXhr.onreadystatechange=
a;try{b=c._sendXhr.status}catch(d){}c._posting=!1;200==b?c._checkSend():c._onDisconnect()}};this._sendXhr.send("data="+encodeURIComponent(b))};d.prototype.disconnect=function(){this._onDisconnect();return this};d.prototype._onDisconnect=function(){if(this._xhr){this._xhr.onreadystatechange=a;try{this._xhr.abort()}catch(b){}this._xhr=null}if(this._sendXhr){this._sendXhr.onreadystatechange=a;try{this._sendXhr.abort()}catch(c){}this._sendXhr=null}this._sendBuffer=[];io.Transport.prototype._onDisconnect.call(this)};
d.prototype._request=function(a,b,d){var h=c(this.base._isXDomain());d&&(h.multipart=!0);h.open(b||"GET",this._prepareUrl()+(a?"/"+a:""));"POST"==b&&"setRequestHeader"in h&&h.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8");return h};d.check=function(a){try{if(c(a))return!0}catch(b){}return!1};d.xdomainCheck=function(){return d.check(!0)};d.request=c})();
(function(){var a=io.Transport.websocket=function(){io.Transport.apply(this,arguments)};io.util.inherit(a,io.Transport);a.prototype.type="websocket";a.prototype.connect=function(){var a=this;this.socket=new WebSocket(this._prepareUrl());this.socket.onmessage=function(c){a._onData(c.data)};this.socket.onclose=function(c){a._onClose(c)};this.socket.onerror=function(c){a._onError(c)};return this};a.prototype.send=function(a){this.socket&&this.socket.send(this._encode(a));return this};a.prototype.disconnect=
function(){this.socket&&this.socket.close();return this};a.prototype._onClose=function(a){this._onDisconnect(a);return this};a.prototype._onError=function(a){this.base.emit("error",[a])};a.prototype._prepareUrl=function(){return(this.base.options.secure?"wss":"ws")+"://"+this.base.host+(this.base.options.port?":"+this.base.options.port:"")+"/"+this.base.options.resource+"/"+this.type+(this.sessionid?"/"+this.sessionid:"")};a.check=function(){return"WebSocket"in window&&WebSocket.prototype&&WebSocket.prototype.send&&
!!WebSocket.prototype.send.toString().match(/native/i)&&"undefined"!==typeof WebSocket};a.xdomainCheck=function(){return!0}})();
(function(){var a=io.Transport.flashsocket=function(){io.Transport.websocket.apply(this,arguments)};io.util.inherit(a,io.Transport.websocket);a.prototype.type="flashsocket";a.prototype.connect=function(){var a=this,c=arguments;WebSocket.__addTask(function(){io.Transport.websocket.prototype.connect.apply(a,c)});return this};a.prototype.send=function(){var a=this,c=arguments;WebSocket.__addTask(function(){io.Transport.websocket.prototype.send.apply(a,c)});return this};a.check=function(){if("undefined"==
typeof WebSocket||!("__addTask"in WebSocket))return!1;if("navigator"in window&&"plugins"in navigator&&navigator.plugins["Shockwave Flash"])return!!navigator.plugins["Shockwave Flash"].description;if("ActiveXObject"in window)try{return!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(a){}return!1};a.xdomainCheck=function(){return!0}})();
(function(){var a=io.Transport.htmlfile=function(){io.Transport.XHR.apply(this,arguments)};io.util.inherit(a,io.Transport.XHR);a.prototype.type="htmlfile";a.prototype._get=function(){var a=this;this._open();window.attachEvent("onunload",function(){a._destroy()})};a.prototype._open=function(){this._doc=new ActiveXObject("htmlfile");this._doc.open();this._doc.write("<html></html>");this._doc.parentWindow.s=this;this._doc.close();var a=this._doc.createElement("div");this._doc.body.appendChild(a);this._iframe=
this._doc.createElement("iframe");a.appendChild(this._iframe);this._iframe.src=this._prepareUrl()+"/"+ +new Date};a.prototype._=function(a,c){this._onData(a);var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)};a.prototype._destroy=function(){this._iframe&&(this._iframe.src="about:blank",this._doc=null,CollectGarbage())};a.prototype.disconnect=function(){this._destroy();return io.Transport.XHR.prototype.disconnect.call(this)};a.check=function(){if("ActiveXObject"in window)try{return new ActiveXObject("htmlfile")&&
io.Transport.XHR.check()}catch(a){}return!1};a.xdomainCheck=function(){return!1}})();
(function(){var a=io.Transport["xhr-multipart"]=function(){io.Transport.XHR.apply(this,arguments)};io.util.inherit(a,io.Transport.XHR);a.prototype.type="xhr-multipart";a.prototype._get=function(){var a=this;this._xhr=this._request("","GET",!0);this._xhr.onreadystatechange=function(){4==a._xhr.readyState&&a._onData(a._xhr.responseText)};this._xhr.send(null)};a.check=function(){return"XMLHttpRequest"in window&&"prototype"in XMLHttpRequest&&"multipart"in XMLHttpRequest.prototype};a.xdomainCheck=function(){return!0}})();
(function(){var a=new Function,b=io.Transport["xhr-polling"]=function(){io.Transport.XHR.apply(this,arguments)};io.util.inherit(b,io.Transport.XHR);b.prototype.type="xhr-polling";b.prototype.connect=function(){if(io.util.ios||io.util.android){var a=this;io.util.load(function(){setTimeout(function(){io.Transport.XHR.prototype.connect.call(a)},10)})}else io.Transport.XHR.prototype.connect.call(this)};b.prototype._get=function(){var b=this;this._xhr=this._request(+new Date,"GET");this._xhr.onreadystatechange=
function(){var d;if(4==b._xhr.readyState){b._xhr.onreadystatechange=a;try{d=b._xhr.status}catch(e){}200==d?(b._onData(b._xhr.responseText),b._get()):b._onDisconnect()}};this._xhr.send(null)};b.check=function(){return io.Transport.XHR.check()};b.xdomainCheck=function(){return io.Transport.XHR.xdomainCheck()}})();io.JSONP=[];
var JSONPPolling=io.Transport["jsonp-polling"]=function(){io.Transport.XHR.apply(this,arguments);this._insertAt=document.getElementsByTagName("script")[0];this._index=io.JSONP.length;io.JSONP.push(this)};io.util.inherit(JSONPPolling,io.Transport["xhr-polling"]);JSONPPolling.prototype.type="jsonp-polling";
JSONPPolling.prototype._send=function(a){function b(){c();d._posting=!1;d._checkSend()}function c(){d._iframe&&d._form.removeChild(d._iframe);try{h=document.createElement('<iframe name="'+d._iframeId+'">')}catch(a){h=document.createElement("iframe"),h.name=d._iframeId}h.id=d._iframeId;d._form.appendChild(h);d._iframe=h}var d=this;if(!("_form"in this)){var e=document.createElement("FORM"),f=document.createElement("TEXTAREA"),g=this._iframeId="socket_io_iframe_"+this._index,h;e.style.position="absolute";
e.style.top="-1000px";e.style.left="-1000px";e.target=g;e.method="POST";e.action=this._prepareUrl()+"/"+ +new Date+"/"+this._index;f.name="data";e.appendChild(f);this._insertAt.parentNode.insertBefore(e,this._insertAt);document.body.appendChild(e);this._form=e;this._area=f}c();this._posting=!0;this._area.value=a;try{this._form.submit()}catch(k){}this._iframe.attachEvent?h.onreadystatechange=function(){"complete"==d._iframe.readyState&&b()}:this._iframe.onload=b};
JSONPPolling.prototype._get=function(){var a=this,b=document.createElement("SCRIPT");this._script&&(this._script.parentNode.removeChild(this._script),this._script=null);b.async=!0;b.src=this._prepareUrl()+"/"+ +new Date+"/"+this._index;b.onerror=function(){a._onDisconnect()};this._insertAt.parentNode.insertBefore(b,this._insertAt);this._script=b};JSONPPolling.prototype._=function(){this._onData.apply(this,arguments);this._get();return this};JSONPPolling.check=function(){return!0};
JSONPPolling.xdomainCheck=function(){return!0};
(function(){var a=io.Socket=function(a,c){this.host=a||document.domain;this.options={secure:!1,document:document,port:document.location.port||80,resource:"socket.io",transports:["websocket","flashsocket"],transportOptions:{"xhr-polling":{timeout:25E3},"jsonp-polling":{timeout:25E3}},connectTimeout:5E3,tryTransportsOnConnectTimeout:!0,rememberTransport:!0};io.util.merge(this.options,c);this.connecting=this.connected=!1;this._events={};this.transport=this.getTransport();!this.transport&&"console"in
window&&console.error("No transport available")};a.prototype.getTransport=function(a){var c=a||this.options.transports;this.options.rememberTransport&&!a&&(a=this.options.document.cookie.match("(?:^|;)\\s*socketio=([^;]*)"))&&(this._rememberedTransport=!0,c=[decodeURIComponent(a[1])]);a=0;for(var d;d=c[a];a++)if(io.Transport[d]&&io.Transport[d].check()&&(!this._isXDomain()||io.Transport[d].xdomainCheck()))return new io.Transport[d](this,this.options.transportOptions[d]||{});return null};a.prototype.connect=
function(){this.transport&&!this.connected&&(this.connecting&&this.disconnect(),this.connecting=!0,this.emit("connecting",[this.transport.type]),this.transport.connect());return this};a.prototype.send=function(a){if(!this.transport||!this.transport.connected)return this._queue(a);this.transport.send(a);return this};a.prototype.disconnect=function(){this.connectTimeoutTimer&&clearTimeout(this.connectTimeoutTimer);this.transport.disconnect();return this};a.prototype.on=function(a,c){a in this._events||
(this._events[a]=[]);this._events[a].push(c);return this};a.prototype.emit=function(a,c){if(a in this._events)for(var d=this._events[a].concat(),e=0,f=d.length;e<f;e++)d[e].apply(this,void 0===c?[]:c);return this};a.prototype.removeEvent=function(a,c){if(a in this._events)for(var d=0,e=this._events[a].length;d<e;d++)this._events[a][d]==c&&this._events[a].splice(d,1);return this};a.prototype._queue=function(a){"_queueStack"in this||(this._queueStack=[]);this._queueStack.push(a);return this};a.prototype._doQueue=
function(){if(!("_queueStack"in this&&this._queueStack.length))return this;this.transport.send(this._queueStack);this._queueStack=[];return this};a.prototype._isXDomain=function(){return this.host!==document.domain};a.prototype._onConnect=function(){this.connected=!0;this.connecting=!1;this._doQueue();this.options.rememberTransport&&(this.options.document.cookie="socketio="+encodeURIComponent(this.transport.type));this.emit("connect")};a.prototype._onMessage=function(a){this.emit("message",[a])};
a.prototype._onDisconnect=function(a){var c=this.connected,d=this.connecting;this.connecting=this.connected=!1;this._queueStack=[];(c||d)&&this.emit("disconnect",[a])};a.prototype.fire=a.prototype.emit;a.prototype.addListener=a.prototype.addEvent=a.prototype.addEventListener=a.prototype.on})();
function FABridge(a,b){this.target=a;this.remoteTypeCache={};this.remoteInstanceCache={};this.remoteFunctionCache={};this.localFunctionCache={};this.bridgeID=FABridge.nextBridgeID++;this.name=b;this.nextLocalFuncID=0;FABridge.instances[this.name]=this;FABridge.idMap[this.bridgeID]=this;return this}FABridge.TYPE_ASINSTANCE=1;FABridge.TYPE_ASFUNCTION=2;FABridge.TYPE_JSFUNCTION=3;FABridge.TYPE_ANONYMOUS=4;FABridge.initCallbacks={};FABridge.userTypes={};
FABridge.addToUserTypes=function(){for(var a=0;a<arguments.length;a++)FABridge.userTypes[arguments[a]]={typeName:arguments[a],enriched:!1}};FABridge.argsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b};function instanceFactory(a){this.fb_instance_id=a;return this}function FABridge__invokeJSFunction(a){var b=a[0];a=a.concat();a.shift();return FABridge.extractBridgeFromID(b).invokeLocalFunction(b,a)}
FABridge.addInitializationCallback=function(a,b){var c=FABridge.instances[a];void 0!=c?b.call(c):(c=FABridge.initCallbacks[a],null==c&&(FABridge.initCallbacks[a]=c=[]),c.push(b))};
function FABridge__bridgeInitialized(a){var b=document.getElementsByTagName("object"),c=b.length,d=[];if(0<c)for(var e=0;e<c;e++)"undefined"!=typeof b[e].SetVariable&&(d[d.length]=b[e]);c=document.getElementsByTagName("embed");e=c.length;b=[];if(0<e)for(var f=0;f<e;f++)"undefined"!=typeof c[f].SetVariable&&(b[b.length]=c[f]);f=d.length;c=b.length;e="bridgeName="+a;if(1==f&&!c||1==f&&1==c)FABridge.attachBridge(d[0],a);else if(1!=c||f){var g=!1;if(1<f)for(var h=0;h<f;h++){for(var k=d[h].childNodes,
l=0;l<k.length;l++){var m=k[l];if(1==m.nodeType&&"param"==m.tagName.toLowerCase()&&"flashvars"==m.name.toLowerCase()&&0<=m.value.indexOf(e)){FABridge.attachBridge(d[h],a);g=!0;break}}if(g)break}if(!g&&1<c)for(d=0;d<c;d++)if(0<=b[d].attributes.getNamedItem("flashVars").nodeValue.indexOf(e)){FABridge.attachBridge(b[d],a);break}}else FABridge.attachBridge(b[0],a);return!0}FABridge.nextBridgeID=0;FABridge.instances={};FABridge.idMap={};FABridge.refCount=0;
FABridge.extractBridgeFromID=function(a){return FABridge.idMap[a>>16]};FABridge.attachBridge=function(a,b){var c=new FABridge(a,b);FABridge[b]=c;var d=FABridge.initCallbacks[b];if(null!=d){for(var e=0;e<d.length;e++)d[e].call(c);delete FABridge.initCallbacks[b]}};FABridge.blockedMethods={toString:!0,get:!0,set:!0,call:!0};
FABridge.prototype={root:function(){return this.deserialize(this.target.getRoot())},releaseASObjects:function(){return this.target.releaseASObjects()},releaseNamedASObject:function(a){return"object"!=typeof a?!1:this.target.releaseNamedASObject(a.fb_instance_id)},create:function(a){return this.deserialize(this.target.create(a))},makeID:function(a){return(this.bridgeID<<16)+a},getPropertyFromAS:function(a,b){if(0<FABridge.refCount)throw Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");
FABridge.refCount++;retVal=this.target.getPropFromAS(a,b);retVal=this.handleError(retVal);FABridge.refCount--;return retVal},setPropertyInAS:function(a,b,c){if(0<FABridge.refCount)throw Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");FABridge.refCount++;retVal=this.target.setPropInAS(a,b,this.serialize(c));retVal=this.handleError(retVal);FABridge.refCount--;return retVal},callASFunction:function(a,
b){if(0<FABridge.refCount)throw Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");FABridge.refCount++;retVal=this.target.invokeASFunction(a,this.serialize(b));retVal=this.handleError(retVal);FABridge.refCount--;return retVal},callASMethod:function(a,b,c){if(0<FABridge.refCount)throw Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");
FABridge.refCount++;c=this.serialize(c);retVal=this.target.invokeASMethod(a,b,c);retVal=this.handleError(retVal);FABridge.refCount--;return retVal},invokeLocalFunction:function(a,b){var c,d=this.localFunctionCache[a];void 0!=d&&(c=this.serialize(d.apply(null,this.deserialize(b))));return c},getTypeFromName:function(a){return this.remoteTypeCache[a]},createProxy:function(a,b){var c=this.getTypeFromName(b);instanceFactory.prototype=c;c=new instanceFactory(a);return this.remoteInstanceCache[a]=c},getProxy:function(a){return this.remoteInstanceCache[a]},
addTypeDataToCache:function(a){for(var b=new ASProxy(this,a.name),c=a.accessors,d=0;d<c.length;d++)this.addPropertyToType(b,c[d]);a=a.methods;for(d=0;d<a.length;d++)void 0==FABridge.blockedMethods[a[d]]&&this.addMethodToType(b,a[d]);return this.remoteTypeCache[b.typeName]=b},addPropertyToType:function(a,b){var c=b.charAt(0),d;"a"<=c&&"z">=c?(d="get"+c.toUpperCase()+b.substr(1),c="set"+c.toUpperCase()+b.substr(1)):(d="get"+b,c="set"+b);a[c]=function(a){this.bridge.setPropertyInAS(this.fb_instance_id,
b,a)};a[d]=function(){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,b))}},addMethodToType:function(a,b){a[b]=function(){return this.bridge.deserialize(this.bridge.callASMethod(this.fb_instance_id,b,FABridge.argsToArray(arguments)))}},getFunctionProxy:function(a){var b=this;null==this.remoteFunctionCache[a]&&(this.remoteFunctionCache[a]=function(){b.callASFunction(a,FABridge.argsToArray(arguments))});return this.remoteFunctionCache[a]},getFunctionID:function(a){void 0==
a.__bridge_id__&&(a.__bridge_id__=this.makeID(this.nextLocalFuncID++),this.localFunctionCache[a.__bridge_id__]=a);return a.__bridge_id__},serialize:function(a){var b={},c=typeof a;if("number"==c||"string"==c||"boolean"==c||null==c||void 0==c)b=a;else if(a instanceof Array)for(b=[],c=0;c<a.length;c++)b[c]=this.serialize(a[c]);else"function"==c?(b.type=FABridge.TYPE_JSFUNCTION,b.value=this.getFunctionID(a)):a instanceof ASProxy?(b.type=FABridge.TYPE_ASINSTANCE,b.value=a.fb_instance_id):(b.type=FABridge.TYPE_ANONYMOUS,
b.value=a);return b},deserialize:function(a){var b,c=typeof a;if("number"==c||"string"==c||"boolean"==c||null==a||void 0==a)b=this.handleError(a);else if(a instanceof Array)for(b=[],c=0;c<a.length;c++)b[c]=this.deserialize(a[c]);else if("object"==c){for(c=0;c<a.newTypes.length;c++)this.addTypeDataToCache(a.newTypes[c]);for(var d in a.newRefs)this.createProxy(d,a.newRefs[d]);a.type==FABridge.TYPE_PRIMITIVE?b=a.value:a.type==FABridge.TYPE_ASFUNCTION?b=this.getFunctionProxy(a.value):a.type==FABridge.TYPE_ASINSTANCE?
b=this.getProxy(a.value):a.type==FABridge.TYPE_ANONYMOUS&&(b=a.value)}return b},addRef:function(a){this.target.incRef(a.fb_instance_id)},release:function(a){this.target.releaseRef(a.fb_instance_id)},handleError:function(a){if("string"==typeof a&&0==a.indexOf("__FLASHERROR"))throw a=a.split("||"),0<FABridge.refCount&&FABridge.refCount--,Error(a[1]);return a}};var ASProxy=function(a,b){this.bridge=a;this.typeName=b;return this};
ASProxy.prototype={get:function(a){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,a))},set:function(a,b){this.bridge.setPropertyInAS(this.fb_instance_id,a,b)},call:function(a,b){this.bridge.callASMethod(this.fb_instance_id,a,b)},addRef:function(){this.bridge.addRef(this)},release:function(){this.bridge.release(this)}};
(function(){if(!window.WEB_SOCKET_FORCE_FLASH&&!navigator.appVersion.match(/\/5\.[^\/]*?Safari\//)){if(window.WebSocket)return;if(window.MozWebSocket){window.WebSocket=MozWebSocket;return}}var a=function(){function b(){if(!K){try{var a=n.getElementsByTagName("body")[0].appendChild(n.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}K=!0;for(var a=z.length,d=0;d<a;d++)z[d]()}}function d(a){K?a():z[z.length]=a}function e(a){if("undefined"!=typeof x.addEventListener)x.addEventListener("load",
a,!1);else if("undefined"!=typeof n.addEventListener)n.addEventListener("load",a,!1);else if("undefined"!=typeof x.attachEvent)u(x,"onload",a);else if("function"==typeof x.onload){var b=x.onload;x.onload=function(){b();a()}}else x.onload=a}function f(){var a=n.getElementsByTagName("body")[0],b=n.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var c=a.appendChild(b);if(c){var d=0;(function(){if("undefined"!=typeof c.GetVariable){var e=c.GetVariable("$version");e&&(e=
e.split(" ")[1].split(","),B.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;g()})()}else g()}function g(){var a=G.length;if(0<a)for(var b=0;b<a;b++){var c=G[b].id,d=G[b].callbackFn,e={success:!1,id:c};if(0<B.pv[0]){var f=p(c);if(f)if(!v(G[b].swfVersion)||B.wk&&312>B.wk)if(G[b].expressInstall&&k()){e={};e.data=G[b].expressInstall;e.width=f.getAttribute("width")||"0";e.height=f.getAttribute("height")||"0";
f.getAttribute("class")&&(e.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(e.align=f.getAttribute("align"));for(var g={},f=f.getElementsByTagName("param"),C=f.length,K=0;K<C;K++)"movie"!=f[K].getAttribute("name").toLowerCase()&&(g[f[K].getAttribute("name")]=f[K].getAttribute("value"));l(e,g,c,d)}else m(f),d&&d(e);else y(c,!0),d&&(e.success=!0,e.ref=h(c),d(e))}else y(c,!0),d&&((c=h(c))&&"undefined"!=typeof c.SetVariable&&(e.success=!0,e.ref=c),d(e))}}function h(a){var b=null;(a=p(a))&&
"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&(b=a));return b}function k(){return!I&&v("6.0.65")&&(B.win||B.mac)&&!(B.wk&&312>B.wk)}function l(a,b,c,d){I=!0;N=d||null;O={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(M=t(e),C=null):(M=e,C=c);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,
10))a.height="137";n.title=n.title.slice(0,47)+" - Flash Player Installation";d=B.ie&&B.win?"ActiveX":"PlugIn";d="MMredirectURL="+x.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+n.title;b.flashvars="undefined"!=typeof b.flashvars?b.flashvars+("&"+d):d;B.ie&&B.win&&4!=e.readyState&&(d=n.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,
10)}());q(a,b,c)}}function m(a){if(B.ie&&B.win&&4!=a.readyState){var b=n.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(t(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(t(a),a)}function t(a){var b=n.createElement("div");if(B.win&&B.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName("object")[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&
"PARAM"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function q(a,b,c){var d,e=p(c);if(B.wk&&312>B.wk)return d;if(e)if("undefined"==typeof a.id&&(a.id=c),B.ie&&B.win){var f="",g;for(g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));g="";for(var C in b)b[C]!=Object.prototype[C]&&(g+='<param name="'+C+'" value="'+b[C]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+
f+">"+g+"</object>";J[J.length]=a.id;d=p(a.id)}else{C=n.createElement("object");C.setAttribute("type","application/x-shockwave-flash");for(var h in a)a[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?C.setAttribute("class",a[h]):"classid"!=h.toLowerCase()&&C.setAttribute(h,a[h]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=C,g=f,h=b[f],c=n.createElement("param"),c.setAttribute("name",g),c.setAttribute("value",h),a.appendChild(c));e.parentNode.replaceChild(C,e);d=C}return d}
function r(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(B.ie&&B.win?(b.style.display="none",function(){if(4==b.readyState){var c=p(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=null;try{b=n.getElementById(a)}catch(c){}return b}function u(a,b,c){a.attachEvent(b,c);H[H.length]=[a,b,c]}function v(a){var b=B.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;
a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function w(a,b,c,d){if(!B.ie||!B.mac){var e=n.getElementsByTagName("head")[0];e&&(c=c&&"string"==typeof c?c:"screen",d&&(P=E=null),E&&P==c||(d=n.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),E=e.appendChild(d),B.ie&&B.win&&"undefined"!=typeof n.styleSheets&&0<n.styleSheets.length&&(E=n.styleSheets[n.styleSheets.length-1]),P=c),B.ie&&B.win?E&&"object"==typeof E.addRule&&
E.addRule(a,b):E&&"undefined"!=typeof n.createTextNode&&E.appendChild(n.createTextNode(a+" {"+b+"}")))}}function y(a,b){if(L){var c=b?"visible":"hidden";K&&p(a)?p(a).style.visibility=c:w("#"+a,"visibility:"+c)}}function A(a){return null!=/[\\\"<>\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var x=window,n=document,F=navigator,D=!1,z=[function(){D?f():g()}],G=[],J=[],H=[],M,C,N,O,K=!1,I=!1,E,P,L=!0,B=function(){var a="undefined"!=typeof n.getElementById&&"undefined"!=
typeof n.getElementsByTagName&&"undefined"!=typeof n.createElement,b=F.userAgent.toLowerCase(),c=F.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,e=!+"\v1",f=[0,0,0],g=null;if("undefined"!=typeof F.plugins&&"object"==typeof F.plugins["Shockwave Flash"])!(g=F.plugins["Shockwave Flash"].description)||"undefined"!=typeof F.mimeTypes&&F.mimeTypes["application/x-shockwave-flash"]&&!F.mimeTypes["application/x-shockwave-flash"].enabledPlugin||
(D=!0,e=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof x.ActiveXObject)try{var C=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");C&&(g=C.GetVariable("$version"))&&(e=!0,g=g.split(" ")[1].split(","),f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}catch(h){}return{w3:a,pv:f,wk:b,ie:e,win:d,mac:c}}();
(function(){B.w3&&(("undefined"!=typeof n.readyState&&"complete"==n.readyState||"undefined"==typeof n.readyState&&(n.getElementsByTagName("body")[0]||n.body))&&b(),K||("undefined"!=typeof n.addEventListener&&n.addEventListener("DOMContentLoaded",b,!1),B.ie&&B.win&&(n.attachEvent("onreadystatechange",function(){"complete"==n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),b())}),x==top&&function(){if(!K){try{n.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}b()}}()),B.wk&&function(){K||(/loaded|complete/.test(n.readyState)?b():setTimeout(arguments.callee,0))}(),e(b)))})();(function(){B.ie&&B.win&&window.attachEvent("onunload",function(){for(var b=H.length,c=0;c<b;c++)H[c][0].detachEvent(H[c][1],H[c][2]);b=J.length;for(c=0;c<b;c++)r(J[c]);for(var d in B)B[d]=null;B=null;for(var e in a)a[e]=null;a=null})})();return{registerObject:function(a,b,c,d){if(B.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;G[G.length]=e;y(a,
!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(B.w3)return h(a)},embedSWF:function(a,b,c,e,f,g,C,h,K,m){var n={success:!1,id:b};B.w3&&!(B.wk&&312>B.wk)&&a&&b&&c&&e&&f?(y(b,!1),d(function(){c+="";e+="";var d={};if(K&&"object"===typeof K)for(var N in K)d[N]=K[N];d.data=a;d.width=c;d.height=e;N={};if(h&&"object"===typeof h)for(var O in h)N[O]=h[O];if(C&&"object"===typeof C)for(var I in C)N.flashvars="undefined"!=typeof N.flashvars?N.flashvars+("&"+I+"="+C[I]):I+"="+C[I];if(v(f))O=q(d,
N,b),d.id==b&&y(b,!0),n.success=!0,n.ref=O;else{if(g&&k()){d.data=g;l(d,N,b,m);return}y(b,!0)}m&&m(n)})):m&&m(n)},switchOffAutoHideShow:function(){L=!1},ua:B,getFlashPlayerVersion:function(){return{major:B.pv[0],minor:B.pv[1],release:B.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(a,b,c){if(B.w3)return q(a,b,c)},showExpressInstall:function(a,b,c,d){B.w3&&k()&&l(a,b,c,d)},removeSWF:function(a){B.w3&&r(a)},createCSS:function(a,b,c,d){B.w3&&w(a,b,c,d)},addDomLoadEvent:d,addLoadEvent:e,getQueryParamValue:function(a){var b=
n.location.search||n.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return A(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return A(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(I){var a=p("SWFObjectExprInst");a&&M&&(a.parentNode.replaceChild(M,a),C&&(y(C,!0),B.ie&&B.win&&(M.style.display="block")),N&&N(O));I=!1}}}}(),b;b=window.WEB_SOCKET_LOGGER?WEB_SOCKET_LOGGER:window.console&&window.console.log&&window.console.error?
window.console:{log:function(){},error:function(){}};10>a.getFlashPlayerVersion().major?b.error("Flash Player >= 10.0.0 is required."):("file:"==location.protocol&&b.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),window.WebSocket=function(a,b,e,f,g){var h=this;h.__id=WebSocket.__nextId++;WebSocket.__instances[h.__id]=h;h.readyState=WebSocket.CONNECTING;h.bufferedAmount=0;h.__events={};b?
"string"==typeof b&&(b=[b]):b=[];h.__createTask=setTimeout(function(){WebSocket.__addTask(function(){h.__createTask=null;WebSocket.__flash.create(h.__id,a,b,e||null,f||0,g||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.__createTask?(clearTimeout(this.__createTask),
this.__createTask=null,this.readyState=WebSocket.CLOSED):this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b,e){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b,e){if(a in this.__events)for(a=this.__events[a],e=a.length-1;0<=e;--e)if(a[e]===b){a.splice(e,1);break}},WebSocket.prototype.dispatchEvent=
function(a){for(var b=this.__events[a.type]||[],e=0;e<b.length;++e)b[e](a);(b=this["on"+a.type])&&b.apply(this,[a])},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);var b;if("open"==a.type||"error"==a.type)b=this.__createSimpleEvent(a.type);else if("close"==a.type)b=this.__createSimpleEvent("close"),b.wasClean=a.wasClean?!0:!1,b.code=a.code,b.reason=a.reason;else if("message"==a.type)a=decodeURIComponent(a.message),
b=this.__createMessageEvent("message",a);else throw"unknown event type: "+a.type;this.dispatchEvent(b)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var e=document.createEvent("MessageEvent");e.initMessageEvent("message",!1,!1,b,null,
null,window,null);return e}return{type:a,data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__initialized=!1,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__initialized)if(WebSocket.__initialized=!0,WebSocket.__swfLocation&&
(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){if(!window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&!WEB_SOCKET_SWF_LOCATION.match(/(^|\/)WebSocketMainInsecure\.swf(\?.*)?$/)&&WEB_SOCKET_SWF_LOCATION.match(/^\w+:\/\/([^\/]+)/)){var c=RegExp.$1;location.host!=c&&b.error("[WebSocket] You must host HTML and WebSocketMain.swf in the same host ('"+location.host+"' != '"+c+"'). See also 'How to host HTML file and SWF file in different domains' section in README.md. If you use WebSocketMainInsecure.swf, you can suppress this message by WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;")}c=
document.createElement("div");c.id="webSocketContainer";c.style.position="absolute";WebSocket.__isFlashLite()?(c.style.left="0px",c.style.top="0px"):(c.style.left="-100px",c.style.top="-100px");var d=document.createElement("div");d.id="webSocketFlash";c.appendChild(d);document.body.appendChild(c);a.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||b.error("[WebSocket] swfobject.embedSWF failed")})}else b.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),d=0;d<a.length;++d)WebSocket.__instances[a[d].webSocketId].__handleEvent(a[d])}catch(e){b.error(e)}},
0);return!0},WebSocket.__log=function(a){b.log(decodeURIComponent(a))},WebSocket.__error=function(a){b.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
a.addDomLoadEvent(function(){WebSocket.__initialize()}))})();"use strict";
(function(a,b,c){function d(d,f){function g(b){a(h).each(function(){var c=a(this);this===b.target||c.has(b.target).length||c.triggerHandler(f,[b.target])})}f=f||d+c;var h=a(),k=d+"."+f+"-special-event";a.event.special[f]={setup:function(){h=h.add(this);delete h.prevObject;1===h.length&&a(b).bind(k,g)},teardown:function(){h=h.not(this);delete h.prevObject;0===h.length&&a(b).unbind(k)},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c;b.apply(this,arguments)}}}}"$:nomunge";a.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),
function(a){d(a)});d("focusin","focus"+c);d("focusout","blur"+c);Modernizr.touch&&(d("touchstart","mousedown"+c),d("touchmove","mousemove"+c),d("touchend","mouseup"+c));a.addOutsideEvent=d})(jQuery,document,"outside");"use strict";
(function(a){a.fn.mousecapture=function(b){var c=a(document);this.each(function(){var d=a(this),e={};d.mousedown(function(a){var g;b.move&&(g=function(a){b.move.call(d,a,e)},c.mousemove(g));var h,k=function(){b.move&&c.unbind("mousemove",g);c.unbind("mouseup",h)};h=b.up?function(a){k();return b.up.call(d,a,e)}:k;c.mouseup(h);return b.down.call(d,a,e)})});return this}})(jQuery);"use strict";
(function(a){function b(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}a.support.touch="ontouchend"in document;if(a.support.touch){var c=a.ui.mouse.prototype,d=c._mouseInit,e=c._mouseDestroy,f;c._touchStart=function(a){!f&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(f=!0,this._touchMoved=
!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))};c._touchMove=function(a){f&&(this._touchMoved=!0,b(a,"mousemove"))};c._touchEnd=function(a){f&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),f=!1)};c._mouseInit=function(){this.element.bind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,"_touchMove"),touchend:a.proxy(this,"_touchEnd")});d.call(this)};c._mouseDestroy=function(){this.element.unbind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,
"_touchMove"),touchend:a.proxy(this,"_touchEnd")});e.call(this)}}})(jQuery);"use strict";
(function(){function a(a,b){if(!b||"function"===typeof b)return a;for(var c in b)a[c]=b[c];return a}function b(a,b,c){var d,e=0,f=a.length,g=void 0===f||"[object Array]"!==Object.prototype.toString.apply(a)||"function"===typeof a;if(c)if(g)for(d in a){if(!1===b.apply(a[d],c))break}else for(;e<f&&!1!==b.apply(a[e++],c););else if(g)for(d in a){if(!1===b.call(a[d],d,a[d]))break}else for(;e<f&&!1!==b.call(a[e],e,a[e++]););return a}function c(a){var b=function(a){if(window.XMLHttpRequest)return a(null,
new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(Error())},c=function(a){if("string"===typeof a)return a;var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},d=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},e=function(a,
f,g,C){"function"===typeof g&&(C=g,g={});g.cache=g.cache||!1;g.data=g.data||{};g.headers=g.headers||{};g.jsonp=g.jsonp||!1;g.async=void 0===g.async?!0:g.async;var h=d({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},e.headers,g.headers),k;k="application/json"===h["content-type"]?JSON.stringify(g.data):c(g.data);if("GET"===a){var l=[];k&&(l.push(k),k=null);g.cache||l.push("_="+(new Date).getTime());g.jsonp&&(l.push("callback="+g.jsonp),l.push("jsonp="+g.jsonp));l=l.join("&");
1<l.length&&(f=-1<f.indexOf("?")?f+("&"+l):f+("?"+l));if(g.jsonp){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");m.type="text/javascript";m.src=f;l.appendChild(m);return}}b(function(b,c){if(b)return C(b);c.open(a,f,g.async);for(var d in h)h.hasOwnProperty(d)&&c.setRequestHeader(d,h[d]);c.onreadystatechange=function(){if(4===c.readyState){var a=c.responseText||"";C&&C(c.status,{text:function(){return a},json:function(){return JSON.parse(a)}})}};c.send(k)})};({authBasic:function(a,
b){var c=e.headers,d;d=a+":"+b;d=d.replace(/\r\n/g,"\n");for(var f="",g=0;g<d.length;g++){var C=d.charCodeAt(g);128>C?f+=String.fromCharCode(C):(127<C&&2048>C?f+=String.fromCharCode(C>>6|192):(f+=String.fromCharCode(C>>12|224),f+=String.fromCharCode(C>>6&63|128)),f+=String.fromCharCode(C&63|128))}d=f;var f="",h,k,l,K,m=0;do h=d.charCodeAt(m++),g=d.charCodeAt(m++),C=d.charCodeAt(m++),k=h>>2,h=(h&3)<<4|g>>4,l=(g&15)<<2|C>>6,K=C&63,isNaN(g)?l=K=64:isNaN(C)&&(K=64),f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(K);while(m<d.length);c.Authorization="Basic "+f},connect:function(a,b,c){return e("CONNECT",a,b,c)},del:function(a,b,c){return e("DELETE",a,b,c)},get:function(a,b,c){return e("GET",a,b,c)},head:function(a,b,c){return e("HEAD",a,b,c)},headers:function(a){e.headers=a||{}},
isAllowed:function(a,b,c){this.options(a,function(a,d){c(-1!==d.text().indexOf(b))})},options:function(a,b,c){return e("OPTIONS",a,b,c)},patch:function(a,b,c){return e("PATCH",a,b,c)},post:function(a,b,c){return e("POST",a,b,c)},put:function(a,b,c){return e("PUT",a,b,c)},trace:function(a,b,c){return e("TRACE",a,b,c)}})[a.type?a.type.toLowerCase():"get"](a.url,a,function(b,c){200===b?a.success(c.json(),b,null):a.error(c.text(),b,null)})}function d(a,b){"function"===typeof a&&(b=a,a={});a=a||{};z.extend(n,
a);delete n.fixLng;"string"==typeof n.ns&&(n.ns={namespaces:[n.ns],defaultNs:n.ns});"string"==typeof n.fallbackNS&&(n.fallbackNS=[n.fallbackNS]);if("string"==typeof n.fallbackLng||"boolean"==typeof n.fallbackLng)n.fallbackLng=[n.fallbackLng];n.interpolationPrefixEscaped=z.regexEscape(n.interpolationPrefix);n.interpolationSuffixEscaped=z.regexEscape(n.interpolationSuffix);n.lng||(n.lng=z.detectLanguage());n.lng?n.useCookie&&z.cookie.create(n.cookieName,n.lng,n.cookieExpirationTime,n.cookieDomain):
(n.lng=n.fallbackLng[0],n.useCookie&&z.cookie.remove(n.cookieName));A=z.toLanguages(n.lng);w=A[0];z.log("currentLng set to: "+w);var c=l;a.fixLng&&(c=function(a,b){b=b||{};b.lng=b.lng||c.lng;return l(a,b)},c.lng=w);J.setCurrentLng(w);p&&n.setJqueryExt&&f();var d;p&&p.Deferred&&(d=p.Deferred());if(n.resStore)v=n.resStore,x=!0,b&&b(c),d&&d.resolve(c);else{var e=z.toLanguages(n.lng);"string"===typeof n.preload&&(n.preload=[n.preload]);for(var g=0,h=n.preload.length;g<h;g++)for(var k=z.toLanguages(n.preload[g]),
m=0,t=k.length;m<t;m++)0>e.indexOf(k[m])&&e.push(k[m]);u.sync.load(e,n,function(a,e){v=e;x=!0;b&&b(c);d&&d.resolve(c)})}if(d)return d.promise()}function e(a,b){var c={dynamicLoad:n.dynamicLoad,resGetPath:n.resGetPath,getAsync:n.getAsync,customLoad:n.customLoad,ns:{namespaces:a,defaultNs:""}},d=z.toLanguages(n.lng);"string"===typeof n.preload&&(n.preload=[n.preload]);for(var e=0,f=n.preload.length;e<f;e++)for(var g=z.toLanguages(n.preload[e]),h=0,k=g.length;h<k;h++)0>d.indexOf(g[h])&&d.push(g[h]);
for(var l=[],e=0,f=d.length;e<f;e++){g=!1;if(h=v[d[e]])for(var k=0,m=a.length;k<m;k++)h[a[k]]||(g=!0);else g=!0;g&&l.push(d[e])}l.length?u.sync._fetch(l,c,function(c,d){var e=a.length*l.length;z.each(a,function(a,c){0>n.ns.namespaces.indexOf(c)&&n.ns.namespaces.push(c);z.each(l,function(a,f){v[f]=v[f]||{};v[f][c]=d[f][c];e--;0===e&&b&&(n.useLocalStorage&&u.sync._storeLocal(v),b())})})}):b&&b()}function f(){function a(b,c,d){if(0!==c.length){var e="text";0===c.indexOf("[")&&(e=c.split("]"),c=e[1],
e=e[0].substr(1,e[0].length-1));c.indexOf(";")===c.length-1&&(c=c.substr(0,c.length-2));if("html"===e)d=n.defaultValueFromContent?p.extend({defaultValue:b.html()},d):d,b.html(p.t(c,d));else if("text"===e)d=n.defaultValueFromContent?p.extend({defaultValue:b.text()},d):d,b.text(p.t(c,d));else if("prepend"===e)d=n.defaultValueFromContent?p.extend({defaultValue:b.html()},d):d,b.prepend(p.t(c,d));else if("append"===e)d=n.defaultValueFromContent?p.extend({defaultValue:b.html()},d):d,b.append(p.t(c,d));
else if(0===e.indexOf("data-")){var f=e.substr(5);d=n.defaultValueFromContent?p.extend({defaultValue:b.data(f)},d):d;c=p.t(c,d);b.data(f,c);b.attr(e,c)}else d=n.defaultValueFromContent?p.extend({defaultValue:b.attr(e)},d):d,b.attr(e,p.t(c,d))}}function b(c,d){var e=c.attr(n.selectorAttr);e||"undefined"===typeof e||!1===e||(e=c.text()||c.val());if(e){var f=c,g=c.data("i18n-target");g&&(f=c.find(g)||c);d||!0!==n.useDataAttrOptions||(d=c.data("i18n-options"));d=d||{};0<=e.indexOf(";")?(e=e.split(";"),
p.each(e,function(b,c){""!==c&&a(f,c,d)})):a(f,e,d);!0===n.useDataAttrOptions&&c.data("i18n-options",d)}}p.t=p.t||l;p.fn.i18n=function(a){return this.each(function(){b(p(this),a);p(this).find("["+n.selectorAttr+"]").each(function(){b(p(this),a)})})}}function g(a,b,c,d){if(!a)return a;d=d||b;if(0>a.indexOf(d.interpolationPrefix||n.interpolationPrefix))return a;var e=d.interpolationPrefix?z.regexEscape(d.interpolationPrefix):n.interpolationPrefixEscaped,f=d.interpolationSuffix?z.regexEscape(d.interpolationSuffix):
n.interpolationSuffixEscaped,h="HTML"+f;z.each(b,function(b,k){var l=c?c+n.keyseparator+b:b;"object"===typeof k&&null!==k?a=g(a,k,l,d):d.escapeInterpolation||n.escapeInterpolation?(a=a.replace(new RegExp([e,l,h].join(""),"g"),k),a=a.replace(new RegExp([e,l,f].join(""),"g"),z.escape(k))):a=a.replace(new RegExp([e,l,f].join(""),"g"),k)});return a}function h(a,b){var c=z.extend({},b);for(delete c.postProcess;-1!=a.indexOf(n.reusePrefix);){y++;if(y>n.maxRecursion)break;var d=a.lastIndexOf(n.reusePrefix),
e=a.indexOf(n.reuseSuffix,d)+n.reuseSuffix.length,d=a.substring(d,e),e=d.replace(n.reusePrefix,"").replace(n.reuseSuffix,"");if(-1!=e.indexOf(",")){var f=e.indexOf(",");if(-1!=e.indexOf("{",f)&&-1!=e.indexOf("}",f)){var g=e.indexOf("{",f),h=e.indexOf("}",g)+1;try{c=z.extend(c,JSON.parse(e.substring(g,h))),e=e.substring(0,f)}catch(k){}}}e=t(e,c);a=a.replace(d,e)}return a}function k(a,b){b=b||{};var c=void 0!==b.defaultValue?b.defaultValue:a,d=q(a,b);return void 0!==d||d===c}function l(a,b){b=b||{};
if(!x)return a||"";y=0;return t.apply(null,arguments)}function m(){for(var a=[],b=1;b<arguments.length;b++)a.push(arguments[b]);return{postProcess:"sprintf",sprintf:a}}function t(a,b){b&&"object"!==typeof b?"sprintf"===n.shortcutFunction?b=m.apply(null,arguments):"defaultValue"===n.shortcutFunction&&(b={defaultValue:b}):b=b||{};if(void 0===a||null===a)return"";"string"==typeof a&&(a=[a]);var c=a[0];if(1<a.length)for(var d=0;d<a.length&&(c=a[d],!k(c,b));d++);var d=void 0!==b.defaultValue?b.defaultValue:
c,e=q(c,b),f=b.lng?z.toLanguages(b.lng):A,l=b.ns||n.ns.defaultNs,v;-1<c.indexOf(n.nsseparator)&&(v=c.split(n.nsseparator),l=v[0],c=v[1]);void 0===e&&n.sendMissing&&(b.lng?G.postMissing(f[0],l,c,d,f):G.postMissing(n.lng,l,c,d,f));f=b.postProcess||n.postProcess;void 0!==e&&f&&H[f]&&(e=H[f](e,c,b));v=d;-1<d.indexOf(n.nsseparator)&&(v=d.split(n.nsseparator),v=v[1]);v===c&&n.parseMissingKey&&(d=n.parseMissingKey(d));void 0===e&&(d=g(d,b),d=h(d,b),f&&H[f]&&(e=H[f](void 0!==b.defaultValue?b.defaultValue:
c,c,b)));if(!e)try{window.parent.__translations||(window.parent.__translations=[]),0>window.parent.__translations.indexOf(d)&&1<d.length&&window.parent.__translations.push(d)}catch(t){}return void 0!==e?e:d}function q(a,b){b=b||{};var c,d=void 0!==b.defaultValue?b.defaultValue:a,e=A;if(!v||"cimode"===e[0].toLowerCase())return d;if(b.lng&&(e=z.toLanguages(b.lng),!v[e[0]])){var f=n.getAsync;n.getAsync=!1;u.sync.load(e,n,function(a,b){z.extend(v,b);n.getAsync=f})}var k=b.ns||n.ns.defaultNs;-1<a.indexOf(n.nsseparator)&&
(c=a.split(n.nsseparator),k=c[0],a=c[1]);if(b.context&&("string"==typeof b.context||"number"==typeof b.context)&&(c=z.extend({},b),delete c.context,c.defaultValue=n.contextNotFound,c=l(k+n.nsseparator+a+"_"+b.context,c),c!=n.contextNotFound))return g(c,{context:b.context});if(void 0!==b.count&&"string"!=typeof b.count&&1!==b.count){c=z.extend({},b);delete c.count;c.defaultValue=n.pluralNotFound;var m=k+n.nsseparator+a+n.pluralSuffix,p=J.get(e[0],b.count);0<=p?m=m+"_"+p:1===p&&(m=k+n.nsseparator+a);
c=l(m,c);if(c!=n.pluralNotFound)return g(c,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix})}var r;c=a.split(n.keyseparator);m=0;for(p=e.length;m<p&&void 0===r;m++){for(var x=e[m],y=0,w=v[x]&&v[x][k];c[y];)w=w&&w[c[y]],y++;if(void 0!==w){r=Object.prototype.toString.apply(w);if("string"===typeof w)w=g(w,b),w=h(w,b);else if("[object Array]"===r&&!n.returnObjectTrees&&!b.returnObjectTrees)w=w.join("\n"),w=g(w,b),w=h(w,b);else if(null===w&&!0===n.fallbackOnNull)w=
void 0;else if(null!==w)if(!n.returnObjectTrees&&!b.returnObjectTrees)n.objectTreeKeyHandler&&"function"==typeof n.objectTreeKeyHandler?w=n.objectTreeKeyHandler(a,w,x,k,b):(w="key '"+k+":"+a+" ("+x+")' returned an object instead of string.",z.log(w));else if("[object Number]"!==r&&"[object Function]"!==r&&"[object RegExp]"!==r){var D="[object Array]"===r?[]:{};z.each(w,function(c){D[c]=t(k+n.nsseparator+a+n.keyseparator+c,b)});w=D}"string"===typeof w&&""===w.trim()&&!0===n.fallbackOnEmpty&&(w=void 0);
r=w}}if(void 0===r&&!b.isFallbackLookup&&(!0===n.fallbackToDefaultNS||n.fallbackNS&&0<n.fallbackNS.length))if(b.isFallbackLookup=!0,n.fallbackNS.length)for(e=0,c=n.fallbackNS.length;e<c;e++){if(r=q(n.fallbackNS[e]+n.nsseparator+a,b))if(m=-1<r.indexOf(n.nsseparator)?r.split(n.nsseparator)[1]:r,p=-1<d.indexOf(n.nsseparator)?d.split(n.nsseparator)[1]:d,m!==p)break}else r=q(a,b);return r}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),
c=b.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&Infinity!=d&&-Infinity!=d&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1});Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;1<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&
d!=-(1/0)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));for(c=0<=d?Math.min(d,c-1):c-Math.abs(d);0<=c;c--)if(c in b&&b[c]===a)return c;return-1});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var r=this||window,p=r.jQuery||r.Zepto,u={},v={},w,y=0,A=[],x=!1;"undefined"!==typeof module&&module.exports?module.exports=u:(p&&(p.i18n=p.i18n||u),r.i18n=r.i18n||u);var n={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],
fallbackNS:[],detectLngQS:"setLng",ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!1,postAsync:!1,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",
pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,shortcutFunction:"sprintf"},F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},r={create:function(a,
b,c,d){if(c){var e=new Date;e.setTime(e.getTime()+6E4*c);c="; expires="+e.toGMTString()}else c="";document.cookie=a+"="+b+c+";"+(d?"domain="+d+";":"")+"path=/"},read:function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null},remove:function(a){this.create(a,"",-1)}},D={create:function(a,b,c,d){},read:function(a){return null},remove:function(a){}},z={extend:p?
p.extend:a,each:p?p.each:b,ajax:p?p.ajax:"undefined"!==typeof document?c:function(){},cookie:"undefined"!==typeof document?r:D,detectLanguage:function(){var a,b=[];if("undefined"!==typeof window){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("=");if(0<e){var f=c[d].substring(0,e),e=c[d].substring(e+1);b[f]=e}}b[n.detectLngQS]&&(a=b[n.detectLngQS])}!a&&"undefined"!==typeof document&&n.useCookie&&(b=z.cookie.read(n.cookieName))&&(a=b);a||"undefined"===
typeof navigator||(a=navigator.language?navigator.language:navigator.userLanguage);return a},escape:function(a){return"string"===typeof a?a.replace(/[&<>"'\/]/g,function(a){return F[a]}):a},log:function(a){n.debug&&"undefined"!==typeof console&&console.log(a)},toLanguages:function(a){var b=[];if("string"===typeof a&&-1<a.indexOf("-")){var c=a.split("-");a=n.lowerCaseLng?c[0].toLowerCase()+"-"+c[1].toLowerCase():c[0].toLowerCase()+"-"+c[1].toUpperCase();"unspecific"!==n.load&&b.push(a);"current"!==
n.load&&b.push(c[0])}else b.push(a);for(a=0;a<n.fallbackLng.length;a++)-1===b.indexOf(n.fallbackLng[a])&&n.fallbackLng[a]&&b.push(n.fallbackLng[a]);return b},regexEscape:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};z.applyReplacement=g;var G={load:function(a,b,c){b.useLocalStorage?G._loadLocal(a,b,function(d,e){for(var f=[],g=0,h=a.length;g<h;g++)e[a[g]]||f.push(a[g]);0<f.length?G._fetch(f,b,function(a,b){z.extend(e,b);G._storeLocal(b);c(null,e)}):c(null,e)}):G._fetch(a,
b,function(a,b){c(null,b)})},_loadLocal:function(a,b,c){var d={},e=(new Date).getTime();if(window.localStorage){var f=a.length;z.each(a,function(a,g){var h=window.localStorage.getItem("res_"+g);h&&(h=JSON.parse(h),h.i18nStamp&&h.i18nStamp+b.localStorageExpirationTime>e&&(d[g]=h));f--;0===f&&c(null,d)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+b,JSON.stringify(a[b]))},_fetch:function(a,b,c){var d=b.ns,e={};
if(b.dynamicLoad){var f=function(a,b){c(null,b)};if("function"==typeof b.customLoad)b.customLoad(a,d.namespaces,b,f);else{var h=g(b.resGetPath,{lng:a.join("+"),ns:d.namespaces.join("+")});z.ajax({url:h,success:function(a,b,d){z.log("loaded: "+h);c(null,a)},error:function(a,b,d){z.log("failed loading: "+h);c(null,void 0)},dataType:"json",async:b.getAsync})}}else{var k=d.namespaces.length*a.length,l;z.each(d.namespaces,function(d,f){z.each(a,function(a,d){var g=function(a,b){a&&(l=l||[],l.push(a));
e[d]=e[d]||{};e[d][f]=b;k--;0===k&&c(l,e)};"function"==typeof b.customLoad?b.customLoad(d,f,b,g):G._fetchOne(d,f,b,g)})})}},_fetchOne:function(a,b,c,d){var e=g(c.resGetPath,{lng:a,ns:b});z.ajax({url:e,success:function(a,b,c){z.log("loaded: "+e);d(null,a)},error:function(a,b,c){b&&200==b||a&&a.status&&200==a.status?z.log("There is a typo in: "+e):b&&404==b||a&&a.status&&404==a.status?z.log("Does not exist: "+e):z.log((b?b:a&&a.status?a.status:null)+" when loading "+e);d(c,{})},dataType:"json",async:c.getAsync})},
postMissing:function(a,b,c,d,e){var f={};f[c]=d;var h=[];if("fallback"===n.sendMissingTo&&!1!==n.fallbackLng[0])for(a=0;a<n.fallbackLng.length;a++)h.push({lng:n.fallbackLng[a],url:g(n.resPostPath,{lng:n.fallbackLng[a],ns:b})});else if("current"===n.sendMissingTo||"fallback"===n.sendMissingTo&&!1===n.fallbackLng[0])h.push({lng:a,url:g(n.resPostPath,{lng:a,ns:b})});else if("all"===n.sendMissingTo){a=0;for(var k=e.length;a<k;a++)h.push({lng:e[a],url:g(n.resPostPath,{lng:e[a],ns:b})})}e=0;for(a=h.length;e<
a;e++){var l=h[e];z.ajax({url:l.url,type:n.sendType,data:f,success:function(a,e,f){z.log("posted missing key '"+c+"' to: "+l.url);a=c.split(".");e=0;for(f=v[l.lng][b];a[e];)f=e===a.length-1?f[a[e]]=d:f[a[e]]=f[a[e]]||{},e++},error:function(a,b,d){z.log("failed posting missing key '"+c+"' to: "+l.url)},dataType:"json",async:n.postAsync})}}},J={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(a){return Number(1<a)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(a){return Number(1!=a)}},
ak:{name:"Akan",numbers:[1,2],plurals:function(a){return Number(1<a)}},am:{name:"Amharic",numbers:[1,2],plurals:function(a){return Number(1<a)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(a){return Number(0===a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(a){return Number(1<a)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(a){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(a){return Number(1!=a)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},bo:{name:"Tibetan",numbers:[1],plurals:function(a){return 0}},
br:{name:"Breton",numbers:[1,2],plurals:function(a){return Number(1<a)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(a){return Number(1!=a)}},cgg:{name:"Chiga",numbers:[1],plurals:function(a){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:2<=a&&4>=a?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(a){return Number(1==
a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},de:{name:"German",numbers:[1,2],plurals:function(a){return Number(1!=a)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(a){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(a){return Number(1!=a)}},en:{name:"English",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(a){return Number(1!=a)}},es:{name:"Spanish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},et:{name:"Estonian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},eu:{name:"Basque",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fa:{name:"Persian",numbers:[1],plurals:function(a){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(a){return Number(1<a)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fr:{name:"French",numbers:[1,2],plurals:function(a){return Number(1<a)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)}},gd:{name:"Scottish Gaelic",
numbers:[1,2,3,20],plurals:function(a){return Number(1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(a){return Number(1!=a)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(a){return Number(1!=a)}},gun:{name:"Gun",numbers:[1,2],plurals:function(a){return Number(1<a)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(a){return Number(1!=a)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(a){return Number(1!=a)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(a){return Number(1!=a)}},id:{name:"Indonesian",numbers:[1],plurals:function(a){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(a){return Number(1!=
a%10||11==a%100)}},it:{name:"Italian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ja:{name:"Japanese",numbers:[1],plurals:function(a){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(a){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(a){return Number(0!==a)}},ka:{name:"Georgian",numbers:[1],plurals:function(a){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(a){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(a){return 0}},kn:{name:"Kannada",numbers:[1,
2],plurals:function(a){return Number(1!=a)}},ko:{name:"Korean",numbers:[1],plurals:function(a){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(a){return Number(1==a?0:2==a?1:3==a?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(a){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(a){return Number(1<a)}},lo:{name:"Lao",
numbers:[1],plurals:function(a){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(a){return Number(1==a%10&&11!=a%100?0:0!==a?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(a){return Number(1<a)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(a){return Number(1<
a)}},mi:{name:"Maori",numbers:[1,2],plurals:function(a){return Number(1<a)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(a){return Number(1==a||1==a%10?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(a){return Number(1==a?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ms:{name:"Malay",numbers:[1],
plurals:function(a){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(a){return Number(1==a?0:0===a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nl:{name:"Dutch",numbers:[1,
2],plurals:function(a){return Number(1!=a)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(a){return Number(1!=a)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(a){return Number(1!=a)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(a){return Number(1<a)}},or:{name:"Oriya",numbers:[2,1],plurals:function(a){return Number(1!=a)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(a){return Number(1!=
a)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(a){return Number(1==a?0:0===a||0<a%100&&20>a%100?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(a){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(a){return Number(1!=a)}},se:{name:"Northern Sami",numbers:[1,2],
plurals:function(a){return Number(1!=a)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:2<=a&&4>=a?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(a){return Number(1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},son:{name:"Songhay",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sq:{name:"Albanian",
numbers:[1,2],plurals:function(a){return Number(1!=a)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(a){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(a){return Number(1!=a)}},te:{name:"Telugu",numbers:[1,
2],plurals:function(a){return Number(1!=a)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(a){return Number(1<a)}},th:{name:"Thai",numbers:[1],plurals:function(a){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(a){return Number(1<a)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(a){return Number(1!=a)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(a){return Number(1<a)}},tt:{name:"Tatar",numbers:[1],plurals:function(a){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(a){return 0}},
uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(a){return Number(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(a){return Number(1!=a)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(a){return Number(1<a)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(a){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(a){return Number(1<a)}},wo:{name:"Wolof",numbers:[1],plurals:function(a){return 0}},yo:{name:"Yoruba",numbers:[1,
2],plurals:function(a){return Number(1!=a)}},zh:{name:"Chinese",numbers:[1],plurals:function(a){return 0}}},addRule:function(a,b){J.rules[a]=b},setCurrentLng:function(a){if(!J.currentRule||J.currentRule.lng!==a){var b=a.split("-");J.currentRule={lng:a,rule:J.rules[b[0]]}}},get:function(a,b){var c=a.split("-");if(c=J.currentRule&&J.currentRule.lng===a?J.currentRule.rule:J.rules[c[0]]){var d=c.plurals(b),d=c.numbers[d];2===c.numbers.length&&1===c.numbers[0]&&(2===d?d=-1:1===d&&(d=1));c=d}else c=1===
b?"1":"-1";return c}},H={},r=function(a,b){H[a]=b},M=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0]));return b.format.call(null,b.cache[arguments[0]],arguments)};b.format=function(b,c){var d=1,e=b.length,f="",g=[],h,k,l,m;for(h=0;h<e;h++)if(f=a(b[h]),"string"===f)g.push(b[h]);else if("array"===f){l=b[h];if(l[2])for(f=c[d],k=0;k<l[2].length;k++){if(!f.hasOwnProperty(l[2][k]))throw M('[sprintf] property "%s" does not exist',
l[2][k]);f=f[l[2][k]]}else f=l[1]?c[l[1]]:c[d++];if(/[^s]/.test(l[8])&&"number"!=a(f))throw M("[sprintf] expecting number but found %s",a(f));switch(l[8]){case "b":f=f.toString(2);break;case "c":f=String.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=l[7]?f.toExponential(l[7]):f.toExponential();break;case "f":f=l[7]?parseFloat(f).toFixed(l[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=(f=String(f))&&l[7]?f.substring(0,l[7]):f;break;case "u":f=Math.abs(f);break;
case "x":f=f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(l[8])&&l[3]&&0<=f?"+"+f:f;k=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ";m=l[6]-String(f).length;if(l[6]){for(var n=[];0<m;n[--m]=k);k=n.join("")}else k="";g.push(l[5]?f+k:k+f)}return g.join("")};b.cache={};b.parse=function(a){for(var b=[],c=[],d=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var d=
d|1,e=[],f=b[2],g=[];if(null!==(g=/^([a-z_][a-z_\d]*)/i.exec(f)))for(e.push(g[1]);""!==(f=f.substring(g[0].length));)if(null!==(g=/^\.([a-z_][a-z_\d]*)/i.exec(f)))e.push(g[1]);else if(null!==(g=/^\[(\d+)\]/.exec(f)))e.push(g[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=e}else d|=2;if(3===d)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};return b}();r("sprintf",function(a,b,
c){return c.sprintf?"[object Array]"===Object.prototype.toString.apply(c.sprintf)?(b=c.sprintf,b.unshift(a),M.apply(null,b)):"object"===typeof c.sprintf?M(a,c.sprintf):a:a});u.init=d;u.setLng=function(a,b,c){"function"===typeof b?(c=b,b={}):b||(b={});b.lng=a;return d(b,c)};u.preload=function(a,b){"string"===typeof a&&(a=[a]);for(var c=0,e=a.length;c<e;c++)0>n.preload.indexOf(a[c])&&n.preload.push(a[c]);return d(b)};u.addResourceBundle=function(a,b,c){"string"!==typeof b?(c=b,b=n.ns.defaultNs):0>n.ns.namespaces.indexOf(b)&&
n.ns.namespaces.push(b);v[a]=v[a]||{};v[a][b]=v[a][b]||{};z.extend(v[a][b],c)};u.removeResourceBundle=function(a,b){"string"!==typeof b&&(b=n.ns.defaultNs);v[a]=v[a]||{};v[a][b]={}};u.loadNamespace=function(a,b){e([a],b)};u.loadNamespaces=e;u.setDefaultNamespace=function(a){n.ns.defaultNs=a};u.t=l;u.translate=l;u.exists=k;u.detectLanguage=z.detectLanguage;u.pluralExtensions=J;u.sync=G;u.functions=z;u.lng=function(){return w};u.addPostProcessor=r;u.options=n})();"use strict";
TradingView.availableTimezones=TradingView.availableTimezones||[{id:"Etc/UTC",title:$.t("UTC")},{id:"exchange",title:$.t("Exchange")},{id:"America/Vancouver",title:$.t("Vancouver")},{id:"America/Los_Angeles",title:$.t("Los Angeles")},{id:"America/Phoenix",title:$.t("Phoenix")},{id:"America/Chicago",title:$.t("Chicago")},{id:"America/El_Salvador",title:$.t("San Salvador")},{id:"America/Toronto",title:$.t("Toronto")},{id:"America/New_York",title:$.t("New York")},{id:"America/Bogota",title:$.t("Bogota")},
{id:"America/Argentina/Buenos_Aires",title:$.t("Buenos Aires")},{id:"America/Sao_Paulo",title:$.t("Sao Paulo")},{id:"Europe/London",title:$.t("London")},{id:"Europe/Madrid",title:$.t("Madrid")},{id:"Europe/Paris",title:$.t("Paris")},{id:"Europe/Berlin",title:$.t("Berlin")},{id:"Europe/Warsaw",title:$.t("Warsaw")},{id:"Europe/Athens",title:$.t("Athens")},{id:"Europe/Moscow",title:$.t("Moscow")},{id:"Asia/Tehran",title:$.t("Tehran")},{id:"Asia/Dubai",title:$.t("Dubai")},{id:"Asia/Kolkata",title:$.t("Kolkata")},
{id:"Asia/Bangkok",title:$.t("Bangkok")},{id:"Asia/Taipei",title:$.t("Taipei")},{id:"Asia/Singapore",title:$.t("Singapore")},{id:"Asia/Shanghai",title:$.t("Shanghai")},{id:"Asia/Hong_Kong",title:$.t("Hong Kong")},{id:"Asia/Seoul",title:$.t("Seoul")},{id:"Asia/Tokyo",title:$.t("Tokyo")},{id:"Australia/Sydney",title:$.t("Sydney")}];TradingView.monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
TradingView.futuresRoots=[{d:"E-Mini S&P 500",t:"ES"},{d:"E-Mini Nasdaq 100",t:"NQ"},{d:"Gold",t:"GC"},{d:"Silver",t:"SI"},{d:"Crude Oil WTI",t:"CL"},{d:"Natural Gas",t:"NG"},{d:"Australian Dollar",t:"6A"},{d:"Australian Dollar (Floor)",t:"AD"},{d:"Euro FX",t:"6E"},{d:"Euro FX (Floor)",t:"EC"},{d:"Corn",t:"ZC"},{d:"Corn (Floor)",t:"C"},{d:"Eurodollar",t:"GE"},{d:"Eurodollar (Floor)",t:"ED"}];"use strict";
TradingView.cursorCss=function(a,b,c){c||(c="light");a=TradingView.wrapUrl("url("+TradingView.resourceFullPath(c+"/"+a+".cur")+")");return $.browser.msie?a+", default":a+" "+b+", default"};"use strict";TradingView.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);e.hasOwnProperty(f)||(e[f]=a.apply(this,arguments));return e[f]};c.cache={};return c};
TradingView.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};TradingView.randomHash=function(){return TradingView.randomHashN(12)};TradingView.randomHashN=function(a){for(var b="",c=0;c<a;c++)var d=Math.round(60*Math.random()),b=b+"0123456789abcdefghijklmopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[d];return b};
var TradingView=TradingView||{},isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};TradingView.isNaN=function(a){return!(0>=a)&&!(0<a)};TradingView.isInteger=function(a){return"number"===typeof a&&0===a%1};function isNumber(a){return"number"===typeof a&&isFinite(a)}TradingView.parseBool=function(a){return!0===a||"true"===a};TradingView.isBoolean=function(a){return!0===a||!1===a};
TradingView.isString=function(a){return null===a||void 0===a?!1:a.constructor==String};function isFunction(a){return null===a||void 0===a?!1:a.constructor==Function}function inherit(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});a.prototype.superclass=b}
TradingView.declareClassAsPureInterface=function(a,b){for(var c in a.prototype)"function"===typeof a.prototype[c]&&a.prototype.hasOwnProperty(c)&&(a.prototype[c]=function(){throw b+"::"+c+" is an interface member declaration and must be overloaded in order to be called";})};
TradingView.requireFullInterfaceImplementation=function(a,b,c,d){for(var e in c.prototype)if("function"===typeof c.prototype[e]&&!a.prototype[e])throw"Interface implementation assertion failed: "+b+" does not implement "+d+"::"+e+" function";};TradingView.isInherited=function(a,b){return a===b?!0:a&&a.prototype?void 0===a.prototype.superclass||null===a.prototype.superclass?!1:a.prototype.superclass===b?!0:TradingView.isInherited(a.prototype.superclass,b):!1};
TradingView.TypeValidator=function(a){this.m_type=a};TradingView.TypeValidator.prototype.check=function(a){return a.constructor===this.m_type||TradingView.isInherited(a.constructor,this.m_type)};TradingView.PredicateValidator=function(a){this.m_predicate=a};TradingView.PredicateValidator.prototype.check=function(a){return this.m_predicate(a)};
TradingView.clone=function(a){if(!a||"object"!==typeof a)return a;var b;b="function"===typeof a.pop?[]:{};var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],b[c]=d&&"object"===typeof d?TradingView.clone(d):d);return b};
TradingView.deepEquals=function(a,b,c){c||(c="");if(a===b)return[!0,c];isFunction(a)&&(a=void 0);isFunction(b)&&(b=void 0);if(void 0===a&&void 0!==b||void 0===b&&void 0!==a||null===a&&null!==b||null===b&&null!==a)return[!1,c];if(TradingView.isString(a)&&TradingView.isString(b))return[a===b,c];if(Array.isArray(a)&&Array.isArray(b)){var d=a.length;if(d!==b.length)return[!1,c];for(var e=0;e<d;e++){var f=TradingView.deepEquals(a[e],b[e],c+"["+e+"]");if(!f[0])return f}}else{if(isArray(a)||isArray(b))return[!1,
c];for(d in a)if(f=TradingView.deepEquals(a[d],b[d],c+"["+d+"]"),!f[0])return f}return[!0,c]};TradingView.merge=function(a,b){for(var c in b)"object"===typeof b[c]&&a.hasOwnProperty(c)?TradingView.merge(a[c],b[c]):a[c]=b[c];return a};TradingView.mergeObj=function(a,b){for(var c in b)b[c].constructor===Object&&a.hasOwnProperty(c)?TradingView.mergeObj(a[c],b[c]):a[c]=b[c];return a};
TradingView.mergeWithRules=function(a,b,c,d){for(var e in b){var f=d?d+"."+e:e;c&&f in c?a[e]=c[f](a[e],b[e]):"object"===typeof b[e]&&a.hasOwnProperty(e)?TradingView.merge(a[e],b[e],c,f):a[e]=b[e]}};TradingView.sortMultipleFunction=function(){var a=[].slice.call(arguments),b=a.length;return function(c,d){var e,f,g,h,k;for(k=0;k<b&&(h=0,g=a[k],f="string"===typeof g?g:g.name,e=c[f],f=d[f],"function"===typeof g.fn&&(e=g.fn(e),f=g.fn(f)),g=g.reverse?-1:1,e<f&&(h=-1*g),e>f&&(h=1*g),0===h);k++);return h}};
"undefined"!=typeof module&&module&&module.exports&&(module.exports={inherit:inherit,merge:TradingView.merge,isNumber:isNumber,isInteger:TradingView.isInteger,isBoolean:TradingView.isBoolean,isString:TradingView.isString,isNaN:TradingView.isNaN});"use strict";TradingView.OrderedHash=function(a,b){this.array=[];for(var c in a)a[c].key=c,this.array.push(a[c]);this.rearrange(b)};
TradingView.OrderedHash.prototype.rearrange=function(a){if("function"!==typeof a)throw Error("sort param is not a function");return this.array.sort(a)};TradingView.OrderedHash.byValue=function(a){return function(a,c){return a-c}};TradingView.OrderedHash.byField=function(a){return function(b,c){if(b[a]>c[a])return 1;if(b[a]<c[a])return-1;if(b[a]==c[a])return 0}};TradingView.OrderedHash.byOrder=function(a){return function(b,c){var d=a.indexOf(b.key),e=a.indexOf(c.key);return d-e}};"use strict";
TradingView.HTMLHelper={};
(function(a){TradingView.HTMLHelper.createLabel=function(b,c,d){return TradingView.HTMLHelper.Element.create("label",a.extend(d,{html:c,for:b}))};TradingView.HTMLHelper.unbindContextMenu=function(a){a.contextMenu(function(a){return!1})};TradingView.HTMLHelper.offsetX=function(a,c){return a.width()+c.pageX};TradingView.HTMLHelper.offsetY=function(a,c){return a.height()+c.pageY};TradingView.HTMLHelper.checkObjIsOutOfWindowX=function(b,c){var d=a(window).width()-TradingView.HTMLHelper.offsetX(b,c);return 0>
d?(d=c.pageX+d,0<d?d:0):c.pageX};TradingView.HTMLHelper.checkObjIsOutOfWindowY=function(b,c){var d=a(window).height()-TradingView.HTMLHelper.offsetY(b,c);return 0>d?(d=c.pageY+d,0<d?d:0):c.pageY};TradingView.HTMLHelper.checkObjIsOutOfWindow=function(a,c){return{left:TradingView.HTMLHelper.checkObjIsOutOfWindowX(a,c),top:TradingView.HTMLHelper.checkObjIsOutOfWindowY(a,c)}};TradingView.HTMLHelper.setAttr=function(a,c,d){a.attr?a.attr(c,d):a[c]=d;return a};TradingView.HTMLHelper.removeAttr=function(a,
c){a.removeAttr?a.removeAttr(c):a.removeAttribute(c);return a};TradingView.HTMLHelper.notNull=function(b){return-1==a.inArray(b,[null,void 0,"false","null","undefined",0])};TradingView.HTMLHelper.hideControl=function(a){return a.css({position:"absolute",top:-1E3,left:-1E3})};TradingView.HTMLHelper.createPopup=function(a,c,d){return(new TradingView.HTMLHelper.Popup(a,c,d)).render()};TradingView.HTMLHelper.Popup=function(b,c,d){this.jqDiv=void 0!==b.selector?b:b.nodeType?a(b):TradingView.HTMLHelper.Element.create("div",
b);if(d){var e=this;a.each(d,function(a,b){e[a]=b})}TradingView.setMouseEventHandler(this.jqDiv,this);this._callback=c};TradingView.HTMLHelper.Popup.prototype.render=function(){return this.jqDiv};TradingView.HTMLHelper.Popup.prototype.show=function(){this.jqDiv.show()};TradingView.HTMLHelper.Popup.prototype.hide=function(){this.jqDiv.hide()};TradingView.HTMLHelper.Popup.prototype.setVisible=function(a){a?this.show():this.hide()};TradingView.HTMLHelper.Popup.prototype.isVisible=function(){return this.jqDiv.is(":visible")};
TradingView.HTMLHelper.Popup.prototype.contextMenuEvent=function(a){return!1};TradingView.HTMLHelper.Popup.prototype.mouseDownOutsideEvent=function(a){!this.isVisible()||this._callback&&!this._callback()||this.hide()}})(jQuery);"use strict";TradingView.HTMLHelper.Element={};TradingView.HTMLHelper.Element.renderAttributes=function(a){var b="",c;for(c in a)a[c]&&(b+=" "+c+'="'+a[c]+'"');return b};
TradingView.HTMLHelper.Element.create=function(a,b){var c=$(document.createElement(a));b&&(b.html&&(c.html(b.html),delete b.html),c.attr(b));return c};TradingView.HTMLHelper.Element.validAttributes="abbr accept-charset accept accesskey action align alink alt archive axis background bgcolor border cellpadding cellspacing char charoff charset checked cite class classid clear code codebase codetype color cols colspan compact content coords data datetime declare defer dir disabled enctype face for frame frameborder headers height href hreflang hspace http-equiv id ismap label lang language link longdesc marginheight marginwidth maxlength media method multiple name nohref noresize noshade nowrap object onblur onchange onclick ondblclick onfocus onkeydown onkeypress onkeyup onload onmousedown onmousemove onmouseout onmouseover onmouseup onreset onselect onsubmit onunload profile prompt readonly rel rev rows rowspan rules scheme scope scrolling selected shape size span src standby start style summary tabindex target text title type usemap valign value valuetype version vlink vspace width".split(" ");
TradingView.HTMLHelper.Element.validAttribute=function(a){return-1!=jQuery.inArray(a,TradingView.HTMLHelper.Element.validAttributes)};TradingView.HTMLHelper.Element.cleanAttributes=function(a){jQuery.each(a,function(b,c){TradingView.HTMLHelper.Element.validAttribute(b)||delete a[b]});return a};"use strict";TradingView.HTMLHelper.CUSTOM_SELECT_MINIMAL_WIDTH=100;
TradingView.HTMLHelper.Input=function(a){this.jqObj=null;this.data=a;this.init();this._prepareValue();this._prepareCallback();this._prepareChildren();this._applyAttributes();return this.jqObj};TradingView.HTMLHelper.Input.selectOptions={type:"option",value:null,html:null};TradingView.HTMLHelper.Input.optionsData={radiogroup:{type:"radio",name:null,value:null,label:null},select:TradingView.HTMLHelper.Input.selectOptions,"select-one":TradingView.HTMLHelper.Input.selectOptions,"select-multiple":TradingView.HTMLHelper.Input.selectOptions};
TradingView.HTMLHelper.Input.customTypes=["radiogroup","fontpicker","colorpicker","combobox"];TradingView.HTMLHelper.Input.prototype._tagIsInput=function(a){return-1!=jQuery.inArray(this.data.type,"text radio checkbox hidden reset image file".split(" "))};TradingView.HTMLHelper.Input.prototype.init=function(){this._tagIsInput()?this.jqObj=TradingView.HTMLHelper.Element.create("input",{name:this.data.name,type:this.data.type}):this.jqObj=TradingView.HTMLHelper.Element.create(this.data.type,{name:this.data.name})};
TradingView.HTMLHelper.Input.prototype._eventIsKeyUp=function(){return-1!=jQuery.inArray(this.data.type,["text","textarea"])};TradingView.HTMLHelper.Input.prototype._eventIsClick=function(){return-1!=jQuery.inArray(this.data.type,["checkbox","radio","option"])};TradingView.HTMLHelper.Input.prototype._eventIsChange=function(){return-1!=jQuery.inArray(this.data.type,["select","select-one","select-multiple","radiogroup"])};
TradingView.HTMLHelper.Input.prototype._prepareCallback=function(){this.data.callback&&(this._eventIsKeyUp()?this.jqObj.keyup(this.data.callback):this._eventIsClick()?this.jqObj.click(this.data.callback):this._eventIsChange()&&this.jqObj.bind("change",this.data.callback),delete this.data.callback)};TradingView.HTMLHelper.Input.prototype._childTag=function(){return{select:"option","select-one":"option","select-multiple":"option",radiogroup:"radio"}[this.data.type]};
TradingView.HTMLHelper.Input.prototype._inheritedProperties=function(){var a={type:this._childTag()};"radiogroup"==this.data.type&&(a.name=this.data.name);return a};TradingView.HTMLHelper.Input.prototype._extendChildProps=function(a){var b=jQuery.extend(this._inheritedProperties(),a);this.data.value==a.value&&(b.selected=!0);return b};TradingView.HTMLHelper.Input.prototype._prepareChildren=function(){if(this.data.options){var a=this;jQuery.each(this.data.options,function(b,c){a.jqObj.append(new TradingView.HTMLHelper.Input(a._extendChildProps(c)))})}};
TradingView.HTMLHelper.Input.prototype.isCustom=function(){return-1!=jQuery.inArray(this.data.type,this.customTypes)};TradingView.HTMLHelper.Input.prototype._isStoringValue=function(){return-1!=jQuery.inArray(this.data.type,["text","textarea","option","radio","checkbox"])};TradingView.HTMLHelper.Input.prototype._htmlAsValue=function(){return"textarea"==this.data.type};TradingView.HTMLHelper.Input.prototype._valAsValue=function(){return jQuery.inArray(this.data.type,"text checkbox radio option select select-one select-multiple".split(" "))};
TradingView.HTMLHelper.Input.prototype._getControlValue=function(){return{checkbox:1}[this.data.type]||this.data.value};TradingView.HTMLHelper.Input.prototype._setControlValue=function(){this._valAsValue()?this.jqObj.val(this._getControlValue()):this._htmlAsValue()&&this.jqObj.html(this.data.value)};TradingView.HTMLHelper.Input.prototype._getCheckedAttr=function(){return{option:"selected",radio:"checked",checkbox:"checked"}[this.data.type]};
TradingView.HTMLHelper.Input.prototype._setChecked=function(){this.data.selected&&this.jqObj.attr(this._getCheckedAttr(),!0)};TradingView.HTMLHelper.Input.prototype._setValue=function(){this._setControlValue();TradingView.HTMLHelper.Input.isCheckable(this.data.type)&&this._setChecked()};TradingView.HTMLHelper.Input.prototype._prepareValue=function(){this._isStoringValue()&&this._setValue()};TradingView.HTMLHelper.Input.prototype._applyAttributes=function(){this.jqObj.attr(TradingView.HTMLHelper.Element.cleanAttributes(this.data))};
TradingView.HTMLHelper.Input.value=function(a){return TradingView.HTMLHelper.Input.controlCheckable(a)?a.checked:a.value};TradingView.HTMLHelper.Input.isCheckable=function(a){return-1!=jQuery.inArray(a,["checkbox","radio","option"])};TradingView.HTMLHelper.Input.controlType=function(a){if("string"==typeof a)return a;a=jQuery(a);var b=null;return a.attr("type")&&(b=a.attr("type"),jQuery.inArray(b,"textarea text select select-one select-multiple submit".split(" ")))?b:a.attr("tagName")};
TradingView.HTMLHelper.Input.controlCheckable=function(a){return TradingView.HTMLHelper.Input.isCheckable(TradingView.HTMLHelper.Input.controlType(a))};TradingView.HTMLHelper.Input.controlToggleChecked=function(a,b){return TradingView.HTMLHelper.setAttr(a,"checked",b)};TradingView.HTMLHelper.Input.controlSetValue=function(a,b){return TradingView.HTMLHelper.Input.controlCheckable(a)?TradingView.HTMLHelper.Input.controlToggleChecked(a,b):TradingView.HTMLHelper.setAttr(a,"value",b)};
TradingView.HTMLHelper.Input.currentOption=function(a){return a.options[a.selectedIndex]};TradingView.HTMLHelper.Input.currentOptionInnerHTML=function(a){return TradingView.HTMLHelper.Input.currentOption(a).innerHTML};TradingView.HTMLHelper.ComboboxItem=function(a,b){this.value=a;this.html=b||"";this.jqItem=this._render()};TradingView.HTMLHelper.ComboboxItem.prototype.eq=function(a){return this.value===a};TradingView.HTMLHelper.ComboboxItem.prototype.width=function(a){return this.jqItem.width()};
TradingView.HTMLHelper.ComboboxItem.prototype._render=function(a){a=$("<span/>").append($(this.html).clone());return $('<div class="item"></div>').append(a)};TradingView.HTMLHelper.ComboboxItem.prototype.render=function(a){return this.jqItem};TradingView.HTMLHelper.ComboboxItem.prototype.select=function(a){a?this.jqItem.addClass("selected"):this.jqItem.removeClass("selected")};
TradingView.HTMLHelper.ComboboxItem.prototype.selectAndReturnIfValueMatch=function(a){if(this.eq(a))return this.select(!0),this;this.select(!1);return null};TradingView.HTMLHelper.Combobox=function(a){this._value=null;this.items=[];this.width=0;this.callback=this.jqItems=this.jqIcon=this.jqTitle=this.jqSwitcher=this.jqWrapper=null;this._init();this.addItems(a);this.joinParts()};TradingView.HTMLHelper.Combobox.prototype._init=function(){this._initWrapper();this._initSwitcher();this._initOptions()};
TradingView.HTMLHelper.Combobox.prototype._initTitle=function(){this.jqTitle=$('<span class="title" />')};TradingView.HTMLHelper.Combobox.prototype._initIcon=function(){this.jqIcon=$('<span class="icon" />')};TradingView.HTMLHelper.Combobox.prototype._initOptions=function(){this.jqItems=TradingView.HTMLHelper.createPopup({class:"items"})};
TradingView.HTMLHelper.Combobox.prototype._initWrapper=function(){this.jqWrapper=$('<div class="custom-select" />');this.jqWrapper.data({disable:this.disable.bind(this),enable:this.enable.bind(this)})};
TradingView.HTMLHelper.Combobox.prototype._initSwitcher=function(){var a=this;this._initTitle();this._initIcon();this.jqSwitcher=$('<div class="switcher" />');this.jqSwitcher.append(this.jqTitle);this.jqSwitcher.append($(this.jqIcon).clone());this.opened=!1;this.jqSwitcher.click(function(b){a.toggleItems()});a=this;$(document).click(function(b){!$(b.target).closest(a.jqSwitcher).length&&(!a.jqSwitcher.is(b.target)&&0===a.jqSwitcher.has(b.target).length||!a.jqItems.is(b.target)&&0===!a.jqItems.has(b.target).length)&&
a.opened&&(a.jqItems.hide(),a.opened=!1,a.jqSwitcher.removeClass("open"),b.stopPropagation())})};TradingView.HTMLHelper.Combobox.prototype.toggleItems=function(){this.disabled()||(this.opened?(this.jqItems.hide(),this.jqSwitcher.removeClass("open"),this.opened=!1):(this.jqItems.show(),this.jqSwitcher.addClass("open"),this.opened=!0))};TradingView.HTMLHelper.Combobox.prototype.setWidth=function(){this.jqWrapper.width(this.width)};
TradingView.HTMLHelper.Combobox.prototype.joinParts=function(){this.jqWrapper.append(this.jqSwitcher);this.jqWrapper.append(this.jqItems);this.jqWrapper.selectable(!1)};TradingView.HTMLHelper.Combobox.prototype.render=function(){return this.jqWrapper};TradingView.HTMLHelper.Combobox.prototype.selectItemByValue=function(a){var b=null;$(this.items).each(function(c,d){var e=d.selectAndReturnIfValueMatch(a);e&&(b=e)});return b};
TradingView.HTMLHelper.Combobox.prototype.setValue=function(a){if(this._value!=a){var b=this.selectItemByValue(a);this._value=a;this.jqTitle.html(b.html);this.change()}};TradingView.HTMLHelper.Combobox.prototype.change=function(a){a?this.callback=a:this.callback&&this.callback.call(this)};TradingView.HTMLHelper.Combobox.prototype.value=function(){return this._value};TradingView.HTMLHelper.Combobox.prototype.val=function(a){if(void 0!==a)this.setValue(a);else return this.value()};
TradingView.HTMLHelper.Combobox.prototype.addItems=function(a){var b=this;$(a).each(function(a,d){b.addItem(d.value,d.html)})};TradingView.HTMLHelper.Combobox.prototype.addItem=function(a,b){var c=this,d=new TradingView.HTMLHelper.ComboboxItem(a,b);this.items.push(d);d=d.render();d.click(function(){c.setValue(a);c.toggleItems()});this.jqItems.append(d);null===this.value()&&this.setValue(a)};TradingView.HTMLHelper.Combobox.prototype.disable=function(){this._disabled=!0};
TradingView.HTMLHelper.Combobox.prototype.enable=function(){this._disabled=!1};TradingView.HTMLHelper.Combobox.prototype.disabled=function(){return this._disabled};"use strict";
var MathEx={lessThan:function(a,b){return a<=b},greaterThan:function(a,b){return a>=b},clamp:function(a,b,c){return Math.min(Math.max(a,b),c)},sign:function(a){return 0>a?-1:0<a?1:0},isBaseDecimal:function(a){if(0>a)return TradingView.logDebugChart("MathEx.isBaseDecimal: argument less zero"),!1;for(;1<a;a/=10)if(0!==a%10)return!1;return!0},greaterOrEqual:function(a,b,c){return b-a<=c},equal:function(a,b,c){return Math.abs(a-b)<c},log10:function(a){if(0>=a)TradingView.logDebugChart("MathEx.log10: argument less or equal zero");
else return Math.log(a)/Math.log(10)},defComparator:function(a,b){return a<b?-1:a>b?1:0},min:function(a,b){if(!Array.isArray(a))throw"argument is not array";if(1>a.length)throw"array is empty";b||(b=MathEx.defComparator);for(var c=a[0],d=0;d<a.length;++d)0>b(a[d],c)&&(c=a[d]);return c},max:function(a,b){if(!Array.isArray(a))throw"argument is not array";if(1>a.length)throw"array is empty";b||(b=MathEx.defComparator);for(var c=a[0],d=0;d<a.length;++d)0<b(a[d],c)&&(c=a[d]);return c},Point:function(a,
b){this.x=a;this.y=b}};MathEx.Point.prototype.add=function(a){return new MathEx.Point(this.x+a.x,this.y+a.y)};MathEx.Point.prototype.addScaled=function(a,b){return new MathEx.Point(this.x+b*a.x,this.y+b*a.y)};MathEx.Point.prototype.substract=function(a){return new MathEx.Point(this.x-a.x,this.y-a.y)};MathEx.Point.prototype.dotProduct=function(a){return this.x*a.x+this.y*a.y};MathEx.Point.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};
MathEx.Point.prototype.scaled=function(a){return new MathEx.Point(this.x*a,this.y*a)};MathEx.Point.prototype.normalized=function(){return this.scaled(1/this.length())};MathEx.Point.prototype.transponed=function(){return new MathEx.Point(-this.y,this.x)};MathEx.Point.prototype.clone=function(){return new MathEx.Point(this.x,this.y)};MathEx.Matrix=function(){this._rows=[[1,0,0],[0,1,0],[0,0,1]]};
MathEx.Matrix.prototype.mult=function(a){if(a instanceof MathEx.Matrix){for(var b=new MathEx.Matrix,c=0;3>c;c++)for(var d=0;3>d;d++)for(var e=b._rows[c][d]=0;3>e;e++)b._rows[c][d]+=this._rows[c][e]*a._rows[e][d];return b}if(a instanceof MathEx.Point){a=[a.x,a.y,1];b=[0,0,0];for(c=0;3>c;c++)for(d=0;3>d;d++)b[c]+=a[d]*this._rows[c][d];return new MathEx.Point(b[0],b[1])}throw"unsupported type";};
MathEx.Matrix.rotate=function(a){var b=new MathEx.Matrix;b._rows[0][0]=Math.cos(a);b._rows[1][1]=Math.cos(a);b._rows[0][1]=-Math.sin(a);b._rows[1][0]=Math.sin(a);return b};MathEx.Matrix.scale=function(a,b){var c=new MathEx.Matrix;c._rows[0][0]=a;c._rows[1][1]=b;return c};MathEx.Matrix.translate=function(a,b){var c=new MathEx.Matrix;c._rows[0][2]=a;c._rows[1][2]=b;return c};
MathEx.distanceToLine=function(a,b,c){b=b.substract(a);var d=c.substract(a).dotProduct(b)/b.dotProduct(b);return{distance:a.addScaled(b,d).substract(c).length(),coeff:d}};MathEx.distanceToSegment=function(a,b,c){var d=MathEx.distanceToLine(a,b,c);if(0<=d.coeff&&1>=d.coeff)return d;a=a.substract(c).length();b=b.substract(c).length();return a<b?{distance:a,coeff:0}:{distance:b,coeff:1}};
MathEx.intersectLines=function(a,b,c,d){b=b.substract(a);d=d.substract(c);b=b.x*d.y-b.y*d.x;if(1E-6>Math.abs(b))return null;a=a.substract(c);return(a.y*d.x-a.x*d.y)/b};MathEx.intersectSegment=function(a,b,c,d){var e=MathEx.intersectLines(a,b,c,d);if(null===e)return null;a=b.substract(a).scaled(e).add(a);c=MathEx.distanceToSegment(c,d,a);return 1E-6>Math.abs(c.distance)?e:null};MathEx.pointInRect=function(a,b,c){return a.x>=b.x&&a.x<=c.x&&a.y>=b.y&&a.y<=c.y};
MathEx.pointInTriangle=function(a,b,c,d){var e=a.add(b).scaled(.5).add(c).scaled(.5),f=MathEx.intersectSegment(a,b,e,d);if(null!==f)return!1;f=MathEx.intersectSegment(b,c,e,d);if(null!==f)return!1;f=MathEx.intersectSegment(c,a,e,d);return null!==f?!1:!0};
MathEx.intersectRayWithRect=function(a,b,c,d){var e=MathEx.intersectLines(a,b,c,new MathEx.Point(d.x,c.y)),f=MathEx.intersectLines(a,b,new MathEx.Point(d.x,c.y),d),g=MathEx.intersectLines(a,b,d,new MathEx.Point(c.x,d.y)),h=MathEx.intersectLines(a,b,new MathEx.Point(c.x,d.y),c),k=[];e&&0<=e&&k.push(e);f&&0<=f&&k.push(f);g&&0<=g&&k.push(g);h&&0<=h&&k.push(h);if(0===k.length)return null;k.sort(function(a,b){return a-b});c=MathEx.pointInRect(a,c,d)?k[0]:k[k.length-1];return a.addScaled(b.substract(a),
c)};MathEx.isInPolygon=function(a,b){for(var c=0,d=a.length-1,e=!1,f=b.x,g=b.y,c=0;c<a.length;c++){var h=a[c],d=a[d];(h.y<g&&d.y>=g||d.y<g&&h.y>=g)&&h.x+(g-h.y)/(d.y-h.y)*(d.x-h.x)<f&&(e=!e);d=c}return e};MathEx.isInCircle=function(a,b,c){return(c.x-a.x)*(c.x-a.x)+(c.y-a.y)*(c.y-a.y)<=b*b};
MathEx.optionalCorner=function(a,b,c,d){return 1E-6<Math.abs(a.x-b.x)&&1E-6<Math.abs(a.y-b.y)?0===Math.round(a.x)||0===Math.round(b.x)?0===Math.round(a.y)||0===Math.round(b.y)?new MathEx.Point(0,0):new MathEx.Point(0,d):0===Math.round(a.y)||0===Math.round(b.y)?new MathEx.Point(c,0):new MathEx.Point(c,d):null};
var CanvasEx={LINESTYLE_SOLID:0,LINESTYLE_DOTTED:1,LINESTYLE_DASHED:2,LINESTYLE_LARGE_DASHED:3,TEXTPOS_TOPLEFT:0,TEXTPOS_TOPCENTER:1,TEXTPOS_TOPRIGHT:2,TEXTPOS_MIDDLELEFT:3,TEXTPOS_MIDDLECENTER:4,TEXTPOS_MIDDLERIGHT:5,TEXTPOS_BOTTOMLEFT:6,TEXTPOS_BOTTOMCENTER:7,TEXTPOS_BOTTOMRIGHT:8,SIZE_AUTO:"auto",SIZE_TINY:"tiny",SIZE_SMALL:"small",SIZE_NORMAL:"normal",SIZE_LARGE:"large",SIZE_HUGE:"huge",MARKLOC_ABOVEBAR:"AboveBar",MARKLOC_BELOWBAR:"BelowBar",MARKLOC_TOP:"Top",MARKLOC_BOTTOM:"Bottom",MARKLOC_RIGHT:"Right",
MARKLOC_LEFT:"Left",MARKLOC_ABSOLUTE:"Absolute",MARKLOC_ABSOLUTEUP:"AbsoluteUp",MARKLOC_ABSOLUTEDOWN:"AbsoluteDown",HHISTLOC_RELATIVE:"relative",HHISTLOC_ABSOLUTE:"absolute",HHISTDIR_LEFTTORIGHT:"left_to_right",HHISTDIR_RIGHTTOLEFT:"right_to_left"};"undefined"!=typeof module&&module&&module.exports&&(module.exports=CanvasEx);
TradingView.resizeCanvas=function(a,b,c){var d=a.prop("height"),e=a.prop("width");if(d&&e){var d=d/(window.hidpiCanvasRatio||1),e=e/(window.hidpiCanvasRatio||1),f=$("<canvas>").prop("width",e).prop("height",d),g=f.get(0).getContext("2d"),e=Math.min(e,b),d=Math.min(d,c);e&&d&&g.drawImage(a.get(0),0,0,e,d,0,0,e,d);a.prop("height",c).prop("width",b);a=a.get(0).getContext("2d");e&&d&&a.drawImage(f.get(0),0,0,e,d,0,0,e,d);f.remove()}};
CanvasEx.computeDashPattern=function(a){return[[a.lineWidth,2*a.lineWidth],[3*a.lineWidth,2*a.lineWidth],[6*a.lineWidth,6*a.lineWidth]][a.lineStyle-1]};CanvasEx.drawLine=function(a,b,c,d,e){isFinite(b)&&isFinite(d)&&isFinite(c)&&isFinite(e)&&(a.lineStyle===CanvasEx.LINESTYLE_DASHED||a.lineStyle===CanvasEx.LINESTYLE_DOTTED?a.drawDashedLine(a,b,c,d,e):CanvasEx.drawSolidLine(a,b,c,d,e))};CanvasEx.drawSolidLine=function(a,b,c,d,e){a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke()};
CanvasEx.setLineStyle=function(a,b){a.lineStyle=b;var c=[];b!=CanvasEx.LINESTYLE_SOLID&&(c=CanvasEx.computeDashPattern(a));"function"==typeof a.setLineDash?a.setLineDash(c):void 0!==a.mozDash?a.mozDash=c:void 0!==a.webkitLineDash&&(a.webkitLineDash=c)};CanvasEx.drawPoly=function(a,b,c){a.beginPath();a.moveTo(b[0].x,b[0].y);for(var d=0;d<b.length;d++){var e=b[d];a.lineTo(e.x,e.y)}a.closePath();a.stroke();c&&a.fill()};CanvasEx.lineStyles=[];
"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.setFont=function(a){if(this.font!=a)try{this.font=a}catch(b){}},CanvasRenderingContext2D.prototype.lineStyle=CanvasEx.LINESTYLE_SOLID,CanvasEx.originalSave=CanvasRenderingContext2D.prototype.save,CanvasEx.originalRestore=CanvasRenderingContext2D.prototype.restore,CanvasRenderingContext2D.prototype.save=function(){CanvasEx.lineStyles.push(this.lineStyle);CanvasEx.originalSave.call(this)},CanvasRenderingContext2D.prototype.restore=
function(){0<CanvasEx.lineStyles.length&&(this.lineStyle=CanvasEx.lineStyles.pop(),CanvasEx.originalRestore.call(this))},CanvasRenderingContext2D.prototype.drawDashedLine=function(a,b,c,d,e){a.save();var f=CanvasEx.computeDashPattern(a);a.beginPath();if("function"==typeof a.setLineDash)a.setLineDash(f);else if(void 0!==a.mozDash)a.mozDash=f;else if(void 0!==a.webkitLineDash)a.webkitLineDash=f;else{a.dashedLineTo(b,c,d,e,f);a.stroke();a.restore();return}a.moveTo(b,c);a.lineTo(d,e);a.stroke();a.restore()},
CanvasRenderingContext2D.prototype.dashedLineTo=function(a,b,c,d,e){var f={thereYet:MathEx.greaterThan,cap:Math.min},g={thereYet:MathEx.greaterThan,cap:Math.min};0<b-d&&(g.thereYet=MathEx.lessThan,g.cap=Math.max);0<a-c&&(f.thereYet=MathEx.lessThan,f.cap=Math.max);this.moveTo(a,b);for(var h=a,k=b,l=0,m=!0;!f.thereYet(h,c)||!g.thereYet(k,d);){var t=Math.atan2(d-b,c-a),q=e[l],h=f.cap(c,h+Math.cos(t)*q),k=g.cap(d,k+Math.sin(t)*q);m?this.lineTo(h,k):this.moveTo(h,k);l=(l+1)%e.length;m=!m}},CanvasRenderingContext2D.prototype.roundRect=
function(a,b,c,d,e){this.beginPath();this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.arcTo(a+c,b,a+c,b+e,e);this.lineTo(a+c,b+d-e);this.arcTo(a+c,b+d,a+c-e,b+d,e);this.lineTo(a+e,b+d);this.arcTo(a,b+d,a,b+d-e,e);this.lineTo(a,b+e);this.arcTo(a,b,a+e,b,e)});String.prototype.left=function(a){if(!TradingView.isInteger(a))throw"invalid length";if(a>this.length)throw"invalid length";return this.substring(0,a)};
String.prototype.right=function(a){if(!TradingView.isInteger(a))throw"invalid length";if(a>this.length)throw"invalid length";return this.substring(this.length-a,this.length)};String.prototype.trimmed=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};String.prototype.startsWith=function(a){return a.length>this.length?!1:this.left(a.length)===a};"use strict";function Delegate(){this._listeners=[]}Delegate.prototype.subscribe=function(a,b,c){this._listeners.push({object:a,member:b,singleshot:!!c})};
Delegate.prototype.unsubscribe=function(a,b){for(var c=0;c<this._listeners.length;++c){var d=this._listeners[c];if(d.object===a&&d.member.prototype===b.prototype){this._listeners.splice(c,1);break}}};Delegate.prototype.fire=function(){for(var a=this._listeners.slice(),b=0;b<a.length;++b){var c=a[b];c.member.apply(c.object||null,arguments)}for(b=this._listeners.length-1;0<=b;b--)this._listeners[b].singleshot&&this._listeners.splice(b,1)};"use strict";
TradingView.PriceFormatter=function(a,b,c,d){b||(b=1);TradingView.isInteger(a)||(a=100);if(0>a)throw new TypeError("invalid base");this._priceScale=a;this._minMove=b;this._minMove2=d;0<d&&2!==d&&4!==d?TradingView.logDebugChart("invalid minmove2"):(this._fractional=c,this.calculateDecimal())};TradingView.PriceFormatter.prototype.isFractional=function(){return this._fractional};TradingView.PriceFormatter.prototype.decimalSign=".";TradingView.PriceFormatter.prototype.decimalSignFractional="'";
TradingView.PriceFormatter.prototype.southandDelimeter="`";TradingView.PriceFormatter.prototype.fullPrecision=!1;TradingView.PriceFormatter.prototype.state=function(){return{minMove:this._minMove,minMove2:this._minMove2,fractional:this._fractional,fractionalLength:this._fractionalLength}};TradingView.PriceFormatter.prototype.calculateDecimal=function(){this._fractionalLength=0;if(0<this._priceScale&&0<this._minMove){var a=this._priceScale;for(this._minMove2&&(a/=this._minMove2);1<a;)a/=10,this._fractionalLength++}};
TradingView.numberToStringWithLeadingZero=function(a,b){if(!isNumber(a))return"n/a";if(!TradingView.isInteger(b))throw new TypeError("invalid length");if(0>b||16<b)throw new TypeError("invalid length");return 0===b?a.toString():("0000000000000000"+a.toString()).right(b)};TradingView.PriceFormatter.prototype.format=function(a,b,c){var d="";0>a?(d=!0===b?"\u2212":"-",a=-a):a&&!0===b&&(d="+");return this._fractional?d+this.formatAsFractional(a,c):d+this.formatAsDecimal(a,c)};
TradingView.PriceFormatter.prototype._removeEndingZeros=function(a,b){for(var c=0;c<b;c++)if("0"==a[a.length-1])a=a.substr(0,a.length-1);else break;return a};
TradingView.PriceFormatter.prototype.formatAsDecimal=function(a,b){var c;b=b||0;c=this._fractional?Math.pow(10,this._fractionalLength||0):Math.pow(10,b)*this._priceScale/this._minMove;var d=Math.floor(a),e=+(Math.round(a*c)-d*c).toFixed(this._fractionalLength);e>=c&&(e-=c,d+=1);var f="";1!==c&&(f=this.decimalSign+TradingView.numberToStringWithLeadingZero(e.toFixed(this._fractionalLength)*this._minMove,this._fractionalLength+b),f=this._removeEndingZeros(f,b));return d.toString()+f};
TradingView.PriceFormatter.prototype.formatAsFractional=function(a,b){var c=this._priceScale/this._minMove,d=Math.floor(a),e=b?Math.floor(a*c)-d*c:Math.round(a*c)-d*c;e===c&&(e=0,d+=1);var f="";b&&(f=Math.round((a-d-e/c)*c*Math.pow(10,b)),f=TradingView.numberToStringWithLeadingZero(f,b),f=this._removeEndingZeros(f,b));c="";if(this._minMove2)var c=["0","5"],g=["0","2","5","7"],h=e%this._minMove2,e=(e-h)/this._minMove2,c=TradingView.numberToStringWithLeadingZero(e,this._fractionalLength)+this.decimalSignFractional+
(2===this._minMove2?c[h]:g[h]);else c=TradingView.numberToStringWithLeadingZero(e*this._minMove,this._fractionalLength);return d.toString()+this.decimalSignFractional+c+f};
TradingView.PriceFormatter.prototype._parseAsDecimal=function(a){var b=(new RegExp(/^(\-?)[0-9]+$/)).exec(a);return b?(a=parseFloat(a),{res:!0,suggest:this.format(a),price:a}):(b=(new RegExp("^(-?)[0-9]+\\"+TradingView.PriceFormatter.prototype.decimalSign+"[0-9]+$")).exec(a))?(a=parseFloat(a.replace(TradingView.PriceFormatter.prototype.decimalSign,".")),{res:!0,suggest:this.format(a),price:a}):{res:!1,error:"not a number"}};
TradingView.PriceFormatter.prototype._patchFractPart=function(a,b){var c={0:0,5:1},d={0:0,2:1,5:2,7:3};return 2==b?void 0===c[a]?-1:c[a]:4==b?void 0===d[a]?-1:d[a]:a};
TradingView.PriceFormatter.prototype._parseAsSingleFractional=function(a){var b=(new RegExp(/^[0-9]+$/)).exec(a);if(b)return b=parseFloat(a),{res:!0,suggest:this.format(b),price:b};if(b=(new RegExp("^([0-9]+)\\"+this.decimalSignFractional+"([0-9]+)$")).exec(a)){a=parseInt(b[1]);var c=this._priceScale,b=this._patchFractPart(parseInt(b[2]),c);if(b>=c||0>b)return{res:!1,error:"fraction part is invalid"};b=a+b/c;return{res:!0,suggest:this.format(b),price:b}}return{res:!1,error:"not a number"}};
TradingView.PriceFormatter.prototype._parseAsDoubleFractional=function(a){var b=(new RegExp(/^[0-9]+$/)).exec(a);if(b)return b=parseFloat(a),{res:!0,suggest:this.format(b),price:b};if(b=(new RegExp("^([0-9]+)\\"+this.decimalSignFractional+"([0-9]+)\\"+this.decimalSignFractional+"([0-9]+)$")).exec(a)){a=parseInt(b[1]);var c=this._priceScale/this._minMove2,d=this._minMove2,e=this._patchFractPart(parseInt(b[2]),c),b=this._patchFractPart(parseInt(b[3]),d);if(e>=c||0>e)return{res:!1,error:"fraction part is invalid"};
if(b>=d||0>b)return{res:!1,error:"second fraction part is invalid"};b=a+e/c+b/(c*d);return{res:!0,suggest:this.format(b),price:b}}return{res:!1,error:"not a number"}};TradingView.PriceFormatter.prototype.parse=function(a){return this._fractional?this._minMove2?this._parseAsDoubleFractional(a):this._parseAsSingleFractional(a):this._parseAsDecimal(a)};TradingView.PercentageFormatter=function(){TradingView.PriceFormatter.call(this,100)};inherit(TradingView.PercentageFormatter,TradingView.PriceFormatter);
TradingView.PercentageFormatter.prototype.state=function(){TradingView.PriceFormatter.prototype.state.call(this).percent=!0};TradingView.PercentageFormatter.prototype.format=function(a,b){return TradingView.PriceFormatter.prototype.format.call(this,a,b)+"%"};TradingView.DateFormatter=function(){};
TradingView.DateFormatter.prototype.format=function(a){return TradingView.numberToStringWithLeadingZero(a.getUTCFullYear(),4)+"-"+TradingView.numberToStringWithLeadingZero(a.getUTCMonth()+1,2)+"-"+TradingView.numberToStringWithLeadingZero(a.getUTCDate(),2)};TradingView.TimeFormatter=function(a){this._format_str=a||"%h:%m:%s"};
TradingView.TimeFormatter.prototype.format=function(a){return this._format_str.replace("%h",TradingView.numberToStringWithLeadingZero(a.getUTCHours(),2)).replace("%m",TradingView.numberToStringWithLeadingZero(a.getUTCMinutes(),2)).replace("%s",TradingView.numberToStringWithLeadingZero(a.getUTCSeconds(),2))};TradingView.DateTimeFormatter=function(a){this._dwm=a};
TradingView.DateTimeFormatter.prototype.format=function(a){var b=(new TradingView.DateFormatter).format(a);this._dwm||(b+=" "+(new TradingView.TimeFormatter).format(a));return b};TradingView.NumericFormatter=function(a){this._precision=a};TradingView.NumericFormatter.prototype.format=function(a){return(this._precision?a.toFixed(this._precision):a+"").replace(".",TradingView.PriceFormatter.prototype.decimalSign)};
TradingView.NumericFormatter.prototype.parse=function(a){a=a.replace(TradingView.PriceFormatter.prototype.decimalSign,".");a=parseFloat(a);this._precision&&(a=a.toFixed(this._precision));return a};TradingView.VolumeFormatter=function(a){this._numericFormatter=new TradingView.NumericFormatter(a);this._fractionalValues=0<a};
TradingView.VolumeFormatter.prototype.format=function(a){function b(a){return c._numericFormatter.format(a).replace(/(\.[1-9]*)0+$/,function(a,b){return b})}if(!isNumber(a))return"---";var c=this,d="";0>a&&(d="-",a=-a);if(1E100<=a)return"N/A";if(!this._fractionalValues||995<=a)a=Math.round(a);if(995>a)return d+b(a);if(999995>a)return d+b(a/1E3)+"K";if(999999995>a)return a=1E3*Math.round(a/1E3),d+b(a/1E6)+"M";a=1E6*Math.round(a/1E6);return d+b(a/1E9)+"B"};TradingView.TimeSpanFormatter=function(){};
TradingView.TimeSpanFormatter.prototype.format=function(a){var b=0>a;a=Math.abs(a);var c=Math.floor(a/86400);a-=86400*c;var d=Math.floor(a/3600);a-=3600*d;var e=Math.floor(a/60);a-=60*e;var f="";c&&(f+=c+$.t("d",{context:"dates"})+" ");d&&(f+=d+$.t("h",{context:"dates"})+" ");e&&(f+=e+$.t("m",{context:"dates"})+" ");a&&(f+=a+$.t("s",{context:"dates"})+" ");b&&(f="-"+f);return f.trimmed()};TradingView.PriceColorer=function(){this._prev=null};
TradingView.PriceColorer.formatSign=function(a,b){b=b||{};return 0===a?b.neutral||"#5A5D66":0<a?b.up||"#27AC66":b.down||"#DA563E"};TradingView.PriceColorer.formatDiff=function(a,b){TradingView.PriceColorer.signFormat(b-a)};TradingView.PriceColorer.prototype.format=function(a){try{return null===this._prev?TradingView.PriceColorer.formatSign(a):TradingView.PriceColorer.formatDiff(this._prev,a)}finally{this._prev=a}};"use strict";TradingView.ReadonlyWatchedValue=function(){};
function WatchedValue(a){if(!(this instanceof WatchedValue))return new WatchedValue(a);0<arguments.length&&(this._value=a);this._listeners=[]}WatchedValue.prototype.value=function(){return this._owner?this._owner._value:this._value};
WatchedValue.prototype.setValue=function(a,b){var c=this._owner?this._owner:this;"function"===typeof c.hook&&(a=c.hook(a));if(c.writeLock)return c._value;if(!b&&c._value===a&&c.hasOwnProperty("_value"))return a;c._value=a;for(var d=c._listeners.slice(),e=0,f=0;f<d.length;f++)d[f].once&&(c._listeners.splice(f-e,1),e++),d[f].cb(a);return a};
WatchedValue.prototype.deleteValue=function(){var a=this._owner?this._owner:this;if(a.hasOwnProperty("_value")){if(a.writeLock)return a._value;delete a._value;for(var b=a._listeners.slice(),c=0,d=0;d<b.length;d++)b[d].once&&(a._listeners.splice(d-c,1),c++),b[d].cb()}};
WatchedValue.prototype.subscribe=function(a,b){if("function"!==typeof a)throw new TypeError("callback must be a function");var c=!!b&&!!b.once,d=this._owner?this._owner:this;if(b&&b.callWithLast&&d.hasOwnProperty("_value")&&(a(d._value),c))return;d._listeners.push({cb:a,owner:this,once:!!b&&!!b.once})};
WatchedValue.prototype.unsubscribe=function(a){var b=this._owner?this._owner:this;void 0===a&&(a=null);for(var c=b._listeners,d=c.length;d--;)c[d].owner!==this&&b!==this||c[d].cb!==a&&null!==a||c.splice(d,1)};
WatchedValue.prototype.readonly=function(){if(this._readonlyInstance)return this._readonlyInstance;var a=this._readonlyInstance=new TradingView.ReadonlyWatchedValue;a.subscribe=this.subscribe.bind(this);a.unsubscribe=this.unsubscribe.bind(this);a.value=this.value.bind(this);a.when=this.when.bind(this);return a};WatchedValue.prototype.spawn=function(){var a=new WatchedValue;delete a._listeners;a._owner=this._owner||this;a.destroy=function(){this.unsubscribe();delete this._owner};return a};
WatchedValue.prototype.when=function(a){var b=this;if(this.value())a();else{var c=function(d){d&&(b.unsubscribe(c),a())};b.subscribe(c)}};"undefined"!=typeof module&&module&&module.exports&&(module.exports=WatchedValue);"use strict";var WEB_SOCKET_SWF_LOCATION=TradingView.resourceFullPath("web_socket_main.swf"),WEB_SOCKET_DEBUG=!1;TradingView.WEB_SOCKET_WAS_CONNECTED=!1;TradingView.STUDY_COUNT_LIMIT=120;TradingView.HandlerInfo=function(a,b){this.handler=a;this.customId=b;this.requestHook=null};
TradingView.ChartApiInterface=function(){};TradingView.ChartApiInterface.prototype.defaultWatchlistSymbols=function(){};TradingView.ChartApiInterface.prototype.availableTimeFrames=function(a,b){};TradingView.ChartApiInterface.prototype.defaultResolutions=function(){};TradingView.ChartApiInterface.prototype.supportedSymbolsTypes=function(){};TradingView.ChartApiInterface.prototype.supportedExchangesList=function(){};TradingView.ChartApiInterface.prototype.futuresRegex=function(){};
TradingView.ChartApiInterface.prototype.setAuthToken=function(a,b){};TradingView.ChartApiInterface.prototype.authTokenRequired=function(a){};TradingView.ChartApiInterface.prototype.quoteCreateSession=function(a){};TradingView.ChartApiInterface.prototype.quoteDeleteSession=function(a){};TradingView.ChartApiInterface.prototype.quoteSetFields=function(a,b){};TradingView.ChartApiInterface.prototype.quoteAddSymbols=function(a,b){};TradingView.ChartApiInterface.prototype.quoteRemoveSymbols=function(a,b){};
TradingView.ChartApiInterface.prototype.quoteFastSymbols=function(a,b){};TradingView.ChartApiInterface.prototype.depthCreateSession=function(a,b,c){};TradingView.ChartApiInterface.prototype.depthDeleteSession=function(a){};TradingView.ChartApiInterface.prototype.depthSetSymbol=function(a,b){};TradingView.ChartApiInterface.prototype.depthClearSymbol=function(a){};TradingView.ChartApiInterface.prototype.depthSetScale=function(a,b){};
TradingView.ChartApiInterface.prototype.chartCreateSession=function(a,b){};TradingView.ChartApiInterface.prototype.chartDeleteSession=function(a){};TradingView.ChartApiInterface.prototype.createSession=function(a,b){};TradingView.ChartApiInterface.prototype.removeSession=function(a){};TradingView.ChartApiInterface.prototype.connected=function(){};TradingView.ChartApiInterface.prototype._getHost=function(a){};TradingView.ChartApiInterface.prototype.connect=function(){};
TradingView.ChartApiInterface.prototype.disconnect=function(){};TradingView.ChartApiInterface.prototype.switchTimezone=function(a,b){};TradingView.ChartApiInterface.prototype.resolveSymbol=function(a,b,c,d,e){};TradingView.ChartApiInterface.prototype.createSeries=function(a,b,c,d,e,f,g){};TradingView.ChartApiInterface.prototype.removeSeries=function(a,b,c){};TradingView.ChartApiInterface.prototype.modifySeries=function(a,b,c,d,e,f){};
TradingView.ChartApiInterface.prototype.requestMoreData=function(a,b,c,d){};TradingView.ChartApiInterface.prototype.requestMetadata=function(a,b,c){};TradingView.ChartApiInterface.prototype.isCanCreateStudy=function(){};TradingView.ChartApiInterface.prototype.createStudy=function(a,b,c,d,e,f,g){};TradingView.ChartApiInterface.prototype.removeStudy=function(a,b,c){};TradingView.ChartApiInterface.prototype.modifyStudy=function(a,b,c,d,e){};
TradingView.ChartApiInterface.prototype.createPointset=function(a,b,c,d,e,f,g){};TradingView.ChartApiInterface.prototype.modifyPointset=function(a,b,c,d,e){};TradingView.ChartApiInterface.prototype.removePointset=function(a,b,c){};TradingView.ChartApiInterface.prototype.requestMoreTickmarks=function(a,b,c,d){};TradingView.ChartApiInterface.prototype.requestFirstBarTime=function(a,b,c,d){};TradingView.ChartApiInterface.prototype._invokeHandler=function(a,b){};
TradingView.ChartApiInterface.prototype._sendRequest=function(a,b){};TradingView.ChartApiInterface.prototype._onMessage=function(a){};TradingView.ChartApiInterface.prototype._convertTimescaleResponse=function(a){};TradingView.ChartApiInterface.prototype._dispathNotification=function(a){};TradingView.ChartApiInterface.prototype._invokeNotificationHandler=function(a,b,c){};TradingView.ChartApiInterface.prototype._notifySessions=function(a){};TradingView.ChartApiInterface.prototype.unpack=function(a){};
TradingView.ChartApiInterface.prototype.reconnectTimeout=function(a){};TradingView.ChartApiInterface.prototype.searchSymbols=function(a){};TradingView.ChartApiInterface.prototype.serverTimeOffset=function(){};TradingView.ChartApiInterface.prototype._isSafari5=function(){};TradingView.ChartApiInterface.prototype._isIE9=function(){};TradingView.ChartApiInterface.prototype._isIOS5=function(){};TradingView.ChartApiInterface.prototype._getPort=function(a){};
TradingView.ChartApiInterface.prototype.getMarks=function(a,b,c,d,e){};TradingView.ChartApiInterface.prototype.getTimescaleMarks=function(a,b,c,d,e){};TradingView.declareClassAsPureInterface(TradingView.ChartApiInterface,"TradingView.ChartApiInterface");"use strict";TradingView.TVChartApi=function(){this._socket=null;this._notificationHandlers=[];this._sessions=[];this.studyCounter=0};
TradingView.TVChartApi.prototype.defaultWatchlistSymbols=function(){var a;switch(window.language){case "ru":a="MOEX:MICEX MOEX:RTSI MOEX:USDRUB_TOM MOEX:EURRUB_TOM MOEX:SBER MOEX:GAZP MOEX:VTBR MOEX:LKOH MOEX:MGNT FX:UKOIL FX:USOIL FX:NGAS FX:NAS100 FX:EUSTX50 FX:GER30 FX:ITA40".split(" ");break;case "ja":a="FX:SPX500 FX:JPN225 FX:AUS200 FX:USDJPY FX:EURJPY CHXJPY:7203 CHXJPY:9437 CHXJPY:7267 CHXJPY:9433 CHXJPY:8411 CHXJPY:8306 OTC:IHRMF AMEX:AIA CME:NY1!".split(" ");break;default:a="FX:SPX500 AMEX:SPY FX:NAS100 INDEX:DOWI INDEX:DXY FX:UK100 FX:GER30 FX:JPN225 FX:EURUSD BITSTAMP:BTCUSD FX:UKOIL FX:XAUUSD AMEX:DIA AMEX:GLD AMEX:FXE".split(" ")}return a};
TradingView.TVChartApi.prototype.availableTimeFrames=function(a,b){var c={};c[TradingView.Series.STATUS_DELAYED]=[{text:$.t("All"),value:"all",targetResolution:"M"},{text:$.t("5y"),value:"60m",targetResolution:"W"},{text:$.t("1y"),value:"12m",targetResolution:"D"},{text:$.t("ytd"),value:"ytd",targetResolution:"D"}];c[TradingView.Series.STATUS_READY]=[{text:$.t("All"),value:"all",targetResolution:"M"},{text:$.t("5y"),value:"60m",targetResolution:"W"},{text:$.t("1y"),value:"12m",targetResolution:"D"},
{text:$.t("YTD"),value:"ytd",targetResolution:"D"},{text:$.t("6m"),value:"6m",targetResolution:"120"},{text:$.t("3m"),value:"3m",targetResolution:"60"},{text:$.t("1m"),value:"1m",targetResolution:"30"},{text:$.t("5d"),value:"5d",targetResolution:"5"},{text:$.t("1d"),value:"1d",targetResolution:"1"}];b==TradingView.Series.STATUS_DELAYED_STREAMING&&(b=TradingView.Series.STATUS_READY);return c[b]};
TradingView.TVChartApi.prototype.defaultResolutions=function(){return{1:1,3:1,5:1,15:1,30:1,45:1,60:1,120:1,180:1,240:1,D:1,W:1,M:1}};
TradingView.TVChartApi.prototype.supportedSymbolsTypes=function(){var a=[{name:$.t("All"),value:""},{name:$.t("Stock"),value:"stock"},{name:$.t("Futures"),value:"futures"},{name:$.t("Forex"),value:"forex"},{name:$.t("CFD"),value:"cfd"},{name:$.t("Bitcoin"),value:"bitcoin"},{name:$.t("Index"),value:"index"},{name:$.t("Economy"),value:"economic"}];TradingView.isFeatureEnabled("quandl_search")&&a.push({name:$.t("Quandl"),value:TradingView.SymbolSearch.QUANDL});"bovespa"===TradingView.widgetCustomer&&
(a=$.grep(a,function(a){return-1!==["","stock","futures","index"].indexOf(a.value)}));return a};
TradingView.TVChartApi.prototype.supportedExchangesList=function(){return[{value:"",name:"All Exchanges",desc:$.t("All Exchanges"),flag:""},{value:"796",name:"796",desc:"796",flag:"bitcoin"},{value:"COINFLOOR",name:"COINFLOOR",desc:"COINFLOOR",flag:"bitcoin"},{value:"LSE_EOD",name:"LSE",desc:$.t("LSE - London Stock Exchange"),flag:"uk"},{value:"AMEX",name:"AMEX",desc:$.t("AMEX - American Stock Exchange"),flag:"usa"},{value:"EUREX",name:"EUREX",desc:$.t("EUREX Futures"),flag:"europe"},{value:"MGEX",
name:"MGEX",desc:"MGEX - Futures",flag:"usa",hideInSymbolSearch:!0},{value:"MOEX",name:"MOEX",desc:$.t("MOEX - Moscow Stock Exchange"),flag:"russia"},{value:"BITSTAMP",name:"BITSTAMP",desc:"BITSTAMP",flag:"bitcoin"},{value:"FX",name:"FXCM",desc:$.t("FXCM - Forex"),flag:"forex"},{value:"MERCADO",name:"MERCADO",desc:"MERCADO",flag:"bitcoin"},{value:"BTCE",name:"BTC-e",desc:"BTC-E",flag:"bitcoin"},{value:"GOCIO",name:"GOCIO",desc:"GOCIO",flag:"bitcoin"},{value:"NASDAQ",name:"NASDAQ",desc:$.t("NASDAQ - NASDAQ Stock Market"),
flag:"usa"},{value:"BTCYOU",name:"BTCYOU",desc:"BTCYOU",flag:"bitcoin"},{value:"HITBTC",name:"HITBTC",desc:"HITBTC",flag:"bitcoin"},{value:"NYMEX",name:"NYMEX",desc:$.t("NYMEX Futures (E-mini included)"),flag:"usa"},{value:"BSE_EOD",name:"BSE",desc:$.t("BSE - Bombay Stock Exchange"),flag:"india"},{value:"NYMEX_MINI",name:"NYMEX E-mini",desc:$.t("NYMEX E-mini Futures"),flag:"usa"},{value:"COMEX",name:"COMEX",desc:$.t("COMEX Futures (E-mini included)"),flag:"usa"},{value:"ICEUSA",name:"ICEUSA",desc:$.t("ICEUSA Futures"),
flag:"usa"},{value:"NYSE",name:"NYSE",desc:$.t("NYSE - New York Stock Exchange"),flag:"usa"},{value:"COMEX_MINI",name:"COMEX E-mini",desc:$.t("COMEX E-mini Futures"),flag:"usa"},{value:"ICEEUR",name:"ICEEUR",desc:$.t("ICEEUR Futures"),flag:"europe"},{value:"NLIF",name:"NYSE LIFFE",desc:"NYSE LIFFE Futures (E-mini included)",flag:"usa",hideInSymbolSearch:!0},{value:"CBOE",name:"CBOE",desc:$.t("CBOE - Chicago Board Options Exchange"),flag:"usa"},{value:"NSE_EOD",name:"NSE",desc:$.t("NSE - National Stock Exchange of India"),
flag:"india"},{value:"CBOT",name:"CBOT",desc:$.t("CBOT Futures (E-mini included)"),flag:"usa"},{value:"KCBT",name:"KCBT",desc:"KCBT Futures",flag:"usa",hideInSymbolSearch:!0},{value:"OKCOIN",name:"OKCOIN",desc:"OKCOIN",flag:"bitcoin"},{value:"CBOT_MINI",name:"CBOT E-mini",desc:$.t("CBOT E-mini Futures"),flag:"usa"},{value:"KRAKEN",name:"KRAKEN",desc:"KRAKEN",flag:"bitcoin"},{value:"OTC",name:"OTC",desc:$.t("OTC - OTC Markets"),flag:"usa"},{value:"CME",name:"CME",desc:$.t("CME Globex Futures (E-mini included)"),
flag:"usa"},{value:"TSXV",name:"TSXV",desc:$.t("TSXV - Toronto Stock Venture Exchange"),flag:"canada"},{value:"TSX",name:"TSX",desc:$.t("TSX - Toronto Stock Exchange"),flag:"canada"},{value:"CME_MINI",name:"CME E-mini",desc:$.t("CME E-mini Futures"),flag:"usa"},{value:"BTCCHINA",name:"BTCCHINA",desc:"BTCCHINA",flag:"bitcoin"},{value:"HUOBI",name:"HUOBI",desc:"HUOBI",flag:"bitcoin"},{value:"KORBIT",name:"KORBIT",desc:"KORBIT",flag:"bitcoin"},{value:"THEROCKTRADING",name:"THEROCKTRADING",desc:"THEROCKTRADING",
flag:"bitcoin"},{value:"ANX",name:"ANX",desc:"ANX",flag:"bitcoin"},{value:"MEXBT",name:"MEXBT",desc:"MEXBT",flag:"bitcoin"},{value:"ITBIT",name:"ITBIT",desc:"ITBIT",flag:"bitcoin"},{value:"FOXBIT",name:"FOXBIT",desc:"FOXBIT",flag:"bitcoin"},{value:"XCOIN",name:"XCOIN",desc:"XCOIN",flag:"bitcoin"},{value:"BITVC",name:"BITVC",desc:"BITVC",flag:"bitcoin"},{value:"BITYES",name:"BITYES",desc:"BITYES",flag:"bitcoin"},{value:"BXTH",name:"BXTH",desc:"BXTH",flag:"bitcoin"},{value:"BITMEX",name:"BITMEX",desc:"BITMEX",
flag:"bitcoin"},{value:"CHXJPY",name:"Chi-X JAPAN",desc:$.t("Chi-X JAPAN"),flag:"japan"},{value:"FX_IDC",name:"IDC",desc:$.t("IDC - Forex"),flag:"forex"},{value:"CHXEUR",name:"Chi-X Europe",desc:$.t("Chi-X Europe"),flag:"europe"},{value:"CEXIO",name:"CEX.IO",desc:"CEX.IO",flag:"bitcoin"},{value:"BITSO",name:"BITSO",desc:"BITSO",flag:"bitcoin"},{value:"BMFBOVESPA",name:"BM&F Bovespa",desc:$.t("BM&F Bovespa"),flag:"brasil"}]};TradingView.TVChartApi.prototype.futuresRegex=function(){return/^(.+)([12]!|\w\d{4})$/};
TradingView.TVChartApi.prototype.setAuthToken=function(a,b){if(this._authTokenSent&&!b)return!1;a?(this.authTokenRequired(!0),this._socket?(this._sendRequest("set_auth_token",[a]),this._authTokenSent=!0,delete this._authToken):this._authToken=a):(this.authTokenRequired(!1),delete this._authToken);return!0};TradingView.TVChartApi.prototype.authTokenRequired=function(a){return arguments.length?this._authTokenRequired=!!a:this._authTokenRequired};TradingView.TVChartApi.prototype._authToken=null;
TradingView.TVChartApi.prototype._authTokenRequired=!1;TradingView.TVChartApi.prototype._authTokenSent=!1;TradingView.TVChartApi.prototype.loadNewToken=function(){this._sendRequest("set_auth_token",["load_new_token"])};TradingView.TVChartApi.prototype.quoteCreateSession=function(a){this._sendRequest("quote_create_session",[a])};TradingView.TVChartApi.prototype.quoteDeleteSession=function(a){this._sendRequest("quote_delete_session",[a])};
TradingView.TVChartApi.prototype.quoteSetFields=function(a,b){var c=[a].concat(b);this._sendRequest("quote_set_fields",c)};TradingView.TVChartApi.prototype.quoteAddSymbols=function(a,b){var c=[a].concat(b);this._sendRequest("quote_add_symbols",c)};TradingView.TVChartApi.prototype.quoteRemoveSymbols=function(a,b){var c=[a].concat(b);this._sendRequest("quote_remove_symbols",c)};TradingView.TVChartApi.prototype.quoteFastSymbols=function(a,b){this._sendRequest("quote_fast_symbols",[a].concat(b))};
TradingView.TVChartApi.prototype.quoteHibernateAll=function(a){this._sendRequest("quote_hibernate_all",[a])};TradingView.TVChartApi.prototype.depthCreateSession=function(a,b,c){this._sendRequest("depth_create_session",[a,b,c])};TradingView.TVChartApi.prototype.depthDeleteSession=function(a){this._sendRequest("depth_delete_session",[a])};TradingView.TVChartApi.prototype.depthSetSymbol=function(a,b){this._sendRequest("depth_set_symbol",[a,b])};
TradingView.TVChartApi.prototype.depthClearSymbol=function(a){this._sendRequest("depth_clear_symbol",[a])};TradingView.TVChartApi.prototype.depthSetScale=function(a,b){this._sendRequest("depth_set_scale",[a,b])};TradingView.TVChartApi.prototype.chartCreateSession=function(a,b){this._sendRequest("chart_create_session",[a,b?"disable_statistics":""])};TradingView.TVChartApi.prototype.chartDeleteSession=function(a){this._sendRequest("chart_delete_session",[a])};
TradingView.TVChartApi.prototype.createSession=function(a,b){this._sessions[a]=b;this._notificationHandlers[a]=b;if(this.connected())b.onMessage({method:"connected",params:[]})};TradingView.TVChartApi.prototype.removeSession=function(a){delete this._sessions[a];delete this._notificationHandlers[a];this.chartDeleteSession(a)};TradingView.TVChartApi.prototype.connected=function(){return!!this._isConnected};
TradingView.TVChartApi.prototype._getHost=function(a){return TradingView.isFeatureEnabled("pro_backend")&&window.pro&&window.pro.hasPaidSubscription()&&("staging"==window.environment||"battle"==window.environment)&&(!this._reconnectCount||3>this._reconnectCount)&&-1==window.location.href.indexOf("ws_host")?"prodata.tradingview.com":"widgetdata.tradingview.com"==a&&3<this._reconnectCount?"data.tradingview.com":a};TradingView.TVChartApi.prototype._isSafari5=function(){return!!navigator.appVersion.match(/\/5\.[^\/]*?Safari\//)};
TradingView.TVChartApi.prototype._isIE9=function(){return!!navigator.appVersion.match(/MSIE 9/)};TradingView.TVChartApi.prototype._isIOS5=function(){return!!navigator.appVersion.match(/iPad, CPU 5/)};TradingView.TVChartApi.prototype._getPort=function(a){return this._isSafari5()||this._isIE9()?8081:a};TradingView.TVChartApi.prototype._isWidget=function(){return window.WEBSOCKET_HOST&&"widgetdata.tradingview.com"==window.WEBSOCKET_HOST};
TradingView.TVChartApi.prototype.serverTimeOffset=function(){return this._serverTimeOffset?this._serverTimeOffset:0};
TradingView.TVChartApi.disconnectReason=function(a){return 1E3==a?"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.":1001==a?'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.':1002==a?"An endpoint is terminating the connection due to a protocol error":1003==a?"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).":1004==
a?"Reserved. The specific meaning might be defined in the future.":1005==a?"No status code was actually present.":1006==a?"The connection was closed abnormally, e.g., without sending or receiving a Close control frame":1007==a?"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [http://tools.ietf.org/html/rfc3629] data within a text message).":1008==a?'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.':
1009==a?"An endpoint is terminating the connection because it has received a message that is too big for it to process.":1010==a?"An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: "+event.reason:1011==a?"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.":
1015==a?"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).":"Unknown reason"};
TradingView.TVChartApi.prototype.connect=function(a){a=a||{};if(!this._socket){var b=this,c="https:"==location.protocol&&io.Transport.websocket.check(),d=this.connectDfd=$.Deferred(),e;e=this._isWidget()?$.Deferred().resolve("widget_user_token"):b._authTokenRequired&&!b._authToken?TradingView.requestAuthToken(a.tokenGrabSession):$.Deferred().resolve(b._authToken);b._socket=new io.Socket(b._getHost(window.WEBSOCKET_HOST),{port:b._getPort(window.WEBSOCKET_PORT),rememberTransport:!1,secure:c});b._socket._tv_messageQueue=
[];b._socket.connect();b._socket.on("connect",function(){b._isConnected=!0;b.sessionid=b._socket.transport.sessionid;TradingView.logNormal("connect session:"+b.sessionid,null,!0);try{var a=JSON.parse(b.sessionid);if(a.redirect){window.WEBSOCKET_HOST=a.redirect;return}b._metadataServerHash=a.studies_metadata_hash||null;b._serverTimeOffset=a.timestamp-(new Date).valueOf()/1E3}catch(c){b._serverTimeOffset=0}TradingView.logNormal("Time shift with server:"+Math.round(b._serverTimeOffset)+" seconds.",null,
!0);e&&e.done(function(a){e=null;var c=b._socket._tv_messageQueue;delete b._socket._tv_messageQueue;b.setAuthToken(a);for(a=0;a<c.length;a++)b._sendRequest(c[a][0],c[a][1]);b._notifySessions({method:"connected",params:[]})});TradingView.WEB_SOCKET_WAS_CONNECTED=!0;delete b._reconnectCount;clearTimeout(b._telemetryDisconnectTimeout);d.resolve()});b._socket.on("message",function(a){b._onMessage(a)});b._socket.on("disconnect",function(a){delete b._isConnected;b.studyCounter=0;TradingView.logNormal("disconnect session:"+
b.sessionid+", code:"+a.code+", reason:"+a.reason+", client reason:"+TradingView.TVChartApi.disconnectReason(a.code),null,!0);1E3!=a.code&&(TradingView.logNormal("sending telemetry error due to abnormal disconnecting",null,!0),TradingView.Telemetry.sendReport("websocket_error",{code:a.code,reason:a.reason,clientReason:TradingView.TVChartApi.disconnectReason(a.code)}));b._notifySessions({method:"disconnected",params:[]});var c=!b._socket;e&&e.reject();delete b._socket;delete b._authToken;delete b._authTokenSent;
delete b._metadataCallback;b._disconnectCount=(b._disconnectCount||0)+1;if(!c)if(b._telemetryDisconnectTimeout=setTimeout(function(){TradingView.Telemetry.sendReport("disconnect",{reason:a.reason,code:a.code})},5E3),b._reconnectCount=(b._reconnectCount||0)+1,b._reconnectCount>=b.MAX_RECONNECTS)b._notifySessions({method:"reconnect_bailout",params:[]}),d.reject();else{switch(typeof b.reconnectTimeout){case "function":c=b.reconnectTimeout(b._reconnectCount);break;case "number":c=b.reconnectTimeout;break;
default:c=3E3}setTimeout(function(){b.connected()||b.connect()},c)}});b._socket.on("error",function(a){TradingView.logNormal(new Date+" session:"+b.sessionid+" websocket error:"+a,null,!0);TradingView.Telemetry.sendReport("websocket_error",{})});return d}};TradingView.TVChartApi.prototype.disconnect=function(a){this._socket&&(a=this._socket,delete this._socket,a.disconnect());return!0};TradingView.TVChartApi.prototype.switchTimezone=function(a,b){this._sendRequest("switch_timezone",[a,b])};
TradingView.TVChartApi.prototype.resolveSymbol=function(a,b,c,d){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(d,b);this._sendRequest("resolve_symbol",[a,b,c])};TradingView.TVChartApi.prototype.createSeries=function(a,b,c,d,e,f,g){c=c||"";this._notificationHandlers[a][b]=new TradingView.HandlerInfo(g,b);this._sendRequest("create_series",[a,b,c,d,e,f])};
TradingView.TVChartApi.prototype.removeSeries=function(a,b,c){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(c,b);this._sendRequest("remove_series",[a,b])};TradingView.TVChartApi.prototype.modifySeries=function(a,b,c,d,e,f){c=c||"";this._notificationHandlers[a][b]=new TradingView.HandlerInfo(f,b);this._sendRequest("modify_series",[a,b,c,d,e])};
TradingView.TVChartApi.prototype.requestMoreData=function(a,b,c,d){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(d,b);this._sendRequest("request_more_data",[a,b,c])};
TradingView.TVChartApi.prototype.requestMetadata=function(a,b,c){var d=this;if(d._metadataCallback)d._metadataCallback.handlers.push(c);else{var e=Featuresets.enabled("widget"),f=e?"studies_metadata_widget":"studies_metadata",g=[];d._metadataCallback=function(a){d._metadataCallback=null;localforage.setItem(f,TradingView.clone(a)).then(function(){TradingView.logNormalChart("Updated studies_metadata cache");if(!e){var a=pro.hash();localforage.setItem("pro_hash",TradingView.clone(a)).then(function(){TradingView.logNormalChart("Updated pro_hash cache")}).catch(function(a){TradingView.logError("Cannot update pro_hash cache, reason: "+
a)})}}).catch(function(a){TradingView.logError("Cannot update studies_metadata cache, reason: "+a)});for(var b=0;b<g.length;b++)(0,g[b])(TradingView.clone(a))};d._metadataCallback.handlers=g;d._metadataCallback.handlers.push(c);localforage.getItem("pro_hash").then(function(c){var g=pro.hash();null!==c&&c===g||e?localforage.getItem(f).then(function(c){var e=null!==c&&c.params[1].hash||null;if(null===e||null===d._metadataServerHash||d._metadataServerHash!==e)TradingView.logNormalChart("Metadata hash has changed (cached:'"+
e+"', server:'"+d._metadataServerHash+"'')"),d._requestMetadataFromServer(a,b,d._metadataCallback);else if(TradingView.logNormalChart("Using studies_metadata from browser cache"),d._metadataCallback){for(e=0;e<d._metadataCallback.handlers.length;e++)(0,d._metadataCallback.handlers[e])(TradingView.clone(c));d._metadataCallback=null}}).catch(function(c){TradingView.logError("Cannot get studies_metadata, reason: "+c);d._requestMetadataFromServer(a,b,d._metadataCallback)}):(TradingView.logNormalChart("Pro hash has changed (cached: '"+
c+"', current:'"+g+"')"),d._requestMetadataFromServer(a,b,d._metadataCallback))})}};TradingView.TVChartApi.prototype._requestMetadataFromServer=function(a,b,c){c&&(TradingView.logNormalChart("Request studies_metadata from server"),this._notificationHandlers[a][b]=new TradingView.HandlerInfo(c,b),this._sendRequest("request_studies_metadata",[a,b]))};TradingView.TVChartApi.prototype.isCanCreateStudy=function(){return this.studyCounter<TradingView.STUDY_COUNT_LIMIT};
TradingView.TVChartApi.prototype.createStudy=function(a,b,c,d,e,f,g){this.isCanCreateStudy()?(c=c||"",this._notificationHandlers[a][b]=new TradingView.HandlerInfo(g,b),a=[a,b,c,d,e].concat(f),this._sendRequest("create_study",a),this.studyCounter++):TVDialogs.showTooManyStudiesNotice()};TradingView.TVChartApi.prototype.removeStudy=function(a,b,c){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(c,b);this._sendRequest("remove_study",[a,b]);this.studyCounter--};
TradingView.TVChartApi.prototype.modifyStudy=function(a,b,c,d,e){c=c||"";this._notificationHandlers[a][b]=new TradingView.HandlerInfo(e,b);a=[a,b,c].concat(d);this._sendRequest("modify_study",a)};TradingView.TVChartApi.prototype.createPointset=function(a,b,c,d,e,f,g){c=c||"";this._notificationHandlers[a][b]=new TradingView.HandlerInfo(g,b);a=[a,b,c,d,e].concat(f);this._sendRequest("create_pointset",a)};
TradingView.TVChartApi.prototype.modifyPointset=function(a,b,c,d,e){c=c||"";this._notificationHandlers[a][b]=new TradingView.HandlerInfo(e,b);a=[a,b,c].concat(d);this._sendRequest("modify_pointset",a)};TradingView.TVChartApi.prototype.removePointset=function(a,b,c){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(c,b);this._sendRequest("remove_pointset",[a,b])};
TradingView.TVChartApi.prototype.requestMoreTickmarks=function(a,b,c,d){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(d,b);this._sendRequest("request_more_tickmarks",[a,b,c])};TradingView.TVChartApi.prototype.requestFirstBarTime=function(a,b,c,d){this._notificationHandlers[a][b]=new TradingView.HandlerInfo(d,b);this._sendRequest("get_first_bar_time",[a,b,c])};TradingView.TVChartApi.prototype.reconnectCount=function(){return this._reconnectCount||0};
TradingView.TVChartApi.prototype.disconnectCount=function(){return this._disconnectCount||0};TradingView.TVChartApi.prototype._invokeHandler=function(a,b){a&&a(b)};
TradingView.TVChartApi.prototype._sendRequest=function(a,b){if(this._socket)if(this._socket._tv_messageQueue)this._socket._tv_messageQueue.push([a,b]);else{var c={m:a,p:b};this.requestHook&&this.requestHook(c);c=JSON.stringify(c);0<b.length&&(b[0].startsWith("qs_")?(TradingView.logNormalQuote("send: "+c),TradingView.logNormalQuote("\n")):(TradingView.logNormalChart("send: "+c),TradingView.logNormalChart("\n")));this._socket.send(c)}};
TradingView.TVChartApi.prototype._onMessage=function(a){var b=this.unpack(a);this._dispathNotification(b,a)};TradingView.TVChartApi.prototype._convertTimescaleResponse=function(a){for(var b=a.marks,c=0;c<b.length;++c)b[c]={span:b[c][0],time:b[c][1],index:b[c][2]};return a};
TradingView.TVChartApi.prototype._dispathNotification=function(a,b){var c=a.params.shift();if(this._notificationHandlers[c])switch(c.startsWith("cs_")&&(TradingView.logNormalChart("recv: "+b,null,-1!=["data_update"].indexOf(a.method)),TradingView.logNormalChart("\n")),c.startsWith("qs_")&&(TradingView.logNormalQuote("recv: "+b,null,-1!=["qsd"].indexOf(a.method)),TradingView.logNormalQuote("\n")),a.method){case "timescale_update":var d=a.params[0],e=a.params[1],f=this._convertTimescaleResponse(e);
f.clear=0===e.changes.length&&0===e.marks.length;this._notificationHandlers[c].onMessage({method:"timescale_update",params:f});for(var g in d)e={},e.customId=g,e.plots=d[g].series,d[g].ns&&(e.nonseries=d[g].ns),e.turnaround=d[g].turnaround,e={method:"data_update",params:e},this._invokeNotificationHandler(c,g,e);break;case "tickmark_update":f=this._convertTimescaleResponse(a.params[0]);f.changes=[];this._notificationHandlers[c].onMessage({method:"timescale_update",params:f});break;case "data_update":for(g in a.params[0]){var h=
a.params[0][g],e={};e.customId=g;e.plots=h.series?h.series:h.plots;e.turnaround=h.turnaround;"s"in h&&"ns"in h&&(e.plots=h.s,e.nonseries=h.ns);for(d in e.plots)for(f in e.plots[d].value)1E100===e.plots[d].value[f]&&(e.plots[d].value[f]=void 0);e={method:"data_update",params:e};this._invokeNotificationHandler(c,g,e)}break;case "index_update":for(g in a.params[0])e={method:"index_update",params:a.params[0][g]},this._invokeNotificationHandler(c,g,e);break;case "critical_error":TradingView.logNormal(new Date+
" critical_error session:"+this.sessionid+" reason:"+a.params[0],null,!0);TradingView.Telemetry.sendReport("critical_error");this._notificationHandlers[c].onMessage({method:"critical_error",params:a.params});break;case "quote_symbol_data":case "quote_list_fields":case "depth_symbol_error":case "depth_symbol_success":case "dd":case "dpu":case "depth_bar_last_value":this._notificationHandlers[c].onMessage({method:a.method,params:a.params});break;default:this._invokeNotificationHandler(c,a.params[0],
a)}};TradingView.TVChartApi.prototype._invokeNotificationHandler=function(a,b,c){if(void 0!==b){var d=this._notificationHandlers[a][b];void 0!==d&&this._invokeHandler(d.handler,c);"series_deleted"!=c.method&&"study_deleted"!=c.method||delete this._notificationHandlers[a][b]}};TradingView.TVChartApi.prototype._notifySessions=function(a){for(var b in this._sessions){if(!this._sessions.hasOwnProperty(b))break;var c=this._sessions[b];if("function"===typeof c.onMessage)c.onMessage(a)}};
TradingView.TVChartApi.prototype.unpack=function(a){function b(a){a.index=a.i;a.value=a.v;return a}var c,d;a=JSON.parse(a);a.m&&a.p&&(a.method=a.m,a.params=a.p);c=a.params[1];switch(a.method){case "qsd":a.method="quote_symbol_data";c.symbolname=c.n;c.status=c.s;c.values=c.v;c.values.change=c.v.ch;c.values.last_price=c.v.lp;c.values.change_percent=c.v.chp;break;case "du":a.method="data_update";for(d in c)c[d].turnaround=c[d].t,c[d].s&&!c[d].series&&(c[d].series=c[d].s.map(b)),c[d].st&&(c[d].s=c[d].st.map(b));
break;case "timescale_update":for(d in c)c[d].t&&(c[d].turnaround=c[d].t),c[d].s&&!c[d].series&&(c[d].series=c[d].s.map(b)),c[d].st&&(c[d].s=c[d].st.map(b))}return a};TradingView.TVChartApi.prototype.MAX_RECONNECTS=20;TradingView.TVChartApi.prototype.RECONNECT_DELAY_RANGE=1E4;TradingView.TVChartApi.prototype.RECONNECT_DELAY=Math.round(Math.random()*TradingView.TVChartApi.prototype.RECONNECT_DELAY_RANGE);TradingView.TVChartApi.prototype.reconnectTimeout=function(a){return 6E3*(a-1)+this.RECONNECT_DELAY};
TradingView.TVChartApi.prototype._symbolSearchRequest=null;
TradingView.TVChartApi.prototype.searchSymbols=function(a,b,c,d,e){var f=this;this._symbolSearchRequest&&this._symbolSearchRequest.abort();d=location.protocol+"//"+this._getHost(window.WEBSOCKET_HOST);d=TradingView.Environment.isProd()?d+"/search/":d+"/local_search/";window.SS_HOST&&(d=location.protocol+"//"+window.SS_HOST+"/search/");window.SS_URL&&(d=window.SS_URL);d={type:"GET",dataType:"json",url:d,data:{text:a,exchange:b,type:c}};c==TradingView.SymbolSearch.QUANDL&&(d={type:"GET",url:"https://www.quandl.com/api/v3/datasets.json",
data:{query:a,database_code:b,api_key:TradingView.SymbolSearch.QUANDL_API_KEY}});var g=this._symbolSearchRequest=$.ajax(d).done(function(a){e&&e(a)}).always(function(){f._symbolSearchRequest===g&&delete f._symbolSearchRequest})};TradingView.TVChartApi.prototype.getMarks=function(a,b,c,d,e){throw"This method is not implemented";};TradingView.TVChartApi.prototype.getTimescaleMarks=function(a,b,c,d,e){throw"This method is not implemented";};
TradingView.requireFullInterfaceImplementation(TradingView.TVChartApi,"TradingView.TVChartApi",TradingView.ChartApiInterface,"TradingView.ChartApiInterface");var ChartApiInstance=new TradingView.TVChartApi;"use strict";TradingView.ChartSession=function(a,b){this._chartApi=a;this._sessionid="cs_"+TradingView.randomHash();this._sessionDisabled=!1;this._disableStatistics=!!b};TradingView.ChartSession.prototype.serverTimeOffset=function(){return this._chartApi.serverTimeOffset()};
TradingView.ChartSession.prototype.connected=function(){return this._chartApi.connected()&&!this._sessionDisabled};TradingView.ChartSession.prototype.disconnected=function(){var a=this;Object.keys(this).forEach(function(b){/^(s|st|symbol_)\d+$/.test(b)&&delete a[b]})};TradingView.ChartSession.prototype.initSession=function(){this._chartApi.createSession(this._sessionid,this)};TradingView.ChartSession.prototype.stopSession=function(){this._chartApi.removeSession(this._sessionid)};
TradingView.ChartSession.prototype.setHandler=function(a){this._globalHandler=a};TradingView.ChartSession.prototype.sessionId=function(){return this._sessionid};TradingView.ChartSession.prototype.connect=function(a){this._globalHandler=a;this.initSession();this._chartApi.connect()};TradingView.ChartSession.prototype.disconnect=function(){this._chartApi.disconnect()};TradingView.ChartSession.prototype.switchTimezone=function(a){this._chartApi.switchTimezone(this._sessionid,a)};
TradingView.ChartSession.prototype.resolveSymbol=function(a,b,c){this._chartApi.resolveSymbol(this._sessionid,a,b,c)};TradingView.ChartSession.prototype.createSeries=function(a,b,c,d,e,f){this._chartApi.createSeries(this._sessionid,a,b,c,d,e,f)};TradingView.ChartSession.prototype.removeSeries=function(a,b){this._chartApi.removeSeries(this._sessionid,a,b)};TradingView.ChartSession.prototype.modifySeries=function(a,b,c,d,e){this._chartApi.modifySeries(this._sessionid,a,b,c,d,e)};
TradingView.ChartSession.prototype.requestMoreData=function(a,b,c){this._chartApi.requestMoreData(this._sessionid,a,b,c)};TradingView.ChartSession.prototype.requestMetadata=function(a,b){window.localForageReady.done(function(){this._chartApi.requestMetadata(this._sessionid,a,b)}.bind(this)).fail(function(a){TradingView.logError("localForage is not initialized, cannot proceed. "+a)})};
TradingView.ChartSession.prototype.createStudy=function(a,b,c,d,e,f){this._chartApi.createStudy(this._sessionid,a,b,c,d,e,f)};TradingView.ChartSession.prototype.removeStudy=function(a,b){this._chartApi.removeStudy(this._sessionid,a,b)};TradingView.ChartSession.prototype.modifyStudy=function(a,b,c,d){this._chartApi.modifyStudy(this._sessionid,a,b,c,d)};TradingView.ChartSession.prototype.createPointset=function(a,b,c,d,e,f){this._chartApi.createPointset(this._sessionid,a,b,c,d,e,f)};
TradingView.ChartSession.prototype.modifyPointset=function(a,b,c,d){this._chartApi.modifyPointset(this._sessionid,a,b,c,d)};TradingView.ChartSession.prototype.removePointset=function(a,b){this._chartApi.removePointset(this._sessionid,a,b)};TradingView.ChartSession.prototype.requestMoreTickmarks=function(a,b,c){this._chartApi.requestMoreTickmarks(this._sessionid,a,b,c)};TradingView.ChartSession.prototype.requestFirstBarTime=function(a,b,c){this._chartApi.requestFirstBarTime(this._sessionid,a,b,c)};
TradingView.ChartSession.prototype.setVisibleTimeRange=function(a,b,c){this._chartApi.setVisibleTimeRange(this._sessionid,a,b,c)};TradingView.ChartSession.prototype.onMessage=function(a){switch(a.method){case "connected":this._chartApi.chartCreateSession(this._sessionid,this._disableStatistics);break;case "disconnected":this.disconnected()}this._globalHandler&&this._globalHandler(a)};TradingView.ChartSession.prototype.disable=function(){this._sessionDisabled=!0};"use strict";
TradingView.QuoteSession=function(a){this._chartApi=a;this._sessionid="qs_"+TradingView.randomHash();this._sessionstarted=!1};TradingView.QuoteSession.prototype.connected=function(){return this._chartApi.connected()};TradingView.QuoteSession.prototype.connect=function(a){this._globalHandler=a;this._chartApi.createSession(this._sessionid,this);this._chartApi.connect()};TradingView.QuoteSession.prototype.disconnect=function(){this._chartApi.disconnect()};
TradingView.QuoteSession.prototype.quoteAddSymbols=function(a,b){a=[].concat(a);b&&b.forcePermission&&(a=a.concat({flags:["force_permission"]}));this._chartApi.quoteAddSymbols(this._sessionid,a)};TradingView.QuoteSession.prototype.quoteRemoveSymbols=function(a){this._chartApi.quoteRemoveSymbols(this._sessionid,a)};TradingView.QuoteSession.prototype.quoteFastSymbols=function(a){this._chartApi.quoteFastSymbols(this._sessionid,a)};
TradingView.QuoteSession.prototype.quoteSetFields=function(a){this._chartApi.quoteSetFields(this._sessionid,a)};TradingView.QuoteSession.prototype.onMessage=function(a){switch(a.method){case "connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case "disconnected":this._sessionstarted=!1}this._globalHandler(a)};TradingView.QuoteSession.prototype.quoteHibernateAll=function(a){this._chartApi.quoteHibernateAll(this._sessionid)};"use strict";
TradingView.QuoteSessionMultiplexer=function(a,b){this.options=$.extend({throttleTimeout:125},b);this._connected=!1;this._symbol_data={};this._subscriptions={};this._delayed_subscriptions=[];this.onConnect=new Delegate;this.onDisconnect=new Delegate;this._quoteApi=new TradingView.QuoteSession(ChartApiInstance);this._type=a||"full";this.connect();this._delayUpdateFastSymbols=TradingView.debounce(this._updateFastSymbols,250);this._throttledSymbolData={};this.fieldsSent=new $.Deferred};
TradingView.QuoteSessionMultiplexer.prototype.type_fields={minichart:["lp","open_time","series_data","description"],simple:"ch chp lp fractional minmov minmove2 original_name pricescale pro_name update_mode volume symbol_status description exchange short_name current_session type is_tradable".split(" "),"simple-detailed":"ch chp lp fractional minmov minmove2 original_name pricescale pro_name update_mode symbol_status description exchange short_name current_session type volume open_price high_price low_price market_cap_basic prev_close_price earnings_per_share_basic_ttm price_earnings_ttm beta_1_year".split(" "),
full:[]};TradingView.QuoteSessionMultiplexer.prototype.connect=function(a){this._quoteApi.connect(this.quoteHandler.bind(this))};TradingView.QuoteSessionMultiplexer.prototype.quoteHandler=function(a){var b=a.params;switch(a.method){case "connected":this._connected||(this._connected=!0,this.onConnected());break;case "quote_symbol_data":this.onSymbolData(b[0]);break;case "disconnected":this._connected&&(this._connected=!1,this.onDisconnect.fire())}};
TradingView.QuoteSessionMultiplexer.prototype.onConnected=function(){this.setFields();var a=Object.keys(this._symbol_data);a.length&&this._quoteApi.quoteAddSymbols(a,{forcePermission:!0});this._delayed_subscriptions.forEach(function(a){this.subscribe.apply(this,a)},this);this._delayed_subscriptions=[];this.onConnect.fire()};
TradingView.QuoteSessionMultiplexer.prototype.setFields=function(){var a=TradingView.QuoteSessionMultiplexer.prototype.type_fields[this._type];a&&a.length&&this._quoteApi.quoteSetFields(a);this.fieldsSent.resolve()};
TradingView.QuoteSessionMultiplexer.prototype.onSymbolData=function(a){var b=a.symbolname,c=this._throttledSymbolData[b];c||(c=this._throttledSymbolData[b]={fnDispatch:TradingView.throttle(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)});c.cache?$.extend(!0,c.cache,a):c.cache=a;c.fnDispatch(b)};
TradingView.QuoteSessionMultiplexer.prototype.dipatchSymbolData=function(a){var b=this._symbol_data[a],c=this._throttledSymbolData[a].cache;delete this._throttledSymbolData[a].cache;if(this._symbol_data[a]){$.extend(!0,b,c);for(var d in this._subscriptions){var e=this._subscriptions[d];e[a]&&e[a].forEach(function(a){a(b,c)})}}};
TradingView.QuoteSessionMultiplexer.prototype.subscribe=function(a,b,c){if(this._connected){this._subscriptions[a]=this._subscriptions[a]||{};var d=this._subscriptions[a];b=[].concat(b);var e=[];b.forEach(function(a){this._symbol_data[a]?(d&&d[a]||this._symbol_data[a].subscribers_count++,this._symbol_data[a].values&&c(this._symbol_data[a],this._symbol_data[a])):(this._symbol_data[a]={subscribers_count:1},e.push(a));d[a]=d[a]||[];d[a].push(c);d[a].fast=!0},this);e.length&&(this._quoteApi.quoteAddSymbols(e,
{forcePermission:!0}),this._delayUpdateFastSymbols())}else this._delayed_subscriptions.push(arguments)};
TradingView.QuoteSessionMultiplexer.prototype.unsubscribe=function(a,b,c){var d=this._subscriptions[a];d&&(d[b]&&c?(c=d[b].indexOf(c),~c&&d[b].splice(c,1),d[b].length||delete d[b]):delete d[b]);d&&0===Object.keys(d).length&&delete this._subscriptions[a];this._symbol_data.hasOwnProperty(b)&&(d&&!d[b]&&this._symbol_data[b].subscribers_count--,this._symbol_data[b].subscribers_count||(delete this._symbol_data[b],this._quoteApi.quoteRemoveSymbols([b]),this._delayUpdateFastSymbols()))};
TradingView.QuoteSessionMultiplexer.prototype.setFastSymbols=function(a,b){if(this._subscriptions[a]){var c=this._subscriptions[a],d;for(d in c)c[d].fast=-1!==b.indexOf(d)}this._delayUpdateFastSymbols()};TradingView.QuoteSessionMultiplexer.prototype._updateFastSymbols=function(){if(this._connected){var a=this._fastSymbols();0===a.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(a)}};TradingView.QuoteSessionMultiplexer.prototype._delayUpdateFastSymbols=TradingView.QuoteSessionMultiplexer.prototype._updateFastSymbols;
TradingView.QuoteSessionMultiplexer.prototype._fastSymbols=function(){var a=[],b;for(b in this._subscriptions){var c=this._subscriptions[b],d;for(d in c)c[d].fast&&a.push(d)}return a=TradingView.uniq(a)};"use strict";TradingView.PlotCache=function(){this._chunks={}};TradingView.PlotCache.CHUNK_SIZE=30;
TradingView.PlotList=function(a){this._items=[];this._columns=a?a:[];this._end=this._start=0;this._shareread=!1;this._plotCaches={};for(a=0;a<this._columns.length;a++)this._plotCaches[this._columns[a]]=new TradingView.PlotCache};TradingView.PlotList.prototype.clear=function(){this._items=[];this._columns=[];this._end=this._start=0;this._shareread=!1;this._plotCaches={}};TradingView.PlotList.prototype.columns=function(){return this._columns};
TradingView.PlotList.prototype.last=function(){return this._items[this._end-this._start-1]};TradingView.PlotList.prototype.first=function(){return this._items[0]};TradingView.PlotList.prototype.firstIndex=function(){return this._start};TradingView.PlotList.prototype.lastIndex=function(){return this._end-this._start-1};TradingView.PlotList.prototype.size=function(){return this._end-this._start};TradingView.PlotList.prototype.isEmpty=function(){return 0===this.size()};
TradingView.PlotList.prototype.contains=function(a){return-1!=this._search(a)};TradingView.PlotList.prototype.valueAt=function(a){if(a=this.search(a))return a.value};
TradingView.PlotList.prototype.add=function(a,b){if(this._shareread)return TradingView.logDebugChart("PlotList.add: readonly collection modification attempt"),!1;var c=this._createPair(a,b),d=this._search(a);if(0>d)return d=this._lowerbound(a,-1),this._items.splice(d,0,c),this._start=0,this._end=this._items.length,!0;this._items[d]=c;return!1};TradingView.SEARCH_NEAREST_LEFT=-1;TradingView.SEARCH_EXACT=0;TradingView.SEARCH_NEAREST_RIGHT=1;
TradingView.PlotList.prototype.search=function(a,b){var c=this._search(a,b);return 0>c?void 0:{index:this._indexAt(c),value:this._valueAt(c)}};TradingView.PlotList.prototype.fold=function(a,b){for(var c=b,d=this._start;d<this._end;++d)c=a(this._indexAt(d),this._valueAt(d),c);return c};TradingView.PlotList.prototype.each=function(a){for(var b=this._start;b<this._end&&!a(this._indexAt(b),this._valueAt(b));++b);};
TradingView.PlotList.prototype.reduce=function(a,b){for(var c=b,d=this._start;d<this._end;++d)c=a(c,this._indexAt(d),this._valueAt(d));return c};TradingView.PlotList.prototype.range=function(a,b){var c=new TradingView.PlotList;c._items=this._items;c._start=this._lowerbound(a);c._end=Math.min(this._lowerbound(b)+1,c._items.length);c._shareread=!0;return c};
TradingView.PlotList.prototype.minMaxOnRange2=function(a,b,c){var d=null,e=null;if(0===this._items.length)return{min:d,max:e};for(var f=this._items[0],g=0;g<c.length;g++){var h=c[g],k=a-h.offset,l=b-h.offset,k=Math.max(k,f),l=Math.min(l,f+this._items.length-1),m=Math.ceil(k/TradingView.PlotCache.CHUNK_SIZE)*TradingView.PlotCache.CHUNK_SIZE,t=Math.max(m,Math.floor(l/TradingView.PlotCache.CHUNK_SIZE)*TradingView.PlotCache.CHUNK_SIZE);this._plotCaches[h.index]||(this._plotCaches[h.index]={});for(var q=
this._plotCaches[h.index],r=k;r<=Math.min(l,m)&&r<=b;r++){var p=this._items[r-f].value,p=p[h.index];if(void 0!==p&&null!==p){if(null===d||p<d)d=p;if(null==e||p>e)e=p}}for(k=Math.max(m+1,k);k<t;k+=TradingView.PlotCache.CHUNK_SIZE)m=Math.floor(k/TradingView.PlotCache.CHUNK_SIZE),r=q[m],r||(r=this.minMaxOnRange(m*TradingView.PlotCache.CHUNK_SIZE,(m+1)*TradingView.PlotCache.CHUNK_SIZE-1,[h]),q[m]=r),null!==r.min&&(r.min<d||null===d)&&(d=r.min),null!==r.max&&(r.max>e||null===e)&&(e=r.max);for(r=t;r<=l;r++)if(p=
this._items[r-f].value,p=p[h.index],void 0!==p&&null!==p){if(null===d||p<d)d=p;if(null==e||p>e)e=p}void 0!==h.baseValue&&(d=Math.min(h.baseValue,d),e=Math.max(h.baseValue,e))}return{min:d,max:e}};
TradingView.PlotList.prototype.minMaxOnRange=function(a,b,c){for(var d=this._lowerbound(a),e=Math.min(this._lowerbound(b)+1,this._items.length),f=null,g=null,h=0;h<c.length;h++){var k=c[h],d=this._lowerbound(a-k.offset),e=Math.min(this._lowerbound(b-k.offset)+1,this._items.length);for(this._items[e-1]>b-k.offset&&(e=d);d<e;d++){var l=this._items[d].value[k.index];if(void 0!==l&&null!==l){if(null===f||l<f)f=l;if(null==g||l>g)g=l}}void 0!==k.baseValue&&(f=Math.min(k.baseValue,f),g=Math.max(k.baseValue,
g))}return{min:f,max:g}};TradingView.PlotList.prototype.merge=function(a){if(this._shareread)return TradingView.logDebugChart("PlotList.merge: shared collection modification attempt"),[];var b=[];b.earliestRow=null;for(var c=0;c<a.length;++c){for(var d=a[c],e=Math.floor(d.index/TradingView.PlotCache.CHUNK_SIZE),f=0;f<this._columns.length;f++)this._plotCaches[f]&&delete this._plotCaches[f][e];if(null===b.earliestRow||b.earliestRow>d)b.earliestRow=d;this.add(d.index,d.value)?b.push({insert:d}):b.push({update:d})}return b};
TradingView.PlotList.prototype.addTail=function(a,b){var c=0;b&&0<this._end-this._start&&(c=1,this._items[this._end-this._start-1].value=a[0].value);for(;c<a.length;++c){var d=a[c];this.add(parseInt(this.last(),10)+1,d.value)}};TradingView.PlotList.prototype._createPair=function(a,b){var c=new Number(a);c.value=b;return c};TradingView.PlotList.prototype._valueAt=function(a){return this._items[a].value};TradingView.PlotList.prototype._length=function(a){return this._items.length};
TradingView.PlotList.prototype._indexAt=function(a){return this._items[a].valueOf()};TradingView.PlotList.prototype._search=function(a,b){var c=this._bsearch(a);if(-1!=c||!b)return c;if(0>b)return c=this._lowerbound(a),c>this._start&&--c,c!=this._end&&this._indexAt(c)<a?c:-1;c=this._upperbound(a);return c!=this._end&&a<this._indexAt(c)?c:-1};TradingView.PlotList.prototype._bsearch=function(a){var b=this._lowerbound(a);return b==this._end||a<this._items[b]?-1:b};
TradingView.PlotList.prototype._lowerbound=function(a){for(var b=this._start,c=this._end-b;0<c;){var d=c>>1,e=b+d;this._items[e]<a?(b=e+1,c-=d+1):c=d}return b};TradingView.PlotList.prototype._upperbound=function(a){for(var b=this._start,c=this._end-b;0<c;){var d=c>>1,e=b+d;a<this._items[e]?c=d:(b=e+1,c-=d+1)}return b};
TradingView.PlotList.prototype.state=function(){var a={};a.columns=this._columns;a.start=this._start;a.end=this._end;a.shareread=this._shareread;a.data=[];for(var b in this._items)a.data.push({index:new Number(this._items[b]),value:this._items[b].value});return a};
TradingView.PlotList.prototype.restoreState=function(a){if(a){this._columns=a.columns;this._start=a.start;this._end=a.end;this._shareread=a.shareread;this._items=[];for(var b=0;b<a.data.length;b++){var c=new Number(a.data[b].index);c.value=a.data[b].value;this._items.push(c)}}else this.clear()};TradingView.PlotList.prototype.firstTimeIndex=function(){return this._indexAt(this._start)};TradingView.PlotList.prototype.lastTimeIndex=function(){return this._indexAt(this._end-1)};"use strict";
"undefined"!=typeof FlashCanvas&&FlashCanvas.setOptions({disableContextMenu:!0});TradingView.setCanvasSize=function(a,b){a.width=b.w;a.height=b.h;"undefined"==typeof FlashCanvas&&a.getContext("2d").translate(.5,.5)};TradingView.clearRect=function(a,b,c,d,e,f){a.save();"undefined"==typeof FlashCanvas&&a.translate(-.5,-.5);a.fillStyle=f;a.fillRect(b,c,d,e);a.restore()};
TradingView.addCanvasTo=function(a,b){var c=document.createElement("canvas");a.append(c);"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement(c);TradingView.setCanvasSize(c,b);return c};TradingView.Rect=function(a,b,c,d){this.x=a;this.y=b;this.w=c;this.h=d};TradingView.Size=function(a,b){this.w=a;this.h=b};TradingView.Size.prototype.equals=function(a){return this.w===a.w&&this.h===a.h};TradingView.Point=function(a,b){this.x=a;this.y=b};
TradingView.setAbsoluteRect=function(a,b){a.css("position","absolute");a.css("left",b.x+"px");a.css("top",b.y+"px");a.width(b.w);a.height(b.h)};TradingView.setAbsolutePos=function(a,b){a.css("position","absolute");a.css("left",b.x+"px");a.css("top",b.y+"px")};TradingView.addLocalCoordsToMouseEvent=function(a,b){var c=a.offset();b.localX=b.pageX-c.left;b.localY=b.pageY-c.top};TradingView.processEvent=function(a,b,c,d,e){d&&(e||TradingView.addLocalCoordsToMouseEvent(b,a),d.call(c,a,b))};
TradingView.MOUSE_RIGHT_BUTTON=2;
TradingView.setMouseEventHandler=function(a,b,c){var d=function(d){a.off("mousemove.chartgui");var e=function(d){if(!TradingView.mousePressed||Modernizr.touch)TradingView.processEvent(d,a,b,b.mouseMoveEvent),c&&d.preventDefault()};a.on("mousemove.chartgui",e);Modernizr.touch&&e(d);TradingView.processEvent(d,a,b,b.mouseEnterEvent);c&&d.preventDefault()};a.mouseenter(d);var e=0,f=null,g=function(){window.clearTimeout(f);e=0;f=null},h=0,k=0,l=null,m=function(m){void 0===m.button&&(m.button=0);if(Modernizr.touch||
m.originalEvent.touches)m.pageX=m.originalEvent.touches[0].pageX,m.pageY=m.originalEvent.touches[0].pageY,m.localX=m.originalEvent.touches[0].pageX,m.localY=m.originalEvent.touches[0].pageY,d(m);var t=function(d){void 0===d.button&&(d.button=0);if(Modernizr.touch||d.originalEvent.touches)d.pageX=d.originalEvent.touches[0].pageX,d.pageY=d.originalEvent.touches[0].pageY,d.localX=d.originalEvent.touches[0].pageX,d.localY=d.originalEvent.touches[0].pageY,d.clientX=d.originalEvent.touches[0].pageX,d.clientY=
d.originalEvent.touches[0].pageY,h=d.pageX,k=d.pageY,clearTimeout(l);d.button!==TradingView.MOUSE_RIGHT_BUTTON&&TradingView.processEvent(d,a,b,b.pressedMouseMoveEvent);c&&d.preventDefault()},q=function(d){void 0===d.button&&(d.button=0);if(Modernizr.touch||d.originalEvent.touches)d.pageX=h,d.pageY=k,d.localX=h,d.localY=k,clearTimeout(l);TradingView.mousePressed=!1;$(document.body).off("mousemove.chartgui");$(document.body).off("mouseup.chartgui");Modernizr.touch||d.originalEvent.touches?($(document.body).off("touchmove.chartgui"),
$(document.body).off("touchend.chartgui"),p(d)):($(document.body).off("mousemove.chartgui touchmove.chartgui"),$(document.body).off("mouseup.chartgui touchend.chartgui"));d.button!==TradingView.MOUSE_RIGHT_BUTTON&&(TradingView.processEvent(d,a,b,b.mouseUpEvent),++e,f&&1<e?(TradingView.processEvent(d,a,b,b.mouseDoubleClickEvent),g()):TradingView.processEvent(d,a,b,b.mouseClickEvent));c&&d.preventDefault();Modernizr.touch&&p(d)};Modernizr.touch?($(document.body).off("touchmove.chartgui"),$(document.body).off("touchend.chartgui"),
$(document.body).on("touchmove.chartgui",t),$(document.body).on("touchend.chartgui",q),l=setTimeout(function(){u(m)},500)):($(document.body).off("mousemove.chartgui touchmove.chartgui"),$(document.body).off("mouseup.chartgui touchend.chartgui"),$(document.body).on("mousemove.chartgui touchmove.chartgui",t),$(document.body).on("mouseup.chartgui touchend.chartgui",q));TradingView.mousePressed=!0;m.button!==TradingView.MOUSE_RIGHT_BUTTON&&(TradingView.processEvent(m,a,b,b.mouseDownEvent),f||(e=0,f=window.setTimeout(g,
500)));if(c){m.preventDefault();try{window.focus()}catch(r){}}};a.on("touchcancel",function(){clearTimeout(l)});if(Modernizr.touch)a.on("touchstart.chartgui",m),a.on("touchstartoutside mousedownoutside",function(c){TradingView.processEvent(c,a,b,b.mouseDownOutsideEvent,!0)}),a.on("gesturestart",function(c){TradingView.processEvent(c,a,b,b.gestureStartEvent);clearTimeout(l)}),a.on("gesturechange",function(c){c.scale=c.originalEvent.scale;TradingView.processEvent(c,a,b,b.gestureChangeEvent)}),a.on("gestureend",
function(c){TradingView.processEvent(c,a,b,b.gestureEndEvent)});else if(a.on("mousedown.chartgui touchstart.chartgui",m),a.on("touchstartoutside  mousedownoutside",function(c){TradingView.processEvent(c,a,b,b.mouseDownOutsideEvent,!0)}),navigator.msPointerEnabled&&window.MSGesture){var m=new MSGesture,t=!1,q=1,r=a.get(0);m.target=r;r.gesture=m;r.gesture.pointerType=null;r.pointers=[];m.pointerType=null;a.on("pointerdown",function(a){if(a.target===this)if(null===this.gesture.pointerType)this.gesture.target=
r,this.gesture.addPointer(a.originalEvent.pointerId),this.gesture.pointerType=a.originalEvent.pointerType;else if(a.originalEvent.pointerType===this.gesture.pointerType)this.gesture.addPointer(a.originalEvent.pointerId);else{var b=new MSGesture;b.target=a.originalEvent.target;a.originalEvent.target.gesture=b;a.originalEvent.target.gesture.pointerType=a.originalEvent.pointerType;a.originalEvent.target.gesture.addPointer(a.originalEvent.pointerId)}});a.on("MSGestureChange",function(c){c.scale=q*=1*
(c.originalEvent.scale-1)+1;t||1===c.originalEvent.scale||(t=!0,TradingView.processEvent(c,a,b,b.gestureStartEvent));t&&TradingView.processEvent(c,a,b,b.gestureChangeEvent)});a.on("MSGestureEnd",function(c){t=!1;q=1;TradingView.processEvent(c,a,b,b.gestureEndEvent)})}var p=function(d){a.off("mousemove.chartgui touchmove.chartgui");TradingView.processEvent(d,a,b,b.mouseLeaveEvent);c&&d.preventDefault()};a.mouseleave(p);var u=function(d){TradingView.processEvent(d,a,b,b.contextMenuEvent);c&&d.preventDefault()};
a.contextMenu&&a.contextMenu(u)};TradingView.clientRect=function(a){var b=a.offset(),c=a.width();a=a.height();return new TradingView.Rect(b.left,b.top,c,a)};TradingView.offsetPosition=function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a);return{left:b,top:c}};
TradingView.addColorPicker=function(a){a=$("<span class='tvcolorpicker-container'>").appendTo(a);$("<div class='tvcolorpicker-transparency'>").appendTo(a);var b=$("<input>").appendTo(a).tvcolorpicker();b.on("change",function(){$(this).css("border-color",TradingView.generateLowBrightnessColor($(this).val()))});TVSettings&&(b.tvcolorpicker.setCustomColors=TVSettings.setJSON("pickerCustomColors",[]),b.bind("customcolorchange",function(a,b){TVSettings.setJSON("pickerCustomColors",b)}));return a};
TradingView.createLineStyleEditor=function(){return new TradingView.HTMLHelper.Combobox([{value:CanvasEx.LINESTYLE_SOLID,html:'<div class="linestyle solidline"/>'},{value:CanvasEx.LINESTYLE_DOTTED,html:'<div class="linestyle dottedline"/>'},{value:CanvasEx.LINESTYLE_DASHED,html:'<div class="linestyle dashedline"/>'}])};
TradingView.createShapeLocationEditor=function(){return $('<select><option value="'+CanvasEx.MARKLOC_ABOVEBAR+'">'+$.t("Above Bar")+'</option><option value="'+CanvasEx.MARKLOC_BELOWBAR+'">'+$.t("Below Bar")+'</option><option value="'+CanvasEx.MARKLOC_TOP+'">'+$.t("Top")+'</option><option value="'+CanvasEx.MARKLOC_BOTTOM+'">'+$.t("Bottom")+'</option><option value="'+CanvasEx.MARKLOC_ABSOLUTE+'">'+$.t("Absolute")+"</option></select>")};
TradingView.createShapeStyleEditor=function(){for(var a="<select>",b=Object.keys(TradingView.StudyPlotShapes.Data),c=0;c<b.length;++c)var d=TradingView.StudyPlotShapes.Data[b[c]],a=a+('<option value="'+d.id+'">'+d.guiName+"</option>");return $(a+"</select>")};TradingView.createLineWidthEditor=function(){return $('<div class="linewidth-slider">').slider({min:1,max:4,step:1})};TradingView.createVisibilityEditor=function(){return $("<input type='checkbox' class='visibility-switch'/>")};
TradingView.createTextEditor=function(){var a=$("<input/>");a.attr("type","text");return a};
TradingView.createTextPosEditor=function(){return new TradingView.HTMLHelper.Combobox([{value:CanvasEx.TEXTPOS_TOPLEFT,html:$.t("Top Left")},{value:CanvasEx.TEXTPOS_TOPCENTER,html:$.t("Top Center")},{value:CanvasEx.TEXTPOS_TOPRIGHT,html:$.t("Top Right")},{value:CanvasEx.TEXTPOS_MIDDLELEFT,html:$.t("Middle Left")},{value:CanvasEx.TEXTPOS_MIDDLECENTER,html:$.t("Middle Center")},{value:CanvasEx.TEXTPOS_MIDDLERIGHT,html:$.t("Middle Right")},{value:CanvasEx.TEXTPOS_BOTTOMLEFT,html:$.t("Bottom Left")},
{value:CanvasEx.TEXTPOS_BOTTOMCENTER,html:$.t("Bottom Center")},{value:CanvasEx.TEXTPOS_BOTTOMRIGHT,html:$.t("Bottom Right")}])};TradingView.createHHistDirectionEditor=function(){var a=$("<select />");$("<option value='"+CanvasEx.HHISTDIR_LEFTTORIGHT+"'>"+$.t("Left")+"</option>").appendTo(a);$("<option value='"+CanvasEx.HHISTDIR_RIGHTTOLEFT+"'>"+$.t("Right")+"</option>").appendTo(a);return a};
TradingView.createTransparencyEditor=function(a){var b=$('<div class="transparency-slider"><div class="gradient"></div></div>').slider({min:0,max:100,step:1}),c=["-moz-linear-gradient(left, %COLOR 0%, transparent 100%)","-webkit-gradient(linear, left top, right top, color-stop(0%,%COLOR), color-stop(100%,transparent))","-webkit-linear-gradient(left, %COLOR 0%,transparent 100%)","-o-linear-gradient(left, %COLOR 0%,transparent 100%)","linear-gradient(to right, %COLOR 0%,transparent 100%)"];b.updateColor=
function(a){var e=b.find(".gradient");$.browser.msie?e.css("filter","progid:DXImageTransform.Microsoft.gradient(startColorstr='"+a+"', EndColor=0, GradientType=1)"):c.forEach(function(b){e.css("background-image",b.replace(/%COLOR/,a))})};a?(b.updateColor(a.val()||"black"),a.on("change",function(a){b.updateColor(a.target.value)})):b.updateColor("black");return b};
TradingView.getTransparencySlider=function(){function a(a,c){this.mouseFlag=!1;this.accuracy=2;this.value=1;this.colorInput=a;this.$el=$('<div class="transparency-slider wide-slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">');c&&this.$el.hide();this.$gradient=$('<div class="gradient">').appendTo(this.$el);this.$roller=$('<a href="#" class="ui-slider-handle ui-state-default ui-corner-all without-shift-handle-left">').appendTo(this.$gradient)}a.prototype.calculateRollerPosition=
function(a){a=a.pageX;var c=this.$gradient.offset().left;a-=c;c=this.$gradient.width();return a>c?100:0>a?0:~~(a/c*100)};a.prototype.toRgb=function(a){return~a.indexOf("#")?a:(a=a.match(/[0-9.]+/g))?"rgb("+a.slice(0,3).join(", ")+")":"rgb(127, 127, 127)"};a.prototype.setValue=function(a){this.value=1===a?a:a.toFixed(this.accuracy)};a.prototype.updateRoller=function(){this.$roller.css("left",100-100*this.value+"%")};a.prototype.rollerMoveHandler=function(a){if(this.mouseFlag){var c=this.calculateRollerPosition(a);
this.setValue((100-c)/100);$(this).trigger("change",[this.val()]);this.$roller.css("left",c+"%")}a.preventDefault()};a.prototype.mouseupHandler=function(a){this.mouseFlag&&(this.mouseFlag=!1,$(this).trigger("afterChange",[this.val()]))};a.prototype.initEvents=function(){var a=function(a){return this.rollerMoveHandler(a)}.bind(this),c=function(d){$(document).off("mousemove mouseup",a);$(document).off("mouseup",c);return this.mouseupHandler(d)}.bind(this);this.$el.on("mousedown",function(d){this.mouseFlag=
!0;$(document).on("mousemove mouseup",a);$(document).on("mouseup",c);d.preventDefault()}.bind(this));this.colorInput.on("change",function(a){this.updateColor()}.bind(this))};a.prototype.removeEvents=function(){};a.prototype.updateColor=function(){var a=this.colorInput.val()||"black",c=this.toRgb(a),a=["-moz-linear-gradient(left, %COLOR 0%, transparent 100%)","-webkit-gradient(linear, left top, right top, color-stop(0%,%COLOR), color-stop(100%,transparent))","-webkit-linear-gradient(left, %COLOR 0%,transparent 100%)",
"-o-linear-gradient(left, %COLOR 0%,transparent 100%)","linear-gradient(to right, %COLOR 0%,transparent 100%)"];$.browser.msie?this.$gradient.css("filter",["progid:DXImageTransform.Microsoft.gradient(startColorstr='",c,"', EndColor=0, GradientType=1)"].join("")):a.forEach(function(a){this.$gradient.css("background-image",a.replace(/%COLOR/,c))}.bind(this))};a.prototype.val=function(a){a&&(this.setValue(+a),this.updateRoller());return this.value};return function(b,c){return new a(b,c)}}();
TradingView.createPlotEditor=function(){var a=$("<select />");$("<option value='"+TradingView.StudyConsts.PLOT_LINE+"'>"+$.t("Line")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_LINE_WITH_BREAKS+"'>"+$.t("Line With Breaks")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_HISTOGRAM+"'>"+$.t("Histogram")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_CROSS+"'>"+$.t("Cross",{context:"chart_type"})+"</option>").appendTo(a);
$("<option value='"+TradingView.StudyConsts.PLOT_AREA+"'>"+$.t("Area")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_AREA_WITH_BREAKS+"'>"+$.t("Area With Breaks")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_COLUMNS+"'>"+$.t("Columns")+"</option>").appendTo(a);$("<option value='"+TradingView.StudyConsts.PLOT_CIRCLES+"'>"+$.t("Circles")+"</option>").appendTo(a);return a};
TradingView.createPriceSourceEditor=function(){var a=$("<select>");$("<option value='open'>"+$.t("Open")+"</option>").appendTo(a);$("<option value='high'>"+$.t("High")+"</option>").appendTo(a);$("<option value='low'>"+$.t("Low")+"</option>").appendTo(a);$("<option value='close'>"+$.t("Close")+"</option>").appendTo(a);$("<option value='hl2'>"+$.t("(H + L)/2")+"</option>").appendTo(a);$("<option value='hlc3'>"+$.t("(H + L + C)/3")+"</option>").appendTo(a);$("<option value='ohlc4'>"+$.t("(O + H + L + C)/4")+
"</option>").appendTo(a);return a};TradingView.cacheUrl=function(a){$("<img>").attr("src",a)};TradingView.themeImageHTML=function(a){return"<img src='"+TradingView.themeResourceFullPath(a)+"' style='display:block'/>"};TradingView.animate=function(a,b,c,d,e){var f=d||250,g=$.easing[e]||$.easing.easeOutCubic,h=0,k=Date.now(),l=function(d){d=(d?1E12>d?Date.now():d:Date.now())-k;var e=Math.min(a,g(null,d,0,a,f)),q=e-h;h=e;b(q);d>=f?"function"==typeof c&&c():requestAnimationFrame(l)};requestAnimationFrame(l)};
TradingView.FavoredList=function(a,b,c){this._options=c=c||{};this._name=a;this._container=$('<div class="favored-list-container" />');c.addClass&&this._container.addClass(c.addClass);this._quick_container=$('<div class="quick" />').appendTo(this._container);this._submenu=$('<span class="submenu">'+(this._options.submenuHtml||"")+"<i></i></span>").appendTo(this._container);c.tooltip&&(this._submenu.attr("title",c.tooltip),c.addTooltipClass&&this._submenu.addClass(c.addTooltipClass));this._activeButton=
null;this._onChange=new Delegate;this._onSelect=new Delegate;this._onResize=new Delegate;this._onOpen=new Delegate;this._load(b);TradingView.bindPopupMenu(this._container,null,{direction:"down",svg:null==c.svg?!0:c.svg,reverse:!0,addClass:"narrow favored-list"+(c.popupAddClass?" "+c.popupAddClass:""),event:"popup-menu",popupSpacing:c.popupSpacing});this._submenu.on("click",this._openMenu.bind(this));if(!$.browser.msie)TVXWindowEvents.on(a+"-change",$.proxy(this,"_onChangeInAnotherTab"));return this};
TradingView.FavoredList.prototype._openMenu=function(){this._onOpen.fire();this._submenu.trigger("popup-menu",[this._data])};TradingView.FavoredList.prototype._onChangeInAnotherTab=function(){this.reload(this._data)};TradingView.FavoredList.prototype.reload=function(a){this._quick_container.empty();this._load(a)};
TradingView.FavoredList.prototype._convertQuicksToData=function(a){this._quicks.forEach(function(b){var c=!1;a.forEach(function(a){if(a.id==b)return c=!0,!1});c||a.push({id:b,title:b,favoriteButton:{icon:{},title:b,addClass:"apply-common-tooltip"}})});return a};
TradingView.FavoredList.prototype._load=function(a){var b=this;this._quicks=this._options.showJustDefaultQuicks?this._options.defaultFavorites||[]:this._options.notShowQuicks?[]:TVSettings.getJSON(this._name+".quicks",this._options.defaultFavorites||[],!0);this._list=[];Featuresets.enabled("charting_library_base")||(a=this._convertQuicksToData(a));$.grep(a,function(a,b){return!a.separator}).forEach(function(a,d){var e={index:d,data:a,svg:a.svg&&$(a.svg).clone(),toQuickButton:$('<span class="to-quick" title=""></span>').append(svgAsset("star",
"16x16")),toggleFavorite:function(a,c){var d=void 0!==a?a:!this.isFavorite();d?this.markFavorite():this.unmarkFavorite();b._toggleFavorite(e,d,c)},markFavorite:function(){this.toQuickButton&&this.toQuickButton.attr("title",$.t("Remove from favorites")).addClass("quicked")},unmarkFavorite:function(){this.toQuickButton&&this.toQuickButton.attr("title",$.t("Add to favorites")).removeClass("quicked")},isFavorite:function(){return-1<b._quicks.indexOf(a.id)},active:function(){return this.data.active()},
drop:function(){return this.data.drop()}};b._options.notShowQuicks&&$.extend(e,{toQuickButton:null});e.data.toQuickButtonStyle&&e.toQuickButton&&e.toQuickButton.css(e.data.toQuickButtonStyle);b._list.push(e);var f={action:function(){b._change(e)},buttons:[],active:b._options.notShowActive?function(){return!1}:function(){return b._active&&e===b._active}};b._options.notShowQuicks||f.buttons.push({el:e.toQuickButton,handler:function(a){e.toggleFavorite();a.preventDefault();a.stopPropagation()}});if("function"===
typeof e.data.drop){var g=b._options.notShowQuicks?' style="right: 7px;"':"";f.buttons.push({el:$('<span class="delete" title="'+$.t("Delete")+'"'+g+"></span>"),handler:function(a){e.drop();a.stopPropagation()}})}$.extend(a,f);e.toggleFavorite(e.isFavorite(),!0)});this._data=a;this._options.notShowActive||this._addActive(this._list[0]);this._onResize.fire()};
TradingView.FavoredList.prototype._toggleFavorite=function(a,b,c){if(!this._options.notShowQuicks||this._options.showJustDefaultQuicks){if(b){a.favorite_button=this._createButton(a,this._quick_container);var d=this._lastFavoriteButton(a);d?a.favorite_button.insertAfter(d.favorite_button):a.favorite_button.prependTo(this._quick_container)}else c||this._removeButton(a);c||(b?-1==this._quicks.indexOf(a.data.id)&&this._quicks.push(a.data.id):-1<this._quicks.indexOf(a.data.id)&&this._quicks.splice(this._quicks.indexOf(a.data.id),
1),this._saveFavorite(),this._markActive(),this._onResize.fire())}};TradingView.FavoredList.prototype._lastFavoriteButton=function(a){for(a=a.index-1;0<=a;a--)if(this._list[a]&&this._list[a].favorite_button)return this._list[a]};TradingView.FavoredList.prototype._saveFavorite=function(){this._options.notShowQuicks||(TVSettings.setJSON(this._name+".quicks",this._quicks),TVXWindowEvents.emit(this._name+"-change"))};
TradingView.FavoredList.prototype._createButton=function(a){var b=this,c=a.data.favoriteButton,d=$("<span></span>").data("item",a);c.addClass&&d.addClass(c.addClass);c.text&&d.text(a.text);c.title&&d.prop("title",c.title);a.svg&&$(a.svg).clone().appendTo(d);d.on("click",function(c){b._change(a);0===b._quicks.length&&b._openMenu();c.preventDefault()});return d};TradingView.FavoredList.prototype._removeButton=function(a){a.favorite_button&&(a.favorite_button.remove(),a.favorite_button=null)};
TradingView.FavoredList.prototype._markActive=function(a){if(!this._options.notShowActive){var b=this,c;if(this._active)if(a=this._active,a.isFavorite()){var d=b._quick_container.find(".just_active");this._btnToggleActiveView(d,!1)}else c=this._addActive(a),0!==this._quicks.length&&this._btnToggleActiveView(c,!0);$.map(this._list,function(c){a!==c||0===b._quicks.length?b._btnToggleActiveView(c.favorite_button,!1):c.favorite_button&&b._btnToggleActiveView(a.favorite_button,!0)});c&&c.hasClass("selected")?
this._container.addClass("not-favored-active"):this._container.removeClass("not-favored-active")}};TradingView.FavoredList.prototype._btnToggleActiveView=function(a,b){a&&(a.data("item"),b?a.addClass("selected"):a.removeClass("selected"))};TradingView.FavoredList.prototype._addActive=function(a){this._quick_container.find(".just_active").remove();return this._createButton(a).appendTo(this._quick_container).addClass("just_active")};TradingView.FavoredList.prototype._clearActive=function(){this._quick_container.find(".just_active").remove()};
TradingView.FavoredList.prototype._clearActive=function(){};TradingView.FavoredList.prototype._setActive=function(a){if(this._active===a)return!1;this._active=a;this._markActive();return!0};TradingView.FavoredList.prototype._change=function(a){this._onSelect.fire(a.data.id);if(this._setActive(a))this._onChange.fire(a.data.id);else return!1};TradingView.FavoredList.prototype.element=function(){return this._container};
TradingView.FavoredList.prototype._getItemByValue=function(a){for(var b in this._list)if(this._list[b].data.id==a)return this._list[b];throw Error("undefined value "+a+" in FavoredList");};TradingView.FavoredList.prototype.onChange=function(){return this._onChange};TradingView.FavoredList.prototype.onSelect=function(){return this._onSelect};TradingView.FavoredList.prototype.onResize=function(){return this._onResize};TradingView.FavoredList.prototype.onOpen=function(){return this._onOpen};
TradingView.FavoredList.prototype.setValue=function(a){a=this._getItemByValue(a);this._setActive(a)};TradingView.FavoredList.prototype.value=function(a){return this._active?this._active.data.value:void 0};TradingView.FavoredList.prototype.removeById=function(a,b){var c=$.grep(this._data,function(b){return b.id!=a});this._list.forEach(function(b){b.data.id==a&&this._toggleFavorite(b,!1)},this);this.reload(c);"function"===typeof b&&b()};
TradingView.bindPopupMenu=function(a,b,c){var d,e;a=$(a);c=c||{};d=(c.event||"click")+".popup-menu";c.hideEvent&&(e=c.hideEvent+".popup-menu");var f=function(){},g=f,h={},k=function(d,e,k){function q(b){b=$(b.target).parents().andSelf();b.is(u)||b.is(a)||b.is(".charts-popup-tab-headers, .charts-popup-itemheader")||g()}function r(a){a=$(a.target).parents().andSelf();a.is(".charts-popup-tab-headers, .charts-popup-itemheader")||c.notCloseOnButtons&&a.is(".icon-save, .icon-delete")||g()}function p(b,
d,e){if(b instanceof TradingView.bindPopupMenu.TabGroup){if(b.tabs&&b.tabs.length)if(1!==b.tabs.length||b.tabs[0].title){var f=$('<div class="charts-popup-tab-group"></div>').appendTo(e),g=$('<div class="charts-popup-tab-headers"></div>').appendTo(f),h=null;$.each(b.tabs||[],function(a,c){if(c.items&&c.items.length){var d=$('<div class="charts-popup-tab"></div>').hide().appendTo(f);$.each(c.items,function(){p(this,void 0,d)});var e=$('<span class="charts-popup-tab-header">').append($('<a href="javascript://" class="charts-popup-tab-header-label">').text(c.name)).appendTo(g);
e.on("click",function(a){e.is(".active")||(g.find(".charts-popup-tab-header.active").removeClass("active"),e.addClass("active"),f.find(".charts-popup-tab").hide(),d.show(),a&&a.preventDefault(),"function"===typeof b.onChange&&b.onChange.call(b,c.name))});if(!h||c.active)h=e,g.find(".charts-popup-tab-header.active").removeClass("active"),e.addClass("active"),f.find(".charts-popup-tab").hide(),d.show()}})}else $.each(b.tabs[0].items,function(){p(this,void 0,e)})}else if(b instanceof TradingView.bindPopupMenu.Group){var k=
$('<div class="charts-popup-group"></div>').appendTo(e);b.title&&(d=$('<div class="charts-popup-itemheader"></div>').text(b.title).prepend($('<span class="charts-popup-itemheader-icon"></span>')),b.collapsible&&(k.addClass("charts-popup-group-collapsible"),k.toggleClass("collapsed",b.collapsed),d.on("click",function(){k.toggleClass("collapsed");if("function"==typeof b.onChange)b.onChange(k.hasClass("collapsed"));u.height()==parseInt(u.css("max-height"))?u.addClass("popup-menu-scroll-y"):u.height()<
parseInt(u.css("max-height"))&&u.removeClass("popup-menu-scroll-y")})),k.append(d));$.each(b.items,function(a){p(this,1,k)})}else if(b instanceof TradingView.bindPopupMenu.Header)e.append($('<div class="charts-popup-itemheader"></div>').text(b.title));else if(b.separator){var l=$('<span class="separator"></span>');e.append(l)}else{l=$('<a class="item" href="#">');"function"==typeof b.deleteAction&&"function"==typeof b.saveAction&&l.addClass("item-twobuttons");b.url&&l.attr("href",b.url);b.target&&
l.attr("target",b.target);d||l.addClass("first");"function"===typeof b.active?b.active(b)&&l.addClass("active"):b.active&&l.addClass("active");b.addClass&&l.addClass(b.addClass);b.addData&&l.data(b.addData);b.disabled&&l.addClass("disabled");if("function"==typeof b.action){var m=b.action;d=function(a){var c=$(a.target).parents().andSelf();c.is(q)||c.is(r)||(m.apply(l,arguments),!b.url&&a&&"function"==typeof a.preventDefault&&a.preventDefault())};c.upAction?l.bind("mouseup",d):l.bind("click",d)}b.date?
(d=$('<span class="title"></span>').appendTo(l),$('<span class="date"></span>').text(b.date||"").appendTo(l)):b.icon&&!c.svg?(d=$('<span class="icon"></span>').appendTo(l),d.css("background-image",b.icon.image||""),b.icon.offset&&d.css("background-position","string"===typeof b.icon.offset?b.icon.offset:b.icon.offset.x+"px "+b.icon.offset.y+"px"),d=$('<span class="title"></span>').appendTo(l)):!0===c.svg&&b.svg?(c.wrapIcon?l.append($('<span class="icon-wrap">').append(b.svg)):l.append(b.svg),d=$('<span class="title"></span>').appendTo(l)):
d=$('<span class="title-expanded"></span>').appendTo(l);b.html?d.html(b.html):d.text(b.title||"");d=$('<span class="shortcut"></span>').appendTo(l);b.shortcut&&d.text(b.shortcut.keys);if("function"==typeof b.deleteAction){var n=b.deleteAction;d=b.deleteAction.title||$.t("Delete");var q=$('<span class="icon-delete">');q.attr("title",d);q.on("click",function(a){n.apply(l,arguments);a.preventDefault()});l.append(q)}if("function"==typeof b.saveAction){var t=b.saveAction;d=b.saveAction.title||$.t("Save");
var r=$('<span class="icon-save">');r.attr("title",d);r.on("click",function(a){t.apply(l,arguments);a.preventDefault()});l.append(r)}b.buttons instanceof Array&&b.buttons.length&&b.buttons.forEach(function(a){a.el instanceof $||(a.el=$(a.el));a.el.appendTo(l);if(a.handler)a.el.on("click",function(b){a.handler.apply(l,arguments)})});"undefined"!==typeof b.counter&&(d=b.counterBlue?"blue":"",$('<span class="counter"></span>').text(b.counter+"").addClass(d).appendTo(l));e.append(l);a.data("popup-menu",
e)}}e=e||b;"function"===typeof e&&(e=e());if($(this).hasClass("open"))if(k)g(),k=h.scrollTop;else return;g=function(){h.scrollTop=u.scrollTop();u.remove();a.removeClass("active open");a.data("popup-menu",null);$(document).off("click",r);$(document).off("mousedown",q);Modernizr.touch&&$(document).off("touchstart.chartgui",q);$(document).off("selectstart.popup-menu");g=f;if(c.onRemove)c.onRemove()};a.addClass("active open");var u=$('<div class="charts-popup-list">');c.addClass&&u.addClass(c.addClass);
var v=u;c.listInner&&(v=$('<div class="list-inner">').appendTo(v));c.listTable&&(v=$('<div class="list-table">').appendTo(v));$.each(e,function(a){p(this,a,v)});setTimeout(function(){$(document).on("click",r);$(document).on("mousedown",q);if(Modernizr.touch)$(document).on("touchstart.chartgui",q)},0);if(c.upAction)$(document).on("selectstart.popup-menu",function(){return!1});u.appendTo(document.body);var w=$(window).width();e=Math.min($(window).height(),$("body").height());var y=a.outerWidth(),A=
a.outerHeight(),x=a.offset();k=$(window).scrollTop()||0;x.top-=k;x.top=Math.round(x.top);x.left=Math.round(x.left);var n=u.outerWidth(),F=u.outerHeight(),D=void 0!==c.viewportSpacing?c.viewportSpacing:10,z=c.popupSpacing?~~c.popupSpacing:1,G=c.popupDrift?~~c.popupDrift:0,J=F-u.height(),H=c.direction?c.direction:"down",M=!!c.reverse;if("down"==H){var C=e-x.top-A-z-D-J,N=x.top-z-D-J;C<Math.max(F||0,100)&&N>C&&(H="up")}switch(H){case "down":case "up":"down"==H?u.css("top",x.top+A+z+"px"):u.css("bottom",
e-x.top+z+"px").css("top","auto");M?(Math.max(x.left+G+y-n,D),u.css("left",Math.max(x.left+G+y-n,D)+"px").css("right","auto")):u.css("left",x.left+G+"px").css("right","auto");break;case "right":case "left":z=Math.max(z,4),"right"==H?u.css("left",Math.floor(x.left+y+z)+"px").css("right","auto"):u.css("left",Math.floor(Math.max(x.left-n-z,D))+"px").css("right","auto"),M?u.css("top",Math.floor(Math.max(x.top+G+A-F,D))+"px"):u.css("top",Math.floor(x.top+G)+"px")}u.show();y=x.top;y="up"==H||{left:1,right:1}[H]&&
M?"up"!==H?y+A:y-(A+z+J+D):e-y-A-2*z-J;u.height()>y&&u.addClass("popup-menu-scroll-y");u.css("max-height",y+"px");c.careRightBorder&&(w+=$(window).scrollLeft(),parseInt(u.css("left"))+u.width()+D>w&&u.css("left",w-u.width()-D+"px").css("right","auto"));c.careBottomBorder&&parseInt(u.css("top"))+u.height()+D>e+k&&u.css("top",e-u.height()-D+k+"px");var O;k=a.parents().andSelf();for(e=k.size();e--;)if("fixed"===k.eq(e).css("position")){O=k.eq(e);break}O&&(O=u.offset(),u.css({position:"fixed",left:O.left-
$(document).scrollLeft(),right:"auto"}));u[0].scrollHeight>u.height()&&u.addClass("popup-with-scroll");d&&d.preventDefault()};d&&a.bind(d,k);e&&a.bind(e,function(){g()});c.runOpened&&k()};TradingView.bindPopupMenu.TabGroup=function TabGroup(b){if(!(this instanceof TabGroup))return new TabGroup(b);b=b||{};this.tabs=[];"function"===typeof b.onChange&&(this.onChange=b.onChange)};
TradingView.bindPopupMenu.TabGroup.prototype.appendTab=function(a,b,c){a=null==a?"":a+"";b||(b=[]);c||(c={});if(!Array.isArray(b))throw new TypeError("items must be an array");this.tabs.push({name:a,items:b,active:!!c.active});return b};TradingView.bindPopupMenu.Header=function Header(b){if(!(this instanceof Header))return new Header(b);this.title=b};
TradingView.bindPopupMenu.Group=function Group(b){if(!(this instanceof Group))return new Group(b);b=b||{};this.items=[];this.title=null==b.title?"":b.title+"";this.collapsible=!!b.collapsible;this.collapsed=!!b.collapsed;"function"===typeof b.onChange&&(this.onChange=b.onChange)};TradingView.bindPopupMenu.Group.prototype.push=function(){this.items.push.apply(this.items,arguments)};TradingView.unbindPopupMenu=function(a){a=$(a);a.unbind(".popup-menu");a.removeData("popup-menu")};
TradingView.showChartNameDialog=function(a,b,c,d,e,f){var g=b.title?b.title:$.t("Save New Chart Layout"),h=TVDialogs.createDialog(g),k=function(){var c=h.find('input[name="name"]'),e=c.val(),f=[];if(d)for(var k=0;k<d.length;k++)if("bool"===d[k].type){var l=h.find('input[name="'+d[k].name+'"]');f.push(l[0].checked)}e?(a(e,f),TVDialogs.destroy(g)):(TVDialogs.showError(b.error||$.t("Please enter chart name"),TVDialogs.get(g)),c.focus());return!1};c=c||"";f=f||{};f.inputValue=f.inputValue?f.inputValue:
"";h.css("width","400px");h.find("._tv-dialog-content").html('<div class="main"><form><p>'+(b.label?$.t(b.label):$.t("Chart name"))+':</p><p class="_tv-dialogs-name"><input type="text" name="name" maxlength="'+c+'"/></p><p class="_tv-dialog-right"></p></form></div>').find("input").val(f.inputValue);f.inputSelectEnable&&"boolean"==typeof f.inputSelectEnable&&h.find('input[name="name"]').select();if(d)for(c=h.find("._tv-dialog-right"),f=0;f<d.length;f++)if("bool"===d[f].type){var l=$('<p class="_tv-dialogs-name"></p>'),
m=d[f].hint?$('<div class="_tv-dialogs-label-hint"></div>').blueTooltip($.t(d[f].hint),"bottom"):null,t=$('<label><input type="checkbox" style="vertical-align:top;margin-top:2px" name="'+d[f].name+'"/> '+$.t(d[f].title)+"</label>");l.append(t,m).insertBefore(c)}h.find("form").submit(k);$('<a class="_tv-button wide ok">'+$.t("OK")+"</a>").click(k).css({"margin-right":"5px"}).appendTo(h.find("._tv-dialog-right"));$('<a class="_tv-button wide cancel">'+$.t("Cancel")+"</a>").click(function(){TVDialogs.destroy(g)}).appendTo(h.find("._tv-dialog-right"));
"function"===typeof e&&e(h);TVDialogs.positionDialog(h,{left:$(window).width()/2-h.width()/2,top:$(window).height()/2-h.height()/2});TVDialogs.applyHandlers(h);h.find('input[name="name"]').focus()};"use strict";
(function(){function a(a){if(!a.symbol)return $.Deferred().reject().promise();if(null==a.follow&&Object.prototype.hasOwnProperty.call(h,a.symbol))return h[a.symbol].promise;var b=$.Deferred(),c=b.promise();h[a.symbol]||(h[a.symbol]={});h[a.symbol].promise=c;$.post("/social/follow-the-symbol/",a,"json").done(function(c){c.error?b.reject(c):(b.resolve(c),c.symbol!==a.symbol&&(h[c.symbol]=h[a.symbol]))}).fail(function(){b.reject.apply(b,arguments)});return c}function b(b,d){return a({symbol:b,follow:+!!d}).done(function(a){c(b,
a.followTheSymbol)}).promise()}function c(a,b){$("button.follow-symbol, .button-follow-symbol").each(function(){var c=$(this);c.data("symbol")===a&&c.toggleClass("active",b)})}function d(){for(var a in h)delete h[a];$("button.follow-symbol, .button-follow-symbol").removeClass("active")}function e(){d();$("button.follow-symbol, .button-follow-symbol").each(function(){var b=$(this).data("symbol");b&&(Object.prototype.hasOwnProperty.call(h,b)||a({symbol:b}).done(function(a){c(a.symbol,a.followTheSymbol)}))})}
function f(a,b,c){c=c.split(":");c[1]&&(c=c[1]);switch(b){case "Follow":a.html($.t("Follow __symbol__",{symbol:c}));break;case "Following":a.html($.t("Following __symbol__",{symbol:c}));break;case "Unfollow":a.html($.t("Unfollow __symbol__",{symbol:c}));break;default:a.html($.t("__symbol__",{symbol:c}))}}function g(a,b,c){switch(b){case "Follow":a.attr("title",$.t("Follow __symbol__",{symbol:c}));break;case "Unfollow":a.attr("title",$.t("Unfollow __symbol__",{symbol:c}));break;default:a.attr("title",
$.t("__symbol__",{symbol:c}))}}var h={};TradingView.FollowSymbols={changeState:b,makeButton:function(b){b=b||{};var c=b.$button,d=b.symbol,e=b.classNames;c?c.addClass(c.is("button")?"follow-symbol":"button-follow-symbol"):c=$('<button class="follow-symbol"></button>');d||(d=c.data("symbol"));if(!d)return TradingView.logError("[FollowSymbols] symbol is required"),c;a({symbol:d}).pipe(function(a){c.attr("data-symbol",a.symbol);a.followTheSymbol?(c.addClass("active"),f(c,"Following",d),g(c,"Unfollow",
d)):g(c,"Follow",d);e&&c.addClass(e)});return c},request:a};$(document).on("mouseover",".button-follow-symbol._tv-button.active",function(a){a=$(this);var b=a.data("symbol");b&&f(a,"Unfollow",b)});$(document).on("mouseout",".button-follow-symbol._tv-button.active",function(a){a=$(this);var b=a.data("symbol");b&&f(a,"Following",b)});$(document).on("click","button.follow-symbol, .button-follow-symbol",function(a){var c=$(this),d=c.data("symbol");d&&(c.one("mouseout",function(){this.blur()}),runOrSignIn(function(){var a=
c.hasClass("active"),e=b(d,!a);c.toggleClass("active",!a);e.fail(function(){c.toggleClass("active",a)})},{source:"Follow symbol button"}))});$(document).on("click",".button-follow-symbol._tv-button",function(a){a=$(this);var b=a.data("symbol");b&&(a.hasClass("active")?f(a,"Following",b):f(a,"Follow",b))});$(function(){loginStateChange.subscribe(TradingView.FollowSymbols,function(a){a||(window.is_authenticated?e():d())})})})();"use strict";
TradingView.MiniChart=function(a,b,c){this._chartApi=ChartApiInstance;this._options=$.extend(!0,{},TradingView.MiniChart.defaultOptions,c||{});this._widget=new TradingView.MiniChartWidget([],b,this._options.chartOptions);this._container=b;this.onAllData=new Delegate;this._initTimefrmeSelector();this._initPlots(a);this.connect()};TradingView.MiniChart.prototype.studyOverlayMetaInfo=null;TradingView.MiniChart.random=function(){return(1048576*(1+Math.random())|0).toString(16).substring(1)};
TradingView.MiniChart.defaultOptions={showMessage:!0,onFirstData:function(){},description:"",showDescription:!0,onlyLastBars:null,timeframe:{visible:!1,container:null,value:"5y"},chartOptions:{grid:{xIsVisible:!1,yIsVisible:!0},xScale:{visible:!0,position:"bottom",isTimeScale:!0,font:{size:10,family:"Helvetica",color:"#83888D"},drawOverPlotArea:!0,maxTickMarkAmount:10},yScale:{visible:!0,position:"right",font:{size:10,family:"Helvetica",color:"#83888D"},drawOverPlotArea:!0}}};
TradingView.MiniChart.prototype.setTimeframe=function(a,b){var c=this;b=$.extend({updateData:!0,updateView:!0},b);var d=c._timeframe,e=a||c._options.timeframe.value;c._timeframe=c._timeframeIsValid(e)?e:TradingView.MiniChart.defaultOptions.timeframe.value;b.updateView&&c._$timeframeSelector&&c._$timeframeSelector.find("a").removeClass("active").filter(function(){return $(this).data("timeframe")===c._timeframe}).addClass("active");b.updateData&&d!==c._timeframe&&(c.disconnect(),c.plots().forEach(function(a){a.deleteView()}),
c.connect())};
TradingView.MiniChart.prototype._initTimefrmeSelector=function(){var a=this;if(a._options.timeframe.visible){var b=a._options.timeframe.container||$('<div class="mini-chart-timeframes"></div>').appendTo(a._container),c="";a.timeframe();Object.keys(a.timeframes).forEach(function(b){a._timeframeIsValid(b)&&(c+='<a href="#" data-timeframe="'+b+'" style="display: none;">'+$.t(b)+"</a>")});b.html(c);b.find("a").click(function(b){b.stopPropagation();b.preventDefault();a.setTimeframe($(this).data("timeframe"))});a._$timeframeSelector=
b}};
TradingView.MiniChart.prototype.timeframes=function(){return{"1d":{resolution:"1,1",_realResolution:"1",from:function(){var a=new Date;a.setDate(a.getDate()-1);return parseInt(a.getTime()/1E3)}()},"1m":{resolution:"D",from:function(){var a=new Date;a.setMonth(a.getMonth()-1);return parseInt(a.getTime()/1E3)}()},"3m":{resolution:"D",from:function(){var a=new Date;a.setMonth(a.getMonth()-3);return parseInt(a.getTime()/1E3)}()},"1y":{resolution:"D",from:function(){var a=new Date;a.setFullYear(a.getFullYear()-1);
return parseInt(a.getTime()/1E3)}()},"5y":{resolution:"M",from:function(){var a=new Date;a.setFullYear(a.getFullYear()-5);return parseInt(a.getTime()/1E3)}()},all:{resolution:"M,ALL",_realResolution:"M"}}}();
TradingView.MiniChart.prototype._initPlots=function(a){function b(a){if(a){a=d.plots();for(var b=a.length-1;0<=b;b--)if(!a[b].error.value())return;TradingView.logError("[MiniChart] Errors in all plots");d.showMessage("Error")}}function c(a){if(a){a=d.plots();for(var b=a.length-1;0<=b;b--)if(!a[b].complete.value())return;d.disconnect()}}var d=this,e=[];$.isArray(a)?e=a:a.hasOwnProperty("symbol")?e=[a]:"string"===typeof a?e=[{symbol:a}]:TradingView.logError("[MiniChart] Wrong 'plots' format");e=$.map(e,
function(a){a=new TradingView.MiniChartPlot(d,a.symbol,a.options||{});a.error.subscribe(b);a.complete.subscribe(c);return a});d._plots=e};
TradingView.MiniChart.prototype.connect=function(a){var b=this;"function"===typeof a&&(this._connectCallback=a);b.connected()||(b._allSymbolsResolved=!1,b.plots().forEach(function(a){a.flush()}),b._chartSession||(b._chartSession=new TradingView.ChartSession(b._chartApi,!0)),b._chartSession.connect(b.onMessage.bind(b)),b._chartSession.stopped=!1,b._loadErrorTimeout=setTimeout(function(){b.showMessage("No data received");"function"===typeof b._options.onFirstData&&(b._options.onFirstData(),b._options.onFirstData=
null)},15E3))};TradingView.MiniChart.prototype.disconnect=function(){this._chartSession&&this._chartSession.connected()&&!this._chartSession.stopped&&(this._chartSession.stopSession(),this._chartSession.stopped=!0);this._connected=!1;clearTimeout(this._loadErrorTimeout)};TradingView.MiniChart.prototype.connected=function(){return this._connected&&this._chartSession&&this._chartSession.connected()};
TradingView.MiniChart.prototype.onMessage=function(a){this._loadErrorTimeout&&(clearTimeout(this._loadErrorTimeout),delete this._loadErrorTimeout);switch(a.method){case "connected":this._connected=!0;"function"===typeof this._connectCallback&&this._connectCallback();this._requestData();break;case "studies_metadata":if(!a.params[1]||!a.params[1].metainfo)break;a=a.params[1].metainfo;var b=a.length-1;a:for(;0<=b;b--)if(-1!==a[b].id.indexOf("Overlay@tv-basicstudies")){TradingView.MiniChart.prototype.studyOverlayMetaInfo=
a[b];break a}"function"===typeof this._onStudiesMetadata&&(this._onStudiesMetadata(),delete this._onStudiesMetadata);break;case "critical_error":this._connected=!1;break;case "disconnected":this.disconnect()}};TradingView.MiniChart.prototype.changeSymbol=function(a){this.disconnect();this.widget().removeAllPlots();this._initPlots(a);this.connect()};TradingView.MiniChart.prototype.showMessage=function(a){this._options.showMessage&&this.widget().writeText(a)};
TradingView.MiniChart.prototype._requestData=function(){var a=this;if(!a.studyOverlayMetaInfo&&1<a.plots().length)a._requestMetadata(a._requestData.bind(a));else if(a._allSymbolsResolved){var b=a.plots()[0];b.createSeries();this.seriesPlot=b;for(var c=1,d=a.plots().length;c<d;c++)a.plots()[c].createStudy(b.seriesId)}else a._resolveSymbols(function(){a._allSymbolsResolved=!0;a.updateAvailableTimeframes(!1);a._requestData()})};
TradingView.MiniChart.prototype.updateAvailableTimeframes=function(a){var b=this,c=[];b.plots().forEach(function(a){c=c.concat(a.availableResolutions||[]);a.symbolInfo?c=c.concat(a.symbolInfo.resolutions||[]):TradingView.logWarn("[MiniChart] updating available resolutions without full symbol info")});b._availableResolutions=$.unique(c);b._$timeframeSelector&&b._options.timeframe.visible&&b._$timeframeSelector.find("a").show().each(function(a,c){var f=$(c);f.toggle(b._timeframeIsValid(f.data("timeframe")))});
b.setTimeframe(b._timeframe,{updateData:!!a})};TradingView.MiniChart.prototype._requestMetadata=function(a){"function"===typeof a&&(this._onStudiesMetadata=a);this._chartSession.requestMetadata("metadata_"+TradingView.MiniChart.random(),this.onMessage.bind(this))};
TradingView.MiniChart.prototype._resolveSymbols=function(a){function b(){for(var b=c.length-1;0<=b;b--)if(!c[b].symbolInfo)return;"function"===typeof a&&a()}var c=this.plots();c.forEach(function(a){a.symbolResolved.subscribe(null,b,!0);a.resolveSymbol()})};TradingView.MiniChart.prototype.chartSession=function(){return this._chartSession};TradingView.MiniChart.prototype.plots=function(a){return this._plots};TradingView.MiniChart.prototype.widget=function(){return this._widget};
TradingView.MiniChart.prototype._timeframeIsValid=function(a){var b=!!this.timeframes[a],c=this._availableResolutions&&this._availableResolutions.length;a=b&&c&&-1!=this._availableResolutions.indexOf(this.timeframes[a]._realResolution||this.timeframes[a].resolution);return b&&(!c||a)};TradingView.MiniChart.prototype.timeframe=function(){return this._timeframe};TradingView.MiniChart.prototype.resolution=function(){return this.timeframes[this.timeframe()].resolution};
TradingView.MiniChart.prototype.from=function(){return[this.timeframes[this.timeframe()].from]};
TradingView.MiniChartPlot=function(a,b,c){this.id=TradingView.MiniChart.random();this._miniChart=a;this._viewOptions=c;this._view=null;this.symbol=b;this.studyId=this.seriesId=this.symbolInfo=null;this.availableResolutions=[];this.maxBarIndex=this.minBarIndex=null;this._bars=new TradingView.PlotList(["time","open","high","low","close"]);this._turnaround_cnt="1";this.error=new WatchedValue(!1);this.complete=new WatchedValue(!1);this.symbolResolved=new Delegate};
TradingView.MiniChartPlot.prototype._resolution=function(){return this._miniChart.resolution()};TradingView.MiniChartPlot.prototype._barsNum=function(){return/,/.test(this._resolution())?2:["from_to"].concat(this._miniChart.from())};TradingView.MiniChartPlot.prototype._makeNextSymbolId=function(){this._nextSymbolId||(this._nextSymbolId=1);return"symbol_"+this.id+"_"+this._nextSymbolId++};
TradingView.MiniChartPlot.prototype._makeNextSeriesId=function(){this._nextSeriesId||(this._nextSeriesId=1);return"ser_"+this.id+"_"+this._nextSeriesId++};TradingView.MiniChartPlot.prototype._turnaround=function(){return"turn"+this._turnaround_cnt};TradingView.MiniChartPlot.prototype.chartSession=function(){return this._miniChart.chartSession()};
TradingView.MiniChartPlot.prototype.resolveSymbol=function(){this.symbolId=this._makeNextSymbolId();this.chartSession().resolveSymbol(this.symbolId,this.symbol,this.onMessage.bind(this))};
TradingView.MiniChartPlot.prototype.onMessage=function(a){switch(a.method){case "symbol_resolved":a.params[0]===this.symbolId&&(this.symbolInfo=a.params[1],this.symbolResolved.fire(this.symbolInfo));break;case "data_update":"function"===typeof this._miniChart._options.onFirstData&&(this._miniChart._options.onFirstData(),this._miniChart._options.onFirstData=null);a.params.customId===(this.seriesId||this.studyId)&&this.updateData(a.params.plots);break;case "series_timeframe":a.params[0]===this.seriesId&&
a.params[1]===this._turnaround()&&this.updateBarIndexes(a.params[2],a.params[3]);break;case "symbol_error":a.params[0]===this.symbolId&&TradingView.logWarn("[MiniChart] "+this.symbol+" symbol error: "+a.params[1]);case "critical_error":case "series_error":case "study_error":a.params[0]===this._id&&a.params[1]===this._turnaround()&&(this.updateData(null),TradingView.logError("[MiniChart] "+this.symbol+" plot error"),this.error.setValue(!0));a=a.params[2];if("resolution_not_entitled"==a||"custom_resolution"==
a){this._miniChart.showMessage("No data for this resolution");this.availableResolutions=["D","W","M"];var b=this;setTimeout(function(){b._miniChart.updateAvailableTimeframes(!0)},1E3)}break;case "study_completed":case "series_completed":this.complete.setValue(!0)}};
TradingView.MiniChartPlot.prototype.createSeries=function(){this.seriesId?(this._turnaround_cnt++,this.chartSession().modifySeries(this.seriesId,this._turnaround(),this.symbolId,this._resolution(),this.onMessage.bind(this))):(this.seriesId=this._makeNextSeriesId(),this.chartSession().createSeries(this.seriesId,this._turnaround(),this.symbolId,this._resolution(),this._barsNum(),this.onMessage.bind(this)))};
TradingView.MiniChartPlot.prototype.createStudy=function(a){this.studyId="st_"+this.id;this.symbolInfo?(this.chartSession().createStudy(this.studyId,this._turnaround(),a,this._miniChart.studyOverlayMetaInfo.id,[this.symbolInfo.full_name],this.onMessage.bind(this)),this._turnaround_cnt++):TradingView.logWarn("[MiniChart] Can't create study without symbolInfo")};
TradingView.MiniChartPlot.prototype.updateData=function(a){var b=this._miniChart,c;arguments.length&&!a&&this._bars.clear();a&&this._bars.merge(a);if(0===this._bars.size())a&&0===a.length&&b.showMessage("No data for this conditions");else{var d=(c=b.seriesPlot)&&TradingView.isInteger(c.minBarIndex)?c.minBarIndex:null;c=c&&TradingView.isInteger(c.maxBarIndex)?c.maxBarIndex:null;d=TradingView.isInteger(d)?d:TradingView.isInteger(this.minBarIndex)?this.minBarIndex:this._bars.firstIndex();c=TradingView.isInteger(c)?
c:TradingView.isInteger(this.maxBarIndex)?this.maxBarIndex:this._bars.lastIndex();var e={x:[],y:[]};b.from();this._bars.range(d,c).each(function(a,b){var c=b[window.TradingView.CLOSE_PLOT||4];e.x.push(b[window.TradingView.TIME_PLOT||0]);e.y.push(c)});e.x.length&&(this._view?this._view.setData(e):this._view=b.widget().addPlot({data:e,options:this._viewOptions||{}}))}};TradingView.MiniChartPlot.prototype.deleteView=function(){this._view&&(this._miniChart.widget().removePlot(this._view),this._view=null)};
TradingView.MiniChartPlot.prototype.flush=function(){this.studyId=this.seriesId=this.symbolInfo=null;this._bars.clear();this.maxBarIndex=this.minBarIndex=null;this.complete.setValue(!1);this.error.setValue(!1)};TradingView.MiniChartPlot.prototype.updateBarIndexes=function(a,b){this.minBarIndex=a;this.maxBarIndex=b;this.updateData()};"use strict";
TradingView.MiniChartWidget=function(a,b,c){this.$container=b;var d=this._options=$.extend(!0,this.defaults(),c||{});this._ctx=this._canvas=null;this._plots=$.map(a||[],function(a){return new TradingView.MiniChartWidgetPlot(a.data,$.extend(!0,{},d.plot,a.options))});this._initCanvas();a=function(){return this._plots}.bind(this);this._xScale=new TradingView.MiniChartWidgetXScale(a,this._ctx,this._options.xScale);this._yScale=new TradingView.MiniChartWidgetYScale(a,this._ctx,this._options.yScale);this._plotArea=
new TradingView.MiniChartWidgetPlotArea(a,this._ctx,this._xScale,this._yScale,{grid:this._options.grid,plot:this._options.plot,loading:this._options.loading,overlayLines:this._options.overlayLines});this.height=new WatchedValue(0);this.width=new WatchedValue(0);this._initSizeHandling();this._onPlotsChanged();!0!==c.noAutoResize&&this.bindOnResize()};
TradingView.MiniChartWidget.prototype.defaults=function(){return{minWidth:100,minHeight:75,bgColor:null,grid:{xIsVisible:!0,yIsVisible:!0,line:{width:1,style:CanvasEx.LINESTYLE_DASHED,color:"#e9e9ea"}},xScale:{visible:!0,position:"bottom",isTimeScale:!0,height:null,paddingTop:4,paddingBottom:4,font:{size:10,family:"Helvetica",color:"#83888d"},drawOverPlotArea:!0,ingnoreFloats:!1,bgColor:"transparent",borderColor:"transparent",drawTickMarkLine:!1,maxTickMarkAmount:10},yScale:{visible:!0,position:"right",
isPercentage:!1,paddingLeft:4,paddingRight:4,marginInPercents:10,font:{size:10,family:"Helvetica",color:"#83888d"},drawOverPlotArea:!0,ingnoreFloats:!1,bgColor:"transparent",borderColor:"transparent",drawTickMarkLine:!1,maxTickMarkAmount:10},plot:{line:{width:2,color:"#ff7965"},belowLineFillStyle:"rgba(180, 180, 180, 0.2)",aboveLineFillStyle:null},loading:{length:0,radius:12,width:2,lines:14,corners:1,color:"#00A2E2",speed:1.5}}};
TradingView.MiniChartWidget.prototype._initCanvas=function(){this._canvas=TradingView.addCanvasTo(this.$container,{w:this._options.minWidth,h:this._options.minHeight});$(this._canvas).css("display","block");this._ctx=this._canvas.getContext("2d");this._ctx._fillText=function(a,b,c){b=Math.round(b);c=Math.round(c);this._ctx.fillText(a,b,c)}.bind(this)};
TradingView.MiniChartWidget.prototype._initSizeHandling=function(){function a(){var a=e._options.drawOverPlotArea||!e._options.visible?d.height.value():d.height.value()-e.height.value();g.height.setValue(a)}function b(){var a=f._options.drawOverPlotArea||!f._options.visible?d.width.value():d.width.value()-f.width.value();g.width.setValue(a)}function c(){var a=0;"right"===f._options.position&&(a=f._options.drawOverPlotArea||!f._options.visible?g.width.value()-f.width.value():g.width.value());f.originX.setValue(a)}
var d=this,e=this._xScale,f=this._yScale,g=this._plotArea;d.height.subscribe(a);e.height.subscribe(a);g.height.subscribe(function(a){f.height.setValue(a);a=0;"bottom"===e._options.position&&(a=e._options.drawOverPlotArea||!e._options.visible?g.height.value()-e.height.value():g.height.value());e.originY.setValue(a)});d.width.subscribe(b);f.width.subscribe(b);f.width.subscribe(function(){var a=0;"left"===f._options.position&&(a=f.width.value());g.originX.setValue(a)});f.width.subscribe(c);f.width.subscribe(function(){var a=
0;"left"===f._options.position&&(a=f.width.value());e.originX.setValue(a)});g.width.subscribe(function(a){e.width.setValue(a);c()})};
TradingView.MiniChartWidget.prototype.resetSize=function(){var a=this.$container.height()||this._options.minHeight,b=this.$container.width()||this._options.minWidth;this._xScale.originX.setValue("left"===this._yScale._options.position?this._yScale.width.value():0);this._yScale.originY.setValue("top"===this._xScale._options.position?this._xScale.height.value():0);TradingView.setCanvasSize(this._canvas,{h:a,w:b});this.height.setValue(a);this.width.setValue(b)};
TradingView.MiniChartWidget.prototype.onResize=function(){this.resetSize();this.draw()};TradingView.MiniChartWidget.prototype.bindOnResize=function(){this._onResize||(this._onResize=this.onResize.bind(this));this.$container.resize(this._onResize)};TradingView.MiniChartWidget.prototype.unbindOnResize=function(){this._onResize&&(this.$container.off("resize",this._onResize),delete this._onResize)};
TradingView.MiniChartWidget.prototype.addPlot=function(a){var b=a;if(!(b instanceof TradingView.MiniChartWidgetPlot)){if(!b.data){TradingView.logError("[MiniChartWidget] wrong plot format");return}b=new TradingView.MiniChartWidgetPlot(b.data,$.extend(!0,{},this._options.plot,b.options))}if(!$.grep(this._plots,function(a){return a.id===b.id}).length)return this._plots.push(b),b.dataChanged.subscribe(this,this._onPlotsChanged),this._onPlotsChanged(),b};
TradingView.MiniChartWidget.prototype._onPlotsChanged=function(){this.resetSize();this._yScale.onPlotsChanged();this._xScale.onPlotsChanged();this.draw()};TradingView.MiniChartWidget.prototype.removePlot=function(a){this._plots=$.grep(this._plots,function(b){return b.id!==a.id});this._yScale.onPlotsChanged.call(this._yScale);this._xScale.onPlotsChanged.call(this._xScale);this.draw()};
TradingView.MiniChartWidget.prototype.removeAllPlots=function(){this._plots=[];this._yScale.onPlotsChanged.call(this._yScale);this._xScale.onPlotsChanged.call(this._xScale);this.draw()};TradingView.MiniChartWidget.prototype.draw=function(){this._plotArea.draw();this._yScale.draw();this._xScale.draw()};TradingView.MiniChartWidget.prototype.showMessage=function(a){this._options.showMessage&&this._writeMessage(a)};
TradingView.MiniChartWidget.prototype.writeText=function(a){this._options.bgColor&&"transparent"!==this._options.bgColor?(this._ctx.fillStyle=this._options.bgColor,this._ctx.fillRect(0,0,this.width.value(),this.height.value())):this._ctx.clearRect(0,0,this.width.value(),this.height.value());var b=this._ctx.measureText(a).width;this._ctx.fillStyle=this._options.xScale.font.color;this._ctx.font=this._options.xScale.font.size+"px "+this._options.xScale.font.family;this._ctx._fillText(a,(this.width.value()-
b)/2,(this.height.value()-this._options.xScale.font.size)/2)};TradingView.MiniChartWidget.prototype.xScale=function(){return this._xScale};TradingView.MiniChartWidget.prototype.yScale=function(){return this._yScale};TradingView.MiniChartWidgetPlot=function(a,b){this.id=TradingView.guid();this._options=$.extend(!0,{},b);this._y=this._x=null;a&&this.setData(a,!0);this.dataChanged=new Delegate};
TradingView.MiniChartWidgetPlot.prototype.setData=function(a,b){a.x&&a.y||TradingView.logError("[MiniChartWidgetPlot] wrong data format");this._x=a.x;this._y=a.y;b||this.dataChanged.fire()};TradingView.MiniChartWidgetPlot.prototype.x=function(){return this._x};
TradingView.MiniChartWidgetPlot.prototype.y=function(a){var b=this._y,c,d;if(!a)return b;a:{a=0;for(c=b.length;a<c;a++)if(isNumber(b[a])){a=b[a];break a}a=void 0}a/=100;c=[];for(var e=0;e<b.length;e++)d=b[e],c.push(isNumber(d)?d/a-100:void 0);return c};TradingView.MiniChartWidgetRectangle=function(a,b,c,d){this.originX=new WatchedValue(a||0);this.originY=new WatchedValue(b||0);this.width=new WatchedValue(c||0);this.height=new WatchedValue(d||0)};
TradingView.MiniChartWidgetRectangle.prototype.left=function(){return this.originX.value()};TradingView.MiniChartWidgetRectangle.prototype.right=function(){return this.originX.value()+this.width.value()};TradingView.MiniChartWidgetRectangle.prototype.top=function(){return this.originY.value()};TradingView.MiniChartWidgetRectangle.prototype.bottom=function(){return this.originY.value()+this.height.value()};
TradingView.MiniChartWidgetRectangle.prototype.clearBack=function(){var a=this._ctx,b=this.left()-.5,c=this.top()-.5,d=this.right()+.5,e=this.bottom()+.5;this._options.bgColor&&"transparent"!==this._options.bgColor?(a.fillStyle=this._options.bgColor,a.fillRect(b,c,d,e)):a.clearRect(b,c,d,e)};
TradingView.MiniChartWidgetPlotArea=function(a,b,c,d,e){TradingView.MiniChartWidgetRectangle.call(this);this.getWidgetPlots=a;this._ctx=b;this._xScale=c;this._yScale=d;this._options=e;this.originY.setValue("bottom"===this._xScale._options.position?0:this._xScale.height.value());this.originY.setValue=function(){TradingView.logWarn("[MiniChartWidgetPlotArea] updating originY forbidden")}};inherit(TradingView.MiniChartWidgetPlotArea,TradingView.MiniChartWidgetRectangle);
TradingView.MiniChartWidgetPlotArea.prototype.draw=function(){this.clearBack();this._drawGrid();this.getWidgetPlots().length?(this._drawPlots(),this._drawOverlayLines(),this._hideLoading()):this._options.loading.showWhileNoPlots&&this._showLoading()};
TradingView.MiniChartWidgetPlotArea.prototype._drawGrid=function(a){a=this._ctx;var b=this.left(),c=this.right(),d=this.top(),e=this.bottom(),f,g,h,k;a.lineWidth=this._options.grid.line.width;a.strokeStyle=this._options.grid.line.color;a.lineStyle=this._options.grid.line.style;var l=this._xScale.tickMarks();if(l.length&&this._options.grid.xIsVisible)for(var m=0;m<l.length;m++)f=l[m].coordinate,g=d,h=l[m].coordinate,k=e,CanvasEx.drawLine(a,f,g,h,k);d=this._yScale.tickMarks();if(d.length&&this._options.grid.yIsVisible)for(m=
0;m<d.length;m++)f=b,g=d[m].coordinate,h=c,k=d[m].coordinate,CanvasEx.drawLine(a,f,g,h,k)};
TradingView.MiniChartWidgetPlotArea.prototype._drawOverlayLine=function(a){function b(a,b){var d=Math.round(a.valueToCoord(b));0===c%2&&(d-=.5);return d}if("number"==typeof a.x||"number"==typeof a.y){var c=isNumber(a.width)&&a.width||1,d=a.color||"#000",e=a.style||CanvasEx.LINESTYLE_SOLID,f,g,h;isNumber(a.x)?f=g=b(this._xScale,a.x):(f=this.left(),g=this.right());isNumber(a.y)&&!isNumber(a.x)?a=h=b(this._yScale,a.y):(a=this.top(),h=this.bottom());this._ctx.lineWidth=c;this._ctx.strokeStyle=d;this._ctx.lineStyle=
e;CanvasEx.drawLine(this._ctx,f,a,g,h)}};TradingView.MiniChartWidgetPlotArea.prototype._drawOverlayLines=function(){Array.isArray(this._options.overlayLines)&&this._options.overlayLines.length&&this._options.overlayLines.forEach(this._drawOverlayLine,this)};
TradingView.MiniChartWidgetPlotArea.prototype._drawPlots=function(){function a(a){return e(a)}function b(a){return f(a)}var c=this.getWidgetPlots(),d=this._ctx,e=this._xScale.valueToCoord.bind(this._xScale),f=this._yScale.valueToCoord.bind(this._yScale);this.left();this.right();for(var g=this.top(),h=this.bottom(),k,l,m,t=0;t<c.length;t++)k=c[t],l=$.map(k.x(),a),m=$.map(k.y(this._yScale._options.isPercentage),b),1===l.length?this._drawCircle(d,l[0],m[0],k._options.line.width,k._options.line.color):
(k._options.belowLineFillStyle&&"transparent"!==k._options.belowLineFillStyle&&this._drawNearAroundArea(d,l,m,h,k._options.belowLineFillStyle),k._options.aboveLineFillStyle&&"transparent"!==k._options.aboveLineFillStyle&&this._drawNearAroundArea(d,l,m,g,k._options.aboveLineFillStyle),this._drawLine(d,l,m,k._options.line.width,k._options.line.color))};
TradingView.MiniChartWidgetPlotArea.prototype._drawNearAroundArea=function(a,b,c,d,e){var f=function(){for(var a=0,d=b.length;a<d;a++)if(isNumber(b[a])&&isNumber(c[a]))return a;return null}(),g=function(){for(var a=b.length-1;0<=a;a--)if(isNumber(b[a])&&isNumber(c[a]))return a;return null}();if(null!==f||null!==g){a.fillStyle=e;a.beginPath();a.moveTo(b[f],d);for(e=f;e<=g;e++)isNumber(b[e])&&isNumber(c[e])&&a.lineTo(b[e],c[e]);a.lineTo(b[g],d);a.closePath();a.fill()}};
TradingView.MiniChartWidgetPlotArea.prototype._drawLine=function(a,b,c,d,e){var f=function(){for(var a=0,d=b.length;a<d;a++)if(isNumber(b[a])&&isNumber(c[a]))return a;return null}(),g=function(){for(var a=b.length-1;0<=a;a--)if(isNumber(b[a])&&isNumber(c[a]))return a;return null}();if(null!==f||null!==g){a.lineWidth=d;a.strokeStyle=e;a.moveTo(b[f],c[f]);a.beginPath();for(d=f;d<=g;d++)isNumber(b[d])&&isNumber(c[d])&&a.lineTo(b[d],c[d]);a.stroke()}};
TradingView.MiniChartWidgetPlotArea.prototype._drawCircle=function(a,b,c,d,e){isNumber(b)&&isNumber(c)&&(a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.fillStyle=e,a.fill())};
TradingView.MiniChartWidgetPlotArea.prototype._showLoading=function(){this._$loadingIndicator||(this._$loadingIndicator=$("<div></div>"),(new Spinner({lines:this._options.loading.lines,length:this._options.loading.length,width:this._options.loading.width,radius:this._options.loading.radius,corners:this._options.loading.corners,rotate:0,direction:1,color:this._options.loading.color||this._options.grid.line.color,speed:this._options.loading.speed,trail:100,shadow:!1,hwaccel:!1,className:"spinner",zIndex:1,
top:"50%",left:"50%"})).spin(this._$loadingIndicator.get(0)),this._$loadingIndicator.insertAfter(this._ctx.canvas));this._$loadingIndicator.show()};TradingView.MiniChartWidgetPlotArea.prototype._hideLoading=function(){this._$loadingIndicator&&this._$loadingIndicator.hide()};TradingView.MiniChartWidgetAbstractScale=function(a,b,c){TradingView.MiniChartWidgetRectangle.call(this);this._ctx=b;this._options=c;this._max=this._min=null;this._tickMarks=[];this.getWidgetPlots=a};
inherit(TradingView.MiniChartWidgetAbstractScale,TradingView.MiniChartWidgetRectangle);
TradingView.MiniChartWidgetAbstractScale.prototype._calculateTickMarks=function(a,b,c){function d(a){return Math.round(1E6*a)/1E6+(k._options.isPercentage?"%":"")}function e(a){var e=d(a);a=k.valueToCoord(a);if("vertical"===c&&!r)return a;if("vertical"===c&&r)return a+.5*b(e);if("horizontal"===c&&!r)return a;if("horizontal"===c&&r)return a-.5*b(e)}function f(a){var e=d(a);a=k.valueToCoord(a);if("vertical"===c&&!r)return a-k._GREED_MARGIN-b(e);if("vertical"===c&&r)return a-.5*b(e);if("horizontal"===
c&&!r)return a+k._GREED_MARGIN+b(e);if("horizontal"===c&&r)return a+.5*b(e)}function g(a,b){return"vertical"===c?f(a)-q>e(b):f(a)+q<e(b)}function h(a,b){var c=Math.pow(10,b||0).toFixed(0>b?-b:0);return Math.round(a*c)/c}var k=this,l=k._min,m=k._max;if(!a||null===l||null===m||"function"!==typeof b)return[];c=c||"vertical";var t=k._options.maxTickMarkAmount||10,q=a/(t||20),r=!k._options.drawOverPlotArea;a=[];if(l===m)a=[l];else for(;0<t;){a=(m-l)/t;var p=Math.pow(10,Math.ceil(Math.log(a)/Math.LN10));
p/5>=a&&(p/=5);p/2>=a&&(p/=2);var u=Math.floor(l/p)*p;u<l&&(u=Math.ceil(l/p)*p);a=[u];for(var v;(v=h(a[a.length-1]+p,12))<=m;)a.push(v);for(var p=!1,w=1;w<a.length;w++)if(v=a[w],g(u,v))u=v;else{p=!0;break}if(p)t--;else break}!0===k._options.ingnoreFloats&&(a=a.filter(function(a){return 0===h(a,12)%1}));return $.map(a,function(a){return{text:d(a),coordinate:Math.round(k.valueToCoord(a))}})};TradingView.MiniChartWidgetAbstractScale.prototype.tickMarks=function(){return this._tickMarks};
TradingView.MiniChartWidgetAbstractScale.prototype.draw=function(){if(this._options.visible){var a=this._tickMarks,b=this._ctx;this._options.drawOverPlotArea||this.clearBack();if(!this._options.drawOverPlotArea&&this._options.borderColor&&"transparent"!==this._options.borderColor){b.strokeStyle=this._options.borderColor;b.lineWidth=1;b.beginPath();switch(this._options.position){case "left":b.moveTo(this.right(),this.top());b.lineTo(this.right(),this.bottom());break;case "right":b.moveTo(this.left(),
this.top());b.lineTo(this.left(),this.bottom());break;case "top":b.moveTo(this.left(),this.bottom());b.lineTo(this.right(),this.bottom());break;case "bottom":b.moveTo(this.left(),this.top()),b.lineTo(this.right(),this.top())}b.stroke()}b.fillStyle=this._options.font.color;b.font=this._options.font.size+"px "+this._options.font.family;for(var c=0;c<a.length;c++)b=a[c],this._drawLabel(b.coordinate,b.text)}};
TradingView.MiniChartWidgetXScale=function(a,b,c){TradingView.MiniChartWidgetAbstractScale.apply(this,arguments);this._series=[];this.height.setValue("number"==typeof this._options.height&&this._options.height||this._options.paddingBottom+this._options.font.size+this._options.paddingTop);this.height.setValue=function(){TradingView.logWarn("[MiniChartWidgetXScale] updating height forbidden")};this.width.subscribe(this._updateSize.bind(this));this._GREED_MARGIN=2};
inherit(TradingView.MiniChartWidgetXScale,TradingView.MiniChartWidgetAbstractScale);TradingView.MiniChartWidgetXScale.prototype.valueToCoord=function(a){return this._min===this._max?(this.right()-this.left())/2:this.left()+this._pixelsPerValue*(a-this._min)};TradingView.MiniChartWidgetXScale.prototype.onPlotsChanged=function(){this._updateSeries();this._updateMinMax();this._updateSize()};TradingView.MiniChartWidgetXScale.prototype._updateSize=function(){this._updatePixelsPerValue();this._updateTickMarks()};
TradingView.MiniChartWidgetXScale.prototype._updateSeries=function(){this._series=this.getWidgetPlots().length?this.getWidgetPlots()[0].x():[]};TradingView.MiniChartWidgetXScale.prototype._updateMinMax=function(){this._min=this._series.length?this._series[0]:null;this._max=this._series.length?this._series[this._series.length-1]:null};TradingView.MiniChartWidgetXScale.prototype._updatePixelsPerValue=function(){this._pixelsPerValue=this.width.value()/(this._max-this._min)};
TradingView.MiniChartWidgetXScale.prototype._updateTickMarks=function(){var a=this.width.value(),b=function(a){return this._ctx.measureText(a).width}.bind(this);this._tickMarks=this._options.isTimeScale?this._calculateTimeTickMarks(a,b):this._calculateTickMarks(a,b,"horizontal")};
TradingView.MiniChartWidgetXScale.prototype._calculateTimeTickMarks=function(a,b){if(!a||null===this._min||null===this._max||"function"!==typeof b)return[];var c=this._max-this._min,d=c/86400,e=[],f=[],e=this._ctx;e.font=this._options.fontSize+"px "+this._options.fontFamily;e.fillStyle=this._options.fontColor;e.textBaseline="bottom";2>d?e=this._timeSplit(a,b,this._trimToHour,this._formatHour):3>d?e=this._timeSplit(a,b,this._trimToHour,this._formatDayHour):6>d?e=this._timeSplit(a,b,this._trimToDay,
this._formatDay):6>c/604800?e=this._timeSplit(a,b,this._trimToWeek,this._formatDay):15>c/2592E3?(e=(new Date(1E3*this._max)).getFullYear()===(new Date).getFullYear()?this._formatMonthOnly:this._formatMonthYear,e=this._timeSplit(a,b,this._trimToMonth,e)):(e=c/31104E3,e=6>e?this._timeSplit(a,b,this._trimToYear,this._formatYear):30>e?this._timeSplit(a,b,this._trimTo5Years,this._formatYear):50>e?this._timeSplit(a,b,this._trimTo10Years,this._formatYear):this._timeSplit(a,b,this._trimTo25Years,this._formatYear));
c=0;for(d=e.length;c<d;c++){var g=this.valueToCoord(this._series[e[c].index]);f.push({text:""+e[c].text,coordinate:g})}return f};
TradingView.MiniChartWidgetXScale.prototype._timeSplit=function(a,b,c,d){for(var e=[],f=null,g=a/20,h=this._options.visible,k=!this._options.drawOverPlotArea,l=this._GREED_MARGIN,m=0,t=this._series.length;m<t;m++){var q=c.call(this,new Date(1E3*this._series[m])),r=d.call(this,q);if(null===f)f=q;else{var p=this.valueToCoord(this._series[m]),u;u=p;var v=void 0;h?(v=b(r),u=k?v/2<u&&u<a-v/2:0<u&&u<a-v-l):u=0<u&&u<a;e.length&&u&&(u=this.valueToCoord(this._series[e[e.length-1].index]),v=b(e[e.length-1].text),
u=u+v+g<=p);u&&f.valueOf()!==q.valueOf()&&(e.push({index:m,text:r}),f=q)}}return e};TradingView.MiniChartWidgetXScale.prototype._trimToHour=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours())};TradingView.MiniChartWidgetXScale.prototype._trimToDay=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())};TradingView.MiniChartWidgetXScale.prototype._trimToMonth=function(a){return new Date(a.getFullYear(),a.getMonth(),1)};
TradingView.MiniChartWidgetXScale.prototype._trimToYear=function(a){return new Date(a.getFullYear(),1,1)};TradingView.MiniChartWidgetXScale.prototype._trimToWeek=function(a){a=this._trimToDay(a);return new Date(a.valueOf()-864E5*a.getDay())};TradingView.MiniChartWidgetXScale.prototype._trimTo5Years=function(a){a=a.getFullYear();return new Date(a-a%5,1,1)};TradingView.MiniChartWidgetXScale.prototype._trimTo10Years=function(a){a=a.getFullYear();return new Date(a-a%10,1,1)};
TradingView.MiniChartWidgetXScale.prototype._trimTo25Years=function(a){a=a.getFullYear();return new Date(a-a%25,1,1)};TradingView.MiniChartWidgetXScale.prototype._formatHour=function(a){a=a.getHours().toString();1===a.length&&(a="0"+a);return a+":00"};TradingView.MiniChartWidgetXScale.prototype._formatDayHour=function(a){return this._formatDay(a)+" "+this._formatHour(a)};TradingView.MiniChartWidgetXScale.prototype._formatDay=function(a){return moment().month(a.getMonth()).format("MMM")+","+a.getDate()};
TradingView.MiniChartWidgetXScale.prototype._formatMonthOnly=function(a){return moment().month(a.getMonth()).format("MMM")};TradingView.MiniChartWidgetXScale.prototype._formatMonthYear=function(a){return moment().month(a.getMonth()).format("MMM")+", "+a.getFullYear()};TradingView.MiniChartWidgetXScale.prototype._formatYear=function(a){return a.getFullYear()};
TradingView.MiniChartWidgetXScale.prototype._drawLabel=function(a,b){var c=this._ctx,d=c.measureText(b).width,d=this._options.drawOverPlotArea?a+this._GREED_MARGIN:a-d/2,d=Math.min(this.right(),d),d=Math.max(this.left(),d),e="bottom"===this._options.position?this.bottom()-this._options.paddingBottom:this.top()+this._options.paddingTop+this._options.font.size;c.textBaseline="bottom";c._fillText(b,d,e);this._options.drawTickMarkLine&&this._options.borderColor&&"transparent"!==this._options.borderColor&&
(c.strokeStyle=this._options.borderColor,c.beginPath(),"bottom"===this._options.position?(c.moveTo(a,this.top()),c.lineTo(a,this.top()+2)):(c.moveTo(a,this.bottom()),c.lineTo(a,this.bottom()-2)),c.stroke())};TradingView.MiniChartWidgetYScale=function(a,b,c){TradingView.MiniChartWidgetAbstractScale.apply(this,arguments);this._max=this._min=null;this.height.subscribe(this._updateSize.bind(this));this._GREED_MARGIN=1};inherit(TradingView.MiniChartWidgetYScale,TradingView.MiniChartWidgetAbstractScale);
TradingView.MiniChartWidgetYScale.prototype.onPlotsChanged=function(){this._updateMinMax();this._updateSize()};
TradingView.MiniChartWidgetYScale.prototype._updateMinMax=function(){var a=this.getWidgetPlots(),b=null,c;"number"==typeof this._options.forceMin&&isFinite(this._options.forceMin)&&(b=this._options.forceMin,c=!0);var d=null,e;"number"==typeof this._options.forceMax&&isFinite(this._options.forceMax)&&(d=this._options.forceMax,e=!0);if(!c||!e)for(var f,g,h=0;h<a.length;h++)g=$.grep(a[h].y(this._options.isPercentage),isNumber),!c&&(f=MathEx.min(g),null===b||f<b)&&(b=f),!e&&(f=MathEx.max(g),null===d||
d<f)&&(d=f);this._min=b;this._max=d};TradingView.MiniChartWidgetYScale.prototype._updatePixelsPerValue=function(){this._pixelsPerValue=(this.height.value()-2*this._margin())/(this._max-this._min)};TradingView.MiniChartWidgetYScale.prototype._updateTickMarks=function(){var a=this.height.value(),b=function(){return this._options.font.size}.bind(this);this._tickMarks=this._calculateTickMarks(a,b,"vertical")};
TradingView.MiniChartWidgetYScale.prototype._updateSize=function(){this._updatePixelsPerValue();this._updateTickMarks();var a="number"==typeof this._options.width&&this._options.width||this._options.paddingLeft+this._maxLabelWidth()+this._options.paddingRight;this.width.setValue(a)};TradingView.MiniChartWidgetYScale.prototype._maxLabelWidth=function(){for(var a=0,b=0;b<this._tickMarks.length;b++)a=Math.max(a,this._ctx.measureText(this._tickMarks[b].text).width);return a};
TradingView.MiniChartWidgetYScale.prototype._margin=function(){return this.height.value()*this._options.marginInPercents/100};TradingView.MiniChartWidgetYScale.prototype.valueToCoord=function(a){return this._min===this._max?(this.bottom()-this.top())/2:this.height.value()-this._margin()-this._pixelsPerValue*(a-this._min)};
TradingView.MiniChartWidgetYScale.prototype._drawLabel=function(a,b){var c=this._ctx,d=this._options.drawOverPlotArea?a-this._GREED_MARGIN:a+this._options.font.size/2,d=Math.max(this.top()+this._options.font.size,d),d=Math.min(this.bottom(),d),e="number"==typeof this._options.width&&this._options.width||this._options.paddingLeft+this._maxLabelWidth()+this._options.paddingRight,e="left"===this._options.position?this.left()+e-this._ctx.measureText(b).width-this._options.paddingRight:this.right()-e+
this._options.paddingLeft;c.textBaseline="bottom";c._fillText(b,e,d);this._options.drawTickMarkLine&&(this._options.borderColor&&"transparent"!==this._options.borderColor&&(c.strokeStyle=this._options.borderColor),c.beginPath(),"left"===this._options.position?(c.moveTo(this.right(),a),c.lineTo(this.right()-2,a)):(c.moveTo(this.left(),a),c.lineTo(this.left()+2,a)),c.stroke())};"use strict";
TradingView.MiniWidgetRenderer=function(a){this._options=this._prepareOptions(a);this._$container=this._options.container&&this._options.container instanceof $?this._options.container:$('<div style="width:100%; height:100%;"></div>').appendTo(document.body);this._tabs=this._options.tabs;this._symbols=this._options.symbols;this._current_symbol=null;this._graphs={};this._init()};
TradingView.MiniWidgetRenderer.prototype._prepareOptions=function(a){if(a.miniChartOptions&&a.miniChartOptions.chartOptions&&a.miniChartOptions.chartOptions.plot&&a.miniChartOptions.chartOptions.plot.belowLineFillStyle&&/^#[0-9a-f]{6}/i.test(a.miniChartOptions.chartOptions.plot.belowLineFillStyle)){var b=/^#(\w{2})(\w{2})(\w{2})$/.exec(a.miniChartOptions.chartOptions.plot.belowLineFillStyle);a.miniChartOptions.chartOptions.plot.belowLineFillStyle="rgba("+[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],
16),"0.3"].join()+")"}b=$.extend(!0,{},this.defaultOptions,a);b.minWidth=0;var c="https://www.tradingview.com/chart/"===a.large_chart_url,d=!a.large_chart_url;b.large_chart_url=Modernizr.canvas&&Modernizr.canvastext?c||d?this.defaultOptions.large_chart_url+"?symbol=":a.large_chart_url+"?tvwidgetsymbol=":"";b.tabs=this.defaultOptions.tabs;b.symbols=this.defaultOptions.symbols;if($.isArray(a.symbols))b.tabs=null,b.symbols=a.symbols;else if(a.tabs&&0<a.tabs.length){var e=[],f={};a.tabs.forEach(function(b){a.symbols.hasOwnProperty(b)&&
(e.push(b),f[b]=a.symbols[b])});0<e.length&&(b.tabs=e,b.symbols=f)}a.locale&&(b.locale=a.locale);return b};TradingView.MiniWidgetRenderer.prototype.width=function(){return this._$container.width()};TradingView.MiniWidgetRenderer.prototype.height=function(){return this._$container.height()};
TradingView.MiniWidgetRenderer.prototype.defaultOptions={chartBottomMargin:21,symbols:{Indices:"ES1! NQ1! YM1! EW1! SP1! ND1! DJ1! VI1!".split(" "),Metals:"GC1! SI1! HG1! PL1! PA1! YG1! YI1!".split(" "),Currencies:"B61! D61! J61! S61! E61! A61! M61! N61!".split(" ")},tabs:["Indices","Metals","Currencies"],large_chart_url:"https://www.tradingview.com/chart/",noGraph:!1,miniChartOptions:{timeframe:{value:"1y",visible:!0},showDescription:!1,chartOptions:{minHeight:200,grid:{xIsVisible:!1,yIsVisible:!0,
line:{width:1,style:CanvasEx.LINESTYLE_DASHED,color:"#e9e9ea"}},yScale:{maxTickMarkAmount:5},xScale:{visible:!0},plot:{line:{width:2,color:"#4bafe9"},belowLineFillStyle:"rgba(219,239,251,0.5)"}}},styleTickerActiveBg:null,styleTabsNoBorder:!1,styleWidgetNoBorder:!1,styleTabsActiveBorderColor:null,styleTickerHeadFontSize:null,styleTickerHeadFontWeight:null,styleTickerBodyFontSize:null,styleTickerBodyFontWeight:null,styleTickerChangeDownColor:null,styleTickerChangeUpColor:null,styleTickerLastDownBg:null,
styleTickerLastUpBg:null,styleTickerSymbolColor:null,styleTickerSymbolHoverTextDecoration:null,styleTickerActiveSymbolTextDecoration:null};TradingView.MiniWidgetRenderer.prototype._init=function(){this.buildFrame();this.fixFrameSize();this.selectFirstSymbol();this._$container.resize();$(window).on("resize",this.onResize.bind(this))};
TradingView.MiniWidgetRenderer.prototype.buildFrame=function(){var a=this,b=a._options.noGraph;a._$container.addClass("mini-widget").addClass(a._options.styleWidgetNoBorder?"mini-widget--no-border":"");a._$tabs=$('<div class="tabs">');a._$tabs.appendTo(a._$container);a._$tabs.addClass(a._options.styleTabsNoBorder?"tabs--no-border":"");a._$graphs=b?$():$('<div class="graph">').appendTo(a._$container);a._$divider=b?$():$('<div class="divider"></div>').appendTo(a._$container);a._$pages=$('<div class="pages">').appendTo(a._$container);
a._$footer=a._options.whitelabel?$("<div>"):$('<div class="footer"><span class="fade">Quotes by </span><a href="https://www.tradingview.com/chart/'+(a._options.utmQuery?"?"+a._options.utmQuery:"")+'" target="_blank">TradingView</a></div>');a._$footer.appendTo(a._$container);a._tabs?$.each(a._tabs,function(c,d){var e=a.createPage(a._symbols[d]).appendTo(a._$pages),f=$('<div class="tab">').appendTo(a._$tabs);f.append($("<a></a>").text(d)).mousedown(function(c){c.preventDefault();a._setTabInactiveView(a._$tabs.children());
a._$pages.children().hide();a._setTabActiveView(f);e.show();b||a.selectFirstSymbol(e)});a._options.minWidth+=f.outerWidth(!0)}):(a._$tabs.addClass("tabs--no-border"),a.createPage(a._symbols).appendTo(a._$pages));a._options.minWidth&&a._$container.css("min-width",a._options.minWidth)};
TradingView.MiniWidgetRenderer.prototype.createPage=function(a){var b=$('<div class="page">'),c=$('<table class="table"></table>').appendTo(b),d=$("<thead><tr><td>"+$.t("Symbol")+'</td><td class="symbol-last">'+$.t("Last")+"</td><td>"+$.t("Change")+"</td><td>(%)</td><tr></thead>").appendTo(c),c=$("<tbody>").appendTo(c),e=this._options.styleTickerHeadFontSize,f=this._options.styleTickerHeadFontWeight,g=this._options.styleTickerBodyFontSize,h=this._options.styleTickerBodyFontWeight;e&&d.css("font-size",
e);f&&d.css("font-weight",f);g&&c.css("font-size",g);h&&c.css("font-weight",h);this.createTickers(a,c);return b};
TradingView.MiniWidgetRenderer.prototype.createTickers=function(a,b){function c(){$(this).css("text-decoration",h)}function d(){var a=$(this),b=f._isTickerActive(a.closest(".ticker"))?k||"":"";a.css("text-decoration",b)}function e(){f.showGraph($(this).data("symbol"));f._setTickerInactiveView($(".ticker"));f._setTickerActiveView($(this))}for(var f=this,g=f._options.styleTickerSymbolColor,h=f._options.styleTickerSymbolHoverTextDecoration,k=f._options.styleTickerActiveSymbolTextDecoration,l=0,m=a.length;l<
m;l++){var t=new TradingView.WidgetRendererSymbol(a[l]),q={largeChartUrl:f._options.large_chart_url?f._options.large_chart_url+encodeURIComponent(t.name()):"",name:t.name(),description_or_name:t.description()||t.name(),description:t.description()||"",symbolColor:g},q=$(Mustache.render('<tr class="ticker"><td class="symbol-short-name-container" title="{{name}}"><a{{#largeChartUrl}} href="{{largeChartUrl}}"  target="_blank"{{/largeChartUrl}}{{^description}} class="symbol-short-name"{{/description}} {{#symbolColor}} style="color: {{symbolColor}}"{{/symbolColor}}>{{ description_or_name }}</a></td><td class="symbol-last">&nbsp;</td><td class="symbol-change">&nbsp;</td><td class="symbol-change-pt">&nbsp;</td></tr>',
q));q.appendTo(b);q.data("symbol",t);f._options.noGraph||(q.mousedown(e),1<m&&q.find("td").css("cursor","pointer"));h&&q.find(".symbol-short-name-container a").hover(c,d);new TradingView.QuoteTicker(t.name(),q,{changePercentInBrackets:!0,signPositive:!0,changeDownFontColor:this._options.styleTickerChangeDownColor,changeUpFontColor:this._options.styleTickerChangeUpColor,fallingBg:this._options.styleTickerLastDownBg,growingBg:this._options.styleTickerLastUpBg})}};
TradingView.MiniWidgetRenderer.prototype.showGraph=function(a){if(!(!a||this._current_symbol&&a.equalTo(this._current_symbol)||this._options.noGraph)){var b=this;b._current_symbol=a;for(var c in b._graphs)b._graphs[c].model.connected()&&b._graphs[c].model.disconnect();c=a.name();if(b._graphs[c])b._$graphs.children().hide(),b._graphs[c].el.show(),b._graphs[c].model.connect();else{var d=$("<div></div>"),e=$.extend(!0,{},b._options.miniChartOptions||{},{onFirstData:function(){Modernizr.canvas&&Modernizr.canvastext&&
b._$graphs.children().css("opacity","1");b._$graphs.children().hide();d.show()},description:a.description(),timeframe:{value:a.timeframe()}});Modernizr.canvas&&Modernizr.canvastext?b._$graphs.children().css("opacity","0.6"):b._$graphs.children().hide();d.appendTo(b._$graphs);try{b._graphs[c]={el:d,model:new TradingView.MiniChart(a.name(),d,e)}}catch(f){TradingView.logWarn(f)}1!=b._$graphs.children().length&&d.hide()}}};
TradingView.MiniWidgetRenderer.prototype.fixFrameSize=function(a){a=this.height.bind(this);var b=TradingView.MiniChartWidget.prototype.defaults().minHeight,c=MathEx.max($.map(this._$pages.find("table"),function(a){return $(a).outerHeight(!0)})),d=this._$tabs.outerHeight(),e=this._$divider.outerHeight(),f=this._$footer.outerHeight(),g=b;this._options.noGraph?(a=a()-d-e-f,this._$pages.height(a)):(d+g+e+c+f<a()&&(g=Math.max(a()-d-e-c-f,b),this._$pages.height(c)),this._$graphs.height(g),d+g+e+c+f!=a()&&
(c=a()-d-g-e-f,this._$pages.height(c)),d+g+e+c+f!=a()&&TradingView.logWarn("bad height"))};TradingView.MiniWidgetRenderer.prototype.onResize=function(){var a=this;a.fixFrameSize();$.each(a._graphs,function(b,c){c.el&&(c.el.height(a._$graphs.height()),c.el.width(a._$container.width()));if(c.model)c.model.widget().onResize()})};
TradingView.MiniWidgetRenderer.prototype.selectFirstSymbol=function(a){if(this._tabs&&!a){var b=this._$pages.children(),c=b.eq(0),d=this._$tabs.children(),e=d.eq(0);this._setTabInactiveView(d);this._setTabActiveView(e);b.hide();c.show()}this._options.noGraph||(a=(a||this._$container).find(".ticker"),this._setTickerInactiveView(a),a=a.eq(0),this._setTickerActiveView(a),this.showGraph(a.data("symbol")))};TradingView.MiniWidgetRenderer.prototype._isTickerActive=function(a){return a.hasClass("active")};
TradingView.MiniWidgetRenderer.prototype._setTickerInactiveView=function(a){var b=this._options.styleTickerActiveBg,c=this._options.styleTickerActiveSymbolTextDecoration;a.removeClass("active");b&&a.css("background-color","");c&&a.find(".symbol-short-name-container a").css("text-decoration","")};
TradingView.MiniWidgetRenderer.prototype._setTickerActiveView=function(a){var b=this._options.styleTickerActiveBg,c=this._options.styleTickerActiveSymbolTextDecoration;a.addClass("active");b&&a.css("background-color",b);c&&a.find(".symbol-short-name-container a").css("text-decoration",c)};TradingView.MiniWidgetRenderer.prototype._setTabInactiveView=function(a){a.removeClass("active");a.css("border-bottom-color","")};
TradingView.MiniWidgetRenderer.prototype._setTabActiveView=function(a){var b=this._options.styleTabsActiveBorderColor;a.addClass("active");b&&a.css("border-bottom-color",b)};
TradingView.WidgetRendererSymbol=function(a){if($.isArray(a))this._symbol_description=a[0],this._symbol_name=a[1].split("|")[0],this._symbol_timeframe=a[1].split("|")[1];else if("string"===typeof a)this._symbol_name=a.split("|")[0],this._symbol_timeframe=a.split("|")[1];else{TradingView.logError("Symbol should be array ['description', 'symbol_name'] or string 'symbol_name'");return}this._symbol=a};TradingView.WidgetRendererSymbol.prototype.description=function(a){a&&(this._symbol_description=a);return this._symbol_description};
TradingView.WidgetRendererSymbol.prototype.shortName=function(a){a?this._symbol_short_name=a:this._symbol_short_name||(this._symbol_short_name=this._symbol_name.replace(/^(.+:)/,""));return this._symbol_short_name};TradingView.WidgetRendererSymbol.prototype.name=function(){return this._symbol_name};TradingView.WidgetRendererSymbol.prototype.timeframe=function(){return this._symbol_timeframe};
TradingView.WidgetRendererSymbol.prototype.equalTo=function(a){return a instanceof TradingView.WidgetRendererSymbol?this.name()==a.name()&&this.description()==a.description():(TradingView.logWarn("Symbol "+a+" should be instance of TradingView.WidgetRendererSymbol"),!1)};"use strict";
TradingView.MediumWidgetRenderer=function(a,b,c){this._symbols=this._prepareSymbols(b);this._options=$.extend(!0,{},this.defaultOptions(),c||{});c.fundamentalsOptions&&c.fundamentalsOptions.structure&&(this._options.fundamentalsOptions.structure=c.fundamentalsOptions.structure);this.layout={jqContainer:null,jqLabelsContainer:null,jqPagesContainer:null};this._tabs=[];this._createLayout(a);this._createTabs();this.selectTab(0)};
TradingView.MediumWidgetRenderer.prototype.defaultOptions=function(){return{chartOnly:!1,miniChartOptions:{showDescription:!1,timeframe:{value:"1y",visible:!0},chartOptions:{minHeight:200,grid:{xIsVisible:!1,yIsVisible:!0,line:{width:1,style:CanvasEx.LINESTYLE_DASHED,color:"#e9e9ea"}},yScale:{maxTickMarkAmount:5},xScale:{visible:!0},plot:{line:{width:2,color:"#4bafe9"},belowLineFillStyle:"rgba(219,239,251,0.5)"}}},hideFooter:!1,fundamentalsOptions:{horzDividerInPercents:4,structure:[["prev_close_price",
"open_price"],["market_cap_basic","earnings_per_share_basic_ttm"],["price_earnings_ttm","beta_1_year"]],showSymbol:!1},quoteTickerOptions:{chartLinkByType:!1},noBorder:!1,noTabsBorder:!1,showSymbolButtons:!1}};TradingView.MediumWidgetRenderer.prototype._prepareSymbols=function(a){a=$.isArray(a)?a:[a];for(var b=[],c=0;c<a.length;c++){var d=new TradingView.WidgetRendererSymbol(a[c]);b.push(d)}return b};
TradingView.MediumWidgetRenderer.prototype._createLayout=function(a){a=$(a);var b=$('<div class="tv-mediumwidget-labels"></div>'),c=$('<div class="tv-mediumwidget-pages"></div>'),d=this._$footer=$(this._options.hideFooter?"":'<div class="footer"><span class="fade">Quotes by </span><a href="https://www.tradingview.com/chart/'+(this._options.utmQuery?"?"+this._options.utmQuery:"")+'" target="_blank">TradingView</a></div>');this.layout={jqContainer:a,jqLabelsContainer:b,jqPagesContainer:c,jqFooter:d};
a.addClass("tv-mediumwidget").addClass(this._options.noBorder?"tv-mediumwidget--no-border":"");b.addClass(this._options.noTabsBorder?"tv-mediumwidget-labels--no-border":"");a.append(b,c,d)};
TradingView.MediumWidgetRenderer.prototype._createTabs=function(){var a=1==this._symbols.length,b={chartOnly:!!this._options.chartOnly,miniChartOptions:this._options.miniChartOptions,showSymbolButtons:!!this._options.showSymbolButtons,fundamentalsOptions:this._options.fundamentalsOptions,quoteTickerOptions:this._options.quoteTickerOptions};this.layout.jqLabelsContainer.toggleClass("tv-mediumwidget-labels--no-border",!!this._options.noTabsBorder||a);for(var c=0;c<this._symbols.length;c++){var d=new TradingView.MediumWidgetRenderer.prototype.Tab(this,
this._symbols[c],b);$(window).resize(d.onResize.bind(d));$(this.layout.jqContainer).resize(d.onResize.bind(d));a||this.layout.jqLabelsContainer.append(d.jqLabel);this.layout.jqPagesContainer.append(d.jqPage);this._tabs.push(d)}};
TradingView.MediumWidgetRenderer.prototype.selectTab=function(a){if(!TradingView.isInteger(a))a:{for(var b=this._tabs.length-1;0<=b;b--)if(a.equalTo(this._tabs[b].symbol)){a=b;break a}a=null}if(TradingView.isInteger(a)){for(b=this._tabs.length-1;0<=b;b--)this._tabs[b].hide();this._tabs[a].show()}};TradingView.MediumWidgetRenderer.prototype.setSymbols=function(a){this._symbols=this._prepareSymbols(a)};
TradingView.MediumWidgetRenderer.prototype.Tab=function(a,b,c){var d=this;c=c||{};d.widget=a;d.symbol=b;d.created=new Delegate;d.visible=new WatchedValue(!1);d.jqPage=$('<div class="tv-mediumwidget-page clearfix"></div>');if(c.chartOnly)d.jqAboveChart=$();else{d.jqAboveChart=$('<table class="ticker-fundamental-container">'+(c.showSymbolButtons?'<tr><td class="ticker-cell" rowspan="2"></td><td class="buttons-cell"></td></tr><tr><td class="fundamentals-cell"></td></tr>':'<tr><td class="ticker-cell"></td><td class="fundamentals-cell"></td></tr>')+
"</table>");a=d._createQuoteTicker(b,c.quoteTickerOptions);var e=d._createFundamentals(b,c.fundamentalsOptions||{}),f=c.showSymbolButtons?d._createSymbolButtons(b):$();d.jqAboveChart.find(".ticker-cell").append(a);d.jqAboveChart.find(".fundamentals-cell").append(e);d.jqAboveChart.find(".buttons-cell").append(f);d.jqAboveChart.appendTo(d.jqPage)}d._createMiniChart(b,c.miniChartOptions).appendTo(d.jqPage);d.jqLabel=$('<div class="tv-mediumwidget-label"></div>');d.jqLabel.text(b.description()||b.shortName());
d.jqLabel.click(function(){d.widget.selectTab(d.symbol)})};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype.onResize=function(){if(this.ticker)this.ticker.onResize();if(this.miniChart){var a=this.widget.layout.jqContainer.height()-this.widget.layout.jqLabelsContainer.outerHeight(!0)-this.jqAboveChart.outerHeight(!0)-(this.widget.layout.jqFooter.outerHeight(!0)||0)-parseFloat(this.miniChart.widget().$container.css("margin-top"))-parseFloat(this.miniChart.widget().$container.css("margin-bottom"));this.miniChart.widget().$container.css("height",a);this.miniChart.widget().onResize()}};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype._createQuoteTicker=function(a,b){var c=this;b=b||{};var d='<table class="tv-mediumwidget-ticker"><tr><td class="symbol-ticker-name"><div class="symbol-short-name-container"><h1 class="symbol-ticker-name-title">{{ shortName }}{{# showType }}&nbsp;<span class="symbol-type"></span>{{/ showType }}</h1></div><div class="symbol-description-name">&nbsp;</div></td></tr><tr><td class="symbol-ticker-value"><div class="symbol-last" title="Last price">&nbsp;</div><div class="symbol-change-container"><div class="symbol-change" title="'+
$.t("Change")+'">&nbsp;</div><div class="symbol-change-pt" title="'+$.t("Change, %")+'">&nbsp;</div></div></td></tr></table>',e=$(Mustache.render(d,{shortName:a.shortName(),showType:b.showType})),f=e.find(".symbol-type");c.ticker={jqEl:e,onResize:function(){var a=e.find(".symbol-ticker-value");a.css("white-space","nowrap");var b=c.jqPage.width(),d=c.jqAboveChart.width();b<d&&a.css("white-space","normal")}};c.visible.subscribe(function(){new TradingView.QuoteTicker(a.name(),e,{changePercentInBrackets:!0,
setStateHook:function(a,d){if(b.showType){var e=(a||{}).type,l={stock:{name:$.t("Stock Chart")},bitcoin:{name:$.t("Bitcoin Chart")},index:{name:$.t("Index Chart")},forex:{name:$.t("Forex Chart")},futures:{name:$.t("Commodities Futures Chart")},cfd:{name:$.t("Chart")}};e in l&&"QUANDL"!==a.exchange?f.text(l[e].name).show():f.hide()}c.onResize()}})},{once:!0});return e};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype._fundametalsData=function(){return{prev_close_price:{title:$.t("Previous Close Price"),abbr:$.t("Prev"),formatter:"price"},price_earnings_ttm:{title:$.t("Price/Earnings, TTM"),abbr:$.t("PE")},earnings_per_share_basic_ttm:{title:$.t("Earnings per Share, Basic, TTM"),abbr:$.t("EPS")},market_cap_basic:{title:$.t("Market Cap - Basic"),abbr:$.t("Mkt&nbsp;Cap")},open_price:{title:$.t("Open Price"),abbr:$.t("Open"),formatter:"price"},high_price:{title:$.t("High Price"),
abbr:$.t("High"),formatter:"price"},low_price:{title:$.t("Low Price"),abbr:$.t("Low"),formatter:"price"},beta_1_year:{title:$.t("Beta - 1 Year"),abbr:$.t("Beta")}}};TradingView.MediumWidgetRenderer.prototype.Tab.prototype._createFundamentals=function(a,b){var c=this._createFundamentalsTemplate(b),c=$(Mustache.render(c,"")),d=Object.keys(this._fundametalsData());new TradingView.MediumWidgetFundamentals(a.name(),d,c);return c};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype._createFundamentalsTemplate=function(a){var b=(a||{}).structure,c=(a||{}).horzDividerInPercents,d=(a||{}).showSymbol;if(!b)return"";var e=this._fundametalsData();a=2*MathEx.max($.map(b,function(a){return a.length}));var f=0,g=0,h=c||0,g=f=Math.floor((100-h*(a-1))/a),k='<div class="tv-mediumwidget-fundamentals"><table>';b.forEach(function(a){k+="<tr>";var b=a.length;a.forEach(function(a,c){if(a in e){var l=e[a].title;k+='<td class="fundamental-name" title="'+
l+'" style="width: '+f+'%;">'+(d?"{{ shortSymbol }}&nbsp;":"")+e[a].abbr+"</td>";k+='<td class="fundamental-value '+a+'" title="'+l+'" style="width: '+g+'%;">&nbsp;</td>';c+1<b&&(k+='<td class="fundamental-divider" style="width: '+h+'%;">&nbsp;</td>')}});k+="</tr>"});return k+="</table></div>"};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype._createMiniChart=function(a,b){var c=this,d=$('<div class="tv-mediumwidget-minichart"></div>'),e=$.extend(!0,{},b,{timeframe:{value:a.timeframe()}});c.visible.subscribe(function(b){c.miniChart=new TradingView.MiniChart(a.name(),d,e)},{once:!0});return d};
TradingView.MediumWidgetRenderer.prototype.Tab.prototype._createSymbolButtons=function(a){var b=$('<div class="tv-mediumwidget-symbolbuttons"></div>'),c=!TradingView.onWidget();b.append(Mustache.render('<a href="/chart/?symbol={{ symbol }}" target="_blank" class="_tv-button green">'+$.t("Expand __symbol__ chart",{symbol:"{{ shortName }}"})+"</a>"+(c?'<a class="button-follow-symbol _tv-button ok">'+$.t("Follow __symbol__",{symbol:"{{ shortName }}"})+"</a>":""),{symbol:a.name(),shortName:a.shortName()}));
TradingView.FollowSymbols.makeButton({$button:b.find(".button-follow-symbol"),symbol:a.name()});return b};TradingView.MediumWidgetRenderer.prototype.Tab.prototype.show=function(){this.jqPage.addClass("active");this.jqLabel.addClass("active");this.visible.setValue(!0);this.onResize()};TradingView.MediumWidgetRenderer.prototype.Tab.prototype.hide=function(){this.jqPage.removeClass("active");this.jqLabel.removeClass("active");this.visible.setValue(!1)};
TradingView.MediumWidgetFundamentals=function(a,b,c){this.fields=b;this._symbol=a;this._jqContainer=c;setTimeout(this.connect.bind(this),0)};TradingView.MediumWidgetFundamentals.prototype.quoteSession=null;TradingView.MediumWidgetFundamentals.assignQuoteSession=function(a){this.prototype.quoteSession||(this.prototype.quoteSession=a)};TradingView.MediumWidgetFundamentals.prototype.connect=function(){this.quoteSession.subscribe("medium-widget-fundamentals",this._symbol,this.onData.bind(this))};
TradingView.MediumWidgetFundamentals.prototype.disconnect=function(a){clearTimeout(this._loadErrorTimeout);this.connected=!1;this.quoteSession.unsubscribe("medium-widget-fundamentals",this._symbol,a)};
TradingView.MediumWidgetFundamentals.prototype.onData=function(a){switch(a.status){case "ok":a.values?this.fillValues(a.values):TradingView.logWarn("[Medium Widget Fundamentals] Message doesn't contain required data");break;case "permission_denied":TradingView.logWarn("[Medium Widget Fundamentals] permision denied");break;case "error":TradingView.logWarn("[Medium Widget Fundamentals] error")}};
TradingView.MediumWidgetFundamentals.prototype.fillValues=function(a){for(var b={price:new TradingView.PriceFormatter(100,a.minmov||1,!!a.fractional,a.minmove2),volume:new TradingView.VolumeFormatter},c=function(a){var c=TradingView.MediumWidgetRenderer.prototype.Tab.prototype._fundametalsData();return b[c&&c[a]&&c[a].formatter]},d=/n\/a/i,e=function(a){return a&&!d.test(a)&&!TradingView.isNaN(a)},f,g,h,k,l=this.fields.length-1;0<=l;l--)f=this.fields[l],h=g=parseFloat(a[f]),k=this._jqContainer.find("."+
f),e(g)?(h=(f=c(f))?f.format(g):1E4<g?b.volume.format(g):g,k.attr("title",g)):h="N/A",k.text(h)};
